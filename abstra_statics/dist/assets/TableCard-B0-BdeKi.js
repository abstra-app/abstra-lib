import{_ as j}from"./AbstraButton.vue_vue_type_script_setup_true_lang-igWVkp9-.js";import{F as H}from"./PhKey.vue-IonctoTx.js";import{G as $}from"./PhPencil.vue-CbJEDnnC.js";import{_ as C,P as k}from"./vue-flow-core-DLJSzG_w.js";import{C as z}from"./index-CT0wiDeA.js";import{a as D,c as m,a4 as T,p as o,e as a,u as t,E as b,w as l,j as i,b as V,g as r,M as E,W as L,v as g,ak as p,S as h,U as y,aj as N,aN as F}from"./jwt-decode.esm-80SDDt3I.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},u=new Error().stack;u&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[u]="f9f315f4-7789-43c2-bd30-5b469267f7fc",e._sentryDebugIdIdentifier="sentry-dbid-f9f315f4-7789-43c2-bd30-5b469267f7fc")}catch{}})();const K=D({__name:"TableCard",props:{table:{},projectId:{},showHandles:{type:Boolean},maxVisibleColumns:{},connectedColumns:{},highlightedColumns:{},isHighlighted:{type:Boolean},showEditButton:{type:Boolean,default:!0}},emits:["dblclick"],setup(e,{emit:u}){const n=e,v=u,c=m(()=>n.maxVisibleColumns??5),x=m(()=>n.table.getColumns().slice(0,c.value)),w=m(()=>n.table.getColumns().length>c.value),_=m(()=>!n.highlightedColumns||n.highlightedColumns.length===0?!1:n.table.getColumns().slice(c.value).some(d=>d.id&&n.highlightedColumns?.includes(d.id))),I=f=>n.connectedColumns?.includes(f)??!1;return(f,d)=>{const B=T("RouterLink");return a(),o(t(z),{hoverable:!0,class:b(["table-card",{"table-highlighted":e.isHighlighted}]),onDblclick:d[0]||(d[0]=s=>v("dblclick"))},{title:l(()=>[i(t(g),{align:"center",justify:"space-between"},{default:l(()=>[i(t(N),{level:5,style:{margin:"0"}},{default:l(()=>[h(y(e.table.name),1)]),_:1}),e.showEditButton?(a(),o(B,{key:0,to:`/projects/${e.projectId}/tables/${e.table.id}`},{default:l(()=>[i(j,{size:"small",type:"text"},{default:l(()=>[i(t($),{size:16})]),_:1})]),_:1},8,["to"])):r("",!0)]),_:1})]),default:l(()=>[i(t(g),{vertical:"",gap:"small",class:"columns-list"},{default:l(()=>[(a(!0),V(E,null,L(x.value,s=>(a(),o(t(g),{key:s.id,align:"center",gap:"small",class:b(["column-row",{"column-highlighted":s.id&&e.highlightedColumns?.includes(s.id)}])},{default:l(()=>[e.showHandles&&s.foreignKey?(a(),o(t(C),{key:0,id:`target-${s.id}`,type:"target",position:t(k).Left,connectable:!1},null,8,["id","position"])):r("",!0),s.primaryKey?(a(),o(t(H),{key:1,size:14,class:"key-icon"})):r("",!0),i(t(p),{strong:"",style:{flex:"1","font-size":"13px","line-height":"1"}},{default:l(()=>[h(y(s.name),1)]),_:2},1024),i(t(p),{type:"secondary",style:{"line-height":"1"}},{default:l(()=>[h(y(s.type),1)]),_:2},1024),e.showHandles&&(s.primaryKey||s.id&&I(s.id))?(a(),o(t(C),{key:2,id:`source-${s.id}`,type:"source",position:t(k).Right,connectable:!1},null,8,["id","position"])):r("",!0)]),_:2},1032,["class"]))),128)),w.value?(a(),o(t(g),{key:0,justify:"center",align:"center",style:{"padding-top":"8px"},class:b({"more-columns-highlighted":_.value})},{default:l(()=>[i(t(p),{type:"secondary",style:{"font-size":"12px"}},{default:l(()=>[h(" +"+y(e.table.getColumns().length-c.value)+" more columns ",1)]),_:1})]),_:1},8,["class"])):r("",!0)]),_:1})]),_:1},8,["class"])}}}),U=F(K,[["__scopeId","data-v-e197befa"]]);export{U as T};
//# sourceMappingURL=TableCard-B0-BdeKi.js.map
