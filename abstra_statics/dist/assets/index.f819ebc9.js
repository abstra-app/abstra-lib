import{M as C}from"./transButton.220177fb.js";import{d as E,an as J,f as u,bL as ve,bI as pe,bJ as xe,c_ as ye,N as z,dk as Q,b3 as W,U as i,O as be,dl as K,Q as w,A as ge,dm as ke,dn as he,$ as Te,G as O,dp as we,bU as Fe,E as k,H as q,u as Pe,dq as Ae}from"./outputWidgets.0fb707c7.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="ac499fdc-c37d-45df-b1b0-d8358b9ee9cc",e._sentryDebugIdIdentifier="sentry-dbid-ac499fdc-c37d-45df-b1b0-d8358b9ee9cc")}catch{}})();function T(e){return typeof e=="function"?e():e}const V=E({name:"ConfirmDialog",inheritAttrs:!1,props:["icon","onCancel","onOk","close","closable","zIndex","afterClose","visible","open","keyboard","centered","getContainer","maskStyle","okButtonProps","cancelButtonProps","okType","prefixCls","okCancel","width","mask","maskClosable","okText","cancelText","autoFocusButton","transitionName","maskTransitionName","type","title","content","direction","rootPrefixCls","bodyStyle","closeIcon","modalRender","focusTriggerAfterClose","wrapClassName","confirmPrefixCls","footer"],setup(e,n){let{attrs:o}=n;const[l]=J("Modal");return()=>{const{icon:x,onCancel:r,onOk:v,close:m,closable:y=!1,zIndex:c,afterClose:s,keyboard:a,centered:p,getContainer:t,maskStyle:f,okButtonProps:b,cancelButtonProps:F,okCancel:P,width:H=416,mask:d=!0,maskClosable:A=!1,type:g,open:D,title:$,content:ne,direction:oe,closeIcon:te,modalRender:le,focusTriggerAfterClose:ae,rootPrefixCls:B,bodyStyle:se,wrapClassName:re,footer:L}=e;let I=x;if(!x&&x!==null)switch(g){case"info":I=u(ye,null,null);break;case"success":I=u(xe,null,null);break;case"error":I=u(pe,null,null);break;default:I=u(ve,null,null)}const ce=e.okType||"primary",R=e.prefixCls||"ant-modal",N=`${R}-confirm`,ie=o.style||{},ue=T(e.okText)||(P?l.value.okText:l.value.justOkText),fe=P!=null?P:g==="confirm",j=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",S=`${R}-confirm`,de=z(S,`${S}-${e.type}`,{[`${S}-rtl`]:oe==="rtl"},o.class),me=fe&&u(Q,{actionFn:r,close:m,autofocus:j==="cancel",buttonProps:F,prefixCls:`${B}-btn`},{default:()=>[T(e.cancelText)||l.value.cancelText]});return u(C,{prefixCls:R,class:de,wrapClassName:z({[`${S}-centered`]:!!p},re),onCancel:Ce=>m==null?void 0:m({triggerCancel:!0},Ce),open:D,title:"",footer:"",transitionName:W(B,"zoom",e.transitionName),maskTransitionName:W(B,"fade",e.maskTransitionName),mask:d,maskClosable:A,maskStyle:f,style:ie,bodyStyle:se,width:H,zIndex:c,afterClose:s,keyboard:a,centered:p,getContainer:t,closable:y,closeIcon:te,modalRender:le,focusTriggerAfterClose:ae},{default:()=>[u("div",{class:`${N}-body-wrapper`},[u("div",{class:`${N}-body`},[T(I),$===void 0?null:u("span",{class:`${N}-title`},[T($)]),u("div",{class:`${N}-content`},[T(ne)])]),L!==void 0?T(L):u("div",{class:`${N}-btns`},[me,u(Q,{type:ce,actionFn:v,close:m,autofocus:j==="ok",buttonProps:b,prefixCls:`${B}-btn`},{default:()=>[ue]})])])]})}}}),$e=[],h=$e,Ie=e=>{const n=document.createDocumentFragment();let o=i(i({},be(e,["parentContext","appContext"])),{close:r,open:!0}),l=null;function x(){l&&(K(null,n),l.component.update(),l=null);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];const p=s.some(t=>t&&t.triggerCancel);e.onCancel&&p&&e.onCancel(()=>{},...s.slice(1));for(let t=0;t<h.length;t++)if(h[t]===r){h.splice(t,1);break}}function r(){for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];o=i(i({},o),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),x.apply(this,s)}}),o.visible&&delete o.visible,v(o)}function v(c){typeof c=="function"?o=c(o):o=i(i({},o),c),l&&(i(l.component.props,o),l.component.update())}const m=c=>{const s=ke,a=s.prefixCls,p=c.prefixCls||`${a}-modal`,t=s.iconPrefixCls,f=he();return u(ge,w(w({},s),{},{prefixCls:a}),{default:()=>[u(V,w(w({},c),{},{rootPrefixCls:a,prefixCls:p,iconPrefixCls:t,locale:f,cancelText:c.cancelText||f.cancelText}),null)]})};function y(c){const s=u(m,i({},c));return s.appContext=e.parentContext||e.appContext||s.appContext,K(s,n),s}return l=y(o),h.push(r),{destroy:r,update:v}},M=Ie;function U(e){return i(i({},e),{type:"warning"})}function X(e){return i(i({},e),{type:"info"})}function Y(e){return i(i({},e),{type:"success"})}function Z(e){return i(i({},e),{type:"error"})}function _(e){return i(i({},e),{type:"confirm"})}const Ne=()=>({config:Object,afterClose:Function,destroyAction:Function,open:Boolean}),Me=E({name:"HookModal",inheritAttrs:!1,props:Te(Ne(),{config:{width:520,okType:"primary"}}),setup(e,n){let{expose:o}=n;var l;const x=O(()=>e.open),r=O(()=>e.config),{direction:v,getPrefixCls:m}=we(),y=m("modal"),c=m(),s=()=>{var f,b;e==null||e.afterClose(),(b=(f=r.value).afterClose)===null||b===void 0||b.call(f)},a=function(){e.destroyAction(...arguments)};o({destroy:a});const p=(l=r.value.okCancel)!==null&&l!==void 0?l:r.value.type==="confirm",[t]=J("Modal",Fe.Modal);return()=>u(V,w(w({prefixCls:y,rootPrefixCls:c},r.value),{},{close:a,open:x.value,afterClose:s,okText:r.value.okText||(p?t==null?void 0:t.value.okText:t==null?void 0:t.value.justOkText),direction:r.value.direction||v.value,cancelText:r.value.cancelText||(t==null?void 0:t.value.cancelText)}),null)}});let G=0;const Be=E({name:"ElementsHolder",inheritAttrs:!1,setup(e,n){let{expose:o}=n;const l=k([]);return o({addModal:r=>(l.value.push(r),l.value=l.value.slice(),()=>{l.value=l.value.filter(v=>v!==r)})}),()=>l.value.map(r=>r())}});function Se(){const e=k(null),n=k([]);q(n,()=>{n.value.length&&([...n.value].forEach(v=>{v()}),n.value=[])},{immediate:!0});const o=r=>function(m){var y;G+=1;const c=k(!0),s=k(null),a=k(Pe(m)),p=k({});q(()=>m,d=>{F(i(i({},Ae(d)?d.value:d),p.value))});const t=function(){c.value=!1;for(var d=arguments.length,A=new Array(d),g=0;g<d;g++)A[g]=arguments[g];const D=A.some($=>$&&$.triggerCancel);a.value.onCancel&&D&&a.value.onCancel(()=>{},...A.slice(1))};let f;const b=()=>u(Me,{key:`modal-${G}`,config:r(a.value),ref:s,open:c.value,destroyAction:t,afterClose:()=>{f==null||f()}},null);f=(y=e.value)===null||y===void 0?void 0:y.addModal(b),f&&h.push(f);const F=d=>{a.value=i(i({},a.value),d)};return{destroy:()=>{s.value?t():n.value=[...n.value,t]},update:d=>{p.value=d,s.value?F(d):n.value=[...n.value,()=>F(d)]}}},l=O(()=>({info:o(X),success:o(Y),error:o(Z),warning:o(U),confirm:o(_)})),x=Symbol("modalHolderKey");return[l.value,()=>u(Be,{key:x,ref:e},null)]}function ee(e){return M(U(e))}C.useModal=Se;C.info=function(n){return M(X(n))};C.success=function(n){return M(Y(n))};C.error=function(n){return M(Z(n))};C.warning=ee;C.warn=ee;C.confirm=function(n){return M(_(n))};C.destroyAll=function(){for(;h.length;){const n=h.pop();n&&n()}};C.install=function(e){return e.component(C.name,C),e};
//# sourceMappingURL=index.f819ebc9.js.map
