import{a as ae,i as Y,c as P,b as L,e as d,f as Ne,g as z,h as g,m as Pe,db as F,dc as j,dd as qe,de as ke,df as Te,dg as Re,dh as de,di as Ge,ca as ze,dj as Je,dk as Ke,r as V,H as J,j as n,M as ee,W as te,u as e,aL as le,af as l,w as r,aP as _e,S as I,U as k,aN as ge,D as Ve,ak as U,p as R,b8 as W,aK as H,R as We,v as Z,d1 as pe,d as Qe,P as Xe,bk as ne,ac as et,dl as tt,k as at,E as oe,aj as ie,aJ as nt,bj as st,b6 as lt,bp as rt,be as ot,bf as it,bg as se,dm as ct,cA as ut,bm as xe,aQ as ce,dn as dt,bt as pt,a8 as ft}from"./jwt-decode.esm-C-CO7HLt.js";import{_ as B}from"./AbstraButton.vue_vue_type_script_setup_true_lang-e2rC1Jot.js";import{C as mt}from"./contracts.generated-lR10oM0z.js";import{u as _t}from"./omniChatStore-HNb5ZG8R.js";import{I as je}from"./PhDatabase.vue-l98Zo78-.js";import{F as gt}from"./PhKey.vue-BjvIRAKX.js";import{F as ue}from"./PhRocketLaunch.vue-B42o-pgM.js";import{G as vt}from"./PhSparkle.vue-yS9vgNHs.js";import{I as yt}from"./PhStop.vue-BEAPJPJJ.js";import{C as Le}from"./connectors-BRmgcCu0.js";import{T as ht}from"./tables-_Z_iUZnX.js";import{C as fe}from"./index-DU1Vw7iI.js";import{C as Q,l as bt,m as Ae}from"./router-B3wCUauF.js";import{t as E,f as wt,a as $e,l as kt}from"./index-B0ywMIal.js";import{L as xt,a as Lt,A as At}from"./index-DhdW0yg5.js";import{S as Me}from"./index-BTiZQC5j.js";import{L as $t}from"./LoadingOutlined-D9YlHgY1.js";import"./record-BbzBpCnF.js";import"./uuid-2I4cPtZN.js";import"./PhCopySimple.vue-oYfze8NQ.js";import"./string-sKpjBN0d.js";import"./ts.worker-BgN9zSpg.js";(function(){try{var o=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[t]="1ffe4679-c385-4ea7-b24c-e7ee5a4ad2c6",o._sentryDebugIdIdentifier="sentry-dbid-1ffe4679-c385-4ea7-b24c-e7ee5a4ad2c6")}catch{}})();const Mt=["width","height","fill","transform"],It={key:0},Ct=g("path",{d:"M137,168l11.52-11.51a12,12,0,0,0-17-17L120,151l-15-15,11.52-11.51a12,12,0,0,0-17-17L88,119,72.49,103.51a12,12,0,0,0-17,17L59,124,38.54,144.49a36,36,0,0,0,0,50.91l2.55,2.54L15.51,223.51a12,12,0,0,0,17,17l25.57-25.58,2.54,2.55a36.06,36.06,0,0,0,50.91,0L132,197l3.51,3.52a12,12,0,0,0,17-17ZM94.54,200.49a12,12,0,0,1-17,0L55.51,178.43a12,12,0,0,1,0-17L76,141l39,39Zm146-185a12,12,0,0,0-17,0L197.94,41.09l-2.54-2.55a36.05,36.05,0,0,0-50.91,0L124,59l-3.51-3.52a12,12,0,0,0-17,17l80,80a12,12,0,0,0,17-17L197,132l20.49-20.49a36,36,0,0,0,0-50.91l-2.55-2.54,25.58-25.57A12,12,0,0,0,240.49,15.51Zm-40,79L180,115,141,76l20.49-20.49a12,12,0,0,1,17,0l22.06,22.06a12,12,0,0,1,0,17Z"},null,-1),Dt=[Ct],St={key:1},Nt=g("path",{d:"M76,124l56,56-29,29a24,24,0,0,1-33.94,0L47,186.91A24,24,0,0,1,47,153ZM209,69.09,186.91,47A24,24,0,0,0,153,47L124,76l56,56,29-29A24,24,0,0,0,209,69.09Z",opacity:"0.2"},null,-1),Pt=g("path",{d:"M149.66,138.34a8,8,0,0,0-11.32,0L120,156.69,99.31,136l18.35-18.34a8,8,0,0,0-11.32-11.32L88,124.69,69.66,106.34a8,8,0,0,0-11.32,11.32L64.69,124,41.37,147.31a32,32,0,0,0,0,45.26l5.38,5.37-28.41,28.4a8,8,0,0,0,11.32,11.32l28.4-28.41,5.37,5.38a32,32,0,0,0,45.26,0L132,191.31l6.34,6.35a8,8,0,0,0,11.32-11.32L131.31,168l18.35-18.34A8,8,0,0,0,149.66,138.34Zm-52.29,65a16,16,0,0,1-22.62,0L52.69,181.25a16,16,0,0,1,0-22.62L76,135.31,120.69,180Zm140.29-185a8,8,0,0,0-11.32,0l-28.4,28.41-5.37-5.38a32.05,32.05,0,0,0-45.26,0L124,64.69l-6.34-6.35a8,8,0,0,0-11.32,11.32l80,80a8,8,0,0,0,11.32-11.32L191.31,132l23.32-23.31a32,32,0,0,0,0-45.26l-5.38-5.37,28.41-28.4A8,8,0,0,0,237.66,18.34Zm-34.35,79L180,120.69,135.31,76l23.32-23.31a16,16,0,0,1,22.62,0l22.06,22A16,16,0,0,1,203.31,97.37Z"},null,-1),Tt=[Nt,Pt],Rt={key:2},zt=g("path",{d:"M149.66,149.66,131.31,168l18.35,18.34a8,8,0,0,1-11.32,11.32L132,191.31l-23.31,23.32a32.06,32.06,0,0,1-45.26,0l-5.37-5.38-28.4,28.41a8,8,0,0,1-11.32-11.32l28.41-28.4-5.38-5.37a32,32,0,0,1,0-45.26L64.69,124l-6.35-6.34a8,8,0,0,1,11.32-11.32L88,124.69l18.34-18.35a8,8,0,0,1,11.32,11.32L99.31,136,120,156.69l18.34-18.35a8,8,0,0,1,11.32,11.32Zm88-131.32a8,8,0,0,0-11.32,0l-28.4,28.41-5.37-5.38a32.05,32.05,0,0,0-45.26,0L124,64.69l-6.34-6.35a8,8,0,0,0-11.32,11.32l80,80a8,8,0,0,0,11.32-11.32L191.31,132l23.32-23.31a32,32,0,0,0,0-45.26l-5.38-5.37,28.41-28.4A8,8,0,0,0,237.66,18.34Z"},null,-1),Vt=[zt],jt={key:3},Zt=g("path",{d:"M148.24,139.76a6,6,0,0,0-8.48,0L120,159.51,96.49,136l19.75-19.76a6,6,0,0,0-8.48-8.48L88,127.51,68.24,107.76a6,6,0,0,0-8.48,8.48L67.51,124,42.79,148.73a30,30,0,0,0,0,42.42l6.78,6.79L19.76,227.76a6,6,0,1,0,8.48,8.48l29.82-29.81,6.79,6.78a30,30,0,0,0,42.42,0L132,188.49l7.76,7.75a6,6,0,0,0,8.48-8.48L128.49,168l19.75-19.76A6,6,0,0,0,148.24,139.76Zm-49.45,65a18,18,0,0,1-25.46,0L51.27,182.67a18,18,0,0,1,0-25.46L76,132.49,123.51,180Zm137.45-185a6,6,0,0,0-8.48,0L197.94,49.57l-6.79-6.78a30,30,0,0,0-42.42,0L124,67.51l-7.76-7.75a6,6,0,0,0-8.48,8.48l80,80a6,6,0,0,0,8.48-8.48L188.49,132l24.72-24.73a30,30,0,0,0,0-42.42l-6.78-6.79,29.81-29.82A6,6,0,0,0,236.24,19.76Zm-31.51,79L180,123.51,132.49,76l24.72-24.73a18,18,0,0,1,25.46,0l22.06,22.06a18,18,0,0,1,0,25.46Z"},null,-1),Ft=[Zt],Ot={key:4},Ut=g("path",{d:"M149.66,138.34a8,8,0,0,0-11.32,0L120,156.69,99.31,136l18.35-18.34a8,8,0,0,0-11.32-11.32L88,124.69,69.66,106.34a8,8,0,0,0-11.32,11.32L64.69,124,41.37,147.31a32,32,0,0,0,0,45.26l5.38,5.37-28.41,28.4a8,8,0,0,0,11.32,11.32l28.4-28.41,5.37,5.38a32,32,0,0,0,45.26,0L132,191.31l6.34,6.35a8,8,0,0,0,11.32-11.32L131.31,168l18.35-18.34A8,8,0,0,0,149.66,138.34Zm-52.29,65a16,16,0,0,1-22.62,0L52.69,181.25a16,16,0,0,1,0-22.62L76,135.31,120.69,180Zm140.29-185a8,8,0,0,0-11.32,0l-28.4,28.41-5.37-5.38a32.05,32.05,0,0,0-45.26,0L124,64.69l-6.34-6.35a8,8,0,0,0-11.32,11.32l80,80a8,8,0,0,0,11.32-11.32L191.31,132l23.32-23.31a32,32,0,0,0,0-45.26l-5.38-5.37,28.41-28.4A8,8,0,0,0,237.66,18.34Zm-34.35,79L180,120.69,135.31,76l23.32-23.31a16,16,0,0,1,22.62,0l22.06,22A16,16,0,0,1,203.31,97.37Z"},null,-1),Ht=[Ut],Et={key:5},Bt=g("path",{d:"M146.83,141.17a4,4,0,0,0-5.66,0L120,162.34,93.66,136l21.17-21.17a4,4,0,0,0-5.66-5.66L88,130.34,66.83,109.17a4,4,0,0,0-5.66,5.66L70.34,124,44.2,150.14a28,28,0,0,0,0,39.6l8.2,8.2L21.17,229.17a4,4,0,0,0,5.66,5.66L58.06,203.6l8.2,8.2a28,28,0,0,0,39.6,0L132,185.66l9.17,9.17a4,4,0,0,0,5.66-5.66L125.66,168l21.17-21.17A4,4,0,0,0,146.83,141.17Zm-46.63,65a20,20,0,0,1-28.28,0L49.86,184.08a20,20,0,0,1,0-28.28L76,129.66,126.34,180Zm134.63-185a4,4,0,0,0-5.66,0L197.94,52.4l-8.2-8.2a28,28,0,0,0-39.6,0L124,70.34l-9.17-9.17a4,4,0,0,0-5.66,5.66l80,80a4,4,0,0,0,5.66-5.66L185.66,132l26.14-26.14a28,28,0,0,0,0-39.6l-8.2-8.2,31.23-31.23A4,4,0,0,0,234.83,21.17ZM212,86.06a19.86,19.86,0,0,1-5.86,14.14L180,126.34,129.66,76,155.8,49.86a20,20,0,0,1,28.28,0l22.06,22.06A19.85,19.85,0,0,1,212,86.06Z"},null,-1),Yt=[Bt],qt={name:"PhPlugs"},Ze=ae({...qt,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(o){const t=o,s=Y("weight","regular"),a=Y("size","1em"),u=Y("color","currentColor"),p=Y("mirrored",!1),v=P(()=>t.weight??s),h=P(()=>t.size??a),x=P(()=>t.color??u),_=P(()=>t.mirrored!==void 0?t.mirrored?"scale(-1, 1)":void 0:p?"scale(-1, 1)":void 0);return(A,y)=>(d(),L("svg",Pe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:h.value,height:h.value,fill:x.value,transform:_.value},A.$attrs),[Ne(A.$slots,"default"),v.value==="bold"?(d(),L("g",It,Dt)):v.value==="duotone"?(d(),L("g",St,Tt)):v.value==="fill"?(d(),L("g",Rt,Vt)):v.value==="light"?(d(),L("g",jt,Ft)):v.value==="regular"?(d(),L("g",Ot,Ht)):v.value==="thin"?(d(),L("g",Et,Yt)):z("",!0)],16,Mt))}}),Gt=["width","height","fill","transform"],Jt={key:0},Kt=g("path",{d:"M228,128a12,12,0,0,1-12,12H140v76a12,12,0,0,1-24,0V140H40a12,12,0,0,1,0-24h76V40a12,12,0,0,1,24,0v76h76A12,12,0,0,1,228,128Z"},null,-1),Wt=[Kt],Qt={key:1},Xt=g("path",{d:"M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z",opacity:"0.2"},null,-1),ea=g("path",{d:"M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"},null,-1),ta=[Xt,ea],aa={key:2},na=g("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM184,136H136v48a8,8,0,0,1-16,0V136H72a8,8,0,0,1,0-16h48V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"},null,-1),sa=[na],la={key:3},ra=g("path",{d:"M222,128a6,6,0,0,1-6,6H134v82a6,6,0,0,1-12,0V134H40a6,6,0,0,1,0-12h82V40a6,6,0,0,1,12,0v82h82A6,6,0,0,1,222,128Z"},null,-1),oa=[ra],ia={key:4},ca=g("path",{d:"M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"},null,-1),ua=[ca],da={key:5},pa=g("path",{d:"M220,128a4,4,0,0,1-4,4H132v84a4,4,0,0,1-8,0V132H40a4,4,0,0,1,0-8h84V40a4,4,0,0,1,8,0v84h84A4,4,0,0,1,220,128Z"},null,-1),fa=[pa],ma={name:"PhPlus"},me=ae({...ma,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(o){const t=o,s=Y("weight","regular"),a=Y("size","1em"),u=Y("color","currentColor"),p=Y("mirrored",!1),v=P(()=>t.weight??s),h=P(()=>t.size??a),x=P(()=>t.color??u),_=P(()=>t.mirrored!==void 0?t.mirrored?"scale(-1, 1)":void 0:p?"scale(-1, 1)":void 0);return(A,y)=>(d(),L("svg",Pe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:h.value,height:h.value,fill:x.value,transform:_.value},A.$attrs),[Ne(A.$slots,"default"),v.value==="bold"?(d(),L("g",Jt,Wt)):v.value==="duotone"?(d(),L("g",Qt,ta)):v.value==="fill"?(d(),L("g",aa,sa)):v.value==="light"?(d(),L("g",la,oa)):v.value==="regular"?(d(),L("g",ia,ua)):v.value==="thin"?(d(),L("g",da,fa)):z("",!0)],16,Gt))}});function _a(o,t){F(2,arguments);var s=j(o),a=E(t);return isNaN(a)?new Date(NaN):(a&&s.setDate(s.getDate()+a),s)}function ga(o,t){F(2,arguments);var s=j(o),a=E(t);if(isNaN(a))return new Date(NaN);if(!a)return s;var u=s.getDate(),p=new Date(s.getTime());p.setMonth(s.getMonth()+a+1,0);var v=p.getDate();return u>=v?p:(s.setFullYear(p.getFullYear(),p.getMonth(),u),s)}function X(o,t){if(F(2,arguments),!t||qe(t)!=="object")return new Date(NaN);var s=t.years?E(t.years):0,a=t.months?E(t.months):0,u=t.weeks?E(t.weeks):0,p=t.days?E(t.days):0,v=t.hours?E(t.hours):0,h=t.minutes?E(t.minutes):0,x=t.seconds?E(t.seconds):0,_=j(o),A=a||s?ga(_,a+s*12):_,y=p||u?_a(A,p+u*7):A,N=h+v*60,C=x+N*60,T=C*1e3,O=new Date(y.getTime()+T);return O}function Ie(o){F(1,arguments);var t=j(o);return t.setHours(0,0,0,0),t}var va=864e5;function ya(o,t){F(2,arguments);var s=Ie(o),a=Ie(t),u=s.getTime()-ke(s),p=a.getTime()-ke(a);return Math.round((u-p)/va)}var ha=6e4,ba=36e5;function wa(o,t){F(2,arguments);var s=j(o),a=j(t);return s.getFullYear()-a.getFullYear()}function Ce(o,t){var s=o.getFullYear()-t.getFullYear()||o.getMonth()-t.getMonth()||o.getDate()-t.getDate()||o.getHours()-t.getHours()||o.getMinutes()-t.getMinutes()||o.getSeconds()-t.getSeconds()||o.getMilliseconds()-t.getMilliseconds();return s<0?-1:s>0?1:s}function ka(o,t){F(2,arguments);var s=j(o),a=j(t),u=Ce(s,a),p=Math.abs(ya(s,a));s.setDate(s.getDate()-u*p);var v=+(Ce(s,a)===-u),h=u*(p-v);return h===0?0:h}function xa(o,t,s){F(2,arguments);var a=Te(o,t)/ba;return Re()(a)}function La(o,t,s){F(2,arguments);var a=Te(o,t)/ha;return Re()(a)}function Aa(o,t){F(2,arguments);var s=j(o),a=j(t),u=de(s,a),p=Math.abs(wa(s,a));s.setFullYear(1584),a.setFullYear(1584);var v=de(s,a)===-u,h=u*(p-Number(v));return h===0?0:h}var $a=["years","months","weeks","days","hours","minutes","seconds"];function Ma(o,t){var s,a,u,p,v;if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var h=Ge(),x=(s=(a=t?.locale)!==null&&a!==void 0?a:h.locale)!==null&&s!==void 0?s:ze,_=(u=t?.format)!==null&&u!==void 0?u:$a,A=(p=t?.zero)!==null&&p!==void 0?p:!1,y=(v=t?.delimiter)!==null&&v!==void 0?v:" ";if(!x.formatDistance)return"";var N=_.reduce(function(C,T){var O="x".concat(T.replace(/(^.)/,function(b){return b.toUpperCase()})),D=o[T];return typeof D=="number"&&(A||o[T])?C.concat(x.formatDistance(O,D)):C},[]).join(y);return N}function Ia(o){F(1,arguments);var t=j(o.start),s=j(o.end);if(isNaN(t.getTime()))throw new RangeError("Start Date is invalid");if(isNaN(s.getTime()))throw new RangeError("End Date is invalid");var a={};a.years=Math.abs(Aa(s,t));var u=de(s,t),p=X(t,{years:u*a.years});a.months=Math.abs(Je(s,p));var v=X(p,{months:u*a.months});a.days=Math.abs(ka(s,v));var h=X(v,{days:u*a.days});a.hours=Math.abs(xa(s,h));var x=X(h,{hours:u*a.hours});a.minutes=Math.abs(La(s,x));var _=X(x,{minutes:u*a.minutes});return a.seconds=Math.abs(Ke(s,_)),a}class Ca{async listAgents(t){return await Q.get(`projects/${t}/agents`)}async runAgent(t,s,a,u,p){return await Q.post(`projects/${t}/agents/${s}/runs`,{prompt:a,permissions:u,...p})}async listRuns(t,s){return await Q.get(`projects/${t}/agents/${s}/runs`)}async getRun(t,s,a){return await Q.get(`projects/${t}/agents/${s}/runs/${a}`)}async cancelRun(t,s,a){await Q.delete(`projects/${t}/agents/${s}/runs/${a}`)}}const De={type:"array",description:"List of permissions for the agent",items:{oneOf:[{type:"object",title:"TablesPermission",properties:{type:{const:"tables"},action:{type:"string",enum:["insert","update","delete","select"]},tableName:{type:"string"},condition:{type:"object",additionalProperties:{type:"string"}}},required:["type","action","tableName"]},{type:"object",title:"FilesPermission",properties:{type:{const:"files"},action:{type:"string",enum:["read","write","delete"]},condition:{type:"string",description:"Glob pattern to match file paths"}},required:["type","action"]},{type:"object",title:"ConnectorsPermission",properties:{type:{const:"connections"},connectionName:{type:"string"},connectorType:{type:"string"},action:{type:"string"},condition:{type:"object",additionalProperties:{type:"string"}}},required:["type","connectionName","action"]}]}};function Da(o){return{name:"getPrompt",description:"Get the current prompt text that the user has entered in the agent form. Use this to understand what the user wants the agent to do.",payloadSchema:{type:"object",properties:{},required:[]},execute:async()=>({prompt:o.getPrompt()})}}function Sa(o){return{name:"updatePermissions",description:`Update the agent permissions based on the user's prompt. Call this after reading the prompt to set appropriate permissions for the agent task. The permissions schema is: ${JSON.stringify(De)}`,payloadSchema:{type:"object",properties:{permissions:De},required:["permissions"]},execute:async t=>{const s=t.permissions;return o.setPermissions(s),{success:!0,permissionsCount:s.length,permissions:s}}}}function Na(o){return[Da(o),Sa(o)]}const Pa={class:"key-value-editor"},Ta=ae({__name:"KeyValueEditor",props:{modelValue:{}},emits:["update:modelValue"],setup(o,{emit:t}){const s=o,a=t,u=V([]);J(()=>s.modelValue,x=>{if(!x){u.value=[];return}const _=u.value.reduce((A,y)=>(y.key&&(A[y.key]=y.value),A),{});JSON.stringify(_)!==JSON.stringify(x)&&(u.value=Object.entries(x).map(([A,y])=>({key:A,value:y})))},{immediate:!0,deep:!0}),J(u,()=>{h()},{deep:!0});function p(){u.value.push({key:"",value:""})}function v(x){u.value.splice(x,1)}function h(){const x=u.value.reduce((_,A)=>(A.key&&(_[A.key]=A.value),_),{});a("update:modelValue",x)}return(x,_)=>(d(),L("div",Pa,[(d(!0),L(ee,null,te(u.value,(A,y)=>(d(),L("div",{key:y,class:"kv-row"},[n(e(le),{value:A.key,"onUpdate:value":N=>A.key=N,placeholder:e(l).translate("i18n_agents_placeholder_key"),size:"small",style:{flex:"1"}},null,8,["value","onUpdate:value","placeholder"]),_[0]||(_[0]=g("span",{class:"separator"},":",-1)),n(e(le),{value:A.value,"onUpdate:value":N=>A.value=N,placeholder:e(l).translate("i18n_agents_placeholder_value"),size:"small",style:{flex:"1"}},null,8,["value","onUpdate:value","placeholder"]),n(B,{type:"text",size:"small",danger:"",class:"remove-btn",onClick:N=>v(y)},{default:r(()=>[n(e(_e))]),_:1},8,["onClick"])]))),128)),n(B,{type:"dashed",size:"small",block:"",onClick:p},{default:r(()=>[n(e(me)),I(" "+k(e(l).translate("i18n_agents_add_condition")),1)]),_:1})]))}}),Se=ge(Ta,[["__scopeId","data-v-30962401"]]),Ra={class:"permissions-editor"},za={key:0,class:"header"},Va={class:"permissions-list"},ja={style:{"text-transform":"capitalize"}},Za={key:0,class:"permission-body"},Fa={key:1,class:"permission-body"},Oa={key:2,class:"permission-body"},Ua=ae({__name:"PermissionsEditor",props:{modelValue:{},projectId:{}},emits:["update:modelValue"],setup(o,{expose:t,emit:s}){const a=o,u=s,p=V([]),v=V([]),h=V([]),x=V({}),_=V([]);J(()=>a.modelValue,b=>{JSON.stringify(b)!==JSON.stringify(p.value)&&(p.value=JSON.parse(JSON.stringify(b||[])),p.value.forEach(M=>{M.type==="connections"&&M.connectionName&&T(M.connectionName,M.connectorType)}))},{immediate:!0,deep:!0}),Ve(async()=>{try{const b=await ht.list(a.projectId);v.value=b.map(M=>({label:M.name,value:M.name})).sort((M,i)=>M.label.localeCompare(i.label))}catch(b){console.error("Failed to load tables",b)}try{const M=await new Le().listConnections(a.projectId);_.value=M,h.value=M.map(i=>({label:i.name,value:i.name})).sort((i,$)=>i.label.localeCompare($.label))}catch(b){console.error("Failed to load connections",b)}});function A(b){switch(b){case"tables":return je;case"files":return pe;case"connections":return Ze;default:return pe}}function y(b){switch(b){case"tables":return l.translate("i18n_agents_perm_type_table");case"files":return l.translate("i18n_agents_perm_type_file");case"connections":return l.translate("i18n_agents_perm_type_connection");default:return b}}function N(b){let M;if(b==="tables")M={type:"tables",action:void 0,tableName:"",condition:{}};else if(b==="files")M={type:"files",action:void 0,condition:""};else if(b==="connections")M={type:"connections",action:"",connectionName:"",connectorType:"",condition:{}};else return;p.value.push(M),D()}function C(b,M){M.action="";const i=_.value.find($=>$.name===b);i&&(M.connectorType=i.connectionType,T(b,i.connectionType)),D()}async function T(b,M){if(!b||x.value[b])return;let i=M;if(i||(i=_.value.find(w=>w.name===b)?.connectionType),!!i)try{const w=await new Le().getConnection(a.projectId,i,b);w.actions&&(x.value[b]=w.actions.map(G=>({label:G.name,value:G.name})).sort((G,re)=>G.label.localeCompare(re.label)))}catch($){console.error("Failed to load connection actions",$)}}function O(b){p.value.splice(b,1),D()}function D(){u("update:modelValue",p.value)}return t({addPermission:N}),(b,M)=>(d(),L("div",Ra,[p.value.length>0?(d(),L("div",za,[n(e(U),{strong:""},{default:r(()=>[I(k(e(l).translate("i18n_agents_permissions_title")),1)]),_:1})])):z("",!0),g("div",Va,[(d(!0),L(ee,null,te(p.value,(i,$)=>(d(),R(e(fe),{key:$,size:"small",class:"permission-card"},{title:r(()=>[n(e(Z),{align:"center",gap:"8"},{default:r(()=>[(d(),R(We(A(i.type)),{class:"type-icon"})),g("span",ja,k(y(i.type)),1)]),_:2},1024)]),extra:r(()=>[n(B,{type:"text",danger:"",size:"small",onClick:w=>O($)},{default:r(()=>[n(e(_e))]),_:1},8,["onClick"])]),default:r(()=>[i.type==="tables"?(d(),L("div",Za,[n(e(H),{label:e(l).translate("i18n_agents_label_table"),class:"mb-2"},{default:r(()=>[n(e(W),{value:i.tableName,"onUpdate:value":w=>i.tableName=w,options:v.value,placeholder:e(l).translate("i18n_agents_placeholder_select_table"),"show-search":"","option-filter-prop":"label",onChange:D},null,8,["value","onUpdate:value","options","placeholder"])]),_:2},1032,["label"]),n(e(H),{label:e(l).translate("i18n_agents_label_action"),class:"mb-2"},{default:r(()=>[n(e(W),{value:i.action,"onUpdate:value":w=>i.action=w,options:[{value:"select",label:e(l).translate("i18n_agents_perm_action_select")},{value:"insert",label:e(l).translate("i18n_agents_perm_action_insert")},{value:"update",label:e(l).translate("i18n_agents_perm_action_update")},{value:"delete",label:e(l).translate("i18n_agents_perm_action_delete")}],placeholder:e(l).translate("i18n_agents_placeholder_select_action"),"show-search":"","option-filter-prop":"label"},null,8,["value","onUpdate:value","options","placeholder"])]),_:2},1032,["label"]),n(e(H),{label:e(l).translate("i18n_agents_label_conditions"),class:"mb-0"},{default:r(()=>[n(Se,{modelValue:i.condition,"onUpdate:modelValue":[w=>i.condition=w,D]},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])])):i.type==="files"?(d(),L("div",Fa,[n(e(H),{label:e(l).translate("i18n_agents_label_action"),class:"mb-2"},{default:r(()=>[n(e(W),{value:i.action,"onUpdate:value":w=>i.action=w,options:[{value:"read",label:e(l).translate("i18n_agents_perm_action_read")},{value:"write",label:e(l).translate("i18n_agents_perm_action_write")},{value:"delete",label:e(l).translate("i18n_agents_perm_action_delete")}],placeholder:e(l).translate("i18n_agents_placeholder_select_action"),"show-search":"","option-filter-prop":"label"},null,8,["value","onUpdate:value","options","placeholder"])]),_:2},1032,["label"]),n(e(H),{label:e(l).translate("i18n_agents_label_path_pattern"),class:"mb-0"},{default:r(()=>[n(e(le),{value:i.condition,"onUpdate:value":w=>i.condition=w,placeholder:e(l).translate("i18n_agents_placeholder_glob_example"),onChange:D},null,8,["value","onUpdate:value","placeholder"])]),_:2},1032,["label"])])):i.type==="connections"?(d(),L("div",Oa,[n(e(H),{label:e(l).translate("i18n_agents_label_connection"),class:"mb-2"},{default:r(()=>[n(e(W),{value:i.connectionName,"onUpdate:value":w=>i.connectionName=w,options:h.value,placeholder:e(l).translate("i18n_agents_placeholder_select_connection"),"show-search":"","option-filter-prop":"label",onChange:w=>C(w,i)},null,8,["value","onUpdate:value","options","placeholder","onChange"])]),_:2},1032,["label"]),n(e(H),{label:e(l).translate("i18n_agents_label_action"),class:"mb-2"},{default:r(()=>[n(e(W),{value:i.action,"onUpdate:value":w=>i.action=w,options:x.value[i.connectionName]||[],placeholder:e(l).translate("i18n_agents_placeholder_select_action"),disabled:!i.connectionName,"show-search":"","option-filter-prop":"label",onChange:D},null,8,["value","onUpdate:value","options","placeholder","disabled"])]),_:2},1032,["label"]),n(e(H),{label:e(l).translate("i18n_agents_label_conditions"),class:"mb-0"},{default:r(()=>[n(Se,{modelValue:i.condition,"onUpdate:modelValue":[w=>i.condition=w,D]},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])])):z("",!0)]),_:2},1024))),128))])]))}}),Ha=ge(Ua,[["__scopeId","data-v-8765ad8b"]]),q="new-run",Ea=Qe("agents",()=>{const o=new Ca,t="browser",s=V([]),a=V(null),u=V(null),p=V(!1),v=V(!1),h=Xe({prompt:"",permissions:[],secrets:{}});let x=null,_=null;async function A(i){v.value=!0;try{const $=await o.listRuns(i,t);s.value=$.runs||[]}catch($){console.error("Failed to load runs",$)}finally{v.value=!1}}async function y(i,$){if(!$||$===q){u.value=null;return}try{const w=await o.getRun(i,t,$);u.value=w}catch(w){console.error("Failed to fetch run details",w)}}function N(i){x||(A(i),x=window.setInterval(()=>A(i),1e4))}function C(){x&&(clearInterval(x),x=null)}function T(i){if(_)return;const $=()=>{a.value&&a.value!==q&&y(i,a.value)};$(),_=window.setInterval($,3e3)}function O(){_&&(clearInterval(_),_=null)}async function D(i){if(h.prompt.trim()){p.value=!0;try{const $=Object.keys(h.secrets).length>0?h.secrets:void 0,w=await o.runAgent(i,t,h.prompt,h.permissions,$);ne.success({message:l.translate("i18n_agents_create_run_success")}),h.prompt="",h.secrets={},await A(i),w.runId&&M(w.runId)}catch($){ne.error({message:l.translate("i18n_agents_create_run_error"),description:$ instanceof Error?$.message:String($)})}finally{p.value=!1}}}async function b(i,$){try{await o.cancelRun(i,t,$),ne.success({message:l.translate("i18n_agents_cancel_run_success")}),await A(i),a.value===$&&await y(i,$)}catch(w){ne.error({message:l.translate("i18n_agents_cancel_run_error"),description:w instanceof Error?w.message:String(w)})}}function M(i){a.value=i}return{runs:s,selectedRunId:a,selectedRunDetails:u,creatingRun:p,loadingRuns:v,createFormState:h,loadRuns:A,loadRunDetails:y,createRun:D,cancelRun:b,selectRun:M,startRunsPolling:N,stopRunsPolling:C,startDetailsPolling:T,stopDetailsPolling:O}}),Ba={style:{padding:"16px"}},Ya={class:"icon-wrapper"},qa={style:{"font-weight":"500","font-size":"14px"}},Ga={class:"sidebar-runs-container",style:{flex:"1",overflow:"auto",padding:"0 8px 16px 8px",height:"100%"}},Ja=["onClick"],Ka={style:{display:"flex","align-items":"center",gap:"10px",overflow:"hidden"}},Wa={class:"run-title"},Qa={class:"run-time"},Xa={key:0,style:{flex:"1","overflow-y":"auto","overflow-x":"hidden",padding:"24px",background:"#fafafa","min-height":"0"}},en={style:{"max-width":"800px",margin:"0 auto"}},tn={style:{"text-align":"center","margin-bottom":"32px"}},an={style:{background:"#fdeef0",width:"64px",height:"64px","border-radius":"16px",display:"flex","align-items":"center","justify-content":"center",margin:"0 auto 16px"}},nn={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-top":"8px"}},sn={style:{display:"flex","align-items":"center",gap:"12px"}},ln={style:{"font-size":"13px","margin-left":"4px"}},rn={class:"secrets-section",style:{"margin-top":"24px"}},on={style:{"font-weight":"500","font-size":"14px"}},cn={key:0,class:"empty-secrets-state"},un={style:{color:"#8c8c8c","font-size":"13px"}},dn={style:{"margin-top":"8px"}},pn={key:1,style:{height:"100%",display:"flex","flex-direction":"column"}},fn={style:{padding:"24px","border-bottom":"1px solid #f0f0f0","flex-shrink":"0"}},mn={style:{display:"flex","justify-content":"space-between","align-items":"flex-start","margin-bottom":"16px"}},_n={style:{flex:"1","overflow-y":"auto","overflow-x":"hidden",padding:"24px",background:"#fafafa","min-height":"0",height:"0"}},gn={key:0,style:{"text-align":"center",color:"#999",padding:"40px"}},vn={class:"step-card"},yn={class:"step-header"},hn={key:0,class:"step-body"},bn={key:0,class:"step-screenshot"},wn={key:2,style:{height:"100%",display:"flex","align-items":"center","justify-content":"center"}},kn=ae({__name:"Agents",setup(o){const s=et().params.projectId,a=Ea(),u=V(null),p=_t();p.init("console",s);function v(){return l.getLocale()==="pt"?kt:ze}const{runs:h,selectedRunId:x,selectedRunDetails:_,creatingRun:A,createFormState:y}=tt(a);let N=0;const C=V([]);let T=!1;function O(){C.value=Object.entries(y.value.secrets).map(([c,f])=>({id:N++,key:c,value:f}))}function D(){T=!0;const c={};for(const f of C.value)f.key.trim()&&(c[f.key.trim()]=f.value);y.value.secrets=c,setTimeout(()=>{T=!1},0)}J(()=>y.value.secrets,()=>{T||O()},{immediate:!0,deep:!0});const b=P(()=>y.value.prompt.trim().length<40||!mt.safeParse(y.value.permissions).success?!1:y.value.permissions.every(f=>f.type==="tables"?!!f.tableName:f.type==="connections"?!!f.connectionName&&!!f.action:!0));Ve(()=>{a.selectRun(q),a.startRunsPolling(s)}),at(()=>{a.stopRunsPolling(),a.stopDetailsPolling()}),J(x,async c=>{c&&c!==q?await a.loadRunDetails(s,c):a.stopDetailsPolling()});const M=()=>({getPrompt:()=>y.value.prompt,getPermissions:()=>y.value.permissions,setPermissions:c=>{y.value.permissions=c}});function i(c){const f=c.key;f==="generate-ai"?$():u.value?.addPermission(f)}async function $(){if(!y.value.prompt.trim()){ft.warning({title:l.translate("i18n_agents_generate_ai_no_prompt_title"),content:l.translate("i18n_agents_generate_ai_no_prompt_content")});return}const c=p.controller;if(!c){console.error("SmartChatController not available");return}try{const f=M(),m=Na(f);c.clearBrowserTools(),c.registerBrowserTools(m);const S=l.translate("i18n_agents_ai_permissions_instruction");p.open(),c.setInput(S),await c.send()}catch(f){console.error("Error generating permissions with AI:",f)}}function w(){a.createRun(s)}function G(){const c=C.value.map(S=>S.key);let f="secret",m=1;for(;c.includes(f);)f=`secret_${m}`,m++;C.value.push({id:N++,key:f,value:""}),D()}function re(c){const f=C.value.findIndex(m=>m.id===c);f!==-1&&(C.value.splice(f,1),D())}function Fe(c,f){const m=C.value.find(S=>S.id===c);m&&(m.key=f,D())}function Oe(c,f){const m=C.value.find(S=>S.id===c);m&&(m.value=f,D())}function Ue(c){a.cancelRun(s,c)}function He(c){switch(c){case"running":return"#3b82f6";case"completed":return"#10b981";case"failed":return"#ef4444";case"pending":return"#f59e0b";default:return"#9ca3af"}}function Ee(c){switch(c){case"running":return l.translate("i18n_agents_status_running");case"completed":return l.translate("i18n_agents_status_completed");case"failed":return l.translate("i18n_agents_status_failed");case"pending":return l.translate("i18n_agents_status_pending");default:return l.translate("i18n_agents_status_unknown")}}function ve(c){switch(c){case"success":return"#10b981";case"error":return"#ef4444";case"running":return"#3b82f6";case"tool_call":return"#8b5cf6";case"cancelled":case"timeout":return"#f59e0b";default:return"#9ca3af"}}const K=P(()=>_.value?h.value?.find(f=>f.runId===_.value?.runId)?.status||_.value.status:"unknown"),ye=P(()=>["running","pending"].includes(K.value));J(K,c=>{c&&["running","pending"].includes(c)?a.startDetailsPolling(s):a.stopDetailsPolling()},{immediate:!0});const Be=P(()=>_.value?.prompt||""),he=P(()=>{const c=_.value?.result;return c?typeof c=="string"?c:JSON.stringify(c,null,2):""}),be=P(()=>_.value?.steps||[]),we=P(()=>{if(!_.value)return"";const c=new Date(_.value.startedAt),f=_.value.completedAt?new Date(_.value.completedAt):new Date,m=Ia({start:c,end:f});return Ma(m,{format:["minutes","seconds"]})||"< 1s"});function Ye(c){return c.startsWith("data:image")?c:`data:image/png;base64,${c}`}return(c,f)=>(d(),R(e(At),{class:"agents-view",style:{height:"100%"}},{default:r(()=>[e(h)&&e(h).length>0?(d(),R(e(xt),{key:0,width:"260",theme:"light",style:{"border-right":"1px solid #f0f0f0",display:"flex","flex-direction":"column",overflow:"hidden"}},{default:r(()=>[g("div",Ba,[g("div",{class:oe(["new-run-button",{active:e(x)===e(q)}]),onClick:f[0]||(f[0]=m=>e(a).selectRun(e(q)))},[n(e(Z),{align:"center",gap:12},{default:r(()=>[g("div",Ya,[n(e(ue),{size:16})]),g("span",qa,k(e(l).translate("i18n_agents_create_button")),1)]),_:1})],2)]),g("div",Ga,[(d(!0),L(ee,null,te(e(h)||[],m=>(d(),L("div",{key:m.runId,class:oe(["sidebar-run-item",{active:e(x)===m.runId}]),onClick:S=>e(a).selectRun(m.runId)},[n(e(Z),{align:"center",justify:"space-between",style:{width:"100%"}},{default:r(()=>[g("div",Ka,[g("div",{class:oe(["status-dot",m.status])},null,2),g("span",Wa,k(m.prompt),1)]),g("span",Qa,k(m.startedAt?e(wt)(new Date(m.startedAt),{addSuffix:!0,locale:v()}):""),1)]),_:2},1024)],10,Ja))),128))])]),_:1})):z("",!0),n(e(Lt),{style:{background:"#fff",display:"flex","flex-direction":"column",overflow:"hidden","min-height":"0"}},{default:r(()=>[e(x)===e(q)?(d(),L("div",Xa,[g("div",en,[g("div",tn,[g("div",an,[n(e(ue),{style:{"font-size":"32px",color:"#ea576a"}})]),n(e(ie),{level:2,style:{"margin-bottom":"8px","margin-top":"0"}},{default:r(()=>[I(k(e(l).translate("i18n_agents_create_button")),1)]),_:1}),n(e(U),{type:"secondary",style:{"font-size":"15px"}},{default:r(()=>[I(k(e(l).translate("i18n_agents_description")),1)]),_:1})]),n(e(nt),{layout:"vertical"},{default:r(()=>[n(e(H),null,{default:r(()=>[n(e(st),{value:e(y).prompt,"onUpdate:value":f[1]||(f[1]=m=>e(y).prompt=m),rows:6,placeholder:e(l).translate("i18n_agents_field_prompt_placeholder"),style:{"border-radius":"8px","font-size":"15px","border-color":"#d9d9d9",padding:"12px"},onKeydown:f[2]||(f[2]=lt(rt(m=>b.value&&w(),["ctrl"]),["enter"]))},null,8,["value","placeholder"]),g("div",nn,[g("div",sn,[n(e(ot),{trigger:["click"]},{overlay:r(()=>[n(e(it),{onClick:i},{default:r(()=>[n(e(se),{key:"tables"},{default:r(()=>[n(e(Z),{gap:"8",align:"center"},{default:r(()=>[n(e(je)),I(" "+k(e(l).translate("i18n_agents_perm_type_table")),1)]),_:1})]),_:1}),n(e(se),{key:"files"},{default:r(()=>[n(e(Z),{gap:"8",align:"center"},{default:r(()=>[n(e(pe)),I(" "+k(e(l).translate("i18n_agents_perm_type_file")),1)]),_:1})]),_:1}),n(e(se),{key:"connections"},{default:r(()=>[n(e(Z),{gap:"8",align:"center"},{default:r(()=>[n(e(Ze)),I(" "+k(e(l).translate("i18n_agents_perm_type_connection")),1)]),_:1})]),_:1}),n(e(ct)),n(e(se),{key:"generate-ai"},{default:r(()=>[n(e(Z),{gap:"8",align:"center"},{default:r(()=>[n(e(vt)),I(" "+k(e(l).translate("i18n_agents_generate_with_ai")),1)]),_:1})]),_:1})]),_:1})]),default:r(()=>[n(B,{type:"text",size:"small"},{default:r(()=>[n(e(me)),g("span",ln,k(e(l).translate("i18n_agents_add_permission")),1)]),_:1})]),_:1}),e(y).prompt.length>0&&e(y).prompt.length<40?(d(),R(e(U),{key:0,type:"secondary",style:{"font-size":"12px"}},{default:r(()=>[I(k(e(y).prompt.length)+"/40 ",1)]),_:1})):z("",!0)]),n(e(U),{type:"secondary",style:{"font-size":"12px"}},{default:r(()=>[n(e(U),{code:""},{default:r(()=>[...f[5]||(f[5]=[I("Ctrl + Enter",-1)])]),_:1}),I(" "+k(e(l).translate("i18n_agents_shortcut_to_run")),1)]),_:1})])]),_:1}),n(Ha,{ref_key:"permissionsEditorRef",ref:u,modelValue:e(y).permissions,"onUpdate:modelValue":f[3]||(f[3]=m=>e(y).permissions=m),"project-id":e(s)},null,8,["modelValue","project-id"]),g("div",rn,[n(e(Z),{align:"center",justify:"space-between",style:{"margin-bottom":"12px"}},{default:r(()=>[n(e(Z),{align:"center",gap:8},{default:r(()=>[n(e(gt),{size:16}),g("span",on,k(e(l).translate("i18n_agents_secrets_title")),1)]),_:1}),n(B,{size:"small",type:"dashed",onClick:G},{default:r(()=>[n(e(me),{size:14}),I(" "+k(e(l).translate("i18n_agents_add_secret")),1)]),_:1})]),_:1}),C.value.length===0?(d(),L("div",cn,[g("span",un,k(e(l).translate("i18n_agents_secrets_empty")),1)])):(d(),R(e(Z),{key:1,vertical:"",gap:8},{default:r(()=>[(d(!0),L(ee,null,te(C.value,m=>(d(),L("div",{key:m.id,class:"secret-row"},[n(e(Z),{gap:8,align:"center"},{default:r(()=>[n(e(le),{value:m.key,placeholder:e(l).translate("i18n_agents_secret_key_placeholder"),style:{width:"140px"},onInput:S=>Fe(m.id,S.target.value)},null,8,["value","placeholder","onInput"]),n(e(ut),{value:m.value,placeholder:e(l).translate("i18n_agents_secret_value_placeholder"),style:{flex:"1"},onInput:S=>Oe(m.id,S.target.value)},null,8,["value","placeholder","onInput"]),n(B,{type:"text",danger:"",size:"small",onClick:S=>re(m.id)},{default:r(()=>[n(e(_e),{size:16})]),_:1},8,["onClick"])]),_:2},1024)]))),128))]),_:1}))]),g("div",dn,[n(B,{type:"primary",size:"large",loading:e(A),disabled:!b.value,style:{width:"100%",height:"48px","border-radius":"8px","font-weight":"600"},onClick:w},{default:r(()=>[n(e(ue),{style:{"font-size":"20px"}}),I(" "+k(e(l).translate("i18n_agents_create_button")),1)]),_:1},8,["loading","disabled"])])]),_:1})])])):e(_)?(d(),L("div",pn,[g("div",fn,[g("div",mn,[g("div",null,[n(e(ie),{level:3,style:{"margin-bottom":"8px","margin-top":"0"}},{default:r(()=>[I(k(e(l).translate("i18n_agents_details_run_prefix"))+" #"+k(e(_).runId.slice(0,8)),1)]),_:1}),n(e(Me),null,{default:r(()=>[n(e(xe),{color:He(K.value)},{default:r(()=>[I(k(Ee(K.value)),1)]),_:1},8,["color"]),n(e(U),{type:"secondary"},{default:r(()=>[I(k(e(l).translate("i18n_agents_details_started"))+" "+k(e($e)(new Date(e(_).startedAt),"dd/MM/yyyy HH:mm:ss")),1)]),_:1}),we.value?(d(),R(e(U),{key:0,type:"secondary"},{default:r(()=>[I(k(e(l).translate("i18n_agents_details_duration"))+" "+k(we.value),1)]),_:1})):z("",!0)]),_:1})]),["running","pending"].includes(K.value)?(d(),R(B,{key:0,danger:"",onClick:f[4]||(f[4]=m=>Ue(e(_).runId))},{default:r(()=>[n(e(yt)),I(" "+k(e(l).translate("i18n_agents_action_cancel")),1)]),_:1})):z("",!0)])]),g("div",_n,[n(e(Me),{direction:"vertical",size:"large",style:{width:"100%"}},{default:r(()=>[n(e(fe),{title:e(l).translate("i18n_agents_section_prompt"),size:"small",bordered:!1},{default:r(()=>[n(e(ce),{style:{"white-space":"pre-wrap","font-family":"monospace","margin-bottom":"0"}},{default:r(()=>[I(k(Be.value),1)]),_:1})]),_:1},8,["title"]),he.value?(d(),R(e(fe),{key:0,title:e(l).translate("i18n_agents_section_response"),size:"small",bordered:!1,style:{border:"1px solid #b7eb8f",background:"#f6ffed"}},{default:r(()=>[n(e(ce),{style:{"white-space":"pre-wrap","font-family":"monospace","margin-bottom":"0",color:"#333"}},{default:r(()=>[I(k(he.value),1)]),_:1})]),_:1},8,["title"])):z("",!0),g("div",null,[n(e(ie),{level:5,style:{"margin-bottom":"16px","margin-top":"0"}},{default:r(()=>[I(k(e(l).translate("i18n_agents_section_messages")),1)]),_:1}),be.value.length===0&&!ye.value?(d(),L("div",gn,k(e(l).translate("i18n_agents_empty_messages")),1)):(d(),R(e(bt),{key:1,mode:"alternate"},{default:r(()=>[(d(!0),L(ee,null,te(be.value,(m,S)=>(d(),R(e(Ae),{key:S,color:ve(m.status)},{default:r(()=>[g("div",vn,[g("div",yn,[n(e(xe),{color:ve(m.status),size:"small"},{default:r(()=>[I(k(e(l).translate("i18n_agents_step"))+" "+k(S+1),1)]),_:2},1032,["color"]),n(e(U),{type:"secondary",style:{"font-size":"11px"}},{default:r(()=>[I(k(e($e)(new Date(m.timestamp),"HH:mm:ss")),1)]),_:2},1024)]),m.screenshotBase64||m.message?(d(),L("div",hn,[m.screenshotBase64?(d(),L("div",bn,[n(e(dt),{src:Ye(m.screenshotBase64),alt:e(l).translate("i18n_agents_screenshot_alt")},null,8,["src","alt"])])):z("",!0),m.message?(d(),R(e(ce),{key:1,ellipsis:{rows:4,expandable:!0,symbol:e(l).translate("i18n_agents_see_more")},class:"step-message"},{default:r(()=>[I(k(m.message),1)]),_:2},1032,["ellipsis"])):z("",!0)])):z("",!0)])]),_:2},1032,["color"]))),128)),ye.value?(d(),R(e(Ae),{key:0,color:"blue"},{dot:r(()=>[n(e($t),{spin:"",style:{"font-size":"16px"}})]),default:r(()=>[n(e(U),{type:"secondary"},{default:r(()=>[I(k(e(l).translate("i18n_agents_processing")),1)]),_:1})]),_:1})):z("",!0)]),_:1}))])]),_:1})])])):(d(),L("div",wn,[n(e(pt),{description:e(l).translate("i18n_agents_select_run_hint")},null,8,["description"])]))]),_:1})]),_:1}))}}),Bn=ge(kn,[["__scopeId","data-v-c7f48bbe"]]);export{Bn as default};
//# sourceMappingURL=Agents-BGlMJ0tE.js.map
