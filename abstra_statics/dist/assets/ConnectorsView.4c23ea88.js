var ge=Object.defineProperty;var ye=(v,n,o)=>n in v?ge(v,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):v[n]=o;var $=(v,n,o)=>(ye(v,typeof n!="symbol"?n+"":n,o),o);import{_ as me}from"./DocsButton.vue_vue_type_script_setup_true_lang.3efd2188.js";import{_ as R}from"./AbstraButton.vue_vue_type_script_setup_true_lang.86a761e5.js";import{_ as fe}from"./AbstraLogo.vue_vue_type_script_setup_true_lang.d02ffa6d.js";import{L as Ce}from"./Logo.a483cebb.js";import{d as G,am as z,c as H,o as s,a5 as p,a7 as se,h as b,e6 as ce,e as w,r as B,M as F,a as g,b as l,f as i,u as t,de as k,d4 as ke,g as h,da as I,ed as Z,ea as we,_ as re,eb as _e,aR as x,A as W,d9 as q,ec as D,bP as be,bx as He,bw as te,bJ as U,cW as Ve,cy as ne,cE as ae,db as oe,cz as le,eG as Ae,ew as $e,ex as xe}from"./jwt-decode.esm.f18c394f.js";import{G as Ie}from"./PhDotsThreeVertical.vue.82ed05fc.js";import{h as N,l as Se}from"./router.9924fce0.js";import{G as Me}from"./PhWebhooksLogo.vue.3159b8c2.js";import{A as ue}from"./index.17c9890b.js";import{C as de}from"./Card.d8993609.js";import{U as ie}from"./UploadOutlined.17748ead.js";import{A as Te}from"./index.9d0d77b2.js";import"./constants.4f491067.js";import"./index.ee7c5f13.js";(function(){try{var v=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new Error().stack;n&&(v._sentryDebugIds=v._sentryDebugIds||{},v._sentryDebugIds[n]="5851936a-a8f5-4a5f-844f-043c6fcd404b",v._sentryDebugIdIdentifier="sentry-dbid-5851936a-a8f5-4a5f-844f-043c6fcd404b")}catch{}})();const je=["width","height","fill","transform"],Ne={key:0},Ze=w("path",{d:"M216.49,184.49l-32,32a12,12,0,0,1-17-17L179,188H48a12,12,0,0,1,0-24H179l-11.52-11.51a12,12,0,0,1,17-17l32,32A12,12,0,0,1,216.49,184.49Zm-145-64a12,12,0,0,0,17-17L77,92H208a12,12,0,0,0,0-24H77L88.49,56.49a12,12,0,0,0-17-17l-32,32a12,12,0,0,0,0,17Z"},null,-1),ze=[Ze],Ue={key:1},Ee=w("path",{d:"M208,80v96H48V80Z",opacity:"0.2"},null,-1),Le=w("path",{d:"M213.66,181.66l-32,32a8,8,0,0,1-11.32-11.32L188.69,184H48a8,8,0,0,1,0-16H188.69l-18.35-18.34a8,8,0,0,1,11.32-11.32l32,32A8,8,0,0,1,213.66,181.66Zm-139.32-64a8,8,0,0,0,11.32-11.32L67.31,88H208a8,8,0,0,0,0-16H67.31L85.66,53.66A8,8,0,0,0,74.34,42.34l-32,32a8,8,0,0,0,0,11.32Z"},null,-1),Ke=[Ee,Le],Pe={key:2},De=w("path",{d:"M42.34,85.66a8,8,0,0,1,0-11.32l32-32A8,8,0,0,1,88,48V72H208a8,8,0,0,1,0,16H88v24a8,8,0,0,1-13.66,5.66Zm171.32,84.68-32-32A8,8,0,0,0,168,144v24H48a8,8,0,0,0,0,16H168v24a8,8,0,0,0,13.66,5.66l32-32A8,8,0,0,0,213.66,170.34Z"},null,-1),Re=[De],qe={key:3},Be=w("path",{d:"M212.24,171.76a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48-8.48L193.51,182H48a6,6,0,0,1,0-12H193.51l-21.75-21.76a6,6,0,0,1,8.48-8.48ZM75.76,116.24a6,6,0,0,0,8.48-8.48L62.49,86H208a6,6,0,0,0,0-12H62.49L84.24,52.24a6,6,0,0,0-8.48-8.48l-32,32a6,6,0,0,0,0,8.48Z"},null,-1),Fe=[Be],Ge={key:4},Oe=w("path",{d:"M213.66,181.66l-32,32a8,8,0,0,1-11.32-11.32L188.69,184H48a8,8,0,0,1,0-16H188.69l-18.35-18.34a8,8,0,0,1,11.32-11.32l32,32A8,8,0,0,1,213.66,181.66Zm-139.32-64a8,8,0,0,0,11.32-11.32L67.31,88H208a8,8,0,0,0,0-16H67.31L85.66,53.66A8,8,0,0,0,74.34,42.34l-32,32a8,8,0,0,0,0,11.32Z"},null,-1),We=[Oe],Ye={key:5},Je=w("path",{d:"M210.83,173.17a4,4,0,0,1,0,5.66l-32,32a4,4,0,0,1-5.66-5.66L198.34,180H48a4,4,0,0,1,0-8H198.34l-25.17-25.17a4,4,0,0,1,5.66-5.66ZM77.17,114.83a4,4,0,0,0,5.66-5.66L57.66,84H208a4,4,0,0,0,0-8H57.66L82.83,50.83a4,4,0,0,0-5.66-5.66l-32,32a4,4,0,0,0,0,5.66Z"},null,-1),Qe=[Je],Xe={name:"PhArrowsLeftRight"},et=G({...Xe,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(v){const n=v,o=z("weight","regular"),e=z("size","1em"),r=z("color","currentColor"),m=z("mirrored",!1),y=H(()=>{var d;return(d=n.weight)!=null?d:o}),V=H(()=>{var d;return(d=n.size)!=null?d:e}),S=H(()=>{var d;return(d=n.color)!=null?d:r}),M=H(()=>n.mirrored!==void 0?n.mirrored?"scale(-1, 1)":void 0:m?"scale(-1, 1)":void 0);return(d,O)=>(s(),p("svg",ce({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:V.value,height:V.value,fill:S.value,transform:M.value},d.$attrs),[se(d.$slots,"default"),y.value==="bold"?(s(),p("g",Ne,ze)):y.value==="duotone"?(s(),p("g",Ue,Ke)):y.value==="fill"?(s(),p("g",Pe,Re)):y.value==="light"?(s(),p("g",qe,Fe)):y.value==="regular"?(s(),p("g",Ge,We)):y.value==="thin"?(s(),p("g",Ye,Qe)):b("",!0)],16,je))}}),tt=["width","height","fill","transform"],nt={key:0},at=w("path",{d:"M224,64H180V56a28,28,0,0,0-28-28H104A28,28,0,0,0,76,56v8H32A20,20,0,0,0,12,84V192a20,20,0,0,0,20,20H224a20,20,0,0,0,20-20V84A20,20,0,0,0,224,64ZM100,56a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4v8H100ZM220,88v32H196v-4a12,12,0,0,0-24,0v4H84v-4a12,12,0,0,0-24,0v4H36V88ZM36,188V144H60v4a12,12,0,0,0,24,0v-4h88v4a12,12,0,0,0,24,0v-4h24v44Z"},null,-1),ot=[at],lt={key:1},it=w("path",{d:"M232,120v72a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V120Z",opacity:"0.2"},null,-1),st=w("path",{d:"M224,64H176V56a24,24,0,0,0-24-24H104A24,24,0,0,0,80,56v8H32A16,16,0,0,0,16,80V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V80A16,16,0,0,0,224,64ZM96,56a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96ZM32,80H224v32H192v-8a8,8,0,0,0-16,0v8H80v-8a8,8,0,0,0-16,0v8H32ZM224,192H32V128H64v8a8,8,0,0,0,16,0v-8h96v8a8,8,0,0,0,16,0v-8h32v64Z"},null,-1),ct=[it,st],rt={key:2},ut=w("path",{d:"M224,64H176V56a24,24,0,0,0-24-24H104A24,24,0,0,0,80,56v8H32A16,16,0,0,0,16,80v28a4,4,0,0,0,4,4H64V96.27A8.17,8.17,0,0,1,71.47,88,8,8,0,0,1,80,96v16h96V96.27A8.17,8.17,0,0,1,183.47,88,8,8,0,0,1,192,96v16h44a4,4,0,0,0,4-4V80A16,16,0,0,0,224,64Zm-64,0H96V56a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Zm80,68v60a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V132a4,4,0,0,1,4-4H64v16a8,8,0,0,0,8.53,8A8.17,8.17,0,0,0,80,143.73V128h96v16a8,8,0,0,0,8.53,8,8.17,8.17,0,0,0,7.47-8.25V128h44A4,4,0,0,1,240,132Z"},null,-1),dt=[ut],pt={key:3},vt=w("path",{d:"M224,66H174V56a22,22,0,0,0-22-22H104A22,22,0,0,0,82,56V66H32A14,14,0,0,0,18,80V192a14,14,0,0,0,14,14H224a14,14,0,0,0,14-14V80A14,14,0,0,0,224,66ZM94,56a10,10,0,0,1,10-10h48a10,10,0,0,1,10,10V66H94ZM32,78H224a2,2,0,0,1,2,2v34H190V104a6,6,0,0,0-12,0v10H78V104a6,6,0,0,0-12,0v10H30V80A2,2,0,0,1,32,78ZM224,194H32a2,2,0,0,1-2-2V126H66v10a6,6,0,0,0,12,0V126H178v10a6,6,0,0,0,12,0V126h36v66A2,2,0,0,1,224,194Z"},null,-1),ht=[vt],gt={key:4},yt=w("path",{d:"M224,64H176V56a24,24,0,0,0-24-24H104A24,24,0,0,0,80,56v8H32A16,16,0,0,0,16,80V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V80A16,16,0,0,0,224,64ZM96,56a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96ZM224,80v32H192v-8a8,8,0,0,0-16,0v8H80v-8a8,8,0,0,0-16,0v8H32V80Zm0,112H32V128H64v8a8,8,0,0,0,16,0v-8h96v8a8,8,0,0,0,16,0v-8h32v64Z"},null,-1),mt=[yt],ft={key:5},Ct=w("path",{d:"M224,68H172V56a20,20,0,0,0-20-20H104A20,20,0,0,0,84,56V68H32A12,12,0,0,0,20,80V192a12,12,0,0,0,12,12H224a12,12,0,0,0,12-12V80A12,12,0,0,0,224,68ZM92,56a12,12,0,0,1,12-12h48a12,12,0,0,1,12,12V68H92ZM32,76H224a4,4,0,0,1,4,4v36H188V104a4,4,0,0,0-8,0v12H76V104a4,4,0,0,0-8,0v12H28V80A4,4,0,0,1,32,76ZM224,196H32a4,4,0,0,1-4-4V124H68v12a4,4,0,0,0,8,0V124H180v12a4,4,0,0,0,8,0V124h40v68A4,4,0,0,1,224,196Z"},null,-1),kt=[Ct],wt={name:"PhToolbox"},_t=G({...wt,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(v){const n=v,o=z("weight","regular"),e=z("size","1em"),r=z("color","currentColor"),m=z("mirrored",!1),y=H(()=>{var d;return(d=n.weight)!=null?d:o}),V=H(()=>{var d;return(d=n.size)!=null?d:e}),S=H(()=>{var d;return(d=n.color)!=null?d:r}),M=H(()=>n.mirrored!==void 0?n.mirrored?"scale(-1, 1)":void 0:m?"scale(-1, 1)":void 0);return(d,O)=>(s(),p("svg",ce({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:V.value,height:V.value,fill:S.value,transform:M.value},d.$attrs),[se(d.$slots,"default"),y.value==="bold"?(s(),p("g",nt,ot)):y.value==="duotone"?(s(),p("g",lt,ct)):y.value==="fill"?(s(),p("g",rt,dt)):y.value==="light"?(s(),p("g",pt,ht)):y.value==="regular"?(s(),p("g",gt,mt)):y.value==="thin"?(s(),p("g",ft,kt)):b("",!0)],16,tt))}});function bt(v){return new Promise((n,o)=>{const e=new FileReader;e.onload=()=>{const m=e.result.split(",")[1];n(m)},e.onerror=()=>o(e.error),e.readAsDataURL(v)})}class Ht{async generateEcdsaKey(n){const{projectId:o,connectionName:e,connectorType:r}=n;return N.post(`projects/${o}/connectors/${r}/connections/${e}/ecdsa-key`,{})}async createEcdsaConnection(n){const{projectId:o,connectionName:e,connectorType:r,publicKey:m,privateKey:y,accessId:V}=n;return N.post(`projects/${o}/connectors/${r}/connections/${e}/create-ecdsa`,{publicKey:m,privateKey:y,accessId:V})}async getLoginUrl(n,o,e,r){return N.get(`projects/${n}/connectors/${e}/connections/${o}/login-url`,{scopeIds:r.join(",")})}async listConnectors(n){return N.get(`projects/${n}/connectors`)}async createTokenConnection(n){const{projectId:o,connectionName:e,connectorType:r,tokens:m}=n,y={type:"tokens",tokens:m};return N.post(`projects/${o}/connectors/${r}/connections/${e}`,y)}async listConnections(n){return N.get(`projects/${n}/connections`)}async deleteConnection(n){const{projectId:o,connectionName:e,connectorType:r}=n;return N.delete(`projects/${o}/connectors/${r}/connections/${e}`)}async renameConnection(n){const{projectId:o,connectionName:e,connectorType:r,newConnectionName:m}=n;return N.patch(`projects/${o}/connectors/${r}/connections/${e}`,{newConnectionName:m})}}class Vt{constructor(n,o){$(this,"state");$(this,"hasChanges",H(()=>!!this.state.value.editingConnection&&this.state.value.editingConnection.name!==this.state.value.editingConnection.newName));$(this,"handleDeletionClick",async n=>{F.confirm({title:"Delete connection",content:"Are you sure you want to delete this connection?",onOk:()=>this.handleDeleteConnection(n)})});$(this,"handleDeleteConnection",async n=>{await this.api.deleteConnection({projectId:this.projectId,connectionName:n.name,connectorType:n.connectorType}),this.state.value.editingConnection=null,await this.refetchConnections()});$(this,"handleAddConnectionSubmit",async()=>{var r,m;const n=(r=this.state.value.addingConnection)==null?void 0:r.connector.metadata.key,o=(m=this.state.value.addingConnection)==null?void 0:m.selectedScopeIds;if(!n||!o)throw new Error("No connector or scope selected");const{url:e}=await this.getLoginUrl(n,this.getUniqueName(n),o);window.location.href=e});$(this,"handleAddTokenConnectionSubmit",async()=>{const n=this.state.value.addingConnection;if(!n)throw new Error("No connection is being added");const o=n.connector.metadata.key,e=this.getUniqueName(o);await this.api.createTokenConnection({projectId:this.projectId,connectionName:e,connectorType:o,tokens:n.tokenValues}),this.state.value.addingConnection=null,await this.refetchConnections()});$(this,"handleAddEcdsaConnectionSubmit",async(n,o)=>{const e=this.state.value.addingConnection;if(!e||!n||!o)throw new Error("No connection is being added, public key or project ID is missing");if(!e.connectionName||!e.ecdsaKeys)throw new Error("Keys or connection name not found");await this.api.createEcdsaConnection({projectId:this.projectId,connectionName:e.connectionName,connectorType:e.connector.metadata.key,publicKey:e.ecdsaKeys.publicKey,privateKey:e.ecdsaKeys.privateKey,accessId:o}),this.state.value.addingConnection=null,await this.refetchConnections()});$(this,"renameConnection",async()=>{const{editingConnection:n}=this.state.value;if(!n)throw new Error("No connection is being edited");const o=async()=>{await this.api.renameConnection({projectId:this.projectId,connectionName:n.name,connectorType:n.connectorType,newConnectionName:n.newName}),await this.refetchConnections(),this.state.value.editingConnection=null};F.confirm({title:"Rename connection",content:"Are you sure you want to rename this connection? This will break any existing references to the old name.",onOk:o})});$(this,"showAddConfirmationModal",n=>{this.state.value.addingConnection={selectedScopeIds:n.auth.type==="oauth2"?n.auth.scopes.map(o=>o.key):[],connector:n,tokenValues:{}}});$(this,"handleScopeToggle",(n,o)=>{o?this.state.value.addingConnection.selectedScopeIds.push(n):this.state.value.addingConnection.selectedScopeIds=this.state.value.addingConnection.selectedScopeIds.filter(e=>e!==n)});this.projectId=n,this.api=o,this.state=B({connectors:[],connections:[],addingConnection:null,editingConnection:null})}async fetchConnectors(){this.state.value.connectors=await this.api.listConnectors(this.projectId)}async fetchInitialState(){await this.fetchConnectors(),await this.refetchConnections()}async refetchConnections(){this.state.value.connections=(await this.api.listConnections(this.projectId)).map(n=>{const o=this.state.value.connectors.find(e=>e.metadata.key===n.connectionType);if(!o)throw new Error(`Unknown connector type: ${n.connectionType}`);return{name:n.name,connectorTitle:o.metadata.label,connectorType:n.connectionType,icon:o.metadata.logoUrl}})}handleEditConnectionClick(n){this.state.value.editingConnection={...n,newName:n.name}}async getLoginUrl(n,o,e){return this.api.getLoginUrl(this.projectId,o,n,e)}slugify(n){return n.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-")}getUniqueName(n){const o=this.state.value.connections.filter(e=>e.connectorType===n).length;return o===0?n:`${n}-${o}`}async generateEcdsaKey(){const n=this.state.value.addingConnection;if(!n)throw new Error("No connection is being added");const o=n.connector.metadata.key,e=this.getUniqueName(o),r=await this.api.generateEcdsaKey({projectId:this.projectId,connectionName:e,connectorType:o});return this.state.value.addingConnection&&(this.state.value.addingConnection.connectionName=e,this.state.value.addingConnection.ecdsaKeys=r),r.publicKey}}const At=G({__name:"ConnectorCard",props:{title:{},logoUrl:{},description:{},unavailable:{type:Boolean},connector:{}},setup(v){const n=v,o=H(()=>{var r;return((r=n.connector)==null?void 0:r.triggers)&&n.connector.triggers.length>0}),e=H(()=>{var r;return((r=n.connector)==null?void 0:r.actions)&&n.connector.actions.length>0});return(r,m)=>(s(),g(t(de),{class:we({"connector-card":!0,unavailable:r.unavailable})},{default:l(()=>[i(t(k),{style:{width:"100%"},vertical:"",gap:12},{default:l(()=>[i(t(k),{justify:"space-between"},{default:l(()=>[i(t(ue),{src:r.logoUrl,shape:"square",size:"large"},null,8,["src"]),i(t(k),{gap:8},{default:l(()=>[o.value?(s(),g(t(Me),{key:0,size:16})):b("",!0),e.value?(s(),g(t(_t),{key:1,size:16})):b("",!0),r.unavailable?(s(),g(t(ke),{key:2,style:{height:"fit-content"}},{default:l(()=>[h("Talk to us")]),_:1})):b("",!0)]),_:1})]),_:1}),i(t(k),{vertical:""},{default:l(()=>[i(t(I),{strong:""},{default:l(()=>[h(Z(r.title),1)]),_:1}),i(t(I),{type:"secondary"},{default:l(()=>[h(Z(r.description),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["class"]))}});const $t=re(At,[["__scopeId","data-v-f5866f99"]]),xt=v=>($e("data-v-54173699"),v=v(),xe(),v),It=xt(()=>w("div",{style:{"flex-grow":"1"}},null,-1)),St={class:"connectors-grid"},Mt={key:4,style:{"margin-top":"16px"}},Tt=G({__name:"ConnectorsView",setup(v){const o=_e().params.projectId,e=new Vt(o,new Ht),r=H(()=>{var c;return((c=e.state.value.addingConnection)==null?void 0:c.connector.auth.type)==="oauth2"?e.state.value.addingConnection.connector.auth.scopes:[]}),m=H(()=>{var c;return((c=e.state.value.addingConnection)==null?void 0:c.connector.auth.type)==="tokens"?e.state.value.addingConnection.connector.auth.tokens:[]}),y=H(()=>{var c;return((c=e.state.value.addingConnection)==null?void 0:c.connector.auth.type)==="ecdsa"?e.state.value.addingConnection.connector.auth.params:[]}),V=B(null),S=B(!1),M=B({});function d(){V.value=null,S.value=!1,M.value={}}async function O(){S.value=!0;try{const u=(await e.generateEcdsaKey()).replace("-----BEGIN PUBLIC KEY-----","").replace("-----END PUBLIC KEY-----","").replace(/\s/g,"");V.value=u}finally{S.value=!1}}async function Y(c,u){try{const f=await bt(c);M.value[u]={file:c,base64:f},e.state.value.addingConnection&&(e.state.value.addingConnection.tokenValues[u]=f)}catch(f){console.error("Error converting file to base64:",f)}return!1}function J(c){delete M.value[c],e.state.value.addingConnection&&(e.state.value.addingConnection.tokenValues[c]="")}function Q(c){const u=M.value[c];return u?[{uid:c,name:u.file.name,status:"done",size:u.file.size}]:[]}const pe=H(()=>[...e.state.value.connectors.filter(c=>c.auth.type==="oauth2"),...e.state.value.connectors.filter(c=>c.auth.type==="tokens"),...e.state.value.connectors.filter(c=>c.auth.type==="ecdsa"),...e.state.value.connectors.filter(c=>c.auth.type==="manual")]);e.fetchInitialState();function X(){var u,f,A;switch((u=e.state.value.addingConnection)==null?void 0:u.connector.auth.type){case"oauth2":return"Authorize";case"tokens":return"Create Connection";case"ecdsa":{if(!V.value)return"OK";const a=((f=e.state.value.addingConnection)==null?void 0:f.connector.auth.params)||[],C=((A=e.state.value.addingConnection)==null?void 0:A.tokenValues)||{};return a.every(j=>C[j.key]&&C[j.key].trim().length>0)?"Create Connection":"Create Connection (Required fields missing)"}default:return"OK"}}async function ve(){var u,f,A;switch((u=e.state.value.addingConnection)==null?void 0:u.connector.auth.type){case"oauth2":return e.handleAddConnectionSubmit();case"tokens":return e.handleAddTokenConnectionSubmit();case"ecdsa":{const a=((f=e.state.value.addingConnection)==null?void 0:f.tokenValues)||{};let C="";((A=e.state.value.addingConnection)==null?void 0:A.connector.metadata.key)==="starkbank"&&(C=a.projectId||"");const T=await e.handleAddEcdsaConnectionSubmit(V.value,C);return d(),T}}}function ee(c){var f,A;const u=[];return c.key&&u.push({required:!0,message:`${c.label||c.key} is required`}),(f=c.input)!=null&&f.minSize&&u.push({min:c.input.minSize,message:`Minimum length is ${c.input.minSize}`}),(A=c.input)!=null&&A.maxSize&&u.push({max:c.input.maxSize,message:`Maximum length is ${c.input.maxSize}`}),u}function he(c){c.auth.type==="manual"?Se.showNewMessage(Ae.translate("i18n_connectors_ask_for_access",null,c.metadata.label)):e.showAddConfirmationModal(c)}return(c,u)=>{var f,A;return s(),p(x,null,[i(t(Te),{direction:"vertical",style:{width:"100%","margin-bottom":"30px"}},{default:l(()=>[i(t(k),{align:"center",justify:"space-between"},{default:l(()=>[i(t(W),null,{default:l(()=>[h("Connectors")]),_:1})]),_:1}),i(t(q),null,{default:l(()=>[h(" Add and manage external integrations to your project. "),i(me)]),_:1}),t(e).state.value.connections.length?(s(),g(t(k),{key:0,vertical:""},{default:l(()=>[i(t(W),{level:2},{default:l(()=>[h("Installed")]),_:1}),i(t(k),{vertical:"",gap:10},{default:l(()=>[(s(!0),p(x,null,D(t(e).state.value.connections,a=>(s(),g(t(de),{key:a.name},{default:l(()=>[i(t(k),{align:"center",gap:20},{default:l(()=>[i(t(ue),{src:a.icon,height:"40px",shape:"square"},null,8,["src"]),i(t(I),{strong:""},{default:l(()=>[h(Z(a.connectorTitle),1)]),_:2},1024),It,i(t(I),{content:a.name,copyable:"",code:""},null,8,["content"]),i(t(be),null,{overlay:l(()=>[i(t(He),null,{default:l(()=>[i(t(te),{onClick:C=>t(e).handleEditConnectionClick(a)},{default:l(()=>[h(" Rename ")]),_:2},1032,["onClick"]),i(t(te),{danger:"",onClick:C=>t(e).handleDeletionClick(a)},{default:l(()=>[h(" Delete ")]),_:2},1032,["onClick"])]),_:2},1024)]),default:l(()=>[i(t(Ie))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):b("",!0),i(t(k),{vertical:""},{default:l(()=>[t(e).state.value.connections.length?(s(),g(t(W),{key:0,level:2},{default:l(()=>[h("Available")]),_:1})):b("",!0),w("div",St,[(s(!0),p(x,null,D(pe.value,a=>(s(),g($t,{key:a.metadata.key,title:a.metadata.label,"logo-url":a.metadata.logoUrl,description:a.metadata.description,unavailable:a.auth.type==="manual",connector:a,onClick:C=>he(a)},null,8,["title","logo-url","description","unavailable","connector","onClick"]))),128))])]),_:1})]),_:1}),i(t(F),{open:!!t(e).state.value.editingConnection,title:`${(f=t(e).state.value.editingConnection)==null?void 0:f.connectorTitle} Connection`,onCancel:u[2]||(u[2]=a=>t(e).state.value.editingConnection=null)},{footer:l(()=>[i(t(k),{justify:"end"},{default:l(()=>[i(R,{disabled:!t(e).hasChanges.value,onClick:u[1]||(u[1]=a=>t(e).renameConnection())},{default:l(()=>[h(" Save ")]),_:1},8,["disabled"])]),_:1})]),default:l(()=>[t(e).state.value.editingConnection?(s(),g(t(U),{key:0,value:t(e).state.value.editingConnection.newName,"onUpdate:value":u[0]||(u[0]=a=>t(e).state.value.editingConnection.newName=a)},null,8,["value"])):b("",!0)]),_:1},8,["open","title"]),i(t(F),{open:!!t(e).state.value.addingConnection,title:`Add ${(A=t(e).state.value.addingConnection)==null?void 0:A.connector.metadata.label} Connection`,"ok-text":X(),"ok-button-props":{disabled:X().includes("Required")},"wrap-class-name":"full-modal",onCancel:u[3]||(u[3]=()=>{t(e).state.value.addingConnection=null,d()}),onOk:ve},{default:l(()=>[t(e).state.value.addingConnection?(s(),p(x,{key:0},[i(t(k),{justify:"center",align:"center",gap:20,style:{"margin-bottom":"24px",padding:"20px 0"}},{default:l(()=>[i(fe,{"hide-text":"",size:"large"}),i(t(et),{size:24}),i(Ce,{"image-url":t(e).state.value.addingConnection.connector.metadata.logoUrl,"brand-name":t(e).state.value.addingConnection.connector.metadata.label,size:"medium","hide-text":""},null,8,["image-url","brand-name"])]),_:1}),t(e).state.value.addingConnection.connector.auth.type==="oauth2"?(s(),p(x,{key:0},[i(t(q),null,{default:l(()=>[h(" Please select the scopes you want to authorize for this connection. You can change these later by deleting and re-adding the connection. ")]),_:1}),i(t(k),{vertical:"",gap:"10",style:{margin:"30px 0px"}},{default:l(()=>[(s(!0),p(x,null,D(r.value,a=>(s(),g(t(k),{key:a.key,justify:"space-between",align:"center"},{default:l(()=>[i(t(k),{vertical:""},{default:l(()=>[i(t(I),null,{default:l(()=>[h(Z(a.description),1)]),_:2},1024),i(t(I),{type:"secondary"},{default:l(()=>[h(Z(a.key),1)]),_:2},1024)]),_:2},1024),i(t(Ve),{checked:t(e).state.value.addingConnection.selectedScopeIds.includes(a.key),onChange:C=>t(e).handleScopeToggle(a.key,C)},null,8,["checked","onChange"])]),_:2},1024))),128))]),_:1})],64)):b("",!0),t(e).state.value.addingConnection.connector.auth.type==="tokens"?(s(),p(x,{key:1},[i(t(q),null,{default:l(()=>[h(" Please provide the required tokens/credentials for this connection. ")]),_:1}),i(t(ne),{model:t(e).state.value.addingConnection.tokenValues,layout:"vertical"},{default:l(()=>[(s(!0),p(x,null,D(m.value,a=>(s(),g(t(le),{key:a.key,label:a.label,name:a.key,rules:ee(a)},{default:l(()=>{var C,T,j,E,L,K,P;return[((C=a.input)==null?void 0:C.type)==="small-string"?(s(),g(t(U),{key:0,value:t(e).state.value.addingConnection.tokenValues[a.key],"onUpdate:value":_=>t(e).state.value.addingConnection.tokenValues[a.key]=_,placeholder:a.description,maxlength:(T=a.input)==null?void 0:T.maxSize,minlength:(j=a.input)==null?void 0:j.minSize,type:"password"},null,8,["value","onUpdate:value","placeholder","maxlength","minlength"])):((E=a.input)==null?void 0:E.type)==="large-text"?(s(),g(t(ae),{key:1,value:t(e).state.value.addingConnection.tokenValues[a.key],"onUpdate:value":_=>t(e).state.value.addingConnection.tokenValues[a.key]=_,placeholder:a.description,maxlength:(L=a.input)==null?void 0:L.maxSize,minlength:(K=a.input)==null?void 0:K.minSize,rows:4},null,8,["value","onUpdate:value","placeholder","maxlength","minlength"])):((P=a.input)==null?void 0:P.type)==="file"?(s(),g(t(oe),{key:2,"file-list":Q(a.key),"before-upload":_=>Y(_,a.key),"max-count":1,"show-upload-list":!0,onRemove:()=>J(a.key)},{default:l(()=>[i(R,null,{default:l(()=>[i(t(ie)),h(" Upload File ")]),_:1})]),_:2},1032,["file-list","before-upload","onRemove"])):(s(),g(t(U),{key:3,value:t(e).state.value.addingConnection.tokenValues[a.key],"onUpdate:value":_=>t(e).state.value.addingConnection.tokenValues[a.key]=_,placeholder:a.description,type:"password"},null,8,["value","onUpdate:value","placeholder"])),a.description?(s(),g(t(I),{key:4,type:"secondary",style:{"font-size":"12px"}},{default:l(()=>[h(Z(a.description),1)]),_:2},1024)):b("",!0)]}),_:2},1032,["label","name","rules"]))),128))]),_:1},8,["model"])],64)):b("",!0),t(e).state.value.addingConnection.connector.auth.type==="ecdsa"?(s(),p(x,{key:2},[V.value?(s(),g(t(k),{key:1,vertical:"",gap:"16"},{default:l(()=>[i(t(I),{strong:""},{default:l(()=>[h("Chaves geradas! Agora siga os pr\xF3ximos passos:")]),_:1}),i(t(I),{strong:""},{default:l(()=>[h("1. Copie sua chave p\xFAblica:")]),_:1}),i(t(U),{value:V.value,readonly:"",copyable:"",code:""},null,8,["value"]),i(t(ne),{model:t(e).state.value.addingConnection.tokenValues,layout:"vertical"},{default:l(()=>[(s(!0),p(x,null,D(y.value,a=>(s(),g(t(le),{key:a.key,label:a.label,name:a.key,rules:ee(a)},{default:l(()=>{var C,T,j,E,L,K,P;return[((C=a.input)==null?void 0:C.type)==="small-string"?(s(),g(t(U),{key:0,value:t(e).state.value.addingConnection.tokenValues[a.key],"onUpdate:value":_=>t(e).state.value.addingConnection.tokenValues[a.key]=_,placeholder:a.description,maxlength:(T=a.input)==null?void 0:T.maxSize,minlength:(j=a.input)==null?void 0:j.minSize},null,8,["value","onUpdate:value","placeholder","maxlength","minlength"])):((E=a.input)==null?void 0:E.type)==="large-text"?(s(),g(t(ae),{key:1,value:t(e).state.value.addingConnection.tokenValues[a.key],"onUpdate:value":_=>t(e).state.value.addingConnection.tokenValues[a.key]=_,placeholder:a.description,maxlength:(L=a.input)==null?void 0:L.maxSize,minlength:(K=a.input)==null?void 0:K.minSize,rows:4},null,8,["value","onUpdate:value","placeholder","maxlength","minlength"])):((P=a.input)==null?void 0:P.type)==="file"?(s(),g(t(oe),{key:2,"file-list":Q(a.key),"before-upload":_=>Y(_,a.key),"max-count":1,"show-upload-list":!0,onRemove:()=>J(a.key)},{default:l(()=>[i(R,null,{default:l(()=>[i(t(ie)),h(" Upload File ")]),_:1})]),_:2},1032,["file-list","before-upload","onRemove"])):(s(),g(t(U),{key:3,value:t(e).state.value.addingConnection.tokenValues[a.key],"onUpdate:value":_=>t(e).state.value.addingConnection.tokenValues[a.key]=_,placeholder:a.description},null,8,["value","onUpdate:value","placeholder"])),a.instructions?(s(),p("div",Mt,[i(t(I),{type:"secondary",style:{"white-space":"pre-line","font-size":"14px"}},{default:l(()=>[h(Z(a.instructions),1)]),_:2},1024)])):b("",!0),a.description&&!a.instructions?(s(),g(t(I),{key:5,type:"secondary",style:{"font-size":"12px","margin-top":"8px"}},{default:l(()=>[h(Z(a.description),1)]),_:2},1024)):b("",!0)]}),_:2},1032,["label","name","rules"]))),128))]),_:1},8,["model"])]),_:1})):(s(),p(x,{key:0},[i(t(q),null,{default:l(()=>[h(" Primeiro vamos gerar um par de chaves ECDSA para estabelecer a conex\xE3o segura. ")]),_:1}),i(t(k),{vertical:"",gap:"16"},{default:l(()=>[i(R,{loading:S.value,onClick:O},{default:l(()=>[h(" Gerar chaves ECDSA ")]),_:1},8,["loading"])]),_:1})],64))],64)):b("",!0)],64)):b("",!0)]),_:1},8,["open","title","ok-text","ok-button-props"])],64)}}});const Ot=re(Tt,[["__scopeId","data-v-54173699"]]);export{Ot as default};
//# sourceMappingURL=ConnectorsView.4c23ea88.js.map
