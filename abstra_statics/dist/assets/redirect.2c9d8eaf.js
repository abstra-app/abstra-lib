import{i as s}from"./url.c2a2f7ae.js";import"./index.cb4b8516.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r=new Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="102196c1-1a6a-4bc9-9e56-372256a702cc",e._sentryDebugIdIdentifier="sentry-dbid-102196c1-1a6a-4bc9-9e56-372256a702cc")}catch{}})();function c(e){return e.startsWith("/")?e.slice(1):e}function f(e,r,n={}){if(s(r)){const a=new URL(r),t=new URLSearchParams(n),i=new URLSearchParams(a.search),o=new URLSearchParams([...i,...t]);return a.search=o.toString(),{action:"REPLACE_LOCAL_HREF",newHref:a.toString()}}else{const a=r.replace(/\/$/,"");if(e==="player")return{action:"GOTO_FORM_PLAYER",path:c(a),queryParams:n};if(e==="editor")return{action:"GOTO_FORM_EDITOR",path:c(a),queryParams:n};if(e==="preview")return{action:"GOTO_FORM_PLAYER",path:c(a),queryParams:n};throw new Error(`Invalid routing ${e}`)}}async function w(e,r,n,a={}){const t=f(e,n,a);switch(t.action){case"REPLACE_LOCAL_HREF":window.location.href=t.newHref;break;case"GOTO_FORM_EDITOR":await r.push({name:"formEditor",params:{formPath:t.path},query:t.queryParams});break;case"GOTO_FORM_PLAYER":await r.push({name:e==="preview"?"formPreview":"formPlayer",params:{formPath:t.path},query:t.queryParams});break;default:throw new Error("Invalid routing")}}export{w as r};
//# sourceMappingURL=redirect.2c9d8eaf.js.map
