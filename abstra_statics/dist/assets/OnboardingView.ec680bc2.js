import{u as R}from"./userStore.1004ebc1.js";import{E as G,l as M}from"./router.ef7a08cf.js";import{d as T,c as U,o as i,ac as S,a as p,b as n,g as w,t as k,u as e,i as o,bY as F,h as x,f as l,_ as P,w as Y,bQ as I,cE as f,cD as D,T as z,aI as L,cW as B,ej as E,cU as C,aY as A,cA as j,bT as H,ec as Q,ei as W,r as $,al as J,e as V,Q as X}from"./jwt-decode.esm.4071145e.js";import{A as O}from"./index.c25fb6e2.js";import{_ as Z}from"./AbstraLogo.vue_vue_type_script_setup_true_lang.11067aac.js";import{S as K,A as ee}from"./index.705ce630.js";import"./index.fd17682d.js";import"./Logo.417950ea.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},u=new Error().stack;u&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[u]="8acc4b06-34df-4ae1-a165-c92aab14697b",s._sentryDebugIdIdentifier="sentry-dbid-8acc4b06-34df-4ae1-a165-c92aab14697b")}catch{}})();async function ae(s){const u=R(),b={email:s.basicInfo.email,name:s.basicInfo.name,work_email:s.basicInfo.workEmail,company_name:s.companyInfo.companyName,company_domain:s.companyInfo.companyDomain,team:s.companyInfo.team,other_team:s.companyInfo.otherTeam,role:s.companyInfo.role,python_experience:s.userDetails.pythonExperience,has_use_case:s.userDetails.hasUseCase,reported_use_cases:s.userDetails.reportedUseCases,other_use_cases:s.userDetails.otherUseCases,tools:s.userDetails.tools,source:s.sourceInfo.reportedSource,other_source:s.sourceInfo.otherSource,ref_url:document.referrer},t=await fetch(`${G.onboarding}/_hooks/onboarding-completed`,{method:"POST",headers:{"Content-Type":"application/json",token:u.jwt||""},body:JSON.stringify(b)});if(!t.ok)throw new Error(`Failed to submit onboarding data: ${t.statusText}`)}const oe={class:"form-actions"},le=T({__name:"OnboardingFormActions",props:{showBack:{type:Boolean,default:!1},isSubmit:{type:Boolean,default:!1},submitText:{default:void 0},loading:{type:Boolean,default:!1}},emits:["back"],setup(s){const u=s,b=U(()=>u.isSubmit?u.submitText||o.translate("i18n_onboardingformactions_complete"):o.translate("i18n_onboardingformactions_next"));return(t,g)=>(i(),S("div",oe,[t.showBack?(i(),p(e(F),{key:0,size:"large",onClick:g[0]||(g[0]=a=>t.$emit("back"))},{default:n(()=>[w(k(e(o).translate("i18n_onboardingformactions_back")),1)]),_:1})):x("",!0),l(e(F),{type:"primary",size:"large","html-type":"submit",loading:t.loading},{default:n(()=>[w(k(b.value),1)]),_:1},8,["loading"])]))}});const q=P(le,[["__scopeId","data-v-706fd497"]]),ne={key:1,class:"warning-text"},te=T({__name:"BasicUserInfo",props:{modelValue:{}},emits:["update:modelValue","next"],setup(s,{emit:u}){const b=s,{Title:t,Text:g}=z,a=U({get:()=>b.modelValue,set:r=>u("update:modelValue",r)}),y=M.getAuthor();y&&!a.value.email&&(a.value={...a.value,email:y.claims.email});const v=["gmail.com","yahoo.com","hotmail.com","outlook.com","icloud.com","protonmail.com","aol.com"],m=U(()=>!a.value.email||!a.value.email.includes("@")?"":a.value.email.split("@")[1]||""),_=U(()=>v.includes(m.value.toLowerCase())),h=U(()=>{if(!a.value.name)return o.translate("i18n_onboardingbasicuserinfo_workemail_placeholder");const r=a.value.name.replace(/[^a-zA-Z0-9]/g,"").toLowerCase();return r?`${r}@coolcompany.com`:o.translate("i18n_onboardingbasicuserinfo_workemail_placeholder")});Y(m,r=>{v.includes(r.toLowerCase())||(a.value={...a.value,workEmail:a.value.email})});const d=()=>{u("next")};return(r,c)=>(i(),p(e(D),{layout:"vertical",model:a.value,onFinish:d},{default:n(()=>[l(e(t),{level:3},{default:n(()=>[w(k(e(o).translate("i18n_onboardingbasicuserinfo_title")),1)]),_:1}),l(e(f),{label:e(o).translate("i18n_onboardingbasicuserinfo_name_label"),name:"name",rules:[{required:!0,message:e(o).translate("i18n_onboardingbasicuserinfo_name_required")}]},{default:n(()=>[l(e(I),{value:a.value.name,"onUpdate:value":c[0]||(c[0]=N=>a.value.name=N),placeholder:e(o).translate("i18n_onboardingbasicuserinfo_name_placeholder"),size:"large"},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),l(e(f),{label:e(o).translate("i18n_onboardingbasicuserinfo_email_label")},{default:n(()=>[l(e(I),{value:a.value.email,disabled:"",size:"large"},null,8,["value"])]),_:1},8,["label"]),_.value?(i(),p(e(f),{key:0,label:e(o).translate("i18n_onboardingbasicuserinfo_workemail_label"),name:"workEmail",rules:[{required:!1,type:"email",message:e(o).translate("i18n_onboardingbasicuserinfo_workemail_invalid")}]},{default:n(()=>[l(e(I),{value:a.value.workEmail,"onUpdate:value":c[1]||(c[1]=N=>a.value.workEmail=N),placeholder:h.value,size:"large"},null,8,["value","placeholder"])]),_:1},8,["label","rules"])):x("",!0),_.value?(i(),S("div",ne,[l(e(g),{type:"warning"},{default:n(()=>[w(k(e(o).translate("i18n_onboardingbasicuserinfo_warning")),1)]),_:1})])):x("",!0),l(q)]),_:1},8,["model"]))}});const re=P(te,[["__scopeId","data-v-07f3e15e"]]),se=["Finance","Operations","Product","Marketing","Sales","Cybersecurity","Customer Success","HR","Other"],ue=[{value:"I've never used Python before, but I'm excited to learn",label:"I've never used Python before, but I'm excited to learn"},{value:"I sometimes use ChatGPT to generate Python scripts",label:"I sometimes use ChatGPT to generate Python scripts"},{value:"I've written some Python here and there",label:"I've written some Python here and there"},{value:"I use Python regularly",label:"I use Python regularly"}],ie=["Enable other teammates to run my scripts","Design workflows with manual and automated steps","Schedule my scripts to run automatically","Integrate and connect the tools my team uses","Automate spreadsheet work","Use AI to parse documents","Build an automated workflow","Create automated reports","Other"],de=["Google","Linkedin","Github","Youtube","From a friend or coworker","Event or conference","Other"],ce=["Excel","Google Sheets","Salesforce","Slack"],me=T({__name:"CompanyInfo",props:{modelValue:{}},emits:["update:modelValue","next","back"],setup(s,{emit:u}){const b=s,t=U({get:()=>b.modelValue,set:v=>u("update:modelValue",v)}),g=se.map(v=>({label:v,value:v})),a=()=>{u("next")},y=()=>{u("back")};return(v,m)=>(i(),p(e(D),{layout:"vertical",model:t.value,onFinish:a},{default:n(()=>[l(e(f),{label:e(o).translate("i18n_onboardingcompanyinfo_company_label"),name:"companyName",rules:[{required:!0,message:e(o).translate("i18n_onboardingcompanyinfo_company_required")}]},{default:n(()=>[l(e(I),{value:t.value.companyName,"onUpdate:value":m[0]||(m[0]=_=>t.value.companyName=_),placeholder:e(o).translate("i18n_onboardingcompanyinfo_company_placeholder"),size:"large"},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),l(e(f),{label:e(o).translate("i18n_onboardingcompanyinfo_website_label"),name:"companyDomain"},{default:n(()=>[l(e(I),{value:t.value.companyDomain,"onUpdate:value":m[1]||(m[1]=_=>t.value.companyDomain=_),placeholder:e(o).translate("i18n_onboardingcompanyinfo_website_placeholder"),size:"large"},null,8,["value","placeholder"])]),_:1},8,["label"]),l(e(f),{label:e(o).translate("i18n_onboardingcompanyinfo_team_label"),name:"team",rules:[{required:!0,message:e(o).translate("i18n_onboardingcompanyinfo_team_required")}]},{default:n(()=>[l(e(L),{value:t.value.team,"onUpdate:value":m[2]||(m[2]=_=>t.value.team=_),placeholder:e(o).translate("i18n_onboardingcompanyinfo_team_placeholder"),size:"large",options:e(g)},null,8,["value","placeholder","options"])]),_:1},8,["label","rules"]),t.value.team==="Other"?(i(),p(e(f),{key:0,label:e(o).translate("i18n_onboardingcompanyinfo_otherteam_label"),name:"otherTeam",rules:[{required:!0,message:e(o).translate("i18n_onboardingcompanyinfo_otherteam_required")}]},{default:n(()=>[l(e(I),{value:t.value.otherTeam,"onUpdate:value":m[3]||(m[3]=_=>t.value.otherTeam=_),placeholder:e(o).translate("i18n_onboardingcompanyinfo_otherteam_placeholder"),size:"large"},null,8,["value","placeholder"])]),_:1},8,["label","rules"])):x("",!0),l(e(f),{label:e(o).translate("i18n_onboardingcompanyinfo_role_label"),name:"role",rules:[{required:!0,message:e(o).translate("i18n_onboardingcompanyinfo_role_required")}]},{default:n(()=>[l(e(I),{value:t.value.role,"onUpdate:value":m[4]||(m[4]=_=>t.value.role=_),placeholder:e(o).translate("i18n_onboardingcompanyinfo_role_placeholder"),size:"large"},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),l(q,{"show-back":"",onBack:y})]),_:1},8,["model"]))}}),_e=T({__name:"SourceInfo",props:{modelValue:{},loading:{type:Boolean}},emits:["update:modelValue","submit","back"],setup(s,{emit:u}){const b=s,{Title:t}=z,{TextArea:g}=I,a=U({get:()=>b.modelValue,set:_=>u("update:modelValue",_)}),y=de,v=()=>{u("submit")},m=()=>{u("back")};return(_,h)=>(i(),p(e(D),{layout:"vertical",model:a.value,onFinish:v},{default:n(()=>[l(e(t),{level:3},{default:n(()=>[w(k(e(o).translate("i18n_onboardingsourceinfo_title")),1)]),_:1}),l(e(f),{label:e(o).translate("i18n_onboardingsourceinfo_source_label"),name:"reportedSource"},{default:n(()=>[l(e(B),{value:a.value.reportedSource,"onUpdate:value":h[0]||(h[0]=d=>a.value.reportedSource=d),size:"large"},{default:n(()=>[l(e(O),{direction:"vertical"},{default:n(()=>[(i(!0),S(A,null,E(e(y),d=>(i(),p(e(C),{key:d,value:d},{default:n(()=>[w(k(d),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),a.value.reportedSource==="Other"?(i(),p(e(f),{key:0,label:e(o).translate("i18n_onboardingsourceinfo_other_label"),name:"otherSource",rules:[{required:!0,message:e(o).translate("i18n_onboardingsourceinfo_other_required")}]},{default:n(()=>[l(e(g),{value:a.value.otherSource,"onUpdate:value":h[1]||(h[1]=d=>a.value.otherSource=d),rows:3,placeholder:e(o).translate("i18n_onboardingsourceinfo_other_placeholder")},null,8,["value","placeholder"])]),_:1},8,["label","rules"])):x("",!0),l(q,{"show-back":"","is-submit":"",loading:_.loading,onBack:m},null,8,["loading"])]),_:1},8,["model"]))}}),pe={key:0},be=T({__name:"UserDetails",props:{modelValue:{}},emits:["update:modelValue","next","back"],setup(s,{emit:u}){const b=s,{Title:t}=z,{TextArea:g}=I,a=U({get:()=>b.modelValue,set:d=>u("update:modelValue",d)}),y=ue,v=ie,m=ce,_=()=>{u("next")},h=()=>{u("back")};return(d,r)=>(i(),p(e(D),{layout:"vertical",model:a.value,onFinish:_},{default:n(()=>[l(e(t),{level:3},{default:n(()=>[w(k(e(o).translate("i18n_onboardinguserdetails_title")),1)]),_:1}),l(e(f),{label:e(o).translate("i18n_onboardinguserdetails_python_label"),name:"pythonExperience",rules:[{required:!0,message:e(o).translate("i18n_onboardinguserdetails_python_required")}]},{default:n(()=>[l(e(B),{value:a.value.pythonExperience,"onUpdate:value":r[0]||(r[0]=c=>a.value.pythonExperience=c),size:"large"},{default:n(()=>[l(e(O),{direction:"vertical"},{default:n(()=>[(i(!0),S(A,null,E(e(y),c=>(i(),p(e(C),{key:c.value,value:c.value},{default:n(()=>[w(k(c.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"])]),_:1},8,["label","rules"]),l(e(f),{label:e(o).translate("i18n_onboardinguserdetails_usecase_label"),name:"hasUseCase",rules:[{required:!0,message:e(o).translate("i18n_onboardinguserdetails_usecase_required")}]},{default:n(()=>[l(e(B),{value:a.value.hasUseCase,"onUpdate:value":r[1]||(r[1]=c=>a.value.hasUseCase=c),size:"large"},{default:n(()=>[l(e(O),{direction:"vertical"},{default:n(()=>[l(e(C),{value:!0},{default:n(()=>[w(k(e(o).translate("i18n_onboardinguserdetails_usecase_yes")),1)]),_:1}),l(e(C),{value:!1},{default:n(()=>[w(k(e(o).translate("i18n_onboardinguserdetails_usecase_no")),1)]),_:1})]),_:1})]),_:1},8,["value"])]),_:1},8,["label","rules"]),a.value.hasUseCase?(i(),S("div",pe,[l(e(f),{label:e(o).translate("i18n_onboardinguserdetails_mainusecase_label"),name:"reportedUseCases",rules:[{required:!0,message:e(o).translate("i18n_onboardinguserdetails_mainusecase_required"),type:"array",min:1}]},{default:n(()=>[l(e(j),{value:a.value.reportedUseCases,"onUpdate:value":r[2]||(r[2]=c=>a.value.reportedUseCases=c)},{default:n(()=>[l(e(O),{direction:"vertical"},{default:n(()=>[(i(!0),S(A,null,E(e(v),c=>(i(),p(e(H),{key:c,value:c},{default:n(()=>[w(k(c),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"])]),_:1},8,["label","rules"]),a.value.reportedUseCases.includes("Integrate and connect the tools my team uses")?(i(),p(e(f),{key:0,label:e(o).translate("i18n_onboardinguserdetails_tools_label")},{default:n(()=>[l(e(L),{value:a.value.tools,"onUpdate:value":r[3]||(r[3]=c=>a.value.tools=c),mode:"tags",placeholder:e(o).translate("i18n_onboardinguserdetails_tools_placeholder"),size:"large","default-value":e(m)},null,8,["value","placeholder","default-value"])]),_:1},8,["label"])):x("",!0),a.value.reportedUseCases.includes("Other")?(i(),p(e(f),{key:1,label:e(o).translate("i18n_onboardinguserdetails_other_label"),name:"otherUseCases",rules:[{required:!0,message:e(o).translate("i18n_onboardinguserdetails_other_required")}]},{default:n(()=>[l(e(g),{value:a.value.otherUseCases,"onUpdate:value":r[4]||(r[4]=c=>a.value.otherUseCases=c),rows:3,placeholder:e(o).translate("i18n_onboardinguserdetails_other_placeholder")},null,8,["value","placeholder"])]),_:1},8,["label","rules"])):x("",!0)])):x("",!0),l(q,{"show-back":"",onBack:h})]),_:1},8,["model"]))}}),ve={class:"onboarding-container"},fe={class:"onboarding-form"},ge={class:"header"},ye={class:"form-content"},he=T({__name:"OnboardingView",setup(s){const u=Q(),b=W(),t=$(0),g=[o.translate("i18n_onboardingview_step_basicinfo"),o.translate("i18n_onboardingview_step_company"),o.translate("i18n_onboardingview_step_details"),o.translate("i18n_onboardingview_step_source")],a=J({basicInfo:{name:"",email:"",workEmail:""},companyInfo:{companyName:"",companyDomain:"",team:"",otherTeam:"",role:""},userDetails:{pythonExperience:"",hasUseCase:!1,reportedUseCases:[],otherUseCases:"",tools:[]},sourceInfo:{reportedSource:"",otherSource:""}}),y=()=>{t.value<g.length-1&&t.value++},v=()=>{t.value>0&&t.value--},m=$(!1),_=async()=>{m.value=!0;try{await ae(a)}catch(r){X(r,{extra:{step:"submitOnboarding",formData:a}});return}finally{m.value=!1}const h=b.query.redirect,d=b.query["prev-redirect"];if(h){const r=h.split("/").at(-1);await u.push({path:r,query:{...b.query,redirect:d,"prev-redirect":void 0}});return}u.push({name:"home"})};return(h,d)=>(i(),S("div",ve,[V("div",fe,[V("div",ge,[l(Z,{"hide-text":"",size:"large"}),V("h2",null,k(e(o).translate("i18n_onboardingview_welcome")),1),l(e(ee),{current:t.value,size:"small",class:"step-indicator"},{default:n(()=>[(i(),S(A,null,E(g,r=>l(e(K),{key:r,title:r,disabled:!0},null,8,["title"])),64))]),_:1},8,["current"])]),V("div",ye,[t.value===0?(i(),p(re,{key:0,modelValue:a.basicInfo,"onUpdate:modelValue":d[0]||(d[0]=r=>a.basicInfo=r),onNext:y},null,8,["modelValue"])):t.value===1?(i(),p(me,{key:1,modelValue:a.companyInfo,"onUpdate:modelValue":d[1]||(d[1]=r=>a.companyInfo=r),onNext:y,onBack:v},null,8,["modelValue"])):t.value===2?(i(),p(be,{key:2,modelValue:a.userDetails,"onUpdate:modelValue":d[2]||(d[2]=r=>a.userDetails=r),onNext:y,onBack:v},null,8,["modelValue"])):t.value===3?(i(),p(_e,{key:3,modelValue:a.sourceInfo,"onUpdate:modelValue":d[3]||(d[3]=r=>a.sourceInfo=r),loading:m.value,onSubmit:_,onBack:v},null,8,["modelValue","loading"])):x("",!0)])])]))}});const Ce=P(he,[["__scopeId","data-v-80b342b1"]]);export{Ce as default};
//# sourceMappingURL=OnboardingView.ec680bc2.js.map
