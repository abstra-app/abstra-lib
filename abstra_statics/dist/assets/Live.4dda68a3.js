import{C as H}from"./CrudView.a3402d2f.js";import{a as P}from"./asyncComputed.4df2b74a.js";import{d as N,B as M,f as j,o as c,X as h,Z as D,R,eb as E,a as b,W as U,aq as F,u as t,aR as q,ee as G,c as $,w as a,b as o,aF as n,ec as Z,d7 as A,cK as W,bx as K,$ as z,ed as X,bP as I,dd as Y,d8 as S,d6 as B,d1 as J,f2 as O,d9 as Q,cD as t1}from"./vue-router.ef289645.js";import"./gateway.31ee8b29.js";import{g as e1,B as a1,a as o1}from"./datetime.7047a67b.js";import{P as s1}from"./project.5407eaa8.js";import"./tables.3ac3f8bb.js";import{C as l1,r as T}from"./router.1e88c2e4.js";import{u as r1}from"./polling.88c9b221.js";import{_ as i1,E as n1}from"./ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.ebdd0116.js";import{G as c1}from"./PhArrowCounterClockwise.vue.098f465c.js";import{F as V}from"./PhArrowSquareOut.vue.5b17ecc6.js";import{G as d1}from"./PhChats.vue.bf2f19c4.js";import{I as p1}from"./PhCopySimple.vue.81b11b33.js";import{A as u1}from"./index.557317cd.js";import"./DocsButton.vue_vue_type_script_setup_true_lang.78e69863.js";import"./BookOutlined.f4fd35ae.js";import"./url.7df1a15c.js";import"./PhDotsThreeVertical.vue.f5712fe1.js";import"./Badge.1dc70832.js";import"./index.10873433.js";import"./popupNotifcation.27f4ebc5.js";import"./record.3eee2e37.js";import"./string.f997184e.js";import"./LoadingOutlined.d2a60b1a.js";(function(){try{var _=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s=new Error().stack;s&&(_._sentryDebugIds=_._sentryDebugIds||{},_._sentryDebugIds[s]="c09605f8-a1b2-4424-9e02-e0a5138ebae6",_._sentryDebugIdIdentifier="sentry-dbid-c09605f8-a1b2-4424-9e02-e0a5138ebae6")}catch{}})();const m1=["width","height","fill","transform"],f1={key:0},h1=b("path",{d:"M227.85,46.89a20,20,0,0,0-18.74-18.74c-13.13-.77-46.65.42-74.48,28.24L131,60H74.36a19.83,19.83,0,0,0-14.14,5.86L25.87,100.19a20,20,0,0,0,11.35,33.95l37.14,5.18,42.32,42.32,5.19,37.18A19.88,19.88,0,0,0,135.34,235a20.13,20.13,0,0,0,6.37,1,19.9,19.9,0,0,0,14.1-5.87l34.34-34.35A19.85,19.85,0,0,0,196,181.64V125l3.6-3.59C227.43,93.54,228.62,60,227.85,46.89ZM76,84h31L75.75,115.28l-27.23-3.8ZM151.6,73.37A72.27,72.27,0,0,1,204,52a72.17,72.17,0,0,1-21.38,52.41L128,159,97,128ZM172,180l-27.49,27.49-3.8-27.23L172,149Zm-72,22c-8.71,11.85-26.19,26-60,26a12,12,0,0,1-12-12c0-33.84,14.12-51.32,26-60A12,12,0,1,1,68.18,175.3C62.3,179.63,55.51,187.8,53,203c15.21-2.51,23.37-9.3,27.7-15.18A12,12,0,1,1,100,202Z"},null,-1),g1=[h1],y1={key:1},_1=b("path",{d:"M184,120v61.65a8,8,0,0,1-2.34,5.65l-34.35,34.35a8,8,0,0,1-13.57-4.53L128,176ZM136,72H74.35a8,8,0,0,0-5.65,2.34L34.35,108.69a8,8,0,0,0,4.53,13.57L80,128ZM40,216c37.65,0,50.69-19.69,54.56-28.18L68.18,161.44C59.69,165.31,40,178.35,40,216Z",opacity:"0.2"},null,-1),v1=b("path",{d:"M223.85,47.12a16,16,0,0,0-15-15c-12.58-.75-44.73.4-71.41,27.07L132.69,64H74.36A15.91,15.91,0,0,0,63,68.68L28.7,103a16,16,0,0,0,9.07,27.16l38.47,5.37,44.21,44.21,5.37,38.49a15.94,15.94,0,0,0,10.78,12.92,16.11,16.11,0,0,0,5.1.83A15.91,15.91,0,0,0,153,227.3L187.32,193A15.91,15.91,0,0,0,192,181.64V123.31l4.77-4.77C223.45,91.86,224.6,59.71,223.85,47.12ZM74.36,80h42.33L77.16,119.52,40,114.34Zm74.41-9.45a76.65,76.65,0,0,1,59.11-22.47,76.46,76.46,0,0,1-22.42,59.16L128,164.68,91.32,128ZM176,181.64,141.67,216l-5.19-37.17L176,139.31Zm-74.16,9.5C97.34,201,82.29,224,40,224a8,8,0,0,1-8-8c0-42.29,23-57.34,32.86-61.85a8,8,0,0,1,6.64,14.56c-6.43,2.93-20.62,12.36-23.12,38.91,26.55-2.5,36-16.69,38.91-23.12a8,8,0,1,1,14.56,6.64Z"},null,-1),b1=[_1,v1],w1={key:2},k1=b("path",{d:"M101.85,191.14C97.34,201,82.29,224,40,224a8,8,0,0,1-8-8c0-42.29,23-57.34,32.86-61.85a8,8,0,0,1,6.64,14.56c-6.43,2.93-20.62,12.36-23.12,38.91,26.55-2.5,36-16.69,38.91-23.12a8,8,0,1,1,14.56,6.64Zm122-144a16,16,0,0,0-15-15c-12.58-.75-44.73.4-71.4,27.07h0L88,108.7A8,8,0,0,1,76.67,97.39l26.56-26.57A4,4,0,0,0,100.41,64H74.35A15.9,15.9,0,0,0,63,68.68L28.7,103a16,16,0,0,0,9.07,27.16l38.47,5.37,44.21,44.21,5.37,38.49a15.94,15.94,0,0,0,10.78,12.92,16.11,16.11,0,0,0,5.1.83A15.91,15.91,0,0,0,153,227.3L187.32,193A16,16,0,0,0,192,181.65V155.59a4,4,0,0,0-6.83-2.82l-26.57,26.56a8,8,0,0,1-11.71-.42,8.2,8.2,0,0,1,.6-11.1l49.27-49.27h0C223.45,91.86,224.6,59.71,223.85,47.12Z"},null,-1),L1=[k1],C1={key:3},A1=b("path",{d:"M221.86,47.24a14,14,0,0,0-13.11-13.1c-12.31-.73-43.77.39-69.88,26.5L133.52,66H74.35a13.9,13.9,0,0,0-9.89,4.1L30.11,104.44a14,14,0,0,0,7.94,23.76l39.13,5.46,45.16,45.16L127.8,218a14,14,0,0,0,23.76,7.92l34.35-34.35a13.91,13.91,0,0,0,4.1-9.89V122.48l5.35-5.35h0C221.46,91,222.59,59.56,221.86,47.24ZM38.11,115a2,2,0,0,1,.49-2L72.94,78.58A2,2,0,0,1,74.35,78h47.17L77.87,121.64l-38.14-5.32A1.93,1.93,0,0,1,38.11,115ZM178,181.65a2,2,0,0,1-.59,1.41L143.08,217.4a2,2,0,0,1-3.4-1.11l-5.32-38.16L178,134.48Zm8.87-73h0L128,167.51,88.49,128l58.87-58.88a78.47,78.47,0,0,1,60.69-23A2,2,0,0,1,209.88,48,78.47,78.47,0,0,1,186.88,108.64ZM100,190.31C95.68,199.84,81.13,222,40,222a6,6,0,0,1-6-6c0-41.13,22.16-55.68,31.69-60a6,6,0,1,1,5,10.92c-7,3.17-22.53,13.52-24.47,42.91,29.39-1.94,39.74-17.52,42.91-24.47a6,6,0,1,1,10.92,5Z"},null,-1),Z1=[A1],x1={key:4},j1=b("path",{d:"M223.85,47.12a16,16,0,0,0-15-15c-12.58-.75-44.73.4-71.41,27.07L132.69,64H74.36A15.91,15.91,0,0,0,63,68.68L28.7,103a16,16,0,0,0,9.07,27.16l38.47,5.37,44.21,44.21,5.37,38.49a15.94,15.94,0,0,0,10.78,12.92,16.11,16.11,0,0,0,5.1.83A15.91,15.91,0,0,0,153,227.3L187.32,193A15.91,15.91,0,0,0,192,181.64V123.31l4.77-4.77C223.45,91.86,224.6,59.71,223.85,47.12ZM74.36,80h42.33L77.16,119.52,40,114.34Zm74.41-9.45a76.65,76.65,0,0,1,59.11-22.47,76.46,76.46,0,0,1-22.42,59.16L128,164.68,91.32,128ZM176,181.64,141.67,216l-5.19-37.17L176,139.31Zm-74.16,9.5C97.34,201,82.29,224,40,224a8,8,0,0,1-8-8c0-42.29,23-57.34,32.86-61.85a8,8,0,0,1,6.64,14.56c-6.43,2.93-20.62,12.36-23.12,38.91,26.55-2.5,36-16.69,38.91-23.12a8,8,0,1,1,14.56,6.64Z"},null,-1),M1=[j1],$1={key:5},I1=b("path",{d:"M219.86,47.36a12,12,0,0,0-11.22-11.22c-12-.71-42.82.38-68.35,25.91L134.35,68h-60a11.9,11.9,0,0,0-8.48,3.52L31.52,105.85a12,12,0,0,0,6.81,20.37l39.79,5.55,46.11,46.11,5.55,39.81a12,12,0,0,0,20.37,6.79l34.34-34.35a11.9,11.9,0,0,0,3.52-8.48v-60l5.94-5.94C219.48,90.18,220.57,59.41,219.86,47.36ZM36.21,115.6a3.94,3.94,0,0,1,1-4.09L71.53,77.17A4,4,0,0,1,74.35,76h52L78.58,123.76,39.44,118.3A3.94,3.94,0,0,1,36.21,115.6ZM180,181.65a4,4,0,0,1-1.17,2.83l-34.35,34.34a4,4,0,0,1-6.79-2.25l-5.46-39.15L180,129.65Zm-52-11.31L85.66,128l60.28-60.29c23.24-23.24,51.25-24.23,62.22-23.58a3.93,3.93,0,0,1,3.71,3.71c.65,11-.35,39-23.58,62.22ZM98.21,189.48C94,198.66,80,220,40,220a4,4,0,0,1-4-4c0-40,21.34-54,30.52-58.21a4,4,0,0,1,3.32,7.28c-7.46,3.41-24.43,14.66-25.76,46.85,32.19-1.33,43.44-18.3,46.85-25.76a4,4,0,1,1,7.28,3.32Z"},null,-1),S1=[I1],N1={name:"PhRocketLaunch"},B1=N({...N1,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(_){const s=_,d=M("weight","regular"),g=M("size","1em"),y=M("color","currentColor"),w=M("mirrored",!1),m=j(()=>{var u;return(u=s.weight)!=null?u:d}),p=j(()=>{var u;return(u=s.size)!=null?u:g}),k=j(()=>{var u;return(u=s.color)!=null?u:y}),v=j(()=>s.mirrored!==void 0?s.mirrored?"scale(-1, 1)":void 0:w?"scale(-1, 1)":void 0);return(u,e)=>(c(),h("svg",E({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:p.value,height:p.value,fill:k.value,transform:v.value},u.$attrs),[D(u.$slots,"default"),m.value==="bold"?(c(),h("g",f1,g1)):m.value==="duotone"?(c(),h("g",y1,b1)):m.value==="fill"?(c(),h("g",w1,L1)):m.value==="light"?(c(),h("g",C1,Z1)):m.value==="regular"?(c(),h("g",x1,M1)):m.value==="thin"?(c(),h("g",$1,S1)):R("",!0)],16,m1))}});class L{constructor(s,d,g,y){this.major=s,this.minor=d,this.patch=g,this.dev=y}static from(s){if(s===null)return new L(0,0,0);const d=/^(\d+\.\d+\.\d+)(.dev(\d+))?$/,g=s.match(d);if(!g)return new L(0,0,0);const[,y,,w]=g,[m,p,k]=y.split(".").map(Number),v=w?Number(w):void 0;return isNaN(m)||isNaN(p)||isNaN(k)?new L(0,0,0):v&&isNaN(v)?new L(0,0,0):new L(m,p,k,v)}gte(s){return this.major!==s.major?this.major>=s.major:this.minor!==s.minor?this.minor>=s.minor:this.patch>=s.patch}get version(){const s=this.dev?`.dev${this.dev}`:"";return`${this.major}.${this.minor}.${this.patch}${s}`}}const T1=L.from("2.16.10"),V1={key:0,class:"flex-row"},P1={key:1,class:"flex-row"},R1={key:2,class:"flex-row"},z1=N({__name:"ExecutionsShort",props:{stageId:{},projectId:{}},emits:["select"],setup(_,{emit:s}){const d=_,g=new n1,{result:y,refetch:w,loading:m}=P(async()=>{const{executions:e}=await g.list({projectId:d.projectId,stageId:d.stageId,limit:6});return e}),p=e=>{s("select",e)},k=e=>e1(e,{weekday:void 0}),{startPolling:v,endPolling:u}=r1({task:w,interval:15e3});return U(()=>v()),F(()=>u()),(e,i)=>t(y)?(c(),h("div",V1,[(c(!0),h(q,null,G(t(y),r=>(c(),$(t(W),{key:r.id,title:k(r.createdAt),onClick:l=>p(r)},{content:a(()=>[o(t(A),null,{default:a(()=>[n("Status: "+Z(r.status),1)]),_:2},1024),o(t(A),null,{default:a(()=>[n("Duration: "+Z(r.duration_seconds),1)]),_:2},1024),o(t(A),null,{default:a(()=>[n("Build: "+Z(r.buildId.slice(0,6)),1)]),_:2},1024)]),default:a(()=>[o(i1,{status:r.status},null,8,["status"])]),_:2},1032,["title","onClick"]))),128))])):t(m)?(c(),h("div",P1,[o(t(K))])):(c(),h("div",R1,"None"))}});const H1=z(z1,[["__scopeId","data-v-9d19fd00"]]),D1={style:{"max-width":"250px",overflow:"hidden","text-overflow":"ellipsis ellipsis","white-space":"nowrap"}},E1={key:1},U1={class:"desc",style:{"margin-bottom":"80px",padding:"10px 30px","background-color":"#f6f6f6","border-radius":"5px"}},F1=N({__name:"Live",setup(_){const d=X().params.projectId,g=()=>{var i;const e=(i=p.value)==null?void 0:i.project.getUrl();e&&window.open(e,"_blank")},y=()=>{var C,f,x;const e=(f=(C=p.value)==null?void 0:C.buildSpec)==null?void 0:f.abstraVersion;if(!e)return;let i="threads";L.from(e).gte(T1)||(i="_player/"+i);const l=((x=p.value)==null?void 0:x.project.getUrl())+i;window.open(l,"_blank")},w=e=>{T.push({name:"logs",params:{projectId:d},query:{stageId:e.stageId,executionId:e.id}})},{loading:m,result:p}=P(async()=>{const i=(await a1.list(d)).find(C=>C.latest);if(!i)return null;const[r,l]=await Promise.all([o1.get(i.id),s1.get(d)]);return{buildSpec:r,project:l}}),k=e=>{var l;if(!("path"in e)||!e.path)return;const i=e.type==="form"?`/${e.path}`:`/_hooks/${e.path}`,r=(l=p.value)==null?void 0:l.project.getUrl(i);!r||(navigator.clipboard.writeText(r),t1.success("Copied URL to clipboard"))},v=e=>e.type=="form"?`/${e.path}`:e.type=="hook"?`/_hooks/${e.path}`:e.type=="job"?`${e.schedule}`:"",u=j(()=>{var r;const e=[{name:"Type",align:"left"},{name:"Title",align:"left"},{name:"Trigger",align:"left"},{name:"Last Runs"},{name:"",align:"right"}],i=(r=p.value)==null?void 0:r.buildSpec;return i?{columns:e,rows:i.runtimes.map(l=>({key:l.id,cells:[{type:"tag",text:l.type.charAt(0).toUpperCase()+l.type.slice(1),tagColor:"default"},{type:"slot",key:"title",payload:{runtime:l}},{type:"slot",key:"trigger",payload:{runtime:l}},{type:"slot",key:"last-runs",payload:{runtime:l}},{type:"actions",actions:[{icon:c1,label:"View script logs",onClick:()=>T.push({name:"logs",params:{projectId:d},query:{stageId:l.id}})},{icon:p1,label:"Copy URL",onClick:()=>k(l),hide:!["form","hook"].includes(l.type)}]}]}))}:{columns:e,rows:[]}});return(e,i)=>{var r,l,C;return t(m)||((C=(l=(r=t(p))==null?void 0:r.buildSpec)==null?void 0:l.runtimes.length)!=null?C:0)>0?(c(),$(H,{key:0,"empty-title":"","entity-name":"build",description:"Access and monitor your project's current scripts here.",table:u.value,loading:t(m),title:"Live View"},{description:a(()=>[o(t(Y),{gap:"middle",style:{"margin-top":"12px"}},{default:a(()=>[o(t(I),{onClick:g},{default:a(()=>[n(" Home"),o(t(V),{class:"icon",size:16})]),_:1}),o(t(I),{onClick:y},{default:a(()=>[n(" Threads"),o(t(V),{class:"icon",size:16})]),_:1})]),_:1})]),title:a(({payload:f})=>{var x;return[b("div",D1,[f.runtime.type!="form"?(c(),$(t(S),{key:0},{default:a(()=>[n(Z(f.runtime.title),1)]),_:2},1024)):f.runtime.type=="form"?(c(),$(t(B),{key:1,href:(x=t(p))==null?void 0:x.project.getUrl(f.runtime.path),target:"_blank"},{default:a(()=>[n(Z(f.runtime.title),1)]),_:2},1032,["href"])):R("",!0)])]}),"last-runs":a(({payload:f})=>[o(H1,{"stage-id":f.runtime.id,"project-id":t(d),onSelect:w},null,8,["stage-id","project-id"])]),trigger:a(({payload:f})=>[o(t(J),{color:"default",class:"ellipsis"},{default:a(()=>[n(Z(v(f.runtime)),1)]),_:2},1024)]),_:1},8,["table","loading"])):(c(),h("section",E1,[b("div",U1,[o(t(Q),{style:{display:"flex","align-items":"center",gap:"5px"},level:3},{default:a(()=>[o(t(O),{size:"30"}),n(" Getting started ")]),_:1}),o(t(A),null,{default:a(()=>[n(" Check out the documentation: "),o(t(B),{href:"https://docs.abstra.io",target:"_blank"},{default:a(()=>[n("Abstra Docs")]),_:1})]),_:1}),o(t(A),null,{default:a(()=>[n(" Install the editor using pip: "),o(t(S),{code:"",copyable:""},{default:a(()=>[n("pip install abstra")]),_:1})]),_:1}),o(t(A),null,{default:a(()=>[n(" Run the editor: "),o(t(S),{code:"",copyable:""},{default:a(()=>[n("abstra editor my-new-project")]),_:1})]),_:1}),o(t(A),null,{default:a(()=>[n(" Feeling lost? "),o(t(I),{target:"_blank",type:"default",size:"small",onClick:i[0]||(i[0]=()=>t(l1).showNewMessage("I need help getting started with Abstra"))},{default:a(()=>[o(t(d1))]),_:1})]),_:1})]),o(t(u1),{status:"info",title:"Waiting for your first deploy!","sub-title":"Your live stages will appear here once you make your first deploy"},{icon:a(()=>[o(t(B1),{size:"100",color:"#d14056"})]),_:1})]))}}});const gt=z(F1,[["__scopeId","data-v-90c62d52"]]);export{gt as default};
//# sourceMappingURL=Live.4dda68a3.js.map
