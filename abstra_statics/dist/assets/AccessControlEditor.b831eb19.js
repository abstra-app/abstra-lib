var ge=Object.defineProperty;var ye=(n,e,a)=>e in n?ge(n,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[e]=a;var D=(n,e,a)=>(ye(n,typeof e!="symbol"?e+"":e,a),a);import{C as he}from"./ContentLayout.dbb291db.js";import{l as X}from"./fetch.c1359dac.js";import{E as ee}from"./record.3c5b5204.js";import{d as _,a0 as j,D as w,b as m,ey as v,dq as ve,eA as P,eD as be,e as A,f as s,eK as we,c as y,w as o,u as t,bI as H,au as g,eH as Z,cF as _e,eJ as $,aG as U,ah as q,eI as Ce,aK as Pe,am as te,al as Y,r as R,cG as S,cD as B,eS as Ae,N as Ve,bB as ae,dn as K}from"./outputWidgets.e5f9ffc6.js";import{E as ke,a as Oe}from"./repository.a90667cf.js";import{a as x}from"./asyncComputed.2210bd1a.js";import{S as He}from"./SaveButton.68d4b3d6.js";import{I as Ue}from"./PhGlobe.vue.f391fe08.js";import"./envVars.e2ea4c38.js";import{l as z}from"./editor.aa2c4c1e.js";import{P as Re,A as G,T as Se}from"./TabPane.b891a337.js";import{A as Te}from"./index.bcb82cdd.js";import{i as De}from"./metadata.7f9a5698.js";import{a as je}from"./Base.d0d329e2.js";import{A as k}from"./index.2570caf9.js";import{A as se}from"./Text.e6c27a3b.js";import{A as oe}from"./index.f056a823.js";import{A as re}from"./index.aab66451.js";import{A as L}from"./Paragraph.1cbc8077.js";import{C as xe}from"./CrudView.542c4e4e.js";import{G as Ie}from"./PhPencil.vue.155bd1a7.js";import{A as I,F as le}from"./Form.b45c0335.js";import{A as ne}from"./index.c55ab1cd.js";import{A as Me}from"./Title.f988141d.js";import"./pubsub.75396d00.js";import"./router.dd631582.js";import"./popupNotifcation.9671db62.js";import"./UnsavedChangesHandler.98d89cb4.js";import"./ExclamationCircleOutlined.556f3eda.js";import"./Modal.e18542c5.js";import"./Link.1d347d21.js";import"./runnerData.f991c68f.js";import"./url.c11ddd9f.js";import"./index.4303c11c.js";import"./hasIn.54609e4a.js";import"./PhCheckCircle.vue.49339ca8.js";import"./PhKanban.vue.ba4b0cc6.js";import"./PhScroll.vue.608452d0.js";import"./PhWebhooksLogo.vue.86d4c921.js";import"./DocsButton.vue_vue_type_script_setup_true_lang.670b5628.js";import"./BookOutlined.7d01e6a5.js";import"./isNumeric.75337b1e.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[e]="f4b1e889-b461-44d2-9a01-5880cac80b85",n._sentryDebugIdIdentifier="sentry-dbid-f4b1e889-b461-44d2-9a01-5880cac80b85")}catch{}})();const Ze=["width","height","fill","transform"],$e={key:0},qe=A("path",{d:"M208,76H180V56A52,52,0,0,0,76,56V76H48A20,20,0,0,0,28,96V208a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V96A20,20,0,0,0,208,76ZM100,56a28,28,0,0,1,56,0V76H100ZM204,204H52V100H204Z"},null,-1),Ee=[qe],Ne={key:1},Be=A("path",{d:"M216,96V208a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V96a8,8,0,0,1,8-8H208A8,8,0,0,1,216,96Z",opacity:"0.2"},null,-1),ze=A("path",{d:"M208,80H176V56a48,48,0,0,0-96,0V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80ZM96,56a32,32,0,0,1,64,0V80H96ZM208,208H48V96H208V208Z"},null,-1),Ge=[Be,ze],Le={key:2},Fe=A("path",{d:"M208,80H176V56a48,48,0,0,0-96,0V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80ZM96,56a32,32,0,0,1,64,0V80H96Z"},null,-1),Je=[Fe],We={key:3},Ye=A("path",{d:"M208,82H174V56a46,46,0,0,0-92,0V82H48A14,14,0,0,0,34,96V208a14,14,0,0,0,14,14H208a14,14,0,0,0,14-14V96A14,14,0,0,0,208,82ZM94,56a34,34,0,0,1,68,0V82H94ZM210,208a2,2,0,0,1-2,2H48a2,2,0,0,1-2-2V96a2,2,0,0,1,2-2H208a2,2,0,0,1,2,2Z"},null,-1),Ke=[Ye],Qe={key:4},Xe=A("path",{d:"M208,80H176V56a48,48,0,0,0-96,0V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80ZM96,56a32,32,0,0,1,64,0V80H96ZM208,208H48V96H208V208Z"},null,-1),et=[Xe],tt={key:5},at=A("path",{d:"M208,84H172V56a44,44,0,0,0-88,0V84H48A12,12,0,0,0,36,96V208a12,12,0,0,0,12,12H208a12,12,0,0,0,12-12V96A12,12,0,0,0,208,84ZM92,56a36,36,0,0,1,72,0V84H92ZM212,208a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V96a4,4,0,0,1,4-4H208a4,4,0,0,1,4,4Z"},null,-1),st=[at],ot={name:"PhLockSimple"},rt=_({...ot,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,a=j("weight","regular"),p=j("size","1em"),i=j("color","currentColor"),d=j("mirrored",!1),r=w(()=>{var f;return(f=e.weight)!=null?f:a}),u=w(()=>{var f;return(f=e.size)!=null?f:p}),c=w(()=>{var f;return(f=e.color)!=null?f:i}),l=w(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:d?"scale(-1, 1)":void 0);return(f,h)=>(m(),v("svg",be({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:u.value,height:u.value,fill:c.value,transform:l.value},f.$attrs),[ve(f.$slots,"default"),r.value==="bold"?(m(),v("g",$e,Ee)):r.value==="duotone"?(m(),v("g",Ne,Ge)):r.value==="fill"?(m(),v("g",Le,Je)):r.value==="light"?(m(),v("g",We,Ke)):r.value==="regular"?(m(),v("g",Qe,et)):r.value==="thin"?(m(),v("g",tt,st)):P("",!0)],16,Ze))}});function Q(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},p=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(a).filter(function(i){return Object.getOwnPropertyDescriptor(a,i).enumerable}))),p.forEach(function(i){lt(n,i,a[i])})}return n}function lt(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}var F=function(e,a){var p=Q({},e,a.attrs);return s(we,Q({},p,{icon:Re}),null)};F.displayName="PlusOutlined";F.inheritAttrs=!1;const nt=F;class J{constructor(e){D(this,"record");this.record=ee.from(e)}get id(){return this.record.get("id")}get type(){return this.record.get("type")}get title(){return this.record.get("title")}get isPublic(){return this.record.get("is_public")}set isPublic(e){e&&this.record.set("required_roles",[]),this.record.set("is_public",e)}get requiredRoles(){return this.record.get("required_roles")}set requiredRoles(e){e.length!==0&&this.record.set("is_public",!1),this.record.set("required_roles",e)}makePublic(){this.isPublic=!0}makeProtected(){this.isPublic=!1,this.requiredRoles=[]}require(e){e.length!==0&&(this.isPublic=!1),this.requiredRoles=e}get visibility(){return this.isPublic?"public":"private"}hasChanges(){return this.record.hasChanges("is_public")||this.record.hasChangesDeep("required_roles")}get changes(){return this.record.changes}get initialState(){return this.record.initialState}toUpdateDTO(){return{id:this.id,is_public:this.isPublic,required_roles:this.requiredRoles}}commit(){this.record.commit()}static from(e){return new J(e)}}class it{constructor(e=X){this.fetch=e}async list(){return(await(await this.fetch("/_editor/api/access-control",{method:"GET",headers:{"Content-Type":"application/json"}})).json()).map(J.from)}async update(e){const a=e.reduce((i,d)=>(d.hasChanges()&&i.push({id:d.id,...d.changes}),i),[]);return await(await fetch("/_editor/api/access-control",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json()}}const M=class{constructor(e){D(this,"record");this.dto=e,this.record=ee.from(e)}static from(e){return new M(e)}toDTO(){return this.record.toDTO()}get id(){return this.record.get("id")}get projectId(){return this.record.get("projectId")}get emailPatterns(){return this.record.get("emailPatterns")}set emailPatterns(e){this.record.set("emailPatterns",e)}get hasChanges(){return this.record.hasChangesDeep("emailPatterns")}get strategy(){return this.dto.emailPatterns.length===0?"inviteOnly":this.dto.emailPatterns.length==1&&this.dto.emailPatterns[0]=="*"?"anyone":"patternOnly"}get changes(){return this.record.changes}allowAnyone(){this.record.set("emailPatterns",["*"])}allowOnlyInvited(){this.record.set("emailPatterns",[])}static validate(e){let a="";return e.startsWith("@")&&(a=e.slice(1)),e.startsWith("*@")&&(a=e.slice(2)),a.match(M.pattern)!==null}};let T=M;D(T,"pattern",/^[a-z0-9.-]+\.[a-z]{2,}$/);class ut{constructor(e=X){this.fetch=e}async update(e){const{emailPatterns:a}=e.changes;return a?(await this.fetch("/_editor/api/users/signup-policy",{method:"PUT",body:JSON.stringify({email_patterns:a}),headers:{"Content-Type":"application/json"}}),T.from({...e.toDTO(),emailPatterns:a})):e}async get(){const a=await(await this.fetch("/_editor/api/users/signup-policy")).json();return T.from({emailPatterns:a.email_patterns,id:a.id,projectId:a.project_id,createdAt:a.created_at})}}const ct=_({__name:"RoleSelector",props:{value:{},roleOptions:{},disabled:{type:Boolean}},emits:["update:value"],setup(n,{emit:e}){const a=n,p=()=>{var c,l;if(!((c=z.asyncComputed.result.value)!=null&&c.logged))return;const u=(l=z.asyncComputed.result.value)==null?void 0:l.info.projectId;window.open(`https://cloud.abstra.io/projects/${u}/access-control?selected-panel=roles`,"__roles")},i=u=>{e("update:value",u)},d=w(()=>a.disabled?"":"All users listed in the cloud"),r=_({props:{vnodes:{type:Object,required:!0}},render(){return this.vnodes}});return(u,c)=>(m(),y(t(q),{value:u.value,mode:"multiple",placeholder:d.value,disabled:u.disabled,"onUpdate:value":i},{dropdownRender:o(({menuNode:l})=>{var f;return[s(t(r),{vnodes:l},null,8,["vnodes"]),s(t(Te),{style:{margin:"4px 0"}}),(f=t(z).asyncComputed.result.value)!=null&&f.logged?(m(),y(t(H),{key:0,type:"default",style:{width:"100%"},onClick:p},{icon:o(()=>[s(t(nt))]),default:o(()=>[g(" Create a new role ")]),_:1})):P("",!0)]}),default:o(()=>[(m(!0),v(U,null,Z(u.roleOptions,l=>(m(),y(t(_e),{key:l,value:l},{default:o(()=>[g($(l),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder","disabled"]))}}),dt=_({__name:"AccessControlItem",props:{accessControl:{},roles:{}},emits:["update:access-control"],setup(n,{emit:e}){const a=n,p=w(()=>a.roles.map(r=>r.name)),i=r=>{r?a.accessControl.makePublic():a.accessControl.makeProtected(),e("update:access-control",a.accessControl)},d=r=>{a.accessControl.require(r),r.length!==0&&(a.accessControl.isPublic=!1),e("update:access-control",a.accessControl)};return(r,u)=>(m(),y(t(k),{justify:"space-between",align:"center",gap:"small"},{default:o(()=>[(m(),y(Ce(t(De)(r.accessControl.type)),{style:{"flex-shrink":"0",width:"22px",height:"18px"}})),s(t(je),{style:{width:"300px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"}},{default:o(()=>[s(t(Pe),{title:r.accessControl.title,placement:"left",open:r.accessControl.title.length>36?void 0:!1},{default:o(()=>[g($(r.accessControl.title),1)]),_:1},8,["title","open"])]),_:1}),s(t(k),{gap:"large",align:"center"},{default:o(()=>[s(ct,{disabled:r.accessControl.visibility==="public",style:{width:"320px"},value:r.accessControl.requiredRoles||[],"role-options":p.value||[],"onUpdate:value":u[0]||(u[0]=c=>d(c))},null,8,["disabled","value","role-options"]),s(t(te),{value:r.accessControl.visibility},{default:o(()=>[s(t(Y),{value:"public",onChange:u[1]||(u[1]=c=>i(!0))},{default:o(()=>[s(t(k),{align:"center",gap:"small"},{default:o(()=>[g(" Public "),s(t(Ue),{size:14})]),_:1})]),_:1}),s(t(Y),{value:"private",onChange:u[2]||(u[2]=c=>i(!1))},{default:o(()=>[s(t(k),{align:"center",gap:"small"},{default:o(()=>[g(" Private "),s(t(rt),{size:14})]),_:1})]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}))}}),pt=_({__name:"DanglingRolesAlert",props:{danglingRoles:{}},setup(n){return(e,a)=>(m(),y(t(re),{type:"warning","show-icon":"",closable:""},{description:o(()=>[s(t(se),null,{default:o(()=>[g("The following roles are not defined in the Cloud Console:")]),_:1}),(m(!0),v(U,null,Z(e.danglingRoles,p=>(m(),y(t(oe),{key:p,style:{margin:"2px"},color:"red"},{default:o(()=>[g($(p),1)]),_:2},1024))),128))]),_:1}))}}),mt=_({__name:"View",props:{accessControls:{},roles:{},loading:{type:Boolean}},emits:["update:access-controls","save"],setup(n,{emit:e}){const a=n,p=l=>{const f=a.accessControls.findIndex(h=>h.id===l.id);f!==-1&&(a.accessControls[f]=l,e("update:access-controls",[...a.accessControls]))},i=w(()=>{var l;return((l=a.accessControls)==null?void 0:l.filter(f=>f.hasChanges()))||[]}),d=w(()=>i.value.length>0),u={save:async()=>{e("save")},hasChanges:()=>d.value},c=w(()=>{const l=a.accessControls.flatMap(h=>h.requiredRoles)||[],f=a.roles.map(h=>h.name)||[];return(l==null?void 0:l.filter(h=>!f.includes(h)))||[]});return(l,f)=>(m(),v(U,null,[s(t(k),{justify:"flex-end"},{default:o(()=>[s(He,{model:u})]),_:1}),!l.loading&&c.value.length>0?(m(),y(pt,{key:0,"dangling-roles":c.value},null,8,["dangling-roles"])):P("",!0),s(t(k),{vertical:"",gap:"small",style:{"margin-top":"10px"}},{default:o(()=>[(m(!0),v(U,null,Z(l.accessControls,h=>(m(),y(t(k),{key:h.id},{default:o(()=>[s(dt,{"access-control":h,roles:l.roles,"onUpdate:accessControl":p},null,8,["access-control","roles"])]),_:2},1024))),128))]),_:1})],64))}}),ft={style:{padding:"30px"}},gt=_({__name:"View",props:{signupPolicy:{}},emits:["update:signup-policy","save"],setup(n,{emit:e}){const a=n,p=R(a.signupPolicy.strategy),i=R(a.signupPolicy.strategy==="patternOnly"?a.signupPolicy.emailPatterns:[]),d=R(a.signupPolicy.strategy==="patternOnly"?a.signupPolicy.emailPatterns.map(c=>({label:c})):[]),r=c=>{const l=c;if(i.value=l,l.length===0){u("inviteOnly");return}d.value=l.map(f=>({label:f})),a.signupPolicy.emailPatterns=c,e("update:signup-policy",a.signupPolicy)},u=c=>{p.value=c,c!=="patternOnly"&&(c==="anyone"&&a.signupPolicy.allowAnyone(),c==="inviteOnly"&&a.signupPolicy.allowOnlyInvited(),e("update:signup-policy",a.signupPolicy))};return(c,l)=>(m(),y(t(S),{direction:"vertical",style:{"padding-top":"8px"}},{default:o(()=>[s(t(L),null,{default:o(()=>[g(" Control which end users may sign-up to your app. ")]),_:1}),s(t(H),{disabled:!c.signupPolicy.hasChanges,type:"primary",onClick:l[0]||(l[0]=f=>e("save"))},{default:o(()=>[g(" Save changes ")]),_:1},8,["disabled"]),A("div",ft,[s(t(L),{strong:""},{default:o(()=>[g(" Allow self sign-up? ")]),_:1}),s(t(te),{value:p.value,"onUpdate:value":u},{default:o(()=>[s(t(S),{direction:"vertical"},{default:o(()=>[s(t(B),{value:"inviteOnly"},{default:o(()=>[g("No, users must be added by me.")]),_:1}),s(t(S),null,{default:o(()=>[s(t(B),{value:"patternOnly"},{default:o(()=>[g("Yes, but only for users in")]),_:1}),s(t(q),{mode:"tags",value:i.value,style:{"min-width":"250px"},placeholder:"@domain.com or sub.domain.com",disabled:p.value!=="patternOnly",options:d.value,"dropdown-match-select-width":"",open:!1,"onUpdate:value":r},null,8,["value","disabled","options"])]),_:1}),s(t(B),{value:"anyone"},{default:o(()=>[g("Yes, for anyone")]),_:1})]),_:1})]),_:1},8,["value"])])]),_:1}))}}),yt=_({__name:"View",props:{loading:{type:Boolean},users:{}},emits:["create","edit","delete"],setup(n,{emit:e}){const a=n,p=w(()=>{var i;return{columns:[{name:"Email"},{name:"Roles"},{name:"",align:"right"}],rows:(i=a.users.map(d=>({key:d.email,cells:[{type:"text",text:d.email},{type:"slot",key:"roles",payload:{roles:d.roles}},{type:"actions",actions:[{icon:Ie,label:"Edit",onClick:()=>e("edit",d)},{icon:Ae,label:"Delete",onClick:()=>e("delete",d)}]}]})))!=null?i:[]}});return(i,d)=>(m(),v(U,null,[s(xe,{"entity-name":"users",title:"",loading:i.loading,description:"List all user profiles to be used for testing purposes.","empty-title":"No users yet",table:p.value,"create-button-text":"Add users",onCreate:d[0]||(d[0]=r=>e("create",r))},{roles:o(({payload:r})=>[(m(!0),v(U,null,Z(r.roles,u=>(m(),y(t(oe),{key:u,bordered:""},{default:o(()=>[g($(u),1)]),_:2},1024))),128))]),_:1},8,["loading","table"]),s(t(re),{type:"info","show-icon":"",closable:""},{description:o(()=>[s(t(se),null,{default:o(()=>[g("Configurations made here only affect your local environment. To manage real users, please access the Cloud Console.")]),_:1})]),_:1})],64))}}),ht=_({__name:"NewUser",props:{roleOptions:{}},emits:["created","cancel"],setup(n,{emit:e}){const p=n.roleOptions.map(u=>({label:u.name,value:u.name})),i=Ve({email:"",roles:[]});function d(){e("cancel")}function r(){!i.email||e("created",i)}return(u,c)=>(m(),y(t(ne),{open:"",title:"New user",width:720,"body-style":{paddingBottom:"80px"},"footer-style":{textAlign:"right"},onClose:d},{extra:o(()=>[s(t(S),null,{default:o(()=>[s(t(H),{onClick:d},{default:o(()=>[g("Cancel")]),_:1}),s(t(H),{type:"primary",onClick:r},{default:o(()=>[g("Submit")]),_:1})]),_:1})]),default:o(()=>[s(t(le),{model:i,layout:"vertical"},{default:o(()=>[s(t(I),{key:"email",label:"Email",required:!0},{default:o(()=>[s(t(ae),{value:i.email,"onUpdate:value":c[0]||(c[0]=l=>i.email=l)},null,8,["value"])]),_:1}),s(t(I),{key:"role",label:"Role"},{default:o(()=>[s(t(q),{value:i.roles,"onUpdate:value":c[1]||(c[1]=l=>i.roles=l),mode:"multiple",options:t(p)},null,8,["value","options"])]),_:1})]),_:1},8,["model"])]),_:1}))}}),vt=_({__name:"UpdateUser",props:{roleOptions:{},value:{}},emits:["updated","cancel"],setup(n,{emit:e}){const a=n,p=a.roleOptions.map(r=>({label:r.name,value:r.name}));function i(){e("cancel")}function d(){e("updated",a.value)}return(r,u)=>(m(),y(t(ne),{open:"",title:"Update user",width:720,"body-style":{paddingBottom:"80px"},"footer-style":{textAlign:"right"},onClose:i},{extra:o(()=>[s(t(S),null,{default:o(()=>[s(t(H),{onClick:i},{default:o(()=>[g("Cancel")]),_:1}),s(t(H),{type:"primary",onClick:d},{default:o(()=>[g("Submit")]),_:1})]),_:1})]),default:o(()=>[s(t(le),{layout:"vertical"},{default:o(()=>[s(t(I),{key:"email",label:"Email"},{default:o(()=>[s(t(ae),{value:r.value.email,"onUpdate:value":u[0]||(u[0]=c=>r.value.email=c),disabled:""},null,8,["value"])]),_:1}),s(t(I),{key:"role",label:"Role"},{default:o(()=>[s(t(q),{value:r.value.roles,"onUpdate:value":u[1]||(u[1]=c=>r.value.roles=c),mode:"multiple",options:t(p)},null,8,["value","options"])]),_:1})]),_:1})]),_:1}))}}),ia=_({__name:"AccessControlEditor",setup(n){const e=()=>{a.value={type:"initial"}},a=R({type:"initial"}),p=R("enforcement"),i=new it,{result:d,refetch:r}=x(async()=>await i.list()),u=w(()=>{var C;return((C=d.value)==null?void 0:C.filter(b=>b.hasChanges()))||[]}),c=async()=>{await i.update(u.value),await r()},l=new ke,{result:f,loading:h,refetch:E}=x(()=>l.list()),ie=async C=>{await l.create(C),await E(),e()},ue=async C=>{await l.update(C.id,C.changes),await E(),e()},ce=async C=>{await l.delete(C.id),await E(),e()},W=new ut,{result:O,refetch:de}=x(()=>W.get()),pe=async()=>{!O.value||(await W.update(O.value),await de())},me=new Oe,{result:N,loading:fe}=x(()=>me.list(100,0));return(C,b)=>(m(),y(he,null,{default:o(()=>[s(t(Me),null,{default:o(()=>[g("Access Control")]),_:1}),s(t(L),null,{default:o(()=>[g(" Configure the security level of your application. You can define which pages are accessible to signed-in users, which pages are accessible to users with specific roles, and which pages are accessible to everyone. ")]),_:1}),s(t(Se),{"active-key":p.value,"onUpdate:activeKey":b[0]||(b[0]=V=>p.value=V)},{default:o(()=>[s(t(G),{key:"enforcement",tab:"Security Level"}),s(t(G),{key:"signup-policy",tab:"Sign-Up Policy"}),s(t(G),{key:"users",tab:"Test Users"})]),_:1},8,["active-key"]),p.value==="enforcement"&&t(d)?(m(),y(mt,{key:0,"access-controls":t(d),"onUpdate:accessControls":b[1]||(b[1]=V=>K(d)?d.value=V:null),roles:t(N)||[],loading:t(fe),onSave:c},null,8,["access-controls","roles","loading"])):P("",!0),p.value==="users"?(m(),y(t(yt),{key:1,loading:t(h),users:t(f)||[],onDelete:ce,onCreate:b[2]||(b[2]=()=>a.value={type:"user-create"}),onEdit:b[3]||(b[3]=V=>a.value={type:"user-update",user:V})},null,8,["loading","users"])):P("",!0),p.value==="signup-policy"&&t(O)?(m(),y(gt,{key:2,"signup-policy":t(O),"onUpdate:signupPolicy":b[4]||(b[4]=V=>K(O)?O.value=V:null),onSave:pe},null,8,["signup-policy"])):P("",!0),a.value.type==="user-create"?(m(),y(t(ht),{key:3,"role-options":t(N)||[],onCreated:ie,onCancel:e},null,8,["role-options"])):P("",!0),a.value.type==="user-update"?(m(),y(t(vt),{key:4,value:a.value.user,"role-options":t(N)||[],onUpdated:ue,onCancel:e},null,8,["value","role-options"])):P("",!0)]),_:1}))}});export{ia as default};
//# sourceMappingURL=AccessControlEditor.b831eb19.js.map
