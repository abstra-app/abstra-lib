import{u as he}from"./index.d0984c8b.js";import{f as a,eG as ae,d as C,r as _,H as U,b as v,c as y,w as o,ar as f,eD as ke,u as e,bV as P,cB as L,ev as D,bO as A,a$ as q,eE as oe,eF as re,e as $,v as ne,bP as z,eC as _e,cF as we,S as G,a as Se,ex as w,eA as Ae,eB as Te,aw as Pe,J as Oe,eK as xe,bv as Re}from"./outputWidgets.59990c05.js";import{B as Ee}from"./BaseLayout.ad4fb7f2.js";import{F as Ue,a as le,b as $e,c as Ce,d as Fe,r as Y}from"./FormRunner.3a6a1c15.js";import{R as De,L as Le,S as Be,a as Ie}from"./SourceCode.be19427c.js";import{a as Me}from"./asyncComputed.8e0b1df8.js";import{F as Ne}from"./forms.bbff1e5a.js";import{W as J}from"./workspaces.6c8661fb.js";import{l as K,N as qe}from"./NavbarControls.353f20ee.js";import{_ as je}from"./SaveButton.vue_vue_type_script_setup_true_lang.033f2866.js";import{S as Ve}from"./StageRunSelector.cf897796.js";import{A as We}from"./index.ede4f96d.js";import{A as F}from"./Title.27bf4527.js";import{T as B}from"./Typography.164def35.js";import{A as S}from"./FormItem.bb4c2077.js";import{F as j}from"./Form.7b255263.js";import{A as X}from"./index.3580635b.js";import{r as He,g as Qe,p as ze}from"./icons.57eb7190.js";import{A as se}from"./api.e8ed5f74.js";import{A as I}from"./index.13420729.js";import{M as Ge}from"./Modal.b7c1fc01.js";import{A as Ye}from"./Link.010d33fe.js";import{A as N,T as Z}from"./TabPane.6b63df71.js";import"./Card.8bb4a3f2.js";import{c as Je}from"./index.47de3f6a.js";import{A as Ke}from"./index.b93fafec.js";import{E as Xe}from"./ExpandOutlined.5b1a00c9.js";import"./pubsub.581fae3d.js";import"./url.2d4b3ba8.js";import"./Passwordless.3f793da0.js";import"./CircularLoading.cbb2fd0e.js";import"./PlayerNavbar.9f5fc460.js";import"./WidgetsFrame.2f980296.js";import"./Steps.978b4077.js";import"./uuid.041b9d5a.js";import"./jobs.67190ee9.js";import"./record.1da16a3c.js";import"./scripts.56be365f.js";import"./validations.55770b81.js";import"./string.00f3d21b.js";import"./toggleHighContrast.abc6f839.js";import"./runnerData.fd965c02.js";import"./popupNotifcation.85f238ea.js";import"./Text.f3fc4f5d.js";import"./Base.98c977f1.js";import"./DocsButton.vue_vue_type_script_setup_true_lang.f9e7d66c.js";import"./Paragraph.e3acb63e.js";import"./ant-design.6dd1fdf4.js";import"./index.e8d878bf.js";import"./index.f637ffbc.js";import"./index.da8cf945.js";import"./hasIn.a77b4ba2.js";import"./schema.acd96cc1.js";import"./index.cf4c23b9.js";(function(){try{var l=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r=new Error().stack;r&&(l._sentryDebugIds=l._sentryDebugIds||{},l._sentryDebugIds[r]="955308c2-5dec-4c26-95d0-7e1d0fb97c1a",l._sentryDebugIdIdentifier="sentry-dbid-955308c2-5dec-4c26-95d0-7e1d0fb97c1a")}catch{}})();var Ze={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888.3 757.4h-53.8c-4.2 0-7.7 3.5-7.7 7.7v61.8H197.1V197.1h629.8v61.8c0 4.2 3.5 7.7 7.7 7.7h53.8c4.2 0 7.7-3.4 7.7-7.7V158.7c0-17-13.7-30.7-30.7-30.7H158.7c-17 0-30.7 13.7-30.7 30.7v706.6c0 17 13.7 30.7 30.7 30.7h706.6c17 0 30.7-13.7 30.7-30.7V765.1c0-4.3-3.5-7.7-7.7-7.7zm18.6-251.7L765 393.7c-5.3-4.2-13-.4-13 6.3v76H438c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"export",theme:"outlined"};const et=Ze;var tt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"};const at=tt;function ee(l){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?Object(arguments[r]):{},p=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),p.forEach(function(n){ot(l,n,t[n])})}return l}function ot(l,r,t){return r in l?Object.defineProperty(l,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):l[r]=t,l}var V=function(r,t){var p=ee({},r,t.attrs);return a(ae,ee({},p,{icon:et}),null)};V.displayName="ExportOutlined";V.inheritAttrs=!1;const rt=V;function te(l){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?Object(arguments[r]):{},p=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),p.forEach(function(n){nt(l,n,t[n])})}return l}function nt(l,r,t){return r in l?Object.defineProperty(l,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):l[r]=t,l}var W=function(r,t){var p=te({},r,t.attrs);return a(ae,te({},p,{icon:at}),null)};W.displayName="LinkOutlined";W.inheritAttrs=!1;const lt=W,st=C({__name:"LaunchButton",props:{path:{}},setup(l){const r=l,t=_({state:"loading"}),p=U(()=>t.value.state!=="found"),n=U(()=>t.value.state==="loading"),s=U(()=>t.value.state==="found"?t.value.url:void 0),h=U(()=>{switch(t.value.state){case"error":return"Error";case"loading":return"Loading";case"not-deployed":return"No deploy";case"not-logged":return"Not logged";case"not-found":return"Page not found";case"found":return"Launch";default:throw new Error(`Invalid state ${t.value}`)}}),g=U(()=>{switch(t.value.state){case"error":return"Something went wrong when trying to get your deployed URL.";case"loading":return"Getting deployed url info...";case"not-deployed":return"You have no deployed url yet.";case"not-logged":return"You are not logged.";case"not-found":return"This page is not on the deployed application.";case"found":return"Launch the deployed version of this application in another tab.";default:throw new Error(`Invalid state ${t.value}`)}});async function k(m){const i=`https://${m}.abstra.app/_version`;return(await fetch(i)).ok}async function x(m){const i=`https://${m}.abstra.app/_pages/${r.path}`;return(await fetch(i)).ok}async function T(){if(!(await K.get()).logged){t.value={state:"not-logged"};return}const i=await K.getProjectInfo().catch(()=>null);if(!i){t.value={state:"error"};return}if(!await k(i.subdomain).catch(()=>null)){t.value={state:"not-deployed"};return}if(!await x(i.subdomain).catch(()=>null)){t.value={state:"not-found"};return}const R=`https://${i.subdomain}.abstra.app/${r.path}`;t.value={state:"found",url:R}}return T(),(m,i)=>(v(),y(e(L),{title:h.value},{content:o(()=>[f(ke(g.value),1)]),default:o(()=>[a(e(P),{href:s.value,target:"_blank",disabled:p.value,loading:n.value,size:"small",type:"link"},{icon:o(()=>[a(e(lt))]),default:o(()=>[f(" Open Deployed ")]),_:1},8,["href","disabled","loading"])]),_:1},8,["title"]))}}),ue=l=>(oe("data-v-a8ca44f6"),l=l(),re(),l),ut=ue(()=>$("i",null,"string",-1)),it=ue(()=>$("i",null,"string list",-1)),dt=C({__name:"FormNotificationSettings",props:{form:{}},setup(l){const t=_(l.form);return(p,n)=>(v(),D(q,null,[a(e(j),{layout:"vertical"},{default:o(()=>[a(e(F),{level:4,width:"100%",height:"30px",style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"0px"}},{default:o(()=>[f(" Thread waiting "),a(e(We),{checked:t.value.notificationTrigger.enabled,"onUpdate:checked":n[0]||(n[0]=s=>t.value.notificationTrigger.enabled=s)},{default:o(()=>[f(" Enabled ")]),_:1},8,["checked"])]),_:1}),a(e(B),{class:"description",style:{fontStyle:"italic",marginBottom:"20px"}},{default:o(()=>[f(" Send emails when the thread is waiting for the form to be filled ")]),_:1}),a(e(S),{label:"Variable name"},{default:o(()=>[a(e(A),{value:t.value.notificationTrigger.variable_name,"onUpdate:value":n[1]||(n[1]=s=>t.value.notificationTrigger.variable_name=s),disabled:!t.value.notificationTrigger.enabled,type:"text",placeholder:"variable_name"},null,8,["value","disabled"])]),_:1})]),_:1}),a(e(X),{type:"info"},{message:o(()=>[a(e(B),null,{default:o(()=>[f(" Notifications are sent to the emails specified in the thread variables set here. The variables should contain a "),ut,f(" or a "),it,f(". ")]),_:1})]),_:1}),a(e(X),{style:{"margin-top":"20px"}},{message:o(()=>[a(e(B),null,{default:o(()=>[f(" Notifications are a paid feature. Talk to your account manager to enable them. ")]),_:1})]),_:1})],64))}});const pt=ne(dt,[["__scopeId","data-v-a8ca44f6"]]),ct=C({__name:"FormSettings",props:{form:{}},setup(l){const t=_(l.form);return(p,n)=>(v(),y(e(j),{layout:"vertical"},{default:o(()=>[a(De,{runtime:t.value},null,8,["runtime"]),a(e(S),{label:"Form name"},{default:o(()=>[a(e(A),{value:t.value.title,"onUpdate:value":n[0]||(n[0]=s=>t.value.title=s),type:"text",onChange:n[1]||(n[1]=s=>{var h;return t.value.title=(h=s.target.value)!=null?h:""})},null,8,["value"])]),_:1}),a(e(F),{level:3},{default:o(()=>[f(" Texts ")]),_:1}),a(e(F),{level:4},{default:o(()=>[f(" Welcome Screen ")]),_:1}),a(e(S),{label:"Title"},{default:o(()=>[a(e(A),{value:t.value.welcomeTitle,"onUpdate:value":n[2]||(n[2]=s=>t.value.welcomeTitle=s),type:"text",placeholder:t.value.title,disabled:t.value.autoStart},null,8,["value","placeholder","disabled"])]),_:1}),a(e(S),{label:"Description"},{default:o(()=>[a(e(A),{value:t.value.startMessage,"onUpdate:value":n[3]||(n[3]=s=>t.value.startMessage=s),type:"text",disabled:t.value.autoStart},null,8,["value","disabled"])]),_:1}),a(e(S),{label:"Start button label"},{default:o(()=>[a(e(A),{value:t.value.startButtonText,"onUpdate:value":n[4]||(n[4]=s=>t.value.startButtonText=s),type:"text",placeholder:"Start",disabled:t.value.autoStart},null,8,["value","disabled"])]),_:1}),a(e(S),null,{default:o(()=>[a(e(z),{checked:t.value.autoStart,"onUpdate:checked":n[5]||(n[5]=s=>t.value.autoStart=s)},{default:o(()=>[f("Skip welcome screen")]),_:1},8,["checked"])]),_:1}),a(e(F),{level:4},{default:o(()=>[f(" End Screen ")]),_:1}),a(e(S),{label:"End text"},{default:o(()=>[a(e(A),{value:t.value.endMessage,"onUpdate:value":n[6]||(n[6]=s=>t.value.endMessage=s),type:"text",placeholder:"Thank you"},null,8,["value"])]),_:1}),a(e(S),{label:"Restart button label"},{default:o(()=>[a(e(A),{value:t.value.restartButtonText,"onUpdate:value":n[7]||(n[7]=s=>t.value.restartButtonText=s),placeholder:"Restart",type:"text",disabled:!t.value.allowRestart},null,8,["value","disabled"])]),_:1}),a(e(S),null,{default:o(()=>[a(e(z),{checked:t.value.allowRestart,"onUpdate:checked":n[8]||(n[8]=s=>t.value.allowRestart=s)},{default:o(()=>[f("Show restart button at the end")]),_:1},8,["checked"])]),_:1}),a(e(F),{level:4},{default:o(()=>[f(" Alert Messages ")]),_:1}),a(e(S),{label:"Error message"},{default:o(()=>[a(e(A),{value:t.value.errorMessage,"onUpdate:value":n[9]||(n[9]=s=>t.value.errorMessage=s),type:"text",placeholder:"Something went wrong"},null,8,["value"])]),_:1})]),_:1}))}}),mt=C({__name:"QueryParamsModal",props:{open:{type:Boolean},close:{type:Function},queryParams:{}},emits:["update:query-params"],setup(l,{emit:r}){const t=l,p=()=>{const s=Object.keys(t.queryParams).length+1;r("update:query-params",{...t.queryParams,[`param-${s}`]:"value"})},n=s=>{const h={...t.queryParams};delete h[s],r("update:query-params",h)};return(s,h)=>(v(),y(e(Ge),{open:s.open,onCancel:s.close},{footer:o(()=>[a(e(P),{type:"primary",onClick:s.close},{default:o(()=>[f("OK")]),_:1},8,["onClick"])]),default:o(()=>[a(e(I),{vertical:"",gap:"20"},{default:o(()=>[a(e(B),null,{default:o(()=>[f("Query params")]),_:1}),(v(!0),D(q,null,_e(Object.entries(s.queryParams),g=>(v(),y(e(S),{key:g[0]},{default:o(()=>[a(e(we),null,{default:o(()=>[a(e(A),{value:g[0],"onUpdate:value":k=>g[0]=k,type:"text",placeholder:"name"},null,8,["value","onUpdate:value"]),a(e(A),{value:g[1],"onUpdate:value":k=>g[1]=k,type:"text",placeholder:"value",disabled:g[0]===e(se)},null,8,["value","onUpdate:value","disabled"]),a(e(P),{danger:"",onClick:k=>n(g[0])},{default:o(()=>[f("remove")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128)),a(e(S),null,{default:o(()=>[a(e(P),{type:"dashed",style:{width:"100%"},onClick:p},{default:o(()=>[f(" Add Query Param ")]),_:1})]),_:1})]),_:1})]),_:1},8,["open","onCancel"]))}}),ft=l=>(oe("data-v-d2213ae3"),l=l(),re(),l),vt={key:0},gt={key:1},yt=ft(()=>$("br",null,null,-1)),bt={class:"form-preview-container"},ht=C({__name:"FormTester",props:{formRunnerData:{},formState:{},userEmail:{},disabled:{type:Boolean},queryParams:{},stageRunId:{}},emits:["start","reset","navigate","logout","auto-fill-clicked","action-clicked","update-widget-errors","update-widget-value","update:query-params"],setup(l,{emit:r}){var T;const t=l,p=_(!1),n=()=>{p.value=!0},s=()=>{p.value=!1},h=U(()=>{const m=x.value.query?`?${x.value.query}`:"";return`/${t.formRunnerData.path}${m}`}),g=_((T=G.get("dontShowReloadHelper"))!=null?T:!1),k=()=>{G.set("dontShowReloadHelper",!0),g.value=!0},x=U(()=>{const m=new URLSearchParams(t.queryParams).toString();return{subdomain:"[your-subdomain]",path:t.formRunnerData.path,query:m}});return(m,i)=>{const O=Se("icon");return v(),D(q,null,[a(e(j),{layout:"vertical"},{default:o(()=>[a(e(I),{gap:"small"},{default:o(()=>[m.formState.type&&e(Ue).includes(m.formState.type)?(v(),y(e(L),{key:0,placement:"bottom",visible:g.value?void 0:!0},{content:o(()=>[g.value?(v(),D("span",vt,"Reload form")):(v(),D("span",gt,[f(" You can reload the form here"),yt,a(e(Ye),{onClick:k},{default:o(()=>[f("Don't show this again")]),_:1})]))]),default:o(()=>[a(e(P),{disabled:m.disabled,onClick:i[0]||(i[0]=u=>r("reset"))},{default:o(()=>[a(O,{path:e(He),width:"20"},null,8,["path"])]),_:1},8,["disabled"])]),_:1},8,["visible"])):w("",!0),e(le).includes(m.formState.type)?(v(),y(e(L),{key:1,placement:"bottom"},{content:o(()=>[f("Stop form")]),default:o(()=>[a(e(P),{onClick:i[1]||(i[1]=u=>r("reset"))},{default:o(()=>[a(O,{path:e(Qe),width:"20"},null,8,["path"])]),_:1})]),_:1})):w("",!0),m.formState.type==="waiting"?(v(),y(e(L),{key:2,placement:"bottom"},{content:o(()=>[f("Start form")]),default:o(()=>[a(e(P),{disabled:m.disabled,onClick:i[2]||(i[2]=u=>r("start"))},{default:o(()=>[a(O,{path:e(ze),width:"20"},null,8,["path"])]),_:1},8,["disabled"])]),_:1})):w("",!0),a(e(A),{value:h.value,class:"url-preview",onClick:n},null,8,["value"])]),_:1}),$("div",bt,[a($e,{"is-preview":"","form-runner-data":m.formRunnerData,disabled:m.disabled,"form-state":m.formState,"user-email":m.userEmail,onUpdateWidgetErrors:i[3]||(i[3]=(u,R)=>r("update-widget-errors",u,R)),onUpdateWidgetValue:i[4]||(i[4]=(u,R)=>r("update-widget-value",u,R)),onActionClicked:i[5]||(i[5]=u=>r("action-clicked",u)),onNavigate:i[6]||(i[6]=u=>r("navigate",u)),onLogout:i[7]||(i[7]=u=>r("logout")),onAutofillClicked:i[8]||(i[8]=u=>r("auto-fill-clicked"))},null,8,["form-runner-data","disabled","form-state","user-email"])])]),_:1}),a(mt,{"query-params":m.queryParams,open:p.value,close:s,"onUpdate:queryParams":i[9]||(i[9]=u=>r("update:query-params",u))},null,8,["query-params","open"])],64)}}});const kt=ne(ht,[["__scopeId","data-v-d2213ae3"]]),_t={style:{width:"50%"}},wt={style:{width:"50%"}},Sa=C({__name:"FormEditor",setup(l){const r=Ae(),t=Te(),p=_(null),n=_(null),s=_(null),h=_(null),g=_(null),k=_({}),x=_("{}"),T=_("source-code"),m=_("preview"),i=(d,c)=>{var E;(E=p.value)==null||E.setHighlight(d,c)},O=()=>{var d,c;(d=p.value)==null||d.restartEditor(),(c=p.value)==null||c.startPreviewMode()};Pe(()=>g.value?k.value={...k.value,"stage-run-id":g.value}:null);const{result:u,loading:R,refetch:ie}=Me(async()=>{const[d,c,E]=await Promise.all([Ne.get(t.params.id),J.get(),J.readTestData()]),b=new Ce({formRunnerData:d.makeRunnerData(c),queryParams:k.value,userManager:he,logService:H,connectionManager:new Fe(d.id,!!g.value),onFormStart:O,onFormEnd:de,onRedirect:ge,onAuthUpdate:M=>h.value=M,onStateUpdate:M=>n.value=M,onStackTraceUpdate:i});d.updateInitialState("test_data",E),s.value=d.makeRunnerData(c);const Q=b.getState();return n.value=Q.formState,h.value=Q.passwordlessUser,xe({form:d,workspace:c,controller:b})}),de=()=>{var d;g.value=null,(d=p.value)==null||d.restartEditor()};function pe(){var d;(d=u.value)==null||d.controller.start()}function ce(){var d,c;(d=p.value)==null||d.restartEditor(),(c=u.value)==null||c.controller.reset()}const me=d=>{Y("editor",r,d.path)};function fe(){r.push({name:"home"})}const ve=d=>{!u.value||(u.value.form.file=d)},H=Le.create();function ge(d,c){Y("editor",r,d,c)}const ye=()=>{var d;r.push({name:"formPreview",query:t.query,params:{id:(d=u.value)==null?void 0:d.form.id}})},be=()=>{var c;const d=`/${(c=u.value)==null?void 0:c.form.path}?${se}=${g.value}`;window.open(d,"_blank")};return Oe(()=>t.params.id,()=>{ie()}),(d,c)=>(v(),y(Ee,null,{navbar:o(()=>[e(u)?(v(),y(e(Je),{key:0,title:e(u).form.title,style:{padding:"5px 25px"},onBack:fe},{extra:o(()=>[a(qe,{"docs-path":"forms/overview","show-v-s-code-button":"","show-save-button":!1,"editing-model":e(u).form},null,8,["editing-model"])]),_:1},8,["title"])):w("",!0)]),content:o(()=>[e(u)?(v(),y(e(I),{key:0,gap:"40",style:{width:"calc(100% - 80px)"}},{default:o(()=>{var E;return[$("div",_t,[a(e(Z),{"active-key":T.value,"onUpdate:activeKey":c[0]||(c[0]=b=>T.value=b)},{rightExtra:o(()=>[a(je,{model:e(u).form},null,8,["model"])]),default:o(()=>[a(e(N),{key:"source-code",tab:"Source code"}),a(e(N),{key:"settings",tab:"Settings"}),w("",!0)]),_:1},8,["active-key"]),T.value==="source-code"?(v(),y(Be,{key:0,ref_key:"code",ref:p,script:e(u).form,workspace:e(u).workspace,onUpdateFile:ve},null,8,["script","workspace"])):w("",!0),T.value==="settings"?(v(),y(ct,{key:1,form:e(u).form},null,8,["form"])):w("",!0),T.value==="notifications"?(v(),y(pt,{key:2,form:e(u).form},null,8,["form"])):w("",!0)]),$("div",wt,[a(e(Z),{"active-key":m.value,"onUpdate:activeKey":c[1]||(c[1]=b=>m.value=b)},{rightExtra:o(()=>[a(e(I),{gap:"8",align:"center"},{default:o(()=>{var b;return[n.value&&e(le).includes((b=n.value)==null?void 0:b.type)?(v(),y(e(Ke),{key:0,color:"green",style:{"margin-right":"20px"}},{default:o(()=>[f(" Running ")]),_:1})):w("",!0),a(st,{path:e(u).form.path},null,8,["path"]),g.value?(v(),y(e(P),{key:2,target:"_blank",onClick:be},{icon:o(()=>[a(e(rt))]),default:o(()=>[f(" Open ")]),_:1})):(v(),y(e(P),{key:1,target:"_blank",onClick:ye},{icon:o(()=>[a(e(Xe))]),default:o(()=>[f(" Preview ")]),_:1}))]}),_:1})]),default:o(()=>[a(e(N),{key:"preview",tab:"Preview"}),w("",!0)]),_:1},8,["active-key"]),e(R)||!s.value||!n.value?(v(),y(e(Re),{key:0})):m.value==="preview"?(v(),y(kt,{key:1,"query-params":k.value,"onUpdate:queryParams":c[2]||(c[2]=b=>k.value=b),"form-state":n.value,"form-runner-data":s.value,"user-email":(E=h.value)==null?void 0:E.claims.email,disabled:e(u).form.hasChanges(),"stage-run-id":g.value,onStart:pe,onReset:ce,onLogout:e(u).controller.logout,onActionClicked:e(u).controller.handleActionClick,onNavigate:me,onUpdateWidgetErrors:e(u).controller.updateWidgetFrontendErrors,onUpdateWidgetValue:e(u).controller.updateWidgetValue,onAutoFillClicked:e(u).controller.handleAutofillClick},null,8,["query-params","form-state","form-runner-data","user-email","disabled","stage-run-id","onLogout","onActionClicked","onUpdateWidgetErrors","onUpdateWidgetValue","onAutoFillClicked"])):m.value==="test-data"?(v(),y(Ve,{key:2,"stage-run-id":g.value,"onUpdate:stageRunId":c[3]||(c[3]=b=>g.value=b),data:x.value,"onUpdate:data":c[4]||(c[4]=b=>x.value=b),stage:e(u).form},null,8,["stage-run-id","data","stage"])):w("",!0)])]}),_:1})):w("",!0)]),footer:o(()=>[a(Ie,{runtime:"forms","log-service":e(H)},null,8,["log-service"])]),_:1}))}});export{Sa as default};
//# sourceMappingURL=FormEditor.8e9d3071.js.map
