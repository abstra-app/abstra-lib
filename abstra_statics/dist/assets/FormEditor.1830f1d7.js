import{B as _e}from"./BaseLayout.872fac06.js";import{F as ke,r as de,R as we}from"./FormRunner.cb246b22.js";import{R as Se,S as xe,a as Pe,L as Te}from"./SourceCode.6ffa4a36.js";import{f as a,eG as ce,d as F,r as w,H as O,b as p,c as g,w as r,ar as c,eD as Oe,u as e,bV as T,cB as j,bO as x,bP as re,ev as B,eC as Ae,cF as Re,a$ as K,G as $e,S as oe,J as pe,eA as me,a as Ce,ex as _,bv as Ee,eE as fe,eF as ve,e as D,v as ge,eB as Be,eK as Fe}from"./outputWidgets.74ac2ec4.js";import{a as ye}from"./asyncComputed.f88a4b94.js";import{F as Le}from"./forms.e8f9537b.js";import{W as J}from"./workspaces.2898fa49.js";import{l as ne,N as Ue}from"./NavbarControls.15eddc8e.js";import{_ as De}from"./SaveButton.vue_vue_type_script_setup_true_lang.95286835.js";import{A as k}from"./FormItem.bf6c91bc.js";import{A as U}from"./Title.e4bf994e.js";import{F as X}from"./Form.9d6d8c17.js";import{r as Ie,g as Me,p as Ne}from"./icons.f62d7c23.js";import{a as Q}from"./Base.bd01be9c.js";import{A as V}from"./index.ba7b32c9.js";import{M as qe}from"./Modal.fae7bce9.js";import{A as je}from"./Link.81322bd7.js";import{A as Qe}from"./index.aad122b0.js";import{A as le}from"./index.4627b22e.js";import{S as Ve}from"./StageRunSelector.9f43f118.js";import{A as W,T as se}from"./TabPane.ad00156c.js";import"./Card.0feb78fb.js";import{c as He}from"./index.f7c43892.js";import{A as ze}from"./index.08be46f9.js";import{E as Ge}from"./ExpandOutlined.1f831bc7.js";import"./url.c37f3fbe.js";import"./Passwordless.8ef63017.js";import"./index.baf3b153.js";import"./pubsub.6d093b2e.js";import"./CircularLoading.03b30240.js";import"./PlayerNavbar.e14cecaa.js";import"./ActionButton.77f0fe2c.js";import"./WidgetsFrame.3f0d0df1.js";import"./index.f9f6af39.js";import"./Paragraph.d67398fc.js";import"./Text.039f7ef4.js";import"./uuid.ef799a73.js";import"./jobs.0128b9a3.js";import"./record.a15934e9.js";import"./scripts.274c8d77.js";import"./validations.b55cc691.js";import"./string.ae0d3257.js";import"./toggleHighContrast.42a118d0.js";import"./runnerData.ae84c16f.js";import"./popupNotifcation.aec81c2d.js";import"./DocsButton.vue_vue_type_script_setup_true_lang.30b53c7c.js";import"./ant-design.ba20537e.js";import"./index.8324d637.js";import"./hasIn.88fbb4e5.js";import"./index.2a3cd704.js";import"./index.af32770e.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new Error().stack;n&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[n]="c1cd9f0a-ed0a-4b40-ad46-a16d19f4dfae",s._sentryDebugIdIdentifier="sentry-dbid-c1cd9f0a-ed0a-4b40-ad46-a16d19f4dfae")}catch{}})();var We={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888.3 757.4h-53.8c-4.2 0-7.7 3.5-7.7 7.7v61.8H197.1V197.1h629.8v61.8c0 4.2 3.5 7.7 7.7 7.7h53.8c4.2 0 7.7-3.4 7.7-7.7V158.7c0-17-13.7-30.7-30.7-30.7H158.7c-17 0-30.7 13.7-30.7 30.7v706.6c0 17 13.7 30.7 30.7 30.7h706.6c17 0 30.7-13.7 30.7-30.7V765.1c0-4.3-3.5-7.7-7.7-7.7zm18.6-251.7L765 393.7c-5.3-4.2-13-.4-13 6.3v76H438c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"export",theme:"outlined"};const Ye=We;var Je={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"};const Ke=Je;function ue(s){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?Object(arguments[n]):{},l=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),l.forEach(function(o){Xe(s,o,t[o])})}return s}function Xe(s,n,t){return n in s?Object.defineProperty(s,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[n]=t,s}var Z=function(n,t){var l=ue({},n,t.attrs);return a(ce,ue({},l,{icon:Ye}),null)};Z.displayName="ExportOutlined";Z.inheritAttrs=!1;const Ze=Z;function ie(s){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?Object(arguments[n]):{},l=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),l.forEach(function(o){et(s,o,t[o])})}return s}function et(s,n,t){return n in s?Object.defineProperty(s,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[n]=t,s}var ee=function(n,t){var l=ie({},n,t.attrs);return a(ce,ie({},l,{icon:Ke}),null)};ee.displayName="LinkOutlined";ee.inheritAttrs=!1;const tt=ee,at=F({__name:"LaunchButton",props:{path:{}},setup(s){const n=s,t=w({state:"loading"}),l=O(()=>t.value.state!=="found"),o=O(()=>t.value.state==="loading"),u=O(()=>t.value.state==="found"?t.value.url:void 0),h=O(()=>{switch(t.value.state){case"error":return"Error";case"loading":return"Loading";case"not-deployed":return"No deploy";case"not-logged":return"Not logged";case"not-found":return"Page not found";case"found":return"Launch";default:throw new Error(`Invalid state ${t.value}`)}}),$=O(()=>{switch(t.value.state){case"error":return"Something went wrong when trying to get your deployed URL.";case"loading":return"Getting deployed url info...";case"not-deployed":return"You have no deployed url yet.";case"not-logged":return"You are not logged.";case"not-found":return"This page is not on the deployed application.";case"found":return"Launch the deployed version of this application in another tab.";default:throw new Error(`Invalid state ${t.value}`)}});async function L(P){const y=`https://${P}.abstra.app/_version`;return(await fetch(y)).ok}async function d(P){const y=`https://${P}.abstra.app/_pages/${n.path}`;return(await fetch(y)).ok}async function A(){if(!(await ne.get()).logged){t.value={state:"not-logged"};return}const y=await ne.getProjectInfo().catch(()=>null);if(!y){t.value={state:"error"};return}if(!await L(y.subdomain).catch(()=>null)){t.value={state:"not-deployed"};return}if(!await d(y.subdomain).catch(()=>null)){t.value={state:"not-found"};return}const C=`https://${y.subdomain}.abstra.app/${n.path}`;t.value={state:"found",url:C}}return A(),(P,y)=>(p(),g(e(j),{title:h.value},{content:r(()=>[c(Oe($.value),1)]),default:r(()=>[a(e(T),{href:u.value,target:"_blank",disabled:l.value,loading:o.value,size:"small",type:"link"},{icon:r(()=>[a(e(tt))]),default:r(()=>[c(" Open Deployed ")]),_:1},8,["href","disabled","loading"])]),_:1},8,["title"]))}}),rt=F({__name:"FormSettings",props:{form:{}},setup(s){const t=w(s.form);return(l,o)=>(p(),g(e(X),{layout:"vertical"},{default:r(()=>[a(Se,{runtime:t.value},null,8,["runtime"]),a(e(k),{label:"Form name"},{default:r(()=>[a(e(x),{value:t.value.title,"onUpdate:value":o[0]||(o[0]=u=>t.value.title=u),type:"text",onChange:o[1]||(o[1]=u=>{var h;return t.value.title=(h=u.target.value)!=null?h:""})},null,8,["value"])]),_:1}),a(e(U),{level:3},{default:r(()=>[c(" Texts ")]),_:1}),a(e(U),{level:4},{default:r(()=>[c(" Welcome Screen ")]),_:1}),a(e(k),{label:"Title"},{default:r(()=>[a(e(x),{value:t.value.welcomeTitle,"onUpdate:value":o[2]||(o[2]=u=>t.value.welcomeTitle=u),type:"text",placeholder:t.value.title,disabled:t.value.autoStart},null,8,["value","placeholder","disabled"])]),_:1}),a(e(k),{label:"Description"},{default:r(()=>[a(e(x),{value:t.value.startMessage,"onUpdate:value":o[3]||(o[3]=u=>t.value.startMessage=u),type:"text",disabled:t.value.autoStart},null,8,["value","disabled"])]),_:1}),a(e(k),{label:"Start button label"},{default:r(()=>[a(e(x),{value:t.value.startButtonText,"onUpdate:value":o[4]||(o[4]=u=>t.value.startButtonText=u),type:"text",placeholder:"Start",disabled:t.value.autoStart},null,8,["value","disabled"])]),_:1}),a(e(k),null,{default:r(()=>[a(e(re),{checked:t.value.autoStart,"onUpdate:checked":o[5]||(o[5]=u=>t.value.autoStart=u)},{default:r(()=>[c("Skip welcome screen")]),_:1},8,["checked"])]),_:1}),a(e(U),{level:4},{default:r(()=>[c(" End Screen ")]),_:1}),a(e(k),{label:"End text"},{default:r(()=>[a(e(x),{value:t.value.endMessage,"onUpdate:value":o[6]||(o[6]=u=>t.value.endMessage=u),type:"text",placeholder:"Thank you"},null,8,["value"])]),_:1}),a(e(k),{label:"Restart button label"},{default:r(()=>[a(e(x),{value:t.value.restartButtonText,"onUpdate:value":o[7]||(o[7]=u=>t.value.restartButtonText=u),placeholder:"Restart",type:"text",disabled:!t.value.allowRestart},null,8,["value","disabled"])]),_:1}),a(e(k),null,{default:r(()=>[a(e(re),{checked:t.value.allowRestart,"onUpdate:checked":o[8]||(o[8]=u=>t.value.allowRestart=u)},{default:r(()=>[c("Show restart button at the end")]),_:1},8,["checked"])]),_:1}),a(e(U),{level:4},{default:r(()=>[c(" Alert Messages ")]),_:1}),a(e(k),{label:"Error message"},{default:r(()=>[a(e(x),{value:t.value.errorMessage,"onUpdate:value":o[9]||(o[9]=u=>t.value.errorMessage=u),type:"text",placeholder:"Something went wrong"},null,8,["value"])]),_:1})]),_:1}))}}),ot="abstra-run-id",nt=F({__name:"QueryParamsModal",props:{open:{type:Boolean},close:{type:Function},state:{},addQueryParam:{type:Function},removeQueryParam:{type:Function}},setup(s){return(n,t)=>(p(),g(e(qe),{open:n.open,onCancel:n.close},{footer:r(()=>[a(e(T),{type:"primary",onClick:n.close},{default:r(()=>[c("OK")]),_:1},8,["onClick"])]),default:r(()=>[a(e(V),{vertical:"",gap:"20"},{default:r(()=>[a(e(Q),null,{default:r(()=>[c("Query params")]),_:1}),(p(!0),B(K,null,Ae(n.state.queryParams,(l,o)=>(p(),g(e(k),{key:o},{default:r(()=>[a(e(Re),null,{default:r(()=>[a(e(x),{value:l.name,"onUpdate:value":u=>l.name=u,type:"text",placeholder:"name"},null,8,["value","onUpdate:value"]),a(e(x),{value:l.value,"onUpdate:value":u=>l.value=u,type:"text",placeholder:"value",disabled:l.name===ot},null,8,["value","onUpdate:value","disabled"]),a(e(T),{danger:"",onClick:u=>n.removeQueryParam(o)},{default:r(()=>[c("remove")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128)),a(e(k),null,{default:r(()=>[a(e(T),{type:"dashed",style:{width:"100%"},onClick:n.addQueryParam},{default:r(()=>[c(" Add Query Param ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["open","onCancel"]))}}),lt=s=>(fe("data-v-b3fbcec5"),s=s(),ve(),s),st={key:0},ut={key:1},it=lt(()=>D("br",null,null,-1)),dt={key:1,class:"form-preview-container"},Y="abstra-run-id",ct=F({__name:"FormTester",props:{form:{},logService:{},broker:{},disabled:{type:Boolean},stageRunId:{}},emits:["redirect","exit","update-stage-run-id"],setup(s,{expose:n,emit:t}){var te;const l=s,o=()=>{t("exit")},u=w(!1),h=()=>{u.value=!0},$=()=>{u.value=!1},L=O(()=>`/${l.form.path}?${he.value.query}`),d=$e({queryParams:[{name:"foo",value:"bar"}],url:`${l.form.path}`,stageRunId:null}),A=w((te=oe.get("dontShowRestartHelper"))!=null?te:!1),P=()=>{oe.set("dontShowRestartHelper",!0),A.value=!0},{result:y,loading:R}=ye(()=>J.get()),I=()=>{d.queryParams.push({name:"",value:""})},C=i=>{d.queryParams=d.queryParams.filter((E,b)=>b!==i)};pe([()=>d.stageRunId,()=>d.queryParams],([i,E])=>{const b=E.find(S=>S.name===Y);if(i&&!b){d.queryParams.push({name:Y,value:i});return}if(!i&&b){d.queryParams=d.queryParams.filter(S=>S.name!==Y);return}i&&b&&i!==b.value&&(b.value=i)}),l.broker.on("execution:stdout",i=>{l.logService.log({type:"stdout",log:i.log})}),l.broker.on("execution:stderr",i=>{l.logService.log({type:"stderr",log:i.log})}),l.broker.on("execution:ended",()=>{l.stageRunId&&t("update-stage-run-id",null)}),l.broker.onClose(()=>{l.logService.log({type:"stdout",log:"[Execution ended]"})}),l.broker.on("env:files-changed",()=>{l.logService.log({type:"files-changed",log:"Files changed"})});const H=me(),z=({path:i})=>{de("editor",H,i)};function G(i,E){t("redirect",i,E)}const m=w(null);async function f(){var i;return l.logService.log({type:"restart"}),(i=m.value)==null?void 0:i.run()}async function v(){var i;return(i=m.value)==null?void 0:i.run()}async function M(){var i;return l.logService.log({type:"restart"}),(i=m.value)==null?void 0:i.exit()}const he=O(()=>{const i=new URLSearchParams(d.queryParams.filter(b=>b.name.trim()).reduce((b,S)=>({...b,[S.name]:S.value}),{})).toString();return{subdomain:"[your-subdomain]",path:l.form.path,query:i}});return n({restart:f,runner:m}),(i,E)=>{const b=Ce("icon");return p(),B(K,null,[a(e(X),{layout:"vertical"},{default:r(()=>[a(e(V),{gap:"small"},{default:r(()=>{var S,N,q,ae;return[((S=m.value)==null?void 0:S.formState)==="over"||((N=m.value)==null?void 0:N.formState)==="error"?(p(),g(e(j),{key:0,placement:"bottom",visible:A.value?void 0:!0},{content:r(()=>[A.value?(p(),B("span",st,"Restart form")):(p(),B("span",ut,[c(" You can restart the form here"),it,a(e(je),{onClick:P},{default:r(()=>[c("Don't show this again")]),_:1})]))]),default:r(()=>[a(e(T),{disabled:i.disabled,onClick:f},{default:r(()=>[a(b,{path:e(Ie),width:"20"},null,8,["path"])]),_:1},8,["disabled"])]),_:1},8,["visible"])):_("",!0),((q=m.value)==null?void 0:q.formState)==="running"?(p(),g(e(j),{key:1,placement:"bottom"},{content:r(()=>[c("Stop form")]),default:r(()=>[a(e(T),{onClick:M},{default:r(()=>[a(b,{path:e(Me),width:"20"},null,8,["path"])]),_:1})]),_:1})):_("",!0),((ae=m.value)==null?void 0:ae.formState)==="idle"?(p(),g(e(j),{key:2,placement:"bottom"},{content:r(()=>[c("Start form")]),default:r(()=>[a(e(T),{disabled:i.disabled,onClick:v},{default:r(()=>[a(b,{path:e(Ne),width:"20"},null,8,["path"])]),_:1},8,["disabled"])]),_:1})):_("",!0),a(e(x),{value:L.value,onClick:h},null,8,["value"])]}),_:1}),e(R)||!e(y)?(p(),g(e(Ee),{key:0})):(p(),B("div",dt,[a(ke,{ref_key:"runner",ref:m,form:i.form.makeRunnerData(e(y)),params:{...d.queryParams.reduce((S,{name:N,value:q})=>({...S,[N]:q}),{})},"is-preview":"","enable-auto-focus":"",broker:i.broker,disabled:i.disabled,onNavigate:z,onRedirect:G,onLogout:f,onExit:o},null,8,["form","params","broker","disabled"])]))]),_:1}),a(nt,{open:u.value,close:$,state:d,"add-query-param":I,"remove-query-param":C},null,8,["open","state"])],64)}}});const pt=ge(ct,[["__scopeId","data-v-b3fbcec5"]]),be=s=>(fe("data-v-a8ca44f6"),s=s(),ve(),s),mt=be(()=>D("i",null,"string",-1)),ft=be(()=>D("i",null,"string list",-1)),vt=F({__name:"FormNotificationSettings",props:{form:{}},setup(s){const t=w(s.form);return(l,o)=>(p(),B(K,null,[a(e(X),{layout:"vertical"},{default:r(()=>[a(e(U),{level:4,width:"100%",height:"30px",style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"0px"}},{default:r(()=>[c(" Thread waiting "),a(e(Qe),{checked:t.value.notificationTrigger.enabled,"onUpdate:checked":o[0]||(o[0]=u=>t.value.notificationTrigger.enabled=u)},{default:r(()=>[c(" Enabled ")]),_:1},8,["checked"])]),_:1}),a(e(Q),{class:"description",style:{fontStyle:"italic",marginBottom:"20px"}},{default:r(()=>[c(" Send emails when the thread is waiting for the form to be filled ")]),_:1}),a(e(k),{label:"Variable name"},{default:r(()=>[a(e(x),{value:t.value.notificationTrigger.variable_name,"onUpdate:value":o[1]||(o[1]=u=>t.value.notificationTrigger.variable_name=u),disabled:!t.value.notificationTrigger.enabled,type:"text",placeholder:"variable_name"},null,8,["value","disabled"])]),_:1})]),_:1}),a(e(le),{type:"info"},{message:r(()=>[a(e(Q),null,{default:r(()=>[c(" Notifications are sent to the emails specified in the thread variables set here. The variables should contain a "),mt,c(" or a "),ft,c(". ")]),_:1})]),_:1}),a(e(le),{style:{"margin-top":"20px"}},{message:r(()=>[a(e(Q),null,{default:r(()=>[c(" Notifications are a paid feature. Talk to your account manager to enable them. ")]),_:1})]),_:1})],64))}});const gt=ge(vt,[["__scopeId","data-v-a8ca44f6"]]),yt={style:{width:"50%"}},bt={style:{width:"50%"}},ga=F({__name:"FormEditor",setup(s){const n=me(),t=Be(),l=w(null),o=w("source-code"),u=w("preview"),h=w(null),$=w("{}");function L(){n.push({name:"home"})}const{result:d,refetch:A}=ye(()=>Promise.all([J.get(),Le.get(t.params.id),J.readTestData()]).then(([m,f,v])=>(f.updateInitialState("test_data",v),Fe({workspace:m,form:f})))),P=m=>{!d.value||(d.value.form.file=m)},y=Te.create(),R=O(()=>we.create(t.params.id,{stageRunId:h.value}));function I(m,f){de("editor",n,m,f)}const C=w(null),H=()=>{var m;(m=C.value)==null||m.restartEditor()},z=()=>{var m;n.push({name:"formPreview",query:t.query,params:{id:(m=d.value)==null?void 0:m.form.id}})},G=()=>{var f;const m=`/${(f=d.value)==null?void 0:f.form.path}?abstra-run-id=${h.value}`;window.open(m,"_blank")};return pe(()=>t.params.id,()=>{A()}),(m,f)=>(p(),g(_e,null,{navbar:r(()=>[e(d)?(p(),g(e(He),{key:0,title:e(d).form.title,style:{padding:"5px 25px"},onBack:L},{extra:r(()=>[a(Ue,{"docs-path":"forms/overview","show-v-s-code-button":"","show-save-button":!1,"editing-model":e(d).form},null,8,["editing-model"])]),_:1},8,["title"])):_("",!0)]),content:r(()=>[e(d)?(p(),g(e(V),{key:0,gap:"40",style:{width:"calc(100% - 80px)"}},{default:r(()=>[D("div",yt,[a(e(se),{"active-key":o.value,"onUpdate:activeKey":f[0]||(f[0]=v=>o.value=v)},{rightExtra:r(()=>[a(De,{model:e(d).form},null,8,["model"])]),default:r(()=>[a(e(W),{key:"source-code",tab:"Source code"}),a(e(W),{key:"settings",tab:"Settings"}),_("",!0)]),_:1},8,["active-key"]),o.value==="source-code"?(p(),g(xe,{key:0,ref_key:"code",ref:C,script:e(d).form,workspace:e(d).workspace,broker:R.value,onUpdateFile:P},null,8,["script","workspace","broker"])):_("",!0),o.value==="settings"?(p(),g(rt,{key:1,form:e(d).form},null,8,["form"])):_("",!0),o.value==="notifications"?(p(),g(gt,{key:2,form:e(d).form},null,8,["form"])):_("",!0)]),D("div",bt,[a(e(se),{"active-key":u.value,"onUpdate:activeKey":f[1]||(f[1]=v=>u.value=v)},{rightExtra:r(()=>[a(e(V),{gap:"8",align:"center"},{default:r(()=>{var v,M;return[((M=(v=l.value)==null?void 0:v.runner)==null?void 0:M.formState)==="running"?(p(),g(e(ze),{key:0,color:"green",style:{"margin-right":"20px"}},{default:r(()=>[c(" Running ")]),_:1})):_("",!0),a(at,{path:e(d).form.path},null,8,["path"]),h.value?(p(),g(e(T),{key:2,target:"_blank",onClick:G},{icon:r(()=>[a(e(Ze))]),default:r(()=>[c(" Open ")]),_:1})):(p(),g(e(T),{key:1,target:"_blank",onClick:z},{icon:r(()=>[a(e(Ge))]),default:r(()=>[c(" Preview ")]),_:1}))]}),_:1})]),default:r(()=>[a(e(W),{key:"preview",tab:"Preview"}),_("",!0)]),_:1},8,["active-key"]),u.value==="preview"?(p(),g(pt,{key:0,ref_key:"tester",ref:l,form:e(d).form,"log-service":e(y),broker:R.value,disabled:e(d).form.hasChanges(),"stage-run-id":h.value,onRedirect:I,onExit:H,onUpdateStageRunId:f[2]||(f[2]=v=>h.value=v)},null,8,["form","log-service","broker","disabled","stage-run-id"])):_("",!0),u.value==="test-data"?(p(),g(Ve,{key:1,stage:e(d).form,"stage-run-id":h.value,data:$.value,onUpdateStageRunId:f[3]||(f[3]=v=>h.value=v),onUpdateData:f[4]||(f[4]=v=>$.value=v)},null,8,["stage","stage-run-id","data"])):_("",!0)])]),_:1})):_("",!0)]),footer:r(()=>{var v;return[a(Pe,{runtime:"forms","log-service":e(y),onRestart:(v=l.value)==null?void 0:v.restart},null,8,["log-service","onRestart"])]}),_:1}))}});export{ga as default};
//# sourceMappingURL=FormEditor.1830f1d7.js.map
