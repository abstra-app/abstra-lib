import{d as I,r as M,G as N,b as l,c as f,w as a,b0 as d,eA as o,e as _,er as p,ez as V,ak as B,eW as D,eX as z,bu as C,eu as A,eB as U,eC as E,v as $,H,a as W,f as b,u as c,cb as x,cS as j,et as F,bQ as G,bO as L,c9 as O}from"./registerWidgets.32a97516.js";import{M as P}from"./Modal.80edabcb.js";import{A as Q,a as X}from"./index.413bace6.js";import{a as Y}from"./Title.fff8b6ce.js";import{A as q}from"./index.92431587.js";(function(){try{var r=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},y=new Error().stack;y&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[y]="2a673fba-bec2-42b0-aa73-af1deb28b304",r._sentryDebugIdIdentifier="sentry-dbid-2a673fba-bec2-42b0-aa73-af1deb28b304")}catch{}})();const J=r=>(U("data-v-2df56f03"),r=r(),E(),r),K={class:"main-text"},R={class:"fields"},Z=["onUpdate:modelValue","type"],ee=["onUpdate:modelValue"],te=["value"],ae=J(()=>_("div",{class:"separator"},null,-1)),ne={class:"buttons"},le=I({__name:"CreationModal",props:{entityName:{},fields:{}},emits:["create"],setup(r,{expose:y,emit:g}){const i=M(null),m=N({inputValue:{}}),w={maxWidth:"350px",height:"unset",padding:"30px"},S={borderBottom:"none",fontSize:"18px",marginBottom:"17px",display:"flex",flexDirection:"column",justifyContent:"center",color:"#4E596A",lineHeight:"22px"},t={color:"#414A58",fontSize:"14px",alignItems:"unset"},T=()=>{var e;return(e=i==null?void 0:i.value)==null?void 0:e.open()},h=()=>{var e;return(e=i==null?void 0:i.value)==null?void 0:e.close()},k=()=>{g("create",m.inputValue),h()};return y({open:T,close:h}),(e,u)=>(l(),f(P,{ref_key:"modalRef",ref:i,"container-style":w,"header-style":S,"content-style":t},{header:a(()=>[d(" Create a new "+o(e.entityName),1)]),content:a(()=>[_("div",K,"You may edit the "+o(e.entityName)+" name afterwards at Settings.",1),_("div",R,[(l(!0),p(C,null,V(e.fields,n=>{var v;return l(),p("div",{key:n.key,class:"field"},[_("label",null,o(n.label),1),!n.type||typeof n.type=="string"?B((l(),p("input",{key:0,"onUpdate:modelValue":s=>m.inputValue[n.key]=s,type:(v=n.type)!=null?v:"text",class:"ws-name"},null,8,Z)),[[D,m.inputValue[n.key]]]):Array.isArray(n.type)?B((l(),p("select",{key:1,"onUpdate:modelValue":s=>m.inputValue[n.key]=s,class:"ws-name"},[(l(!0),p(C,null,V(n.type,s=>(l(),p("option",{key:typeof s=="string"?s:s.value,value:typeof s=="string"?s:s.value},o(typeof s=="string"?s:s.label),9,te))),128))],8,ee)),[[z,m.inputValue[n.key]]]):A("",!0)])}),128))]),ae,_("div",ne,[_("button",{class:"cancel",onClick:h},"Cancel"),_("button",{class:"create",onClick:k},"Create "+o(e.entityName),1)])]),_:1},512))}});const se=$(le,[["__scopeId","data-v-2df56f03"]]),de=I({__name:"CrudView",props:{loading:{type:Boolean},title:{},description:{},createButtonText:{},emptyTitle:{},entityName:{},fields:{},table:{}},emits:["create"],setup(r,{emit:y}){const g=r,i=M(null),m=()=>{var t;g.fields?(t=i.value)==null||t.open():y("create",{})};async function w(t){y("create",t)}const S=H(()=>({"--columnCount":`${g.table.columns.length}`}));return(t,T)=>{const h=W("router-link");return l(),p(C,null,[b(c(q),{direction:"vertical"},{default:a(()=>{var k;return[b(c(Y),null,{default:a(()=>[d(o(t.title),1)]),_:1}),b(c(Q),null,{default:a(()=>[d(o(t.description),1)]),_:1}),t.createButtonText?(l(),f(c(x),{key:0,type:"primary",onClick:m},{default:a(()=>[d(o(t.createButtonText),1)]),_:1})):A("",!0),b(c(j),{style:F(S.value),"data-source":t.table.rows,loading:t.loading,columns:(k=t.table.columns)==null?void 0:k.map(({name:e},u)=>({title:e,key:u}))},{emptyText:a(()=>[d(o(t.emptyTitle),1)]),headerCell:a(e=>[d(o(e.title),1)]),bodyCell:a(({column:{key:e},record:u})=>[u.cells[e].link?(l(),f(h,{key:0,to:u.cells[e].link},{default:a(()=>[d(o(u.cells[e].text),1)]),_:2},1032,["to"])):u.cells[e].actions?(l(),f(c(O),{key:1},{overlay:a(()=>[b(c(G),null,{default:a(()=>[(l(!0),p(C,null,V(u.cells[e].actions,(n,v)=>(l(),f(c(L),{key:v,danger:n.dangerous,onClick:s=>n.onClick({key:u.key})},{default:a(()=>[d(o(n.label),1)]),_:2},1032,["danger","onClick"]))),128))]),_:2},1024)]),default:a(()=>[b(c(x),null,{default:a(()=>[d(" actions ")]),_:1})]),_:2},1024)):(l(),f(c(X),{key:2},{default:a(()=>[d(o(u.cells[e].text),1)]),_:2},1024))]),_:1},8,["style","data-source","loading","columns"])]}),_:1}),t.fields?(l(),f(se,{key:0,ref_key:"modalRef",ref:i,fields:t.fields,"entity-name":t.entityName,onCreate:w},null,8,["fields","entity-name"])):A("",!0)],64)}}});export{de as _};
//# sourceMappingURL=CrudView.vue_vue_type_script_setup_true_lang.a568a297.js.map
