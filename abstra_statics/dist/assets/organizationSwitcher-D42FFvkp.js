import{d as s,r as o}from"./jwt-decode.esm-pmJTfMF_.js";import"./router-FiPGiJmO.js";import{O as l}from"./organization-CaWgUrjn.js";import"./tables-Bky1cD5E.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new Error().stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="a1bdc7dc-c08d-4922-96e2-a160b03a4474",e._sentryDebugIdIdentifier="sentry-dbid-a1bdc7dc-c08d-4922-96e2-a160b03a4474")}catch{}})();const O=s("organizationSwitcher",()=>{const e=o([]),a=o(!1),n=async()=>{a.value=!0;try{e.value=await l.list()}finally{a.value=!1}};return{organizations:e,loading:a,fetchOrganizations:n,selectDefaultOrganization:async()=>{if(await n(),e.value.length===0)return{name:"onboarding"};const t=localStorage.getItem("lastSelectedOrganizationId"),i=t?e.value.find(r=>r.id===t):null;return i?{name:"organization",params:{organizationId:i.id}}:(t&&localStorage.removeItem("lastSelectedOrganizationId"),{name:"organization",params:{organizationId:e.value[0].id}})},selectOrganization:t=>{localStorage.setItem("lastSelectedOrganizationId",t),window.location.href=`/organizations/${t}`}}});export{O as u};
//# sourceMappingURL=organizationSwitcher-D42FFvkp.js.map
