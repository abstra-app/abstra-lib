import{a as y}from"./asyncComputed.f9d446a7.js";import{P as j}from"./project.74e740ba.js";import"./gateway.6112d0c1.js";import{d as v,u as w,b as n,c,v as t,e as l,y as r,R as o,L as p,B as _,q as S,a as C,N as E,O as I,p as x,H as N}from"./registerWidgets.4cc86716.js";import{s as B}from"./index.a6f97cb6.js";import{L as P}from"./CircularLoading.249aa989.js";import{M as A,e as D,N as H}from"./icons.d4e872e2.js";import"./activeRecord.57c6bf02.js";import"./passwordlessManager.d432fb48.js";const i=s=>(E("data-v-43424e5e"),s=s(),I(),s),T={class:"subdomain-editor"},V={class:"title"},L=i(()=>t("div",{class:"subtitle"}," Every workspace in Abstra Cloud comes with a default subdomain, which will appear on all shared project links. Only the workspace\u2019s owner can edit the subdomain. ",-1)),O={key:0,class:"subdomain-presenter"},M={class:"link-item"},R=i(()=>t("div",{class:"link-title"},"Forms and Dashes available at:",-1)),$={class:"link"},q={class:"custom-subdomain"},z={class:"link-item"},F=i(()=>t("div",{class:"link-title"},"Hooks available at:",-1)),G={class:"link"},J={class:"custom-subdomain"},K={key:1,class:"subdomain-value-editor"},Q={class:"subdomain-change-warning"},U={class:"section-title"},W=i(()=>t("div",{class:"section-body"}," Changing the workspace subdomain affects any links you've previously shared. The user wont be able to access old links. ",-1)),X={class:"input-section"},Y={class:"subdomain-value-input"},Z=i(()=>t("span",null,"https://",-1)),tt=["value"],et=i(()=>t("span",null,".abstra.app",-1)),st={key:0,class:"error"},ot={class:"option-buttons"},at=v({__name:"SubdomainEditor",props:{project:null},setup(s){const a=s,e=w({name:a.project.subdomain,error:"",editing:!1,loading:!1}),d=()=>e.editing=!0,m=()=>{f(),e.editing=!1,e.error=""},h=async()=>{e.error="",e.loading=!0,await g(),e.error||(e.editing=!1),e.loading=!1},g=async()=>{if(!(!a.project||a.project.subdomain===e.name)){if(!e.name){e.error="Subdomain cannot be empty";return}a.project.subdomain=e.name,await a.project.save()}},f=()=>e.name=a.project.subdomain,k=b=>{e.name=B(b.target.value,{replacement:"-",lower:!0,strict:!0})};return(b,ct)=>{const u=C("icon");return n(),c("div",T,[t("h2",V,[l(u,{width:"22",height:"22",path:r(A),fill:"#414A58"},null,8,["path"]),o("Subdomain ")]),L,e.editing?(n(),c("div",K,[t("div",Q,[t("div",U,[l(u,{path:r(D),width:"12",height:"12",fill:"#D35249"},null,8,["path"]),o(" Be careful ")]),W]),t("div",X,[t("div",Y,[Z,t("input",{value:e.name,type:"text",onInput:k},null,40,tt),et]),e.error?(n(),c("div",st,[l(u,{path:r(H),fill:"#D35249",width:"12",height:"12"},null,8,["path"]),o(" "+p(e.error),1)])):_("",!0),t("div",ot,[t("button",{class:"cancel-button",onClick:m},"Cancel"),t("button",{class:"save-button",onClick:h},[o(" Save Changes "),e.loading?(n(),S(P,{key:0,size:"16"})):_("",!0)])])])])):(n(),c("div",O,[t("div",M,[R,t("div",$,[o(" https://"),t("span",q,p(s.project.subdomain),1),o(".abstra.app/[PATH] ")])]),t("div",z,[F,t("div",G,[o(" https://"),t("span",J,p(s.project.subdomain),1),o(".abstra.app/_hooks/[PATH] ")])]),t("button",{onClick:d},"Edit Subdomain")]))])}}});const nt=x(at,[["__scopeId","data-v-43424e5e"]]),it={key:0,class:"project-settings"},vt=v({__name:"ProjectSettings",setup(s){const e=N().params.projectId,{result:d}=y(()=>j.get(e));return(m,h)=>r(d)?(n(),c("div",it,[l(nt,{project:r(d)},null,8,["project"])])):_("",!0)}});export{vt as default};
//# sourceMappingURL=ProjectSettings.f18d6684.js.map
