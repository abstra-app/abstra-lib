import{L as l}from"./CircularLoading-D-ivYvMG.js";import{a as p,ac as m,D as g,b as w,e as b,h as u,j as y,aN as A}from"./jwt-decode.esm-BzAAEbOy.js";import{E as f,b as h}from"./router-CH1miZPV.js";import"./ts.worker-CLoCK49O.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o=new Error().stack;o&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[o]="e0b4f097-f7e2-4dc0-a29d-45e6ebfc6248",s._sentryDebugIdIdentifier="sentry-dbid-e0b4f097-f7e2-4dc0-a29d-45e6ebfc6248")}catch{}})();const I={class:"authorize"},z={class:"content"},P=p({__name:"Authorize",setup(s){const o=m();return g(()=>{const{client_id:r,redirect_uri:e,response_type:a,state:n}=o.query;if(e&&e.includes("/oauth/authorize")){const _=e.startsWith("http")?e:`${f.cloudApi}${e}`,c=new URL(_),d=h.getAuthor();d?.jwt&&c.searchParams.set("session_token",d.jwt),window.location.href=c.toString();return}const t=new URL(`${f.cloudApi}/oauth/authorize`);r&&t.searchParams.set("client_id",r),e&&t.searchParams.set("redirect_uri",e),a&&t.searchParams.set("response_type",a),n&&t.searchParams.set("state",n);const i=h.getAuthor();i?.jwt&&t.searchParams.set("session_token",i.jwt),window.location.href=t.toString()}),(r,e)=>(b(),w("div",I,[u("div",z,[e[0]||(e[0]=u("h1",null,"Authorizing...",-1)),y(l)])]))}}),L=A(P,[["__scopeId","data-v-d4e10ce1"]]);export{L as default};
//# sourceMappingURL=Authorize-XXvM3gP4.js.map
