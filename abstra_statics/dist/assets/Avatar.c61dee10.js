import{ac as X,ad as N,S as g,ao as K,B as V,V as q,d as J,Q as $,ah as Q,f as U,aO as Y,dL as Z,g as _,W as ee,J as B,bT as te,b as z,al as re,ak as F,au as ae,dI as ne}from"./vue-router.4fdc4d50.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r=new Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="e90c5b9c-24db-4b57-bd5e-893b66b08e85",e._sentryDebugIdIdentifier="sentry-dbid-e90c5b9c-24db-4b57-bd5e-893b66b08e85")}catch{}})();const oe=e=>{const{antCls:r,componentCls:a,iconCls:n,avatarBg:i,avatarColor:S,containerSize:l,containerSizeLG:c,containerSizeSM:v,textFontSize:b,textFontSizeLG:h,textFontSizeSM:w,borderRadius:C,borderRadiusLG:s,borderRadiusSM:A,lineWidth:u,lineType:k}=e,p=(m,t,o)=>({width:m,height:m,lineHeight:`${m-u*2}px`,borderRadius:"50%",[`&${a}-square`]:{borderRadius:o},[`${a}-string`]:{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"},[`&${a}-icon`]:{fontSize:t,[`> ${n}`]:{margin:0}}});return{[a]:g(g(g(g({},K(e)),{position:"relative",display:"inline-block",overflow:"hidden",color:S,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:i,border:`${u}px ${k} transparent`,["&-image"]:{background:"transparent"},[`${r}-image-img`]:{display:"block"}}),p(l,b,C)),{["&-lg"]:g({},p(c,h,s)),["&-sm"]:g({},p(v,w,A)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},se=e=>{const{componentCls:r,groupBorderColor:a,groupOverlapping:n,groupSpace:i}=e;return{[`${r}-group`]:{display:"inline-flex",[`${r}`]:{borderColor:a},["> *:not(:first-child)"]:{marginInlineStart:n}},[`${r}-group-popover`]:{[`${r} + ${r}`]:{marginInlineStart:i}}}},ie=X("Avatar",e=>{const{colorTextLightSolid:r,colorTextPlaceholder:a}=e,n=N(e,{avatarBg:a,avatarColor:r});return[oe(n),se(n)]},e=>{const{controlHeight:r,controlHeightLG:a,controlHeightSM:n,fontSize:i,fontSizeLG:S,fontSizeXL:l,fontSizeHeading3:c,marginXS:v,marginXXS:b,colorBorderBg:h}=e;return{containerSize:r,containerSizeLG:a,containerSizeSM:n,textFontSize:Math.round((S+l)/2),textFontSizeLG:c,textFontSizeSM:i,groupSpace:b,groupOverlapping:-v,groupBorderColor:h}}),M=Symbol("AvatarContextKey"),le=()=>V(M,{}),ge=e=>q(M,e),ce=()=>({prefixCls:String,shape:{type:String,default:"circle"},size:{type:[Number,String,Object],default:()=>"default"},src:String,srcset:String,icon:ae.any,alt:String,gap:Number,draggable:{type:Boolean,default:void 0},crossOrigin:String,loadError:{type:Function}}),ue=J({compatConfig:{MODE:3},name:"AAvatar",inheritAttrs:!1,props:ce(),slots:Object,setup(e,r){let{slots:a,attrs:n}=r;const i=$(!0),S=$(!1),l=$(1),c=$(null),v=$(null),{prefixCls:b}=Q("avatar",e),[h,w]=ie(b),C=le(),s=U(()=>e.size==="default"?C.size:e.size),A=Y(),u=Z(()=>{if(typeof e.size!="object")return;const t=ne.find(f=>A.value[f]);return e.size[t]}),k=t=>u.value?{width:`${u.value}px`,height:`${u.value}px`,lineHeight:`${u.value}px`,fontSize:`${t?u.value/2:18}px`}:{},p=()=>{if(!c.value||!v.value)return;const t=c.value.offsetWidth,o=v.value.offsetWidth;if(t!==0&&o!==0){const{gap:f=4}=e;f*2<o&&(l.value=o-f*2<t?(o-f*2)/t:1)}},m=()=>{const{loadError:t}=e;(t==null?void 0:t())!==!1&&(i.value=!1)};return _(()=>e.src,()=>{B(()=>{i.value=!0,l.value=1})}),_(()=>e.gap,()=>{B(()=>{p()})}),ee(()=>{B(()=>{p(),S.value=!0})}),()=>{var t,o;const{shape:f,src:I,alt:O,srcset:T,draggable:H,crossOrigin:j}=e,G=(t=C.shape)!==null&&t!==void 0?t:f,y=te(a,e,"icon"),d=b.value,E={[`${n.class}`]:!!n.class,[d]:!0,[`${d}-lg`]:s.value==="large",[`${d}-sm`]:s.value==="small",[`${d}-${G}`]:!0,[`${d}-image`]:I&&i.value,[`${d}-icon`]:y,[w.value]:!0},W=typeof s.value=="number"?{width:`${s.value}px`,height:`${s.value}px`,lineHeight:`${s.value}px`,fontSize:y?`${s.value/2}px`:"18px"}:{},L=(o=a.default)===null||o===void 0?void 0:o.call(a);let x;if(I&&i.value)x=z("img",{draggable:H,src:I,srcset:T,onError:m,alt:O,crossorigin:j},null);else if(y)x=y;else if(S.value||l.value!==1){const R=`scale(${l.value}) translateX(-50%)`,P={msTransform:R,WebkitTransform:R,transform:R},D=typeof s.value=="number"?{lineHeight:`${s.value}px`}:{};x=z(re,{onResize:p},{default:()=>[z("span",{class:`${d}-string`,ref:c,style:g(g({},D),P)},[L])]})}else x=z("span",{class:`${d}-string`,ref:c,style:{opacity:0}},[L]);return h(z("span",F(F({},n),{},{ref:v,class:E,style:[W,k(!!y),n.style]}),[x]))}}}),ve=ue;export{ve as A,ge as a,ie as u};
//# sourceMappingURL=Avatar.c61dee10.js.map
