import{S as V}from"./SaveButton.bd655e5f.js";import{C as E}from"./CrudView.5e2b55fd.js";import{a as h}from"./asyncComputed.82e95638.js";import{u as x}from"./polling.92851069.js";import{o as d}from"./omniChatStore.b69b1ac5.js";import{a as A}from"./controller.bc4e7bfc.js";import{d as T,k as B,ap as F,W as I,u as e,a as m,ee as S,b as a,h as p,aQ as U,o as u,f as i,g as c,bQ as D,ec as g,cv as M,d7 as N,cB as O,cw as P,M as L}from"./jwt-decode.esm.d8763b5b.js";import{A as j}from"./index.ffbfa13f.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},l=new Error().stack;l&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[l]="918c1752-b48f-48c4-a2ad-e0edcf66949d",s._sentryDebugIdIdentifier="sentry-dbid-918c1752-b48f-48c4-a2ad-e0edcf66949d")}catch{}})();const J=T({__name:"View",props:{envVarRepository:{},mode:{},fileOpener:{}},setup(s){const l=s,{result:t,loading:k,refetch:f}=h(async()=>{const r=await A.create(l.envVarRepository,l.mode,l.fileOpener);return w(),r}),{startPolling:w,endPolling:C}=x({task:()=>{var r;return(r=t.value)==null?void 0:r.pollingFunction()},interval:2e3}),_={columns:[],rows:[]};return B(()=>{const r=d.subscribe("envVarCreated",()=>{f()}),n=d.subscribe("envVarEdited",()=>{f()});F(()=>{C(),d.unsubscribe(r),d.unsubscribe(n)})}),(r,n)=>{var v,b;return u(),I(U,null,[e(t)?(u(),m(E,{key:0,"entity-name":"Env var",loading:e(k),title:"Environment Variables",description:"Set environment variables for your project.","empty-title":"No environment variables set",table:e(t).table()||_,"create-button-text":"Add Environment Variable",create:e(t).create,fields:e(t).creationFields||[],live:e(t).isLocalEditor},S({_:2},[(v=e(t))!=null&&v.isLocalEditor?{name:"secondary",fn:a(()=>{var o;return[i(e(D),{onClick:(o=e(t))==null?void 0:o.openEnvFile},{default:a(()=>[c("Open .env")]),_:1},8,["onClick"])]}),key:"0"}:void 0,(b=e(t))!=null&&b.isLocalEditor?{name:"extra",fn:a(()=>[i(e(j),{"show-icon":"",style:{"margin-top":"20px"}},{message:a(()=>[c(" This is simply a helper to manage your environment variables locally. The variables set here will not be deployed to Cloud with your project. ")]),_:1})]),key:"1"}:void 0,e(t)?{name:"more",fn:a(()=>[i(V,{model:e(t),disabled:!e(t).hasChanges()},{"with-changes":a(()=>[c(g(e(t).saveMessage),1)]),_:1},8,["model","disabled"])]),key:"2"}:void 0]),1032,["loading","table","create","fields","live"])):p("",!0),e(t)?(u(),m(e(L),{key:1,open:e(t).isUpdating,title:"Update value",onCancel:n[1]||(n[1]=o=>{var y;return(y=e(t))==null?void 0:y.cancelUpdate()}),onOk:n[2]||(n[2]=()=>{var o;return(o=e(t))==null?void 0:o.confirmUpdate()})},{default:a(()=>[e(t).state.value.type==="updating"?(u(),m(e(M),{key:0,layout:"vertical"},{default:a(()=>[i(e(P),null,{default:a(()=>[i(e(N),null,{default:a(()=>[c(g(e(t).state.value.name),1)]),_:1}),i(e(O),{value:e(t).state.value.value,"onUpdate:value":n[0]||(n[0]=o=>e(t).state.value.value=o)},null,8,["value"])]),_:1})]),_:1})):p("",!0)]),_:1},8,["open"])):p("",!0)],64)}}});export{J as _};
//# sourceMappingURL=View.vue_vue_type_script_setup_true_lang.4bd084fe.js.map
