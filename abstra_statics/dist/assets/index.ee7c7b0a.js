import{d as be,t as ye,af as Zt,et as Fp,h as ge,I as Yt,g as se,f as me,bu as Se,J as st,eu as bm,a8 as zp,o as he,K as _e,b as Qe,w as ju,O as it,u as re,ev as Gp,ew as Hn,am as rt,ex as ve,dA as wm,ey as Vp,ec as At,ez as Em,a as qt,N as Ue,F as je,c as Mt,aL as Pt,ae as bn,a6 as Sm,eb as Yu,r as Hp,ea as hl,eA as xm,aj as Up,eB as Im,eC as vl,bY as Cm,eD as Nm,ei as Tm,az as Rm,e5 as Am,er as Vt,eE as qm,eF as An}from"./index.6d326114.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="09a83a92-f31c-4629-b9ee-d843e4a39df2",e._sentryDebugIdIdentifier="sentry-dbid-09a83a92-f31c-4629-b9ee-d843e4a39df2")}catch{}})();function pl(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function cr(e){return Gp()?(Hn(e),!0):!1}function Je(e){return typeof e=="function"?e():re(e)}const Mm=typeof window<"u"&&typeof document<"u",Pm=e=>typeof e<"u",Om=Object.prototype.toString,km=e=>Om.call(e)==="[object Object]",Dm=()=>{};function $m(e,t){function n(...r){return new Promise((i,o)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(i).catch(o)})}return n}const jp=e=>e();function Bm(e=jp){const t=me(!0);function n(){t.value=!1}function r(){t.value=!0}const i=(...o)=>{t.value&&e(...o)};return{isActive:qm(t),pause:n,resume:r,eventFilter:i}}function Yl(e,t=!1,n="Timeout"){return new Promise((r,i)=>{setTimeout(t?()=>i(n):r,e)})}function Lm(e,t,n={}){const{eventFilter:r=jp,...i}=n;return ge(e,$m(r,t),i)}function Gt(e,t,n={}){const{eventFilter:r,...i}=n,{eventFilter:o,pause:a,resume:s,isActive:u}=Bm(r);return{stop:Lm(e,t,{...i,eventFilter:o}),pause:a,resume:s,isActive:u}}function Fm(e,t={}){if(!vl(e))return Cm(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const r in e.value)n[r]=Nm(()=>({get(){return e.value[r]},set(i){var o;if((o=Je(t.replaceRef))!=null?o:!0)if(Array.isArray(e.value)){const s=[...e.value];s[r]=i,e.value=s}else{const s={...e.value,[r]:i};Object.setPrototypeOf(s,Object.getPrototypeOf(e.value)),e.value=s}else e.value[r]=i}}));return n}function Ku(e,t=!1){function n(d,{flush:f="sync",deep:h=!1,timeout:g,throwOnTimeout:v}={}){let y=null;const m=[new Promise(I=>{y=ge(e,S=>{d(S)!==t&&(y==null||y(),I(S))},{flush:f,deep:h,immediate:!0})})];return g!=null&&m.push(Yl(g,v).then(()=>Je(e)).finally(()=>y==null?void 0:y())),Promise.race(m)}function r(d,f){if(!vl(d))return n(S=>S===d,f);const{flush:h="sync",deep:g=!1,timeout:v,throwOnTimeout:y}=f!=null?f:{};let w=null;const I=[new Promise(S=>{w=ge([e,d],([P,M])=>{t!==(P===M)&&(w==null||w(),S(P))},{flush:h,deep:g,immediate:!0})})];return v!=null&&I.push(Yl(v,y).then(()=>Je(e)).finally(()=>(w==null||w(),Je(e)))),Promise.race(I)}function i(d){return n(f=>Boolean(f),d)}function o(d){return r(null,d)}function a(d){return r(void 0,d)}function s(d){return n(Number.isNaN,d)}function u(d,f){return n(h=>{const g=Array.from(h);return g.includes(d)||g.includes(Je(d))},f)}function c(d){return l(1,d)}function l(d=1,f){let h=-1;return n(()=>(h+=1,h>=d),f)}return Array.isArray(Je(e))?{toMatch:n,toContains:u,changed:c,changedTimes:l,get not(){return Ku(e,!t)}}:{toMatch:n,toBe:r,toBeTruthy:i,toBeNull:o,toBeNaN:s,toBeUndefined:a,changed:c,changedTimes:l,get not(){return Ku(e,!t)}}}function Xu(e){return Ku(e)}function zm(e){var t;const n=Je(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Yp=Mm?window:void 0;function Kp(...e){let t,n,r,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,i]=e,t=Yp):[t,n,r,i]=e,!t)return Dm;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],a=()=>{o.forEach(l=>l()),o.length=0},s=(l,d,f,h)=>(l.addEventListener(d,f,h),()=>l.removeEventListener(d,f,h)),u=ge(()=>[zm(t),Je(i)],([l,d])=>{if(a(),!l)return;const f=km(d)?{...d}:d;o.push(...n.flatMap(h=>r.map(g=>s(l,h,g,f))))},{immediate:!0,flush:"post"}),c=()=>{u(),a()};return cr(c),c}function Gm(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function Kl(...e){let t,n,r={};e.length===3?(t=e[0],n=e[1],r=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:i=Yp,eventName:o="keydown",passive:a=!1,dedupe:s=!1}=r,u=Gm(t);return Kp(i,o,l=>{l.repeat&&Je(s)||u(l)&&n(l)},a)}function Vm(e){return JSON.parse(JSON.stringify(e))}function Gr(e,t,n,r={}){var i,o,a;const{clone:s=!1,passive:u=!1,eventName:c,deep:l=!1,defaultValue:d,shouldEmit:f}=r,h=bn(),g=n||(h==null?void 0:h.emit)||((i=h==null?void 0:h.$emit)==null?void 0:i.bind(h))||((a=(o=h==null?void 0:h.proxy)==null?void 0:o.$emit)==null?void 0:a.bind(h==null?void 0:h.proxy));let v=c;t||(t="modelValue"),v=v||`update:${t.toString()}`;const y=I=>s?typeof s=="function"?s(I):Vm(I):I,w=()=>Pm(e[t])?y(e[t]):d,m=I=>{f?f(I)&&g(v,I):g(v,I)};if(u){const I=w(),S=me(I);let P=!1;return ge(()=>e[t],M=>{P||(P=!0,S.value=y(M),rt(()=>P=!1))}),ge(S,M=>{!P&&(M!==e[t]||l)&&m(M)},{deep:l}),S}else return se({get(){return w()},set(I){m(I)}})}var Hm={value:()=>{}};function dr(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Un(n)}function Un(e){this._=e}function Um(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Un.prototype=dr.prototype={constructor:Un,on:function(e,t){var n=this._,r=Um(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=jm(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=Xl(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Xl(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Un(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function jm(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Xl(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Hm,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Wu="http://www.w3.org/1999/xhtml";const Wl={svg:"http://www.w3.org/2000/svg",xhtml:Wu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function fr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Wl.hasOwnProperty(t)?{space:Wl[t],local:e}:e}function Ym(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Wu&&t.documentElement.namespaceURI===Wu?t.createElement(e):t.createElementNS(n,e)}}function Km(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Xp(e){var t=fr(e);return(t.local?Km:Ym)(t)}function Xm(){}function gl(e){return e==null?Xm:function(){return this.querySelector(e)}}function Wm(e){typeof e!="function"&&(e=gl(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),u,c,l=0;l<a;++l)(u=o[l])&&(c=e.call(u,u.__data__,l,o))&&("__data__"in u&&(c.__data__=u.__data__),s[l]=c);return new Me(r,this._parents)}function Zm(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Jm(){return[]}function Wp(e){return e==null?Jm:function(){return this.querySelectorAll(e)}}function Qm(e){return function(){return Zm(e.apply(this,arguments))}}function e_(e){typeof e=="function"?e=Qm(e):e=Wp(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,u,c=0;c<s;++c)(u=a[c])&&(r.push(e.call(u,u.__data__,c,a)),i.push(u));return new Me(r,i)}function Zp(e){return function(){return this.matches(e)}}function Jp(e){return function(t){return t.matches(e)}}var t_=Array.prototype.find;function n_(e){return function(){return t_.call(this.children,e)}}function r_(){return this.firstElementChild}function i_(e){return this.select(e==null?r_:n_(typeof e=="function"?e:Jp(e)))}var o_=Array.prototype.filter;function a_(){return Array.from(this.children)}function s_(e){return function(){return o_.call(this.children,e)}}function u_(e){return this.selectAll(e==null?a_:s_(typeof e=="function"?e:Jp(e)))}function l_(e){typeof e!="function"&&(e=Zp(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],u,c=0;c<a;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&s.push(u);return new Me(r,this._parents)}function Qp(e){return new Array(e.length)}function c_(){return new Me(this._enter||this._groups.map(Qp),this._parents)}function Xn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Xn.prototype={constructor:Xn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function d_(e){return function(){return e}}function f_(e,t,n,r,i,o){for(var a=0,s,u=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new Xn(e,o[a]);for(;a<u;++a)(s=t[a])&&(i[a]=s)}function h_(e,t,n,r,i,o,a){var s,u,c=new Map,l=t.length,d=o.length,f=new Array(l),h;for(s=0;s<l;++s)(u=t[s])&&(f[s]=h=a.call(u,u.__data__,s,t)+"",c.has(h)?i[s]=u:c.set(h,u));for(s=0;s<d;++s)h=a.call(e,o[s],s,o)+"",(u=c.get(h))?(r[s]=u,u.__data__=o[s],c.delete(h)):n[s]=new Xn(e,o[s]);for(s=0;s<l;++s)(u=t[s])&&c.get(f[s])===u&&(i[s]=u)}function v_(e){return e.__data__}function p_(e,t){if(!arguments.length)return Array.from(this,v_);var n=t?h_:f_,r=this._parents,i=this._groups;typeof e!="function"&&(e=d_(e));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],d=i[c],f=d.length,h=g_(e.call(l,l&&l.__data__,c,r)),g=h.length,v=s[c]=new Array(g),y=a[c]=new Array(g),w=u[c]=new Array(f);n(l,d,v,y,w,h,t);for(var m=0,I=0,S,P;m<g;++m)if(S=v[m]){for(m>=I&&(I=m+1);!(P=y[I])&&++I<g;);S._next=P||null}}return a=new Me(a,r),a._enter=s,a._exit=u,a}function g_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function y_(){return new Me(this._exit||this._groups.map(Qp),this._parents)}function m_(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function __(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var c=n[u],l=r[u],d=c.length,f=s[u]=new Array(d),h,g=0;g<d;++g)(h=c[g]||l[g])&&(f[g]=h);for(;u<i;++u)s[u]=n[u];return new Me(s,this._parents)}function b_(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function w_(e){e||(e=E_);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,u=i[o]=new Array(s),c,l=0;l<s;++l)(c=a[l])&&(u[l]=c);u.sort(t)}return new Me(i,this._parents).order()}function E_(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function S_(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function x_(){return Array.from(this)}function I_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function C_(){let e=0;for(const t of this)++e;return e}function N_(){return!this.node()}function T_(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function R_(e){return function(){this.removeAttribute(e)}}function A_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function q_(e,t){return function(){this.setAttribute(e,t)}}function M_(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function P_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function O_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function k_(e,t){var n=fr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?A_:R_:typeof t=="function"?n.local?O_:P_:n.local?M_:q_)(n,t))}function eg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function D_(e){return function(){this.style.removeProperty(e)}}function $_(e,t,n){return function(){this.style.setProperty(e,t,n)}}function B_(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function L_(e,t,n){return arguments.length>1?this.each((t==null?D_:typeof t=="function"?B_:$_)(e,t,n==null?"":n)):Kt(this.node(),e)}function Kt(e,t){return e.style.getPropertyValue(t)||eg(e).getComputedStyle(e,null).getPropertyValue(t)}function F_(e){return function(){delete this[e]}}function z_(e,t){return function(){this[e]=t}}function G_(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function V_(e,t){return arguments.length>1?this.each((t==null?F_:typeof t=="function"?G_:z_)(e,t)):this.node()[e]}function tg(e){return e.trim().split(/^|\s+/)}function yl(e){return e.classList||new ng(e)}function ng(e){this._node=e,this._names=tg(e.getAttribute("class")||"")}ng.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function rg(e,t){for(var n=yl(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function ig(e,t){for(var n=yl(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function H_(e){return function(){rg(this,e)}}function U_(e){return function(){ig(this,e)}}function j_(e,t){return function(){(t.apply(this,arguments)?rg:ig)(this,e)}}function Y_(e,t){var n=tg(e+"");if(arguments.length<2){for(var r=yl(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?j_:t?H_:U_)(n,t))}function K_(){this.textContent=""}function X_(e){return function(){this.textContent=e}}function W_(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function Z_(e){return arguments.length?this.each(e==null?K_:(typeof e=="function"?W_:X_)(e)):this.node().textContent}function J_(){this.innerHTML=""}function Q_(e){return function(){this.innerHTML=e}}function eb(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function tb(e){return arguments.length?this.each(e==null?J_:(typeof e=="function"?eb:Q_)(e)):this.node().innerHTML}function nb(){this.nextSibling&&this.parentNode.appendChild(this)}function rb(){return this.each(nb)}function ib(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ob(){return this.each(ib)}function ab(e){var t=typeof e=="function"?e:Xp(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function sb(){return null}function ub(e,t){var n=typeof e=="function"?e:Xp(e),r=t==null?sb:typeof t=="function"?t:gl(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function lb(){var e=this.parentNode;e&&e.removeChild(this)}function cb(){return this.each(lb)}function db(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fb(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hb(e){return this.select(e?fb:db)}function vb(e){return arguments.length?this.property("__data__",e):this.node().__data__}function pb(e){return function(t){e.call(this,t,this.__data__)}}function gb(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function yb(e){return function(){var t=this.__on;if(!!t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function mb(e,t,n){return function(){var r=this.__on,i,o=pb(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function _b(e,t,n){var r=gb(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,c=s.length,l;u<c;++u)for(i=0,l=s[u];i<o;++i)if((a=r[i]).type===l.type&&a.name===l.name)return l.value}return}for(s=t?mb:yb,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function og(e,t,n){var r=eg(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function bb(e,t){return function(){return og(this,e,t)}}function wb(e,t){return function(){return og(this,e,t.apply(this,arguments))}}function Eb(e,t){return this.each((typeof t=="function"?wb:bb)(e,t))}function*Sb(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var ag=[null];function Me(e,t){this._groups=e,this._parents=t}function wn(){return new Me([[document.documentElement]],ag)}function xb(){return this}Me.prototype=wn.prototype={constructor:Me,select:Wm,selectAll:e_,selectChild:i_,selectChildren:u_,filter:l_,data:p_,enter:c_,exit:y_,join:m_,merge:__,selection:xb,order:b_,sort:w_,call:S_,nodes:x_,node:I_,size:C_,empty:N_,each:T_,attr:k_,style:L_,property:V_,classed:Y_,text:Z_,html:tb,raise:rb,lower:ob,append:ab,insert:ub,remove:cb,clone:hb,datum:vb,on:_b,dispatch:Eb,[Symbol.iterator]:Sb};function De(e){return typeof e=="string"?new Me([[document.querySelector(e)]],[document.documentElement]):new Me([[e]],ag)}function Ib(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ge(e,t){if(e=Ib(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const Cb={passive:!1},vn={capture:!0,passive:!1};function Vr(e){e.stopImmediatePropagation()}function Ht(e){e.preventDefault(),e.stopImmediatePropagation()}function sg(e){var t=e.document.documentElement,n=De(e).on("dragstart.drag",Ht,vn);"onselectstart"in t?n.on("selectstart.drag",Ht,vn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ug(e,t){var n=e.document.documentElement,r=De(e).on("dragstart.drag",null);t&&(r.on("click.drag",Ht,vn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const qn=e=>()=>e;function Zu(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:u,dy:c,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:l}})}Zu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Nb(e){return!e.ctrlKey&&!e.button}function Tb(){return this.parentNode}function Rb(e,t){return t==null?{x:e.x,y:e.y}:t}function Ab(){return navigator.maxTouchPoints||"ontouchstart"in this}function qb(){var e=Nb,t=Tb,n=Rb,r=Ab,i={},o=dr("start","drag","end"),a=0,s,u,c,l,d=0;function f(S){S.on("mousedown.drag",h).filter(r).on("touchstart.drag",y).on("touchmove.drag",w,Cb).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(S,P){if(!(l||!e.call(this,S,P))){var M=I(this,t.call(this,S,P),S,P,"mouse");!M||(De(S.view).on("mousemove.drag",g,vn).on("mouseup.drag",v,vn),sg(S.view),Vr(S),c=!1,s=S.clientX,u=S.clientY,M("start",S))}}function g(S){if(Ht(S),!c){var P=S.clientX-s,M=S.clientY-u;c=P*P+M*M>d}i.mouse("drag",S)}function v(S){De(S.view).on("mousemove.drag mouseup.drag",null),ug(S.view,c),Ht(S),i.mouse("end",S)}function y(S,P){if(!!e.call(this,S,P)){var M=S.changedTouches,R=t.call(this,S,P),B=M.length,D,A;for(D=0;D<B;++D)(A=I(this,R,S,P,M[D].identifier,M[D]))&&(Vr(S),A("start",S,M[D]))}}function w(S){var P=S.changedTouches,M=P.length,R,B;for(R=0;R<M;++R)(B=i[P[R].identifier])&&(Ht(S),B("drag",S,P[R]))}function m(S){var P=S.changedTouches,M=P.length,R,B;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),R=0;R<M;++R)(B=i[P[R].identifier])&&(Vr(S),B("end",S,P[R]))}function I(S,P,M,R,B,D){var A=o.copy(),b=Ge(D||M,P),G,W,E;if((E=n.call(S,new Zu("beforestart",{sourceEvent:M,target:f,identifier:B,active:a,x:b[0],y:b[1],dx:0,dy:0,dispatch:A}),R))!=null)return G=E.x-b[0]||0,W=E.y-b[1]||0,function T(N,k,$){var L=b,V;switch(N){case"start":i[B]=T,V=a++;break;case"end":delete i[B],--a;case"drag":b=Ge($||k,P),V=a;break}A.call(N,S,new Zu(N,{sourceEvent:k,subject:E,target:f,identifier:B,active:V,x:b[0]+G,y:b[1]+W,dx:b[0]-L[0],dy:b[1]-L[1],dispatch:A}),R)}}return f.filter=function(S){return arguments.length?(e=typeof S=="function"?S:qn(!!S),f):e},f.container=function(S){return arguments.length?(t=typeof S=="function"?S:qn(S),f):t},f.subject=function(S){return arguments.length?(n=typeof S=="function"?S:qn(S),f):n},f.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:qn(!!S),f):r},f.on=function(){var S=o.on.apply(o,arguments);return S===o?f:S},f.clickDistance=function(S){return arguments.length?(d=(S=+S)*S,f):Math.sqrt(d)},f}function ml(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function lg(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function En(){}var pn=.7,Wn=1/pn,Ut="\\s*([+-]?\\d+)\\s*",gn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",He="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mb=/^#([0-9a-f]{3,8})$/,Pb=new RegExp(`^rgb\\(${Ut},${Ut},${Ut}\\)$`),Ob=new RegExp(`^rgb\\(${He},${He},${He}\\)$`),kb=new RegExp(`^rgba\\(${Ut},${Ut},${Ut},${gn}\\)$`),Db=new RegExp(`^rgba\\(${He},${He},${He},${gn}\\)$`),$b=new RegExp(`^hsl\\(${gn},${He},${He}\\)$`),Bb=new RegExp(`^hsla\\(${gn},${He},${He},${gn}\\)$`),Zl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ml(En,yn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jl,formatHex:Jl,formatHex8:Lb,formatHsl:Fb,formatRgb:Ql,toString:Ql});function Jl(){return this.rgb().formatHex()}function Lb(){return this.rgb().formatHex8()}function Fb(){return cg(this).formatHsl()}function Ql(){return this.rgb().formatRgb()}function yn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Mb.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ec(t):n===3?new Re(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Mn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Mn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Pb.exec(e))?new Re(t[1],t[2],t[3],1):(t=Ob.exec(e))?new Re(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=kb.exec(e))?Mn(t[1],t[2],t[3],t[4]):(t=Db.exec(e))?Mn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$b.exec(e))?rc(t[1],t[2]/100,t[3]/100,1):(t=Bb.exec(e))?rc(t[1],t[2]/100,t[3]/100,t[4]):Zl.hasOwnProperty(e)?ec(Zl[e]):e==="transparent"?new Re(NaN,NaN,NaN,0):null}function ec(e){return new Re(e>>16&255,e>>8&255,e&255,1)}function Mn(e,t,n,r){return r<=0&&(e=t=n=NaN),new Re(e,t,n,r)}function zb(e){return e instanceof En||(e=yn(e)),e?(e=e.rgb(),new Re(e.r,e.g,e.b,e.opacity)):new Re}function Ju(e,t,n,r){return arguments.length===1?zb(e):new Re(e,t,n,r==null?1:r)}function Re(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ml(Re,Ju,lg(En,{brighter(e){return e=e==null?Wn:Math.pow(Wn,e),new Re(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pn:Math.pow(pn,e),new Re(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Re(Tt(this.r),Tt(this.g),Tt(this.b),Zn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tc,formatHex:tc,formatHex8:Gb,formatRgb:nc,toString:nc}));function tc(){return`#${Ct(this.r)}${Ct(this.g)}${Ct(this.b)}`}function Gb(){return`#${Ct(this.r)}${Ct(this.g)}${Ct(this.b)}${Ct((isNaN(this.opacity)?1:this.opacity)*255)}`}function nc(){const e=Zn(this.opacity);return`${e===1?"rgb(":"rgba("}${Tt(this.r)}, ${Tt(this.g)}, ${Tt(this.b)}${e===1?")":`, ${e})`}`}function Zn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Tt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ct(e){return e=Tt(e),(e<16?"0":"")+e.toString(16)}function rc(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new $e(e,t,n,r)}function cg(e){if(e instanceof $e)return new $e(e.h,e.s,e.l,e.opacity);if(e instanceof En||(e=yn(e)),!e)return new $e;if(e instanceof $e)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new $e(a,s,u,e.opacity)}function Vb(e,t,n,r){return arguments.length===1?cg(e):new $e(e,t,n,r==null?1:r)}function $e(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ml($e,Vb,lg(En,{brighter(e){return e=e==null?Wn:Math.pow(Wn,e),new $e(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pn:Math.pow(pn,e),new $e(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Re(Hr(e>=240?e-240:e+120,i,r),Hr(e,i,r),Hr(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new $e(ic(this.h),Pn(this.s),Pn(this.l),Zn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Zn(this.opacity);return`${e===1?"hsl(":"hsla("}${ic(this.h)}, ${Pn(this.s)*100}%, ${Pn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ic(e){return e=(e||0)%360,e<0?e+360:e}function Pn(e){return Math.max(0,Math.min(1,e||0))}function Hr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const dg=e=>()=>e;function Hb(e,t){return function(n){return e+n*t}}function Ub(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function jb(e){return(e=+e)==1?fg:function(t,n){return n-t?Ub(t,n,e):dg(isNaN(t)?n:t)}}function fg(e,t){var n=t-e;return n?Hb(e,n):dg(isNaN(e)?t:e)}const oc=function e(t){var n=jb(t);function r(i,o){var a=n((i=Ju(i)).r,(o=Ju(o)).r),s=n(i.g,o.g),u=n(i.b,o.b),c=fg(i.opacity,o.opacity);return function(l){return i.r=a(l),i.g=s(l),i.b=u(l),i.opacity=c(l),i+""}}return r.gamma=e,r}(1);function pt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Qu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ur=new RegExp(Qu.source,"g");function Yb(e){return function(){return e}}function Kb(e){return function(t){return e(t)+""}}function Xb(e,t){var n=Qu.lastIndex=Ur.lastIndex=0,r,i,o,a=-1,s=[],u=[];for(e=e+"",t=t+"";(r=Qu.exec(e))&&(i=Ur.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:pt(r,i)})),n=Ur.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?Kb(u[0].x):Yb(t):(t=u.length,function(c){for(var l=0,d;l<t;++l)s[(d=u[l]).i]=d.x(c);return s.join("")})}var ac=180/Math.PI,el={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function hg(e,t,n,r,i,o){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*ac,skewX:Math.atan(u)*ac,scaleX:a,scaleY:s}}var On;function Wb(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?el:hg(t.a,t.b,t.c,t.d,t.e,t.f)}function Zb(e){return e==null||(On||(On=document.createElementNS("http://www.w3.org/2000/svg","g")),On.setAttribute("transform",e),!(e=On.transform.baseVal.consolidate()))?el:(e=e.matrix,hg(e.a,e.b,e.c,e.d,e.e,e.f))}function vg(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,l,d,f,h,g){if(c!==d||l!==f){var v=h.push("translate(",null,t,null,n);g.push({i:v-4,x:pt(c,d)},{i:v-2,x:pt(l,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function a(c,l,d,f){c!==l?(c-l>180?l+=360:l-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:pt(c,l)})):l&&d.push(i(d)+"rotate("+l+r)}function s(c,l,d,f){c!==l?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:pt(c,l)}):l&&d.push(i(d)+"skewX("+l+r)}function u(c,l,d,f,h,g){if(c!==d||l!==f){var v=h.push(i(h)+"scale(",null,",",null,")");g.push({i:v-4,x:pt(c,d)},{i:v-2,x:pt(l,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(c,l){var d=[],f=[];return c=e(c),l=e(l),o(c.translateX,c.translateY,l.translateX,l.translateY,d,f),a(c.rotate,l.rotate,d,f),s(c.skewX,l.skewX,d,f),u(c.scaleX,c.scaleY,l.scaleX,l.scaleY,d,f),c=l=null,function(h){for(var g=-1,v=f.length,y;++g<v;)d[(y=f[g]).i]=y.x(h);return d.join("")}}}var Jb=vg(Wb,"px, ","px)","deg)"),Qb=vg(Zb,", ",")",")"),e0=1e-12;function sc(e){return((e=Math.exp(e))+1/e)/2}function t0(e){return((e=Math.exp(e))-1/e)/2}function n0(e){return((e=Math.exp(2*e))-1)/(e+1)}const r0=function e(t,n,r){function i(o,a){var s=o[0],u=o[1],c=o[2],l=a[0],d=a[1],f=a[2],h=l-s,g=d-u,v=h*h+g*g,y,w;if(v<e0)w=Math.log(f/c)/t,y=function(R){return[s+R*h,u+R*g,c*Math.exp(t*R*w)]};else{var m=Math.sqrt(v),I=(f*f-c*c+r*v)/(2*c*n*m),S=(f*f-c*c-r*v)/(2*f*n*m),P=Math.log(Math.sqrt(I*I+1)-I),M=Math.log(Math.sqrt(S*S+1)-S);w=(M-P)/t,y=function(R){var B=R*w,D=sc(P),A=c/(n*m)*(D*n0(t*B+P)-t0(P));return[s+A*h,u+A*g,c*D/sc(t*B+P)]}}return y.duration=w*1e3*t/Math.SQRT2,y}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,u=s*s;return e(a,s,u)},i}(Math.SQRT2,2,4);var Xt=0,an=0,rn=0,pg=1e3,Jn,sn,Qn=0,Ot=0,hr=0,mn=typeof performance=="object"&&performance.now?performance:Date,gg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function _l(){return Ot||(gg(i0),Ot=mn.now()+hr)}function i0(){Ot=0}function er(){this._call=this._time=this._next=null}er.prototype=yg.prototype={constructor:er,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?_l():+n)+(t==null?0:+t),!this._next&&sn!==this&&(sn?sn._next=this:Jn=this,sn=this),this._call=e,this._time=n,tl()},stop:function(){this._call&&(this._call=null,this._time=1/0,tl())}};function yg(e,t,n){var r=new er;return r.restart(e,t,n),r}function o0(){_l(),++Xt;for(var e=Jn,t;e;)(t=Ot-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Xt}function uc(){Ot=(Qn=mn.now())+hr,Xt=an=0;try{o0()}finally{Xt=0,s0(),Ot=0}}function a0(){var e=mn.now(),t=e-Qn;t>pg&&(hr-=t,Qn=e)}function s0(){for(var e,t=Jn,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Jn=n);sn=e,tl(r)}function tl(e){if(!Xt){an&&(an=clearTimeout(an));var t=e-Ot;t>24?(e<1/0&&(an=setTimeout(uc,e-mn.now()-hr)),rn&&(rn=clearInterval(rn))):(rn||(Qn=mn.now(),rn=setInterval(a0,pg)),Xt=1,gg(uc))}}function lc(e,t,n){var r=new er;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var u0=dr("start","end","cancel","interrupt"),l0=[],mg=0,cc=1,nl=2,jn=3,dc=4,rl=5,Yn=6;function vr(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;c0(e,n,{name:t,index:r,group:i,on:u0,tween:l0,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:mg})}function bl(e,t){var n=Be(e,t);if(n.state>mg)throw new Error("too late; already scheduled");return n}function Ye(e,t){var n=Be(e,t);if(n.state>jn)throw new Error("too late; already running");return n}function Be(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function c0(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=yg(o,0,n.time);function o(c){n.state=cc,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var l,d,f,h;if(n.state!==cc)return u();for(l in r)if(h=r[l],h.name===n.name){if(h.state===jn)return lc(a);h.state===dc?(h.state=Yn,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[l]):+l<t&&(h.state=Yn,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[l])}if(lc(function(){n.state===jn&&(n.state=dc,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=nl,n.on.call("start",e,e.__data__,n.index,n.group),n.state===nl){for(n.state=jn,i=new Array(f=n.tween.length),l=0,d=-1;l<f;++l)(h=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function s(c){for(var l=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=rl,1),d=-1,f=i.length;++d<f;)i[d].call(e,l);n.state===rl&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Yn,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Kn(e,t){var n=e.__transition,r,i,o=!0,a;if(!!n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>nl&&r.state<rl,r.state=Yn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function d0(e){return this.each(function(){Kn(this,e)})}function f0(e,t){var n,r;return function(){var i=Ye(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function h0(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Ye(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===t){i[u]=s;break}u===c&&i.push(s)}o.tween=i}}function v0(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Be(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?f0:h0)(n,e,t))}function wl(e,t,n){var r=e._id;return e.each(function(){var i=Ye(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Be(i,r).value[t]}}function _g(e,t){var n;return(typeof t=="number"?pt:t instanceof yn?oc:(n=yn(t))?(t=n,oc):Xb)(e,t)}function p0(e){return function(){this.removeAttribute(e)}}function g0(e){return function(){this.removeAttributeNS(e.space,e.local)}}function y0(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function m0(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function _0(e,t,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s)))}}function b0(e,t,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s)))}}function w0(e,t){var n=fr(e),r=n==="transform"?Qb:_g;return this.attrTween(e,typeof t=="function"?(n.local?b0:_0)(n,r,wl(this,"attr."+e,t)):t==null?(n.local?g0:p0)(n):(n.local?m0:y0)(n,r,t))}function E0(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function S0(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function x0(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&S0(e,o)),n}return i._value=t,i}function I0(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&E0(e,o)),n}return i._value=t,i}function C0(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=fr(e);return this.tween(n,(r.local?x0:I0)(r,t))}function N0(e,t){return function(){bl(this,e).delay=+t.apply(this,arguments)}}function T0(e,t){return t=+t,function(){bl(this,e).delay=t}}function R0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?N0:T0)(t,e)):Be(this.node(),t).delay}function A0(e,t){return function(){Ye(this,e).duration=+t.apply(this,arguments)}}function q0(e,t){return t=+t,function(){Ye(this,e).duration=t}}function M0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?A0:q0)(t,e)):Be(this.node(),t).duration}function P0(e,t){if(typeof t!="function")throw new Error;return function(){Ye(this,e).ease=t}}function O0(e){var t=this._id;return arguments.length?this.each(P0(t,e)):Be(this.node(),t).ease}function k0(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ye(this,e).ease=n}}function D0(e){if(typeof e!="function")throw new Error;return this.each(k0(this._id,e))}function $0(e){typeof e!="function"&&(e=Zp(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],u,c=0;c<a;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&s.push(u);return new ot(r,this._parents,this._name,this._id)}function B0(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u=t[s],c=n[s],l=u.length,d=a[s]=new Array(l),f,h=0;h<l;++h)(f=u[h]||c[h])&&(d[h]=f);for(;s<r;++s)a[s]=t[s];return new ot(a,this._parents,this._name,this._id)}function L0(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function F0(e,t,n){var r,i,o=L0(t)?bl:Ye;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function z0(e,t){var n=this._id;return arguments.length<2?Be(this.node(),n).on.on(e):this.each(F0(n,e,t))}function G0(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function V0(){return this.on("end.remove",G0(this._id))}function H0(e){var t=this._name,n=this._id;typeof e!="function"&&(e=gl(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],u=s.length,c=o[a]=new Array(u),l,d,f=0;f<u;++f)(l=s[f])&&(d=e.call(l,l.__data__,f,s))&&("__data__"in l&&(d.__data__=l.__data__),c[f]=d,vr(c[f],t,n,f,c,Be(l,n)));return new ot(o,this._parents,t,n)}function U0(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Wp(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u=r[s],c=u.length,l,d=0;d<c;++d)if(l=u[d]){for(var f=e.call(l,l.__data__,d,u),h,g=Be(l,n),v=0,y=f.length;v<y;++v)(h=f[v])&&vr(h,t,n,v,f,g);o.push(f),a.push(l)}return new ot(o,a,t,n)}var j0=wn.prototype.constructor;function Y0(){return new j0(this._groups,this._parents)}function K0(e,t){var n,r,i;return function(){var o=Kt(this,e),a=(this.style.removeProperty(e),Kt(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function bg(e){return function(){this.style.removeProperty(e)}}function X0(e,t,n){var r,i=n+"",o;return function(){var a=Kt(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function W0(e,t,n){var r,i,o;return function(){var a=Kt(this,e),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),Kt(this,e))),a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s))}}function Z0(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var u=Ye(this,e),c=u.on,l=u.value[o]==null?s||(s=bg(t)):void 0;(c!==n||i!==l)&&(r=(n=c).copy()).on(a,i=l),u.on=r}}function J0(e,t,n){var r=(e+="")=="transform"?Jb:_g;return t==null?this.styleTween(e,K0(e,r)).on("end.style."+e,bg(e)):typeof t=="function"?this.styleTween(e,W0(e,r,wl(this,"style."+e,t))).each(Z0(this._id,e)):this.styleTween(e,X0(e,r,t),n).on("end.style."+e,null)}function Q0(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function ew(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&Q0(e,a,n)),r}return o._value=t,o}function tw(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,ew(e,t,n==null?"":n))}function nw(e){return function(){this.textContent=e}}function rw(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function iw(e){return this.tween("text",typeof e=="function"?rw(wl(this,"text",e)):nw(e==null?"":e+""))}function ow(e){return function(t){this.textContent=e.call(this,t)}}function aw(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&ow(i)),t}return r._value=e,r}function sw(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,aw(e))}function uw(){for(var e=this._name,t=this._id,n=wg(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,c=0;c<s;++c)if(u=a[c]){var l=Be(u,t);vr(u,e,n,c,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new ot(r,this._parents,e,n)}function lw(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--i===0&&o()}};n.each(function(){var c=Ye(this,r),l=c.on;l!==e&&(t=(e=l).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),c.on=t}),i===0&&o()})}var cw=0;function ot(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function wg(){return++cw}var We=wn.prototype;ot.prototype={constructor:ot,select:H0,selectAll:U0,selectChild:We.selectChild,selectChildren:We.selectChildren,filter:$0,merge:B0,selection:Y0,transition:uw,call:We.call,nodes:We.nodes,node:We.node,size:We.size,empty:We.empty,each:We.each,on:z0,attr:w0,attrTween:C0,style:J0,styleTween:tw,text:iw,textTween:sw,remove:V0,tween:v0,delay:R0,duration:M0,ease:O0,easeVarying:D0,end:lw,[Symbol.iterator]:We[Symbol.iterator]};function dw(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var fw={time:null,delay:0,duration:250,ease:dw};function hw(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function vw(e){var t,n;e instanceof ot?(t=e._id,e=e._name):(t=wg(),(n=fw).time=_l(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,c=0;c<s;++c)(u=a[c])&&vr(u,e,t,c,a,n||hw(u,t));return new ot(r,this._parents,e,t)}wn.prototype.interrupt=d0;wn.prototype.transition=vw;const kn=e=>()=>e;function pw(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function et(e,t,n){this.k=e,this.x=t,this.y=n}et.prototype={constructor:et,scale:function(e){return e===1?this:new et(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new et(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Wt=new et(1,0,0);et.prototype;function jr(e){e.stopImmediatePropagation()}function on(e){e.preventDefault(),e.stopImmediatePropagation()}function gw(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function yw(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function fc(){return this.__zoom||Wt}function mw(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function _w(){return navigator.maxTouchPoints||"ontouchstart"in this}function bw(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function ww(){var e=gw,t=yw,n=bw,r=mw,i=_w,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,u=r0,c=dr("start","zoom","end"),l,d,f,h=500,g=150,v=0,y=10;function w(E){E.property("__zoom",fc).on("wheel.zoom",B,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",A).filter(i).on("touchstart.zoom",b).on("touchmove.zoom",G).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(E,T,N,k){var $=E.selection?E.selection():E;$.property("__zoom",fc),E!==$?P(E,T,N,k):$.interrupt().each(function(){M(this,arguments).event(k).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},w.scaleBy=function(E,T,N,k){w.scaleTo(E,function(){var $=this.__zoom.k,L=typeof T=="function"?T.apply(this,arguments):T;return $*L},N,k)},w.scaleTo=function(E,T,N,k){w.transform(E,function(){var $=t.apply(this,arguments),L=this.__zoom,V=N==null?S($):typeof N=="function"?N.apply(this,arguments):N,z=L.invert(V),ee=typeof T=="function"?T.apply(this,arguments):T;return n(I(m(L,ee),V,z),$,a)},N,k)},w.translateBy=function(E,T,N,k){w.transform(E,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof N=="function"?N.apply(this,arguments):N),t.apply(this,arguments),a)},null,k)},w.translateTo=function(E,T,N,k,$){w.transform(E,function(){var L=t.apply(this,arguments),V=this.__zoom,z=k==null?S(L):typeof k=="function"?k.apply(this,arguments):k;return n(Wt.translate(z[0],z[1]).scale(V.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof N=="function"?-N.apply(this,arguments):-N),L,a)},k,$)};function m(E,T){return T=Math.max(o[0],Math.min(o[1],T)),T===E.k?E:new et(T,E.x,E.y)}function I(E,T,N){var k=T[0]-N[0]*E.k,$=T[1]-N[1]*E.k;return k===E.x&&$===E.y?E:new et(E.k,k,$)}function S(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function P(E,T,N,k){E.on("start.zoom",function(){M(this,arguments).event(k).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(k).end()}).tween("zoom",function(){var $=this,L=arguments,V=M($,L).event(k),z=t.apply($,L),ee=N==null?S(z):typeof N=="function"?N.apply($,L):N,U=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),F=$.__zoom,X=typeof T=="function"?T.apply($,L):T,ce=u(F.invert(ee).concat(U/F.k),X.invert(ee).concat(U/X.k));return function(le){if(le===1)le=X;else{var de=ce(le),ne=U/de[2];le=new et(ne,ee[0]-de[0]*ne,ee[1]-de[1]*ne)}V.zoom(null,le)}})}function M(E,T,N){return!N&&E.__zooming||new R(E,T)}function R(E,T){this.that=E,this.args=T,this.active=0,this.sourceEvent=null,this.extent=t.apply(E,T),this.taps=0}R.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,T){return this.mouse&&E!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var T=De(this.that).datum();c.call(E,this.that,new pw(E,{sourceEvent:this.sourceEvent,target:w,type:E,transform:this.that.__zoom,dispatch:c}),T)}};function B(E,...T){if(!e.apply(this,arguments))return;var N=M(this,T).event(E),k=this.__zoom,$=Math.max(o[0],Math.min(o[1],k.k*Math.pow(2,r.apply(this,arguments)))),L=Ge(E);if(N.wheel)(N.mouse[0][0]!==L[0]||N.mouse[0][1]!==L[1])&&(N.mouse[1]=k.invert(N.mouse[0]=L)),clearTimeout(N.wheel);else{if(k.k===$)return;N.mouse=[L,k.invert(L)],Kn(this),N.start()}on(E),N.wheel=setTimeout(V,g),N.zoom("mouse",n(I(m(k,$),N.mouse[0],N.mouse[1]),N.extent,a));function V(){N.wheel=null,N.end()}}function D(E,...T){if(f||!e.apply(this,arguments))return;var N=E.currentTarget,k=M(this,T,!0).event(E),$=De(E.view).on("mousemove.zoom",ee,!0).on("mouseup.zoom",U,!0),L=Ge(E,N),V=E.clientX,z=E.clientY;sg(E.view),jr(E),k.mouse=[L,this.__zoom.invert(L)],Kn(this),k.start();function ee(F){if(on(F),!k.moved){var X=F.clientX-V,ce=F.clientY-z;k.moved=X*X+ce*ce>v}k.event(F).zoom("mouse",n(I(k.that.__zoom,k.mouse[0]=Ge(F,N),k.mouse[1]),k.extent,a))}function U(F){$.on("mousemove.zoom mouseup.zoom",null),ug(F.view,k.moved),on(F),k.event(F).end()}}function A(E,...T){if(!!e.apply(this,arguments)){var N=this.__zoom,k=Ge(E.changedTouches?E.changedTouches[0]:E,this),$=N.invert(k),L=N.k*(E.shiftKey?.5:2),V=n(I(m(N,L),k,$),t.apply(this,T),a);on(E),s>0?De(this).transition().duration(s).call(P,V,k,E):De(this).call(w.transform,V,k,E)}}function b(E,...T){if(!!e.apply(this,arguments)){var N=E.touches,k=N.length,$=M(this,T,E.changedTouches.length===k).event(E),L,V,z,ee;for(jr(E),V=0;V<k;++V)z=N[V],ee=Ge(z,this),ee=[ee,this.__zoom.invert(ee),z.identifier],$.touch0?!$.touch1&&$.touch0[2]!==ee[2]&&($.touch1=ee,$.taps=0):($.touch0=ee,L=!0,$.taps=1+!!l);l&&(l=clearTimeout(l)),L&&($.taps<2&&(d=ee[0],l=setTimeout(function(){l=null},h)),Kn(this),$.start())}}function G(E,...T){if(!!this.__zooming){var N=M(this,T).event(E),k=E.changedTouches,$=k.length,L,V,z,ee;for(on(E),L=0;L<$;++L)V=k[L],z=Ge(V,this),N.touch0&&N.touch0[2]===V.identifier?N.touch0[0]=z:N.touch1&&N.touch1[2]===V.identifier&&(N.touch1[0]=z);if(V=N.that.__zoom,N.touch1){var U=N.touch0[0],F=N.touch0[1],X=N.touch1[0],ce=N.touch1[1],le=(le=X[0]-U[0])*le+(le=X[1]-U[1])*le,de=(de=ce[0]-F[0])*de+(de=ce[1]-F[1])*de;V=m(V,Math.sqrt(le/de)),z=[(U[0]+X[0])/2,(U[1]+X[1])/2],ee=[(F[0]+ce[0])/2,(F[1]+ce[1])/2]}else if(N.touch0)z=N.touch0[0],ee=N.touch0[1];else return;N.zoom("touch",n(I(V,z,ee),N.extent,a))}}function W(E,...T){if(!!this.__zooming){var N=M(this,T).event(E),k=E.changedTouches,$=k.length,L,V;for(jr(E),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),L=0;L<$;++L)V=k[L],N.touch0&&N.touch0[2]===V.identifier?delete N.touch0:N.touch1&&N.touch1[2]===V.identifier&&delete N.touch1;if(N.touch1&&!N.touch0&&(N.touch0=N.touch1,delete N.touch1),N.touch0)N.touch0[1]=this.__zoom.invert(N.touch0[0]);else if(N.end(),N.taps===2&&(V=Ge(V,this),Math.hypot(d[0]-V[0],d[1]-V[1])<y)){var z=De(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return w.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:kn(+E),w):r},w.filter=function(E){return arguments.length?(e=typeof E=="function"?E:kn(!!E),w):e},w.touchable=function(E){return arguments.length?(i=typeof E=="function"?E:kn(!!E),w):i},w.extent=function(E){return arguments.length?(t=typeof E=="function"?E:kn([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),w):t},w.scaleExtent=function(E){return arguments.length?(o[0]=+E[0],o[1]=+E[1],w):[o[0],o[1]]},w.translateExtent=function(E){return arguments.length?(a[0][0]=+E[0][0],a[1][0]=+E[1][0],a[0][1]=+E[0][1],a[1][1]=+E[1][1],w):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},w.constrain=function(E){return arguments.length?(n=E,w):n},w.duration=function(E){return arguments.length?(s=+E,w):s},w.interpolate=function(E){return arguments.length?(u=E,w):u},w.on=function(){var E=c.on.apply(c,arguments);return E===c?w:E},w.clickDistance=function(E){return arguments.length?(v=(E=+E)*E,w):Math.sqrt(v)},w.tapDistance=function(E){return arguments.length?(y=+E,w):y},w}var J=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(J||{}),El=(e=>(e.Partial="partial",e.Full="full",e))(El||{}),xt=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(xt||{}),kt=(e=>(e.Strict="strict",e.Loose="loose",e))(kt||{}),il=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(il||{}),fn=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(fn||{}),Ew=(e=>(e.TopLeft="top-left",e.TopCenter="top-center",e.TopRight="top-right",e.BottomLeft="bottom-left",e.BottomCenter="bottom-center",e.BottomRight="bottom-right",e))(Ew||{});function ol(e){var t,n;const r=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,i=typeof(r==null?void 0:r.hasAttribute)=="function"?r.hasAttribute("contenteditable"):!1,o=typeof(r==null?void 0:r.closest)=="function"?r.closest(".nokey"):null;return["INPUT","SELECT","TEXTAREA"].includes(r==null?void 0:r.nodeName)||i||!!o}function Sw(e){return e.ctrlKey||e.metaKey||e.shiftKey}function hc(e,t,n,r){const i=t.split("+").map(o=>o.trim().toLowerCase());return i.length===1?e.toLowerCase()===t.toLowerCase():(r?n.delete(e.toLowerCase()):n.add(e.toLowerCase()),i.every((o,a)=>n.has(o)&&Array.from(n.values())[a]===i[a]))}function xw(e,t){return n=>{if(!n.code&&!n.key)return!1;const r=Iw(n.code,e);return Array.isArray(e)?e.some(i=>hc(n[r],i,t,n.type==="keyup")):hc(n[r],e,t,n.type==="keyup")}}function Iw(e,t){return typeof t=="string"?e===t?"code":"key":t.includes(e)?"code":"key"}function hn(e,t){const n=Se(()=>{var l;return(l=ve(t==null?void 0:t.actInsideInputWithModifier))!=null?l:!1}),r=Se(()=>{var l;return(l=ve(t==null?void 0:t.target))!=null?l:window}),i=me(ve(e)===!0);let o=!1;const a=new Set;let s=c(ve(e));ge(()=>ve(e),(l,d)=>{typeof d=="boolean"&&typeof l!="boolean"&&u(),s=c(l)},{immediate:!0}),st(()=>{Kp(window,["blur","contextmenu"],u)}),Kl((...l)=>s(...l),l=>{o=Sw(l),!((!o||o&&!n.value)&&ol(l))&&(l.preventDefault(),i.value=!0)},{eventName:"keydown",target:r}),Kl((...l)=>s(...l),l=>{if(i.value){if((!o||o&&!n.value)&&ol(l))return;u()}},{eventName:"keyup",target:r});function u(){o=!1,a.clear(),i.value=!1}function c(l){return l===null?(u(),()=>!1):typeof l=="boolean"?(u(),i.value=l,()=>!1):Array.isArray(l)||typeof l=="string"?xw(l,a):l}return i}const Eg="vue-flow__node-desc",Sg="vue-flow__edge-desc",Cw="vue-flow__aria-live",xg=["Enter"," ","Escape"],jt={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function al(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function sl(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)}function pr(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Dt(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function Ig(e,t){return{x:Dt(e.x,t[0][0],t[1][0]),y:Dt(e.y,t[0][1],t[1][1])}}function vc(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function bt(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function Rt(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!bt(e)}function un(e){return Rt(e)&&"computedPosition"in e}function Dn(e){return!Number.isNaN(e)&&Number.isFinite(e)}function Nw(e){return Dn(e.width)&&Dn(e.height)&&Dn(e.x)&&Dn(e.y)}function Tw(e,t,n){var i;const r={id:e.id.toString(),type:(i=e.type)!=null?i:"default",dimensions:Vt({width:0,height:0}),computedPosition:Vt({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:xe(e.data)?e.data:{},events:Vt(xe(e.events)?e.events:{})};return Object.assign(t!=null?t:r,e,{id:e.id.toString(),parentNode:n})}function Cg(e,t,n){var a,s,u,c,l,d,f;var r,i;const o={id:e.id.toString(),type:(s=(a=e.type)!=null?a:t==null?void 0:t.type)!=null?s:"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(r=e.sourceHandle)==null?void 0:r.toString(),targetHandle:(i=e.targetHandle)==null?void 0:i.toString(),updatable:(u=e.updatable)!=null?u:n==null?void 0:n.updatable,selectable:(c=e.selectable)!=null?c:n==null?void 0:n.selectable,focusable:(l=e.focusable)!=null?l:n==null?void 0:n.focusable,data:xe(e.data)?e.data:{},events:Vt(xe(e.events)?e.events:{}),label:(d=e.label)!=null?d:"",interactionWidth:(f=e.interactionWidth)!=null?f:n==null?void 0:n.interactionWidth,...n!=null?n:{}};return Object.assign(t!=null?t:o,e,{id:e.id.toString()})}function Ng(e,t,n,r){const i=typeof e=="string"?e:e.id,o=new Set,a=r==="source"?"target":"source";for(const s of n)s[a]===i&&o.add(s[r]);return t.filter(s=>o.has(s.id))}function Rw(...e){if(e.length===3){const[o,a,s]=e;return Ng(o,a,s,"target")}const[t,n]=e,r=typeof t=="string"?t:t.id;return n.filter(o=>bt(o)&&o.source===r).map(o=>n.find(a=>Rt(a)&&a.id===o.target))}function Aw(...e){if(e.length===3){const[o,a,s]=e;return Ng(o,a,s,"source")}const[t,n]=e,r=typeof t=="string"?t:t.id;return n.filter(o=>bt(o)&&o.target===r).map(o=>n.find(a=>Rt(a)&&a.id===o.source))}function Tg({source:e,sourceHandle:t,target:n,targetHandle:r}){return`vueflow__edge-${e}${t!=null?t:""}-${n}${r!=null?r:""}`}function qw(e,t){return t.some(n=>bt(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function Rg({x:e,y:t},{x:n,y:r,zoom:i}){return{x:e*i+n,y:t*i+r}}function tr({x:e,y:t},{x:n,y:r,zoom:i},o=!1,[a,s]=[1,1]){const u={x:(e-n)/i,y:(t-r)/i};return o?{x:a*Math.round(u.x/a),y:s*Math.round(u.y/s)}:u}function Ag(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function nr({x:e,y:t,width:n,height:r}){return{x:e,y:t,x2:e+n,y2:t+r}}function qg({x:e,y:t,x2:n,y2:r}){return{x:e,y:t,width:n-e,height:r-t}}function gT(e,t){return qg(Ag(nr(e),nr(t)))}function Mg(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const r=e[n];t=Ag(t,nr({...r.computedPosition,...r.dimensions}))}return qg(t)}function Pg(e,t,n={x:0,y:0,zoom:1},r=!1,i=!1){var s,u,c,l;const o={...tr(t,n),width:t.width/n.zoom,height:t.height/n.zoom},a=[];for(const d of e){const{dimensions:f,selectable:h=!0,hidden:g=!1}=d,v=(u=(s=f.width)!=null?s:d.width)!=null?u:null,y=(l=(c=f.height)!=null?c:d.height)!=null?l:null;if(i&&!h||g)continue;const w=sl(o,al(d)),m=v===null||y===null,I=r&&w>0,S=(v!=null?v:0)*(y!=null?y:0);(m||I||w>=S||d.dragging)&&a.push(d)}return a}function Og(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const r of e)n.add(r.id);return t.filter(r=>n.has(r.source)||n.has(r.target))}function pc(e,t,n,r,i,o=.1,a={x:0,y:0}){var v,y;const s=t/(e.width*(1+o)),u=n/(e.height*(1+o)),c=Math.min(s,u),l=Dt(c,r,i),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*l+((v=a.x)!=null?v:0),g=n/2-f*l+((y=a.y)!=null?y:0);return{x:h,y:g,zoom:l}}function Mw(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function kg(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return n?n.selected?!0:kg(n,t):!1}function _n(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`}function gc(e,t,n){return e<t?Dt(Math.abs(e-t),1,t)/t:e>n?-Dt(Math.abs(e-n),1,t)/t:0}function Dg(e,t,n=15,r=40){const i=gc(e.x,r,t.width-r)*n,o=gc(e.y,r,t.height-r)*n;return[i,o]}function Yr(e,t){var n,r;if(t){const i=e.position.x+e.dimensions.width-t.dimensions.width,o=e.position.y+e.dimensions.height-t.dimensions.height;if(i>0||o>0||e.position.x<0||e.position.y<0){let a={};if(typeof t.style=="function"?a={...t.style(t)}:t.style&&(a={...t.style}),a.width=(n=a.width)!=null?n:`${t.dimensions.width}px`,a.height=(r=a.height)!=null?r:`${t.dimensions.height}px`,i>0)if(typeof a.width=="string"){const s=Number(a.width.replace("px",""));a.width=`${s+i}px`}else a.width+=i;if(o>0)if(typeof a.height=="string"){const s=Number(a.height.replace("px",""));a.height=`${s+o}px`}else a.height+=o;if(e.position.x<0){const s=Math.abs(e.position.x);if(t.position.x=t.position.x-s,typeof a.width=="string"){const u=Number(a.width.replace("px",""));a.width=`${u+s}px`}else a.width+=s;e.position.x=0}if(e.position.y<0){const s=Math.abs(e.position.y);if(t.position.y=t.position.y-s,typeof a.height=="string"){const u=Number(a.height.replace("px",""));a.height=`${u+s}px`}else a.height+=s;e.position.y=0}t.dimensions.width=Number(a.width.toString().replace("px","")),t.dimensions.height=Number(a.height.toString().replace("px","")),typeof t.style=="function"?t.style=s=>{const u=t.style;return{...u(s),...a}}:t.style={...t.style,...a}}}}function yc(e,t){var n,r;const i=e.filter(a=>a.type==="add"||a.type==="remove");for(const a of i)if(a.type==="add")t.findIndex(u=>u.id===a.item.id)===-1&&t.push(a.item);else if(a.type==="remove"){const s=t.findIndex(u=>u.id===a.id);s!==-1&&t.splice(s,1)}const o=t.map(a=>a.id);for(const a of t)for(const s of e)if(s.id===a.id)switch(s.type){case"select":a.selected=s.selected;break;case"position":if(un(a)&&(typeof s.position<"u"&&(a.position=s.position),typeof s.dragging<"u"&&(a.dragging=s.dragging),a.expandParent&&a.parentNode)){const u=t[o.indexOf(a.parentNode)];u&&un(u)&&Yr(a,u)}break;case"dimensions":if(un(a)&&(typeof s.dimensions<"u"&&(a.dimensions=s.dimensions),typeof s.updateStyle<"u"&&(a.style={...a.style||{},width:`${(n=s.dimensions)==null?void 0:n.width}px`,height:`${(r=s.dimensions)==null?void 0:r.height}px`}),typeof s.resizing<"u"&&(a.resizing=s.resizing),a.expandParent&&a.parentNode)){const u=t[o.indexOf(a.parentNode)];u&&un(u)&&(!!u.dimensions.width&&!!u.dimensions.height?Yr(a,u):rt(()=>{Yr(a,u)}))}break}return t}function vt(e,t){return{id:e,type:"select",selected:t}}function mc(e){return{item:e,type:"add"}}function _c(e){return{id:e,type:"remove"}}function bc(e,t,n,r,i){return{id:e,source:t,target:n,sourceHandle:r||null,targetHandle:i||null,type:"remove"}}function gt(e,t=new Set,n=!1){const r=[];for(const[i,o]of e){const a=t.has(i);!(o.selected===void 0&&!a)&&o.selected!==a&&(n&&(o.selected=a),r.push(vt(o.id,a)))}return r}function H(e){const t=new Set;let n=!1;const r=()=>t.size>0;e&&(n=!0,t.add(e));const i=s=>{t.delete(s)};return{on:s=>{e&&n&&t.delete(e),t.add(s);const u=()=>{i(s),e&&n&&t.add(e)};return cr(u),{off:u}},off:i,trigger:s=>Promise.all(Array.from(t).map(u=>u(s))),hasListeners:r,fns:t}}function wc(e,t,n){let r=e;do{if(r&&r.matches(t))return!0;if(r===n)return!1;r=r.parentElement}while(r);return!1}function Pw(e,t,n,r,i){var o,a;const s=[];for(const u of e)(u.selected||u.id===i)&&(!u.parentNode||!kg(u,r))&&(u.draggable||t&&typeof u.draggable>"u")&&s.push(Vt({id:u.id,position:u.position||{x:0,y:0},distance:{x:n.x-((o=u.computedPosition)==null?void 0:o.x)||0,y:n.y-((a=u.computedPosition)==null?void 0:a.y)||0},from:u.computedPosition,extent:u.extent,parentNode:u.parentNode,dimensions:u.dimensions,expandParent:u.expandParent}));return s}function Kr({id:e,dragItems:t,findNode:n}){const r=[];for(const i of t){const o=n(i.id);o&&r.push(o)}return[e?r.find(i=>i.id===e):r[0],r]}function $g(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function Ow(e,t,n){const[r,i,o,a]=typeof e!="string"?$g(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+a,n.computedPosition.y+r],[n.computedPosition.x+n.dimensions.width-i,n.computedPosition.y+n.dimensions.height-o]]:!1}function kw(e,t,n,r){let i=e.extent||n;if((i==="parent"||!Array.isArray(i)&&(i==null?void 0:i.range)==="parent")&&!e.expandParent)if(e.parentNode&&r&&e.dimensions.width&&e.dimensions.height){const o=Ow(i,e,r);o&&(i=o)}else t(new Ne(Ie.NODE_EXTENT_INVALID,e.id)),i=n;else if(Array.isArray(i)){const o=(r==null?void 0:r.computedPosition.x)||0,a=(r==null?void 0:r.computedPosition.y)||0;i=[[i[0][0]+o,i[0][1]+a],[i[1][0]+o,i[1][1]+a]]}else if(i!=="parent"&&(i==null?void 0:i.range)&&Array.isArray(i.range)){const[o,a,s,u]=$g(i.padding),c=(r==null?void 0:r.computedPosition.x)||0,l=(r==null?void 0:r.computedPosition.y)||0;i=[[i.range[0][0]+c+u,i.range[0][1]+l+o],[i.range[1][0]+c-a,i.range[1][1]+l-s]]}return i==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:i}function Dw({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function Sl(e,t,n,r,i){const o=Dw(e.dimensions,kw(e,n,r,i)),a=Ig(t,o);return{position:{x:a.x-((i==null?void 0:i.computedPosition.x)||0),y:a.y-((i==null?void 0:i.computedPosition.y)||0)},computedPosition:a}}function rr(e,t,n=J.Left){var u,c,l;const r=((u=t==null?void 0:t.x)!=null?u:0)+e.computedPosition.x,i=((c=t==null?void 0:t.y)!=null?c:0)+e.computedPosition.y,{width:o,height:a}=t!=null?t:Lw(e);switch((l=t==null?void 0:t.position)!=null?l:n){case J.Top:return{x:r+o/2,y:i};case J.Right:return{x:r+o,y:i+a/2};case J.Bottom:return{x:r+o/2,y:i+a};case J.Left:return{x:r,y:i+a/2}}}function Ec(e=[],t){return e.length&&(t?e.find(n=>n.id===t):e[0])||null}function $w({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:a,height:s,viewport:u}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const l=nr({x:(0-u.x)/u.zoom,y:(0-u.y)/u.zoom,width:a/u.zoom,height:s/u.zoom}),d=Math.max(0,Math.min(l.x2,c.x2)-Math.max(l.x,c.x)),f=Math.max(0,Math.min(l.y2,c.y2)-Math.max(l.y,c.y));return Math.ceil(d*f)>0}function Bw(e,t,n=!1){const r=typeof e.zIndex=="number";let i=r?e.zIndex:0;const o=t(e.source),a=t(e.target);return!o||!a?0:(n&&(i=r?e.zIndex:Math.max(o.computedPosition.z||0,a.computedPosition.z||0)),i)}var Ie=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(Ie||{});const Sc={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class Ne extends Error{constructor(t,...n){var r;super((r=Sc[t])==null?void 0:r.call(Sc,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function xl(e){return"clientX"in e}function mt(e,t){var s,u;var n,r;const i=xl(e),o=i?e.clientX:(n=e.touches)==null?void 0:n[0].clientX,a=i?e.clientY:(r=e.touches)==null?void 0:r[0].clientY;return{x:o-((s=t==null?void 0:t.left)!=null?s:0),y:a-((u=t==null?void 0:t.top)!=null?u:0)}}const ir=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Lw(e){var r,i,o,a;var t,n;return{width:(i=(r=(t=e.dimensions)==null?void 0:t.width)!=null?r:e.width)!=null?i:0,height:(a=(o=(n=e.dimensions)==null?void 0:n.height)!=null?o:e.height)!=null?a:0}}function Bg(){return{handleDomNode:null,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},endHandle:null}}function Xr(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function xc(e,t,n,r){const i=[];for(const o of t[n]||[])if(`${e.id}-${o.id}-${n}`!==r){const{x:a,y:s}=rr(e,o);i.push({id:o.id||null,type:n,nodeId:e.id,x:a,y:s})}return i}function Fw(e,t,n,r,i,o){const{x:a,y:s}=mt(e),c=t.elementsFromPoint(a,s).find(g=>g.classList.contains("vue-flow__handle"));if(c){const g=c.getAttribute("data-nodeid");if(g){const v=Il(void 0,c),y=c.getAttribute("data-handleid"),w=o({nodeId:g,id:y,type:v});if(w){const m=i.find(I=>I.nodeId===g&&I.type===v&&I.id===y);return{handle:{id:y,type:v,nodeId:g,x:(m==null?void 0:m.x)||n.x,y:(m==null?void 0:m.y)||n.y},validHandleResult:w}}}}let l=[],d=Number.POSITIVE_INFINITY;for(const g of i){const v=Math.sqrt((g.x-n.x)**2+(g.y-n.y)**2);if(v<=r){const y=o(g);v<=d&&(v<d?l=[{handle:g,validHandleResult:y}]:v===d&&l.push({handle:g,validHandleResult:y}),d=v)}}if(!l.length)return{handle:null,validHandleResult:Bg()};if(l.length===1)return l[0];const f=l.some(({validHandleResult:g})=>g.isValid),h=l.some(({handle:g})=>g.type==="target");return l.find(({handle:g,validHandleResult:v})=>h?g.type==="target":f?v.isValid:!0)||l[0]}function Ic(e,t,n,r,i,o,a,s,u,c,l){const d=o==="target",f=s.querySelector(`.vue-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),{x:h,y:g}=mt(e),v=s.elementFromPoint(h,g),y=v!=null&&v.classList.contains("vue-flow__handle")?v:f,w=Bg();if(y){w.handleDomNode=y;const m=Il(void 0,y),I=y.getAttribute("data-nodeid"),S=y.getAttribute("data-handleid"),P=y.classList.contains("connectable"),M=y.classList.contains("connectableend"),R={source:d?I:r,sourceHandle:d?S:i,target:d?r:I,targetHandle:d?i:S};w.connection=R,P&&M&&(n===kt.Strict?d&&m==="source"||!d&&m==="target":I!==r||S!==i)&&(w.isValid=a(R,{edges:u,nodes:c,sourceNode:l(R.source),targetNode:l(R.target)}),w.endHandle={nodeId:I,handleId:S,type:m,position:w.isValid?y.getAttribute("data-handlepos"):null})}return w}function zw({nodes:e,nodeId:t,handleId:n,handleType:r}){const i=[];for(let o=0;o<e.length;o++){const a=e[o],{handleBounds:s}=a;let u=[],c=[];s&&(u=xc(a,s,"source",`${t}-${n}-${r}`),c=xc(a,s,"target",`${t}-${n}-${r}`)),i.push(...u,...c)}return i}function Il(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Gw(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}const Vw=["production","prod"];function gr(e,...t){Lg()&&console.warn(`[Vue Flow]: ${e}`,...t)}function Lg(){return!Vw.includes("production")}function Cc(e,t,n,r){const i=t.querySelectorAll(`.vue-flow__handle${e}`);return Array.from(i).map(a=>{const s=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(s.left-n.left)/r,y:(s.top-n.top)/r,...pr(a)}})}function ul(e,t,n,r,i,o=!1,a){i.value=!1,e.selected?(o||e.selected&&t)&&(r([e]),rt(()=>{a.blur()})):n([e])}function xe(e){return typeof re(e)<"u"}function Hw(e,t,n,r){var o;if(!e||!e.source||!e.target)return n(new Ne(Ie.EDGE_INVALID,(o=e==null?void 0:e.id)!=null?o:"[ID UNKNOWN]")),!1;let i;return bt(e)?i=e:i={...e,id:Tg(e)},i=Cg(i,void 0,r),qw(i,t)?!1:i}function Uw(e,t,n,r,i,o){if(!t.source||!t.target)return o(new Ne(Ie.EDGE_INVALID,e.id)),!1;const a=r(e.id);if(!a)return o(new Ne(Ie.EDGE_NOT_FOUND,e.id)),!1;const{id:s,...u}=e,c={...u,id:i?Tg(t):s,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle};return n.splice(n.indexOf(a),1,c),c}function Nc(e,t,n){const r={},i=[];for(let o=0;o<e.length;++o){const a=e[o];if(!Rt(a)){n(new Ne(Ie.NODE_INVALID,a==null?void 0:a.id)||`[ID UNKNOWN|INDEX ${o}]`);continue}const s=Tw(a,t(a.id),a.parentNode);a.parentNode&&(r[a.parentNode]=!0),i[o]=s}for(const o of i){const a=t(o.parentNode)||i.find(s=>s.id===o.parentNode);o.parentNode&&!a&&n(new Ne(Ie.NODE_MISSING_PARENT,o.id,o.parentNode)),(o.parentNode||r[o.id])&&(r[o.id]&&(o.isParent=!0),a&&(a.isParent=!0))}return i}function Tc(e,t){e.clear();for(const n of t){const{id:r,source:i,target:o,sourceHandle:a=null,targetHandle:s=null}=n,u=`${i}-source-${a}`,c=`${o}-target-${s}`,l=e.get(u)||new Map,d=e.get(c)||new Map,f=Vt({edgeId:r,source:i,target:o,sourceHandle:a,targetHandle:s});e.set(u,l.set(`${o}-${s}`,f)),e.set(c,d.set(`${i}-${a}`,f))}}function Rc(e,t,n,r,i,o,a,s){const u=[];for(const c of e){const l=bt(c)?c:Hw(c,s,i,o);if(!l)continue;const d=n(l.source),f=n(l.target);if(!d||!f){i(new Ne(Ie.EDGE_SOURCE_TARGET_MISSING,l.id,l.source,l.target));continue}if(!d){i(new Ne(Ie.EDGE_SOURCE_MISSING,l.id,l.source));continue}if(!f){i(new Ne(Ie.EDGE_TARGET_MISSING,l.id,l.target));continue}if(t&&!t(l,{edges:s,nodes:a,sourceNode:d,targetNode:f})){i(new Ne(Ie.EDGE_INVALID,l.id));continue}const h=r(l.id);u.push({...Cg(l,h,o),sourceNode:d,targetNode:f})}return u}const Ac=Symbol("vueFlow"),Fg=Symbol("nodeId"),zg=Symbol("nodeRef"),jw=Symbol("edgeId"),Yw=Symbol("edgeRef"),yr=Symbol("slots");function Gg(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:r,noDragClassName:i,nodes:o,nodeExtent:a,nodeDragThreshold:s,viewport:u,autoPanOnNodeDrag:c,autoPanSpeed:l,nodesDraggable:d,panBy:f,findNode:h,multiSelectionActive:g,nodesSelectionActive:v,selectNodesOnDrag:y,removeSelectedElements:w,addSelectedNodes:m,updateNodePositions:I,emits:S}=we(),{onStart:P,onDrag:M,onStop:R,onClick:B,el:D,disabled:A,id:b,selectable:G,dragHandle:W}=e,E=me(!1);let T=[],N,k=null,$={x:void 0,y:void 0},L={x:0,y:0},V=null,z=!1,ee=0,U=!1;const F=Ww(),X=({x:K,y:Z})=>{$={x:K,y:Z};let _=!1;if(T=T.map(p=>{const x={x:K-p.distance.x,y:Z-p.distance.y};n.value&&(x.x=r.value[0]*Math.round(x.x/r.value[0]),x.y=r.value[1]*Math.round(x.y/r.value[1]));const{computedPosition:C}=Sl(p,x,S.error,a.value,p.parentNode?h(p.parentNode):void 0);return _=_||p.position.x!==C.x||p.position.y!==C.y,p.position=C,p}),!!_&&(I(T,!0,!0),E.value=!0,V)){const[p,x]=Kr({id:b,dragItems:T,findNode:h});M({event:V,node:p,nodes:x})}},ce=()=>{var _,p;if(!k)return;const[K,Z]=Dg(L,k,l.value);if(K!==0||Z!==0){const x={x:((_=$.x)!=null?_:0)-K/u.value.zoom,y:((p=$.y)!=null?p:0)-Z/u.value.zoom};f({x:K,y:Z})&&X(x)}ee=requestAnimationFrame(ce)},le=(K,Z)=>{z=!0;const _=h(b);!y.value&&!g.value&&_&&(_.selected||w()),_&&ve(G)&&y.value&&ul(_,g.value,m,w,v,!1,Z);const p=F(K);if($=p,T=Pw(o.value,d.value,p,h,b),T.length){const[x,C]=Kr({id:b,dragItems:T,findNode:h});P({event:K.sourceEvent,node:x,nodes:C})}},de=(K,Z)=>{var _;K.sourceEvent.type==="touchmove"&&K.sourceEvent.touches.length>1||(s.value===0&&le(K,Z),$=F(K),k=((_=t.value)==null?void 0:_.getBoundingClientRect())||null,L=mt(K.sourceEvent,k))},ne=(K,Z)=>{var p,x;const _=F(K);if(!U&&z&&c.value&&(U=!0,ce()),!z){const C=_.xSnapped-((p=$.x)!=null?p:0),q=_.ySnapped-((x=$.y)!=null?x:0);Math.sqrt(C*C+q*q)>s.value&&le(K,Z)}($.x!==_.xSnapped||$.y!==_.ySnapped)&&T.length&&z&&(V=K.sourceEvent,L=mt(K.sourceEvent,k),X(_))},ae=K=>{var Z,_;if(!z){const p=F(K),x=p.xSnapped-((Z=$.x)!=null?Z:0),C=p.ySnapped-((_=$.y)!=null?_:0),q=Math.sqrt(x*x+C*C);q!==0&&q<=s.value&&(B==null||B(K.sourceEvent));return}if(E.value=!1,U=!1,z=!1,cancelAnimationFrame(ee),T.length){I(T,!1,!1);const[p,x]=Kr({id:b,dragItems:T,findNode:h});R({event:K.sourceEvent,node:p,nodes:x})}};return ge([()=>ve(A),D],([K,Z],_,p)=>{if(Z){const x=De(Z);K||(N=qb().on("start",C=>de(C,Z)).on("drag",C=>ne(C,Z)).on("end",C=>ae(C)).filter(C=>{const q=C.target,j=ve(W);return!C.button&&(!i.value||!wc(q,`.${i.value}`,Z)&&(!j||wc(q,j,Z)))}),x.call(N)),p(()=>{x.on(".drag",null),N&&(N.on("start",null),N.on("drag",null),N.on("end",null))})}}),E}function Kw(){return{doubleClick:H(),click:H(),mouseEnter:H(),mouseMove:H(),mouseLeave:H(),contextMenu:H(),updateStart:H(),update:H(),updateEnd:H()}}function Xw(e,t){const n=Kw();return n.doubleClick.on(r=>{var i,o;t.edgeDoubleClick(r),(o=(i=e.events)==null?void 0:i.doubleClick)==null||o.call(i,r)}),n.click.on(r=>{var i,o;t.edgeClick(r),(o=(i=e.events)==null?void 0:i.click)==null||o.call(i,r)}),n.mouseEnter.on(r=>{var i,o;t.edgeMouseEnter(r),(o=(i=e.events)==null?void 0:i.mouseEnter)==null||o.call(i,r)}),n.mouseMove.on(r=>{var i,o;t.edgeMouseMove(r),(o=(i=e.events)==null?void 0:i.mouseMove)==null||o.call(i,r)}),n.mouseLeave.on(r=>{var i,o;t.edgeMouseLeave(r),(o=(i=e.events)==null?void 0:i.mouseLeave)==null||o.call(i,r)}),n.contextMenu.on(r=>{var i,o;t.edgeContextMenu(r),(o=(i=e.events)==null?void 0:i.contextMenu)==null||o.call(i,r)}),n.updateStart.on(r=>{var i,o;t.edgeUpdateStart(r),(o=(i=e.events)==null?void 0:i.updateStart)==null||o.call(i,r)}),n.update.on(r=>{var i,o;t.edgeUpdate(r),(o=(i=e.events)==null?void 0:i.update)==null||o.call(i,r)}),n.updateEnd.on(r=>{var i,o;t.edgeUpdateEnd(r),(o=(i=e.events)==null?void 0:i.updateEnd)==null||o.call(i,r)}),Object.entries(n).reduce((r,[i,o])=>(r.emit[i]=o.trigger,r.on[i]=o.on,r),{emit:{},on:{}})}function Ww(){const{viewport:e,snapGrid:t,snapToGrid:n}=we();return({sourceEvent:r})=>{const i=r.touches?r.touches[0].clientX:r.clientX,o=r.touches?r.touches[0].clientY:r.clientY,a={x:(i-e.value.x)/e.value.zoom,y:(o-e.value.y)/e.value.zoom};return{xSnapped:n.value?t.value[0]*Math.round(a.x/t.value[0]):a.x,ySnapped:n.value?t.value[1]*Math.round(a.y/t.value[1]):a.y,...a}}}function $n(){return!0}function Vg({handleId:e,nodeId:t,type:n,isValidConnection:r,edgeUpdaterType:i,onEdgeUpdate:o,onEdgeUpdateEnd:a}){const{vueFlowRef:s,connectionMode:u,connectionRadius:c,connectOnClick:l,connectionClickStartHandle:d,nodesConnectable:f,autoPanOnConnect:h,autoPanSpeed:g,findNode:v,panBy:y,startConnection:w,updateConnection:m,endConnection:I,emits:S,viewport:P,edges:M,nodes:R,isValidConnection:B}=we();let D=null,A=!1,b=null,G=null;function W(T){var N;const k=ve(n)==="target",$=xl(T),L=vc(T.target);if($&&T.button===0||!$){let V=function(C){Z=mt(C,ae);const{handle:q,validHandleResult:j}=Fw(C,L,tr(Z,P.value,!1,[1,1]),c.value,p,Y=>Ic(C,Y,u.value,ve(t),ve(e),k?"target":"source",U,L,M.value,R.value,v));if(F=q,_||(x(),_=!0),D=j.connection,A=j.isValid,b=j.handleDomNode,!(A&&F&&(G==null?void 0:G.endHandle)&&j.endHandle&&G.endHandle.type===j.endHandle.type&&G.endHandle.nodeId===j.endHandle.nodeId&&G.endHandle.handleId===j.endHandle.handleId)){if(m(F&&A?Rg({x:F.x,y:F.y},P.value):Z,j.endHandle,Gw(!!F,A)),G=j,!F&&!A&&!b)return Xr(K);D&&D.source!==D.target&&b&&(Xr(K),K=b,b.classList.add("connecting","vue-flow__handle-connecting"),b.classList.toggle("valid",A),b.classList.toggle("vue-flow__handle-valid",A))}},z=function(C){(F||b)&&D&&A&&(o?o(C,D):S.connect(D)),S.connectEnd(C),i&&(a==null||a(C)),Xr(K),cancelAnimationFrame(X),I(C),_=!1,A=!1,D=null,b=null,L.removeEventListener("mousemove",V),L.removeEventListener("mouseup",z),L.removeEventListener("touchmove",V),L.removeEventListener("touchend",z)};const ee=v(ve(t));let U=ve(r)||B.value||$n;!U&&ee&&(U=(k?ee.isValidSourcePos:ee.isValidTargetPos)||$n);let F,X=0;const{x:ce,y:le}=mt(T),de=L==null?void 0:L.elementFromPoint(ce,le),ne=Il(ve(i),de),ae=(N=s.value)==null?void 0:N.getBoundingClientRect();if(!ae||!ne)return;let K,Z=mt(T,ae),_=!1;const p=zw({nodes:R.value,nodeId:ve(t),handleId:ve(e),handleType:ne}),x=()=>{if(!h.value)return;const[C,q]=Dg(Z,ae,g.value);y({x:C,y:q}),X=requestAnimationFrame(x)};w({nodeId:ve(t),handleId:ve(e),type:ne,position:(de==null?void 0:de.getAttribute("data-handlepos"))||J.Top},{x:ce-ae.left,y:le-ae.top}),S.connectStart({event:T,nodeId:ve(t),handleId:ve(e),handleType:ne}),L.addEventListener("mousemove",V),L.addEventListener("mouseup",z),L.addEventListener("touchmove",V),L.addEventListener("touchend",z)}}function E(T){if(!l.value)return;const N=ve(n)==="target";if(!d.value)S.clickConnectStart({event:T,nodeId:ve(t),handleId:ve(e)}),w({nodeId:ve(t),type:ve(n),handleId:ve(e)},void 0,!0);else{let k=ve(r)||B.value||$n;const $=v(ve(t));if(!k&&$&&(k=(N?$.isValidSourcePos:$.isValidTargetPos)||$n),$&&(typeof $.connectable>"u"?f.value:$.connectable)===!1)return;const L=vc(T.target),{connection:V,isValid:z}=Ic(T,{nodeId:ve(t),id:ve(e),type:ve(n)},u.value,d.value.nodeId,d.value.handleId||null,d.value.type,k,L,M.value,R.value,v),ee=V.source===V.target;z&&!ee&&S.connect(V),S.clickConnectEnd(T),I(T,!0)}}return{handlePointerDown:W,handleClick:E}}function Zw(){return Zt(Fg,"")}function Hg(e){var s;const t=(s=e!=null?e:Zw())!=null?s:"",n=Zt(zg,me(null)),{findNode:r,edges:i,emits:o}=we(),a=r(t);return a||o.error(new Ne(Ie.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:a,parentNode:se(()=>r(a.parentNode)),connectedEdges:se(()=>Og([a],i.value))}}function Jw(){return{doubleClick:H(),click:H(),mouseEnter:H(),mouseMove:H(),mouseLeave:H(),contextMenu:H(),dragStart:H(),drag:H(),dragStop:H()}}function Qw(e,t){const n=Jw();return n.doubleClick.on(r=>{var i,o;t.nodeDoubleClick(r),(o=(i=e.events)==null?void 0:i.doubleClick)==null||o.call(i,r)}),n.click.on(r=>{var i,o;t.nodeClick(r),(o=(i=e.events)==null?void 0:i.click)==null||o.call(i,r)}),n.mouseEnter.on(r=>{var i,o;t.nodeMouseEnter(r),(o=(i=e.events)==null?void 0:i.mouseEnter)==null||o.call(i,r)}),n.mouseMove.on(r=>{var i,o;t.nodeMouseMove(r),(o=(i=e.events)==null?void 0:i.mouseMove)==null||o.call(i,r)}),n.mouseLeave.on(r=>{var i,o;t.nodeMouseLeave(r),(o=(i=e.events)==null?void 0:i.mouseLeave)==null||o.call(i,r)}),n.contextMenu.on(r=>{var i,o;t.nodeContextMenu(r),(o=(i=e.events)==null?void 0:i.contextMenu)==null||o.call(i,r)}),n.dragStart.on(r=>{var i,o;t.nodeDragStart(r),(o=(i=e.events)==null?void 0:i.dragStart)==null||o.call(i,r)}),n.drag.on(r=>{var i,o;t.nodeDrag(r),(o=(i=e.events)==null?void 0:i.drag)==null||o.call(i,r)}),n.dragStop.on(r=>{var i,o;t.nodeDragStop(r),(o=(i=e.events)==null?void 0:i.dragStop)==null||o.call(i,r)}),Object.entries(n).reduce((r,[i,o])=>(r.emit[i]=o.trigger,r.on[i]=o.on,r),{emit:{},on:{}})}function Ug(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:r,snapGrid:i,snapToGrid:o,nodesDraggable:a,emits:s}=we();return(u,c=!1)=>{const l=o.value?i.value[0]:5,d=o.value?i.value[1]:5,f=c?4:1,h=u.x*l*f,g=u.y*d*f,v=[];for(const y of e.value)if(y.draggable||a&&typeof y.draggable>"u"){const w={x:y.computedPosition.x+h,y:y.computedPosition.y+g},{computedPosition:m}=Sl(y,w,s.error,t.value,y.parentNode?r(y.parentNode):void 0);v.push({id:y.id,position:m,from:y.position,distance:{x:u.x,y:u.y},dimensions:y.dimensions})}n(v,!0,!1)}}const Wr=.1;function ft(){return gr("Viewport not initialized yet."),Promise.resolve(!1)}const e1={zoomIn:ft,zoomOut:ft,zoomTo:ft,fitView:ft,setCenter:ft,fitBounds:ft,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:ft,setTransform:ft,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function t1(e){function t(r,i){return new Promise(o=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.scaleBy(Zr(e.d3Selection,i,()=>{o(!0)}),r):o(!1)})}function n(r,i,o,a){return new Promise(s=>{const{x:u,y:c}=Ig({x:-r,y:-i},e.translateExtent),l=Wt.translate(-u,-c).scale(o);e.d3Selection&&e.d3Zoom?e.d3Zoom.transform(Zr(e.d3Selection,a,()=>{s(!0)}),l):s(!1)})}return se(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:i=>t(1.2,i==null?void 0:i.duration),zoomOut:i=>t(1/1.2,i==null?void 0:i.duration),zoomTo:(i,o)=>new Promise(a=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.scaleTo(Zr(e.d3Selection,o==null?void 0:o.duration,()=>{a(!0)}),i):a(!1)}),setViewport:(i,o)=>n(i.x,i.y,i.zoom,o==null?void 0:o.duration),setTransform:(i,o)=>n(i.x,i.y,i.zoom,o==null?void 0:o.duration),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(i={padding:Wr,includeHiddenNodes:!1,duration:0})=>{var f,h,g;var o,a;const s=[];for(const v of e.nodes)v.dimensions.width&&v.dimensions.height&&((i==null?void 0:i.includeHiddenNodes)||!v.hidden)&&(!((o=i.nodes)!=null&&o.length)||((a=i.nodes)==null?void 0:a.length)&&i.nodes.includes(v.id))&&s.push(v);if(!s.length)return Promise.resolve(!1);const u=Mg(s),{x:c,y:l,zoom:d}=pc(u,e.dimensions.width,e.dimensions.height,(f=i.minZoom)!=null?f:e.minZoom,(h=i.maxZoom)!=null?h:e.maxZoom,(g=i.padding)!=null?g:Wr,i.offset);return n(c,l,d,i==null?void 0:i.duration)},setCenter:(i,o,a)=>{const s=typeof(a==null?void 0:a.zoom)<"u"?a.zoom:e.maxZoom,u=e.dimensions.width/2-i*s,c=e.dimensions.height/2-o*s;return n(u,c,s,a==null?void 0:a.duration)},fitBounds:(i,o={padding:Wr})=>{const{x:a,y:s,zoom:u}=pc(i,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,o.padding);return n(a,s,u,o==null?void 0:o.duration)},project:i=>tr(i,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:i=>{if(e.vueFlowRef){const{x:o,y:a}=e.vueFlowRef.getBoundingClientRect(),s={x:i.x-o,y:i.y-a};return tr(s,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:i=>{if(e.vueFlowRef){const{x:o,y:a}=e.vueFlowRef.getBoundingClientRect(),s={x:i.x+o,y:i.y+a};return Rg(s,e.viewport)}return{x:0,y:0}}}:e1)}function Zr(e,t=0,n){return e.transition().duration(t).on("end",n)}function n1(e,t,n){const r=Fp(!0);return r.run(()=>{const i=()=>{r.run(()=>{let v,y,w=!!(n.nodes.value.length||n.edges.value.length);v=Gt([e.modelValue,()=>{var m,I;return(I=(m=e.modelValue)==null?void 0:m.value)==null?void 0:I.length}],([m])=>{m&&Array.isArray(m)&&(y==null||y.pause(),n.setElements(m),!y&&!w&&m.length?w=!0:y==null||y.resume())}),y=Gt([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([m,I])=>{var S;((S=e.modelValue)==null?void 0:S.value)&&Array.isArray(e.modelValue.value)&&(v==null||v.pause(),e.modelValue.value=[...m,...I],rt(()=>{v==null||v.resume()}))},{immediate:w}),Hn(()=>{v==null||v.stop(),y==null||y.stop()})})},o=()=>{r.run(()=>{let v,y,w=!!n.nodes.value.length;v=Gt([e.nodes,()=>{var m,I;return(I=(m=e.nodes)==null?void 0:m.value)==null?void 0:I.length}],([m])=>{m&&Array.isArray(m)&&(y==null||y.pause(),n.setNodes(m),!y&&!w&&m.length?w=!0:y==null||y.resume())}),y=Gt([n.nodes,()=>n.nodes.value.length],([m])=>{var I;((I=e.nodes)==null?void 0:I.value)&&Array.isArray(e.nodes.value)&&(v==null||v.pause(),e.nodes.value=[...m],rt(()=>{v==null||v.resume()}))},{immediate:w}),Hn(()=>{v==null||v.stop(),y==null||y.stop()})})},a=()=>{r.run(()=>{let v,y,w=!!n.edges.value.length;v=Gt([e.edges,()=>{var m,I;return(I=(m=e.edges)==null?void 0:m.value)==null?void 0:I.length}],([m])=>{m&&Array.isArray(m)&&(y==null||y.pause(),n.setEdges(m),!y&&!w&&m.length?w=!0:y==null||y.resume())}),y=Gt([n.edges,()=>n.edges.value.length],([m])=>{var I;((I=e.edges)==null?void 0:I.value)&&Array.isArray(e.edges.value)&&(v==null||v.pause(),e.edges.value=[...m],rt(()=>{v==null||v.resume()}))},{immediate:w}),Hn(()=>{v==null||v.stop(),y==null||y.stop()})})},s=()=>{r.run(()=>{ge(()=>t.maxZoom,()=>{t.maxZoom&&xe(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},u=()=>{r.run(()=>{ge(()=>t.minZoom,()=>{t.minZoom&&xe(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},c=()=>{r.run(()=>{ge(()=>t.translateExtent,()=>{t.translateExtent&&xe(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},l=()=>{r.run(()=>{ge(()=>t.nodeExtent,()=>{t.nodeExtent&&xe(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},d=()=>{r.run(()=>{ge(()=>t.applyDefault,()=>{xe(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},f=()=>{r.run(()=>{const v=async y=>{let w=y;typeof t.autoConnect=="function"&&(w=await t.autoConnect(y)),w!==!1&&n.addEdges([w])};ge(()=>t.autoConnect,()=>{xe(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),ge(n.autoConnect,(y,w,m)=>{y?n.onConnect(v):n.hooks.value.connect.off(v),m(()=>{n.hooks.value.connect.off(v)})},{immediate:!0})})},h=()=>{const v=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const y of Object.keys(t)){const w=y;if(!v.includes(w)){const m=Se(()=>t[w]),I=n[w];vl(I)&&r.run(()=>{ge(m,S=>{xe(S)&&(I.value=S)},{immediate:!0})})}}};(()=>{i(),o(),a(),u(),s(),c(),l(),d(),f(),h()})()}),()=>r.stop()}function r1(){return{edgesChange:H(),nodesChange:H(),nodeDoubleClick:H(),nodeClick:H(),nodeMouseEnter:H(),nodeMouseMove:H(),nodeMouseLeave:H(),nodeContextMenu:H(),nodeDragStart:H(),nodeDrag:H(),nodeDragStop:H(),nodesInitialized:H(),miniMapNodeClick:H(),miniMapNodeDoubleClick:H(),miniMapNodeMouseEnter:H(),miniMapNodeMouseMove:H(),miniMapNodeMouseLeave:H(),connect:H(),connectStart:H(),connectEnd:H(),clickConnectStart:H(),clickConnectEnd:H(),paneReady:H(),init:H(),move:H(),moveStart:H(),moveEnd:H(),selectionDragStart:H(),selectionDrag:H(),selectionDragStop:H(),selectionContextMenu:H(),selectionStart:H(),selectionEnd:H(),viewportChangeStart:H(),viewportChange:H(),viewportChangeEnd:H(),paneScroll:H(),paneClick:H(),paneContextMenu:H(),paneMouseEnter:H(),paneMouseMove:H(),paneMouseLeave:H(),edgeContextMenu:H(),edgeMouseEnter:H(),edgeMouseMove:H(),edgeMouseLeave:H(),edgeDoubleClick:H(),edgeClick:H(),edgeUpdateStart:H(),edgeUpdate:H(),edgeUpdateEnd:H(),updateNodeInternals:H(),error:H(e=>gr(e.message))}}function i1(e,t){wm(()=>{for(const[n,r]of Object.entries(t.value)){const i=o=>{e(n,o)};r.fns.add(i),cr(()=>{r.off(i)})}})}function jg(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:El.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:fn.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:xt.Bezier,style:{}},connectionMode:kt.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:ir()?"Meta":"Control",zoomActivationKeyCode:ir()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:r1(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const o1=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function a1(e,t,n){const r=t1(e),i=_=>{const p=_!=null?_:[];e.hooks.updateNodeInternals.trigger(p)},o=_=>Aw(_,e.nodes,e.edges),a=_=>Rw(_,e.nodes,e.edges),s=_=>Og(_,e.edges),u=_=>{if(!!_)return t.value.get(_)},c=_=>{if(!!_)return n.value.get(_)},l=(_,p,x)=>{var Y,O;var C,q;const j=[];for(const Q of _){const ie={id:Q.id,type:"position",dragging:x,from:Q.from};if(p&&(ie.position=Q.position,Q.parentNode)){const te=u(Q.parentNode);ie.position={x:ie.position.x-((Y=(C=te==null?void 0:te.computedPosition)==null?void 0:C.x)!=null?Y:0),y:ie.position.y-((O=(q=te==null?void 0:te.computedPosition)==null?void 0:q.y)!=null?O:0)}}j.push(ie)}j!=null&&j.length&&e.hooks.nodesChange.trigger(j)},d=_=>{if(!e.vueFlowRef)return;const p=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!p)return;const x=window.getComputedStyle(p),{m22:C}=new window.DOMMatrixReadOnly(x.transform),q=[];for(let j=0;j<_.length;++j){const Y=_[j],O=u(Y.id);if(O){const Q=pr(Y.nodeElement);if(!!(Q.width&&Q.height&&(O.dimensions.width!==Q.width||O.dimensions.height!==Q.height||Y.forceUpdate))){const te=Y.nodeElement.getBoundingClientRect();O.dimensions=Q,O.handleBounds.source=Cc(".source",Y.nodeElement,te,C),O.handleBounds.target=Cc(".target",Y.nodeElement,te,C),q.push({id:O.id,type:"dimensions",dimensions:Q})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&r.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),q.length&&e.hooks.nodesChange.trigger(q)},f=(_,p)=>{const x=new Set,C=new Set;for(const Y of _)Rt(Y)?x.add(Y.id):bt(Y)&&C.add(Y.id);const q=gt(t.value,x,!0),j=gt(n.value,C);if(e.multiSelectionActive){for(const Y of x)q.push(vt(Y,p));for(const Y of C)j.push(vt(Y,p))}q.length&&e.hooks.nodesChange.trigger(q),j.length&&e.hooks.edgesChange.trigger(j)},h=_=>{if(e.multiSelectionActive){const p=_.map(x=>vt(x.id,!0));e.hooks.nodesChange.trigger(p);return}e.hooks.nodesChange.trigger(gt(t.value,new Set(_.map(p=>p.id)),!0)),e.hooks.edgesChange.trigger(gt(n.value))},g=_=>{if(e.multiSelectionActive){const p=_.map(x=>vt(x.id,!0));e.hooks.edgesChange.trigger(p);return}e.hooks.edgesChange.trigger(gt(n.value,new Set(_.map(p=>p.id)))),e.hooks.nodesChange.trigger(gt(t.value,new Set,!0))},v=_=>{f(_,!0)},y=_=>{const x=(_||e.nodes).map(C=>(C.selected=!1,vt(C.id,!1)));e.hooks.nodesChange.trigger(x)},w=_=>{const x=(_||e.edges).map(C=>(C.selected=!1,vt(C.id,!1)));e.hooks.edgesChange.trigger(x)},m=_=>{if(!_||!_.length)return f([],!1);const p=_.reduce((x,C)=>{const q=vt(C.id,!1);return Rt(C)?x.nodes.push(q):x.edges.push(q),x},{nodes:[],edges:[]});p.nodes.length&&e.hooks.nodesChange.trigger(p.nodes),p.edges.length&&e.hooks.edgesChange.trigger(p.edges)},I=_=>{var p;(p=e.d3Zoom)==null||p.scaleExtent([_,e.maxZoom]),e.minZoom=_},S=_=>{var p;(p=e.d3Zoom)==null||p.scaleExtent([e.minZoom,_]),e.maxZoom=_},P=_=>{var p;(p=e.d3Zoom)==null||p.translateExtent(_),e.translateExtent=_},M=_=>{e.nodeExtent=_,i()},R=_=>{var p;(p=e.d3Zoom)==null||p.clickDistance(_)},B=_=>{e.nodesDraggable=_,e.nodesConnectable=_,e.elementsSelectable=_},D=_=>{const p=_ instanceof Function?_(e.nodes):_;!e.initialized&&!p.length||(e.nodes=Nc(p,u,e.hooks.error.trigger))},A=_=>{const p=_ instanceof Function?_(e.edges):_;if(!e.initialized&&!p.length)return;const x=Rc(p,e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);Tc(e.connectionLookup,x),e.edges=x},b=_=>{const p=_ instanceof Function?_([...e.nodes,...e.edges]):_;!e.initialized&&!p.length||(D(p.filter(Rt)),A(p.filter(bt)))},G=_=>{let p=_ instanceof Function?_(e.nodes):_;p=Array.isArray(p)?p:[p];const x=Nc(p,u,e.hooks.error.trigger),C=[];for(const q of x)C.push(mc(q));C.length&&e.hooks.nodesChange.trigger(C)},W=_=>{let p=_ instanceof Function?_(e.edges):_;p=Array.isArray(p)?p:[p];const x=Rc(p,e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),C=[];for(const q of x)C.push(mc(q));C.length&&e.hooks.edgesChange.trigger(C)},E=(_,p=!0,x=!1)=>{const C=_ instanceof Function?_(e.nodes):_,q=Array.isArray(C)?C:[C],j=[],Y=[];function O(ie){const te=s(ie);for(const fe of te)(!xe(fe.deletable)||fe.deletable)&&Y.push(bc(fe.id,fe.source,fe.target,fe.sourceHandle,fe.targetHandle))}function Q(ie){const te=[];for(const fe of e.nodes)fe.parentNode===ie&&te.push(fe);if(te.length){for(const fe of te)j.push(_c(fe.id));p&&O(te);for(const fe of te)Q(fe.id)}}for(const ie of q){const te=typeof ie=="string"?u(ie):ie;!te||xe(te.deletable)&&!te.deletable||(j.push(_c(te.id)),p&&O([te]),x&&Q(te.id))}Y.length&&e.hooks.edgesChange.trigger(Y),j.length&&e.hooks.nodesChange.trigger(j)},T=_=>{const p=_ instanceof Function?_(e.edges):_,x=Array.isArray(p)?p:[p],C=[];for(const q of x){const j=typeof q=="string"?c(q):q;!j||xe(j.deletable)&&!j.deletable||C.push(bc(typeof q=="string"?q:q.id,j.source,j.target,j.sourceHandle,j.targetHandle))}e.hooks.edgesChange.trigger(C)},N=(_,p,x=!0)=>Uw(_,p,e.edges,c,x,e.hooks.error.trigger),k=(_,p,x={replace:!1})=>{const C=c(_);if(!C)return;const q=typeof p=="function"?p(C):p;C.data=x.replace?q:{...C.data,...q}},$=_=>yc(_,e.nodes),L=_=>{const p=yc(_,e.edges);return Tc(e.connectionLookup,p),p},V=(_,p,x={replace:!1})=>{const C=u(_);if(!C)return;const q=typeof p=="function"?p(C):p;x.replace?e.nodes.splice(e.nodes.indexOf(C),1,q):Object.assign(C,q)},z=(_,p,x={replace:!1})=>{const C=u(_);if(!C)return;const q=typeof p=="function"?p(C):p;C.data=x.replace?q:{...C.data,...q}},ee=(_,p,x=!1)=>{x?e.connectionClickStartHandle=_:e.connectionStartHandle=_,e.connectionEndHandle=null,e.connectionStatus=null,p&&(e.connectionPosition=p)},U=(_,p=null,x=null)=>{e.connectionStartHandle&&(e.connectionPosition=_,e.connectionEndHandle=p,e.connectionStatus=x)},F=(_,p)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,p?e.connectionClickStartHandle=null:e.connectionStartHandle=null},X=_=>{const p=Nw(_),x=p?null:un(_)?_:u(_.id);return!p&&!x?[null,null,p]:[p?_:al(x),x,p]},ce=(_,p=!0,x=e.nodes)=>{const[C,q,j]=X(_);if(!C)return[];const Y=[];for(const O of x||e.nodes){if(!j&&(O.id===q.id||!O.computedPosition))continue;const Q=al(O),ie=sl(Q,C);(p&&ie>0||ie>=Number(C.width)*Number(C.height))&&Y.push(O)}return Y},le=(_,p,x=!0)=>{const[C]=X(_);if(!C)return!1;const q=sl(C,p);return x&&q>0||q>=Number(C.width)*Number(C.height)},de=_=>{const{viewport:p,dimensions:x,d3Zoom:C,d3Selection:q,translateExtent:j}=e;if(!C||!q||!_.x&&!_.y)return!1;const Y=Wt.translate(p.x+_.x,p.y+_.y).scale(p.zoom),O=[[0,0],[x.width,x.height]],Q=C.constrain()(Y,O,j),ie=e.viewport.x!==Q.x||e.viewport.y!==Q.y||e.viewport.zoom!==Q.k;return C.transform(q,Q),ie},ne=_=>{const p=_ instanceof Function?_(e):_,x=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];xe(p.defaultEdgeOptions)&&(e.defaultEdgeOptions=p.defaultEdgeOptions);const C=p.modelValue||p.nodes||p.edges?[]:void 0;C&&(p.modelValue&&C.push(...p.modelValue),p.nodes&&C.push(...p.nodes),p.edges&&C.push(...p.edges),b(C));const q=()=>{xe(p.maxZoom)&&S(p.maxZoom),xe(p.minZoom)&&I(p.minZoom),xe(p.translateExtent)&&P(p.translateExtent)};for(const j of Object.keys(p)){const Y=j,O=p[Y];![...o1,...x].includes(Y)&&xe(O)&&(e[Y]=O)}Xu(()=>e.d3Zoom).not.toBeNull().then(q),e.initialized||(e.initialized=!0)};return{updateNodePositions:l,updateNodeDimensions:d,setElements:b,setNodes:D,setEdges:A,addNodes:G,addEdges:W,removeNodes:E,removeEdges:T,findNode:u,findEdge:c,updateEdge:N,updateEdgeData:k,updateNode:V,updateNodeData:z,applyEdgeChanges:L,applyNodeChanges:$,addSelectedElements:v,addSelectedNodes:h,addSelectedEdges:g,setMinZoom:I,setMaxZoom:S,setTranslateExtent:P,setNodeExtent:M,setPaneClickDistance:R,removeSelectedElements:m,removeSelectedNodes:y,removeSelectedEdges:w,startConnection:ee,updateConnection:U,endConnection:F,setInteractive:B,setState:ne,getIntersectingNodes:ce,getIncomers:o,getOutgoers:a,getConnectedEdges:s,isNodeIntersecting:le,panBy:de,fitView:_=>r.value.fitView(_),zoomIn:_=>r.value.zoomIn(_),zoomOut:_=>r.value.zoomOut(_),zoomTo:(_,p)=>r.value.zoomTo(_,p),setViewport:(_,p)=>r.value.setViewport(_,p),setTransform:(_,p)=>r.value.setTransform(_,p),getViewport:()=>r.value.getViewport(),getTransform:()=>r.value.getTransform(),setCenter:(_,p,x)=>r.value.setCenter(_,p,x),fitBounds:(_,p)=>r.value.fitBounds(_,p),project:_=>r.value.project(_),screenToFlowCoordinate:_=>r.value.screenToFlowCoordinate(_),flowToScreenCoordinate:_=>r.value.flowToScreenCoordinate(_),toObject:()=>{const _=[],p=[];for(const x of e.nodes){const{computedPosition:C,handleBounds:q,selected:j,dimensions:Y,isParent:O,resizing:Q,dragging:ie,events:te,...fe}=x;_.push(fe)}for(const x of e.edges){const{selected:C,sourceNode:q,targetNode:j,events:Y,...O}=x;p.push(O)}return JSON.parse(JSON.stringify({nodes:_,edges:p,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:_=>new Promise(p=>{const{nodes:x,edges:C,position:q,zoom:j,viewport:Y}=_;if(x&&D(x),C&&A(C),(Y==null?void 0:Y.x)&&(Y==null?void 0:Y.y)||q){const O=(Y==null?void 0:Y.x)||q[0],Q=(Y==null?void 0:Y.y)||q[1],ie=(Y==null?void 0:Y.zoom)||j||e.viewport.zoom;return Xu(()=>r.value.viewportInitialized).toBe(!0).then(()=>{r.value.setViewport({x:O,y:Q,zoom:ie}).then(()=>{p(!0)})})}else p(!0)}),updateNodeInternals:i,viewportHelper:r,$reset:()=>{var p,x,C;const _=jg();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const q=Wt.translate((p=_.defaultViewport.x)!=null?p:0,(x=_.defaultViewport.y)!=null?x:0).scale(Dt((C=_.defaultViewport.zoom)!=null?C:1,_.minZoom,_.maxZoom)),j=e.viewportRef.getBoundingClientRect(),Y=[[0,0],[j.width,j.height]],O=e.d3Zoom.constrain()(q,Y,_.translateExtent);e.d3Zoom.transform(e.d3Selection,O)}ne(_)},$destroy:()=>{}}}const s1=["data-id","data-handleid","data-nodeid","data-handlepos"],u1={name:"Handle",compatConfig:{MODE:3}},or=be({...u1,props:{id:{default:null},type:{},position:{default:()=>J.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=Vp(e,["position","connectable","connectableStart","connectableEnd","id"]),r=Se(()=>{var A;return(A=n.type)!=null?A:"source"}),i=Se(()=>{var A;return(A=n.isValidConnection)!=null?A:null}),{connectionStartHandle:o,connectionClickStartHandle:a,connectionEndHandle:s,vueFlowRef:u,nodesConnectable:c,noDragClassName:l,noPanClassName:d}=we(),{id:f,node:h,nodeEl:g,connectedEdges:v}=Hg(),y=me(),w=Se(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),m=Se(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),I=Se(()=>{var A,b,G,W,E,T;return((A=o.value)==null?void 0:A.nodeId)===f&&((b=o.value)==null?void 0:b.handleId)===e.id&&((G=o.value)==null?void 0:G.type)===r.value||((W=s.value)==null?void 0:W.nodeId)===f&&((E=s.value)==null?void 0:E.handleId)===e.id&&((T=s.value)==null?void 0:T.type)===r.value}),S=Se(()=>{var A,b,G;return((A=a.value)==null?void 0:A.nodeId)===f&&((b=a.value)==null?void 0:b.handleId)===e.id&&((G=a.value)==null?void 0:G.type)===r.value}),{handlePointerDown:P,handleClick:M}=Vg({nodeId:f,handleId:e.id,isValidConnection:i,type:r}),R=se(()=>typeof e.connectable=="string"&&e.connectable==="single"?!v.value.some(A=>{const b=A[`${r.value}Handle`];return A[r.value]!==f?!1:b?b===e.id:!0}):typeof e.connectable=="number"?v.value.filter(A=>{const b=A[`${r.value}Handle`];return A[r.value]!==f?!1:b?b===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(h,v.value):xe(e.connectable)?e.connectable:c.value);st(()=>{var $;var A;if(!h.dimensions.width||!h.dimensions.height)return;const b=(A=h.handleBounds[r.value])==null?void 0:A.find(L=>L.id===e.id);if(!u.value||b)return;const G=u.value.querySelector(".vue-flow__transformationpane");if(!g.value||!y.value||!G||!e.id)return;const W=g.value.getBoundingClientRect(),E=y.value.getBoundingClientRect(),T=window.getComputedStyle(G),{m22:N}=new window.DOMMatrixReadOnly(T.transform),k={id:e.id,position:e.position,x:(E.left-W.left)/N,y:(E.top-W.top)/N,...pr(y.value)};h.handleBounds[r.value]=[...($=h.handleBounds[r.value])!=null?$:[],k]}),zp(()=>{const A=h.handleBounds[r.value];A&&(h.handleBounds[r.value]=A.filter(b=>b.id!==e.id))});function B(A){const b=xl(A);R.value&&w.value&&(b&&A.button===0||!b)&&P(A)}function D(A){!f||!a.value&&!w.value||R.value&&M(A)}return t({handleClick:M,handlePointerDown:P,onClick:D,onPointerDown:B}),(A,b)=>(he(),_e("div",{ref_key:"handle",ref:y,"data-id":`${re(f)}-${e.id}-${r.value}`,"data-handleid":e.id,"data-nodeid":re(f),"data-handlepos":A.position,class:At(["vue-flow__handle",[`vue-flow__handle-${A.position}`,`vue-flow__handle-${e.id}`,re(l),re(d),r.value,{connectable:R.value,connecting:S.value,connectablestart:w.value,connectableend:m.value,connectionindicator:R.value&&(w.value&&!I.value||m.value&&I.value)}]]),onMousedown:B,onTouchstartPassive:B,onClick:D},[it(A.$slots,"default",{id:A.id})],42,s1))}}),mr=function({sourcePosition:e=J.Bottom,targetPosition:t=J.Top,label:n,connectable:r=!0,isValidTargetPos:i,isValidSourcePos:o,data:a}){const s=a.label||n;return[ye(or,{type:"target",position:t,connectable:r,isValidConnection:i}),typeof s!="string"&&s?ye(s):ye("div",{innerHTML:s}),ye(or,{type:"source",position:e,connectable:r,isValidConnection:o})]};mr.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];mr.inheritAttrs=!1;mr.compatConfig={MODE:3};const l1=mr,_r=function({targetPosition:e=J.Top,label:t,connectable:n=!0,isValidTargetPos:r,data:i}){const o=i.label||t;return[ye(or,{type:"target",position:e,connectable:n,isValidConnection:r}),typeof o!="string"&&o?ye(o):ye("div",{innerHTML:o})]};_r.props=["targetPosition","label","isValidTargetPos","connectable","data"];_r.inheritAttrs=!1;_r.compatConfig={MODE:3};const c1=_r,br=function({sourcePosition:e=J.Bottom,label:t,connectable:n=!0,isValidSourcePos:r,data:i}){const o=i.label||t;return[typeof o!="string"&&o?ye(o):ye("div",{innerHTML:o}),ye(or,{type:"source",position:e,connectable:n,isValidConnection:r})]};br.props=["sourcePosition","label","isValidSourcePos","connectable","data"];br.inheritAttrs=!1;br.compatConfig={MODE:3};const d1=br,f1=["transform"],h1=["width","height","x","y","rx","ry"],v1=["y"],p1={name:"EdgeText",compatConfig:{MODE:3}},g1=be({...p1,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=me({x:0,y:0,width:0,height:0}),n=me(null),r=se(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);st(i),ge([()=>e.x,()=>e.y,n,()=>e.label],i);function i(){if(!n.value)return;const o=n.value.getBBox();(o.width!==t.value.width||o.height!==t.value.height)&&(t.value=o)}return(o,a)=>(he(),_e("g",{transform:r.value,class:"vue-flow__edge-textwrapper"},[o.labelShowBg?(he(),_e("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*o.labelBgPadding[0]}px`,height:`${t.value.height+2*o.labelBgPadding[1]}px`,x:-o.labelBgPadding[0],y:-o.labelBgPadding[1],style:Ue(o.labelBgStyle),rx:o.labelBgBorderRadius,ry:o.labelBgBorderRadius},null,12,h1)):je("",!0),qt("text",Am(o.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:o.labelStyle}),[it(o.$slots,"default",{},()=>[typeof o.label!="string"?(he(),Mt(Tm(o.label),{key:0})):(he(),_e(Pt,{key:1},[Rm(Yu(o.label),1)],64))])],16,v1)],8,f1))}}),y1=["id","d","marker-end","marker-start"],m1=["d","stroke-width"],_1={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},wr=be({..._1,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},style:{},labelStyle:{},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=Vp(e,["interactionWidth","labelShowBg"]),r=me(null),i=me(null),o=me(null),a=Em();return t({pathEl:r,interactionEl:i,labelEl:o}),(s,u)=>(he(),_e(Pt,null,[qt("path",{id:s.id,ref_key:"pathEl",ref:r,d:s.path,style:Ue(n.style),class:At(["vue-flow__edge-path",re(a).class]),"marker-end":s.markerEnd,"marker-start":s.markerStart},null,14,y1),s.interactionWidth?(he(),_e("path",{key:0,ref_key:"interactionEl",ref:i,fill:"none",d:s.path,"stroke-width":s.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,m1)):je("",!0),s.label&&s.labelX&&s.labelY?(he(),Mt(g1,{key:1,ref_key:"labelEl",ref:o,x:s.labelX,y:s.labelY,label:s.label,"label-show-bg":s.labelShowBg,"label-bg-style":s.labelBgStyle,"label-bg-padding":s.labelBgPadding,"label-bg-border-radius":s.labelBgBorderRadius,"label-style":s.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):je("",!0)],64))}});function Yg({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,a=Math.abs(r-t)/2,s=r<t?r+a:r-a;return[o,s,i,a]}function Kg({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:a,targetControlY:s}){const u=e*.125+i*.375+a*.375+n*.125,c=t*.125+o*.375+s*.375+r*.125,l=Math.abs(u-e),d=Math.abs(c-t);return[u,c,l,d]}function Bn(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function qc({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){let a,s;switch(e){case J.Left:a=t-Bn(t-r,o),s=n;break;case J.Right:a=t+Bn(r-t,o),s=n;break;case J.Top:a=t,s=n-Bn(n-i,o);break;case J.Bottom:a=t,s=n+Bn(i-n,o);break}return[a,s]}function Xg(e){const{sourceX:t,sourceY:n,sourcePosition:r=J.Bottom,targetX:i,targetY:o,targetPosition:a=J.Top,curvature:s=.25}=e,[u,c]=qc({pos:r,x1:t,y1:n,x2:i,y2:o,c:s}),[l,d]=qc({pos:a,x1:i,y1:o,x2:t,y2:n,c:s}),[f,h,g,v]=Kg({sourceX:t,sourceY:n,targetX:i,targetY:o,sourceControlX:u,sourceControlY:c,targetControlX:l,targetControlY:d});return[`M${t},${n} C${u},${c} ${l},${d} ${i},${o}`,f,h,g,v]}function Mc({pos:e,x1:t,y1:n,x2:r,y2:i}){let o,a;switch(e){case J.Left:case J.Right:o=.5*(t+r),a=n;break;case J.Top:case J.Bottom:o=t,a=.5*(n+i);break}return[o,a]}function Wg(e){const{sourceX:t,sourceY:n,sourcePosition:r=J.Bottom,targetX:i,targetY:o,targetPosition:a=J.Top}=e,[s,u]=Mc({pos:r,x1:t,y1:n,x2:i,y2:o}),[c,l]=Mc({pos:a,x1:i,y1:o,x2:t,y2:n}),[d,f,h,g]=Kg({sourceX:t,sourceY:n,targetX:i,targetY:o,sourceControlX:s,sourceControlY:u,targetControlX:c,targetControlY:l});return[`M${t},${n} C${s},${u} ${c},${l} ${i},${o}`,d,f,h,g]}const Pc={[J.Left]:{x:-1,y:0},[J.Right]:{x:1,y:0},[J.Top]:{x:0,y:-1},[J.Bottom]:{x:0,y:1}};function b1({source:e,sourcePosition:t=J.Bottom,target:n}){return t===J.Left||t===J.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function Oc(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function w1({source:e,sourcePosition:t=J.Bottom,target:n,targetPosition:r=J.Top,center:i,offset:o}){var R,B;const a=Pc[t],s=Pc[r],u={x:e.x+a.x*o,y:e.y+a.y*o},c={x:n.x+s.x*o,y:n.y+s.y*o},l=b1({source:u,sourcePosition:t,target:c}),d=l.x!==0?"x":"y",f=l[d];let h,g,v;const y={x:0,y:0},w={x:0,y:0},[m,I,S,P]=Yg({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[d]*s[d]===-1){g=(R=i.x)!=null?R:m,v=(B=i.y)!=null?B:I;const D=[{x:g,y:u.y},{x:g,y:c.y}],A=[{x:u.x,y:v},{x:c.x,y:v}];a[d]===f?h=d==="x"?D:A:h=d==="x"?A:D}else{const D=[{x:u.x,y:c.y}],A=[{x:c.x,y:u.y}];if(d==="x"?h=a.x===f?A:D:h=a.y===f?D:A,t===r){const T=Math.abs(e[d]-n[d]);if(T<=o){const N=Math.min(o-1,o-T);a[d]===f?y[d]=(u[d]>e[d]?-1:1)*N:w[d]=(c[d]>n[d]?-1:1)*N}}if(t!==r){const T=d==="x"?"y":"x",N=a[d]===s[T],k=u[T]>c[T],$=u[T]<c[T];(a[d]===1&&(!N&&k||N&&$)||a[d]!==1&&(!N&&$||N&&k))&&(h=d==="x"?D:A)}const b={x:u.x+y.x,y:u.y+y.y},G={x:c.x+w.x,y:c.y+w.y},W=Math.max(Math.abs(b.x-h[0].x),Math.abs(G.x-h[0].x)),E=Math.max(Math.abs(b.y-h[0].y),Math.abs(G.y-h[0].y));W>=E?(g=(b.x+G.x)/2,v=h[0].y):(g=h[0].x,v=(b.y+G.y)/2)}return[[e,{x:u.x+y.x,y:u.y+y.y},...h,{x:c.x+w.x,y:c.y+w.y},n],g,v,S,P]}function E1(e,t,n,r){const i=Math.min(Oc(e,t)/2,Oc(t,n)/2,r),{x:o,y:a}=t;if(e.x===o&&o===n.x||e.y===a&&a===n.y)return`L${o} ${a}`;if(e.y===a){const c=e.x<n.x?-1:1,l=e.y<n.y?1:-1;return`L ${o+i*c},${a}Q ${o},${a} ${o},${a+i*l}`}const s=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${o},${a+i*u}Q ${o},${a} ${o+i*s},${a}`}function ll(e){const{sourceX:t,sourceY:n,sourcePosition:r=J.Bottom,targetX:i,targetY:o,targetPosition:a=J.Top,borderRadius:s=5,centerX:u,centerY:c,offset:l=20}=e,[d,f,h,g,v]=w1({source:{x:t,y:n},sourcePosition:r,target:{x:i,y:o},targetPosition:a,center:{x:u,y:c},offset:l});return[d.reduce((w,m,I)=>{let S;return I>0&&I<d.length-1?S=E1(d[I-1],m,d[I+1],s):S=`${I===0?"M":"L"}${m.x} ${m.y}`,w+=S,w},""),f,h,g,v]}function S1(e){const{sourceX:t,sourceY:n,targetX:r,targetY:i}=e,[o,a,s,u]=Yg({sourceX:t,sourceY:n,targetX:r,targetY:i});return[`M ${t},${n}L ${r},${i}`,o,a,s,u]}const x1=be({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,i]=S1(e);return ye(wr,{path:n,labelX:r,labelY:i,...t,...e})}}}),I1=x1,C1=be({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{var o,a;const[n,r,i]=ll({...e,sourcePosition:(o=e.sourcePosition)!=null?o:J.Bottom,targetPosition:(a=e.targetPosition)!=null?a:J.Top});return ye(wr,{path:n,labelX:r,labelY:i,...t,...e})}}}),Zg=C1,N1=be({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>ye(Zg,{...e,...t,borderRadius:0})}}),T1=N1,R1=be({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{var o,a;const[n,r,i]=Xg({...e,sourcePosition:(o=e.sourcePosition)!=null?o:J.Bottom,targetPosition:(a=e.targetPosition)!=null?a:J.Top});return ye(wr,{path:n,labelX:r,labelY:i,...t,...e})}}}),A1=R1,q1=be({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{var o,a;const[n,r,i]=Wg({...e,sourcePosition:(o=e.sourcePosition)!=null?o:J.Bottom,targetPosition:(a=e.targetPosition)!=null?a:J.Top});return ye(wr,{path:n,labelX:r,labelY:i,...t,...e})}}}),M1=q1,P1={input:d1,default:l1,output:c1},O1={default:A1,straight:I1,step:T1,smoothstep:Zg,simplebezier:M1};function k1(e,t,n){const r=se(()=>v=>t.value.get(v)),i=se(()=>v=>n.value.get(v)),o=se(()=>{const v={...O1,...e.edgeTypes},y=Object.keys(v);for(const w of e.edges)w.type&&!y.includes(w.type)&&(v[w.type]=w.type);return v}),a=se(()=>{const v={...P1,...e.nodeTypes},y=Object.keys(v);for(const w of e.nodes)w.type&&!y.includes(w.type)&&(v[w.type]=w.type);return v}),s=se(()=>e.onlyRenderVisibleElements?Pg(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),u=se(()=>{if(e.onlyRenderVisibleElements){const v=[];for(const y of e.edges){const w=t.value.get(y.source),m=t.value.get(y.target);$w({sourcePos:w.computedPosition||{x:0,y:0},targetPos:m.computedPosition||{x:0,y:0},sourceWidth:w.dimensions.width,sourceHeight:w.dimensions.height,targetWidth:m.dimensions.width,targetHeight:m.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&v.push(y)}return v}return e.edges}),c=se(()=>[...s.value,...u.value]),l=se(()=>{const v=[];for(const y of e.nodes)y.selected&&v.push(y);return v}),d=se(()=>{const v=[];for(const y of e.edges)y.selected&&v.push(y);return v}),f=se(()=>[...l.value,...d.value]),h=se(()=>{const v=[];for(const y of e.nodes)!!y.dimensions.width&&!!y.dimensions.height&&y.handleBounds!==void 0&&v.push(y);return v}),g=se(()=>s.value.length>0&&h.value.length===s.value.length);return{getNode:r,getEdge:i,getElements:c,getEdgeTypes:o,getNodeTypes:a,getEdges:u,getNodes:s,getSelectedElements:f,getSelectedNodes:l,getSelectedEdges:d,getNodesInitialized:h,areNodesInitialized:g}}class It{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var i;var t;const n=(t=bn())==null?void 0:t.appContext.app,r=(i=n==null?void 0:n.config.globalProperties.$vueFlowStorage)!=null?i:It.instance;return It.instance=r!=null?r:new It,n&&(n.config.globalProperties.$vueFlowStorage=It.instance),It.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const r=jg(),i=Sm(r),o={};for(const[f,h]of Object.entries(i.hooks)){const g=`on${f.charAt(0).toUpperCase()+f.slice(1)}`;o[g]=h.on}const a={};for(const[f,h]of Object.entries(i.hooks))a[f]=h.trigger;const s=se(()=>{const f=new Map;for(const h of i.nodes)f.set(h.id,h);return f}),u=se(()=>{const f=new Map;for(const h of i.edges)f.set(h.id,h);return f}),c=k1(i,s,u),l=a1(i,s,u);l.setState({...i,...n});const d={...o,...c,...l,...Fm(i),nodeLookup:s,edgeLookup:u,emits:a,id:t,vueFlowVersion:"1.39.3",$destroy:()=>{this.remove(t)}};return this.set(t,d),d}getId(){return`vue-flow-${this.currentId++}`}}function we(e){const t=It.getInstance(),n=Gp(),r=typeof e=="object",i=r?e:{id:e},o=i.id,a=o!=null?o:n==null?void 0:n.vueFlowId;let s;if(n){const u=Zt(Ac,null);typeof u<"u"&&u!==null&&(!a||u.id===a)&&(s=u)}if(s||a&&(s=t.get(a)),!s||a&&s.id!==a){const u=o!=null?o:t.getId(),c=t.create(u,i);s=c,(n!=null?n:Fp(!0)).run(()=>{ge(c.applyDefault,(d,f,h)=>{const g=y=>{c.applyNodeChanges(y)},v=y=>{c.applyEdgeChanges(y)};d?(c.onNodesChange(g),c.onEdgesChange(v)):(c.hooks.value.nodesChange.off(g),c.hooks.value.edgesChange.off(v)),h(()=>{c.hooks.value.nodesChange.off(g),c.hooks.value.edgesChange.off(v)})},{immediate:!0}),cr(()=>{if(s){const d=t.get(s.id);d?d.$destroy():gr(`No store instance found for id ${s.id} in storage.`)}})})}else r&&s.setState(i);if(n&&(Yt(Ac,s),n.vueFlowId=s.id),r){const u=bn();(u==null?void 0:u.type.name)!=="VueFlow"&&s.emits.error(new Ne(Ie.USEVUEFLOW_OPTIONS))}return s}function D1(e){const{emits:t,dimensions:n}=we();let r;st(()=>{const i=e.value,o=()=>{if(!i)return;const a=pr(i);(a.width===0||a.height===0)&&t.error(new Ne(Ie.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:a.width||500,height:a.height||500}};o(),window.addEventListener("resize",o),i&&(r=new ResizeObserver(()=>o()),r.observe(i)),Up(()=>{window.removeEventListener("resize",o),r&&i&&r.unobserve(i)})})}const $1={name:"UserSelection",compatConfig:{MODE:3}},B1=be({...$1,props:{userSelectionRect:{}},setup(e){return(t,n)=>(he(),_e("div",{class:"vue-flow__selection vue-flow__container",style:Ue({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),L1=["tabIndex"],F1={name:"NodesSelection",compatConfig:{MODE:3}},z1=be({...F1,setup(e){const{emits:t,viewport:n,getSelectedNodes:r,noPanClassName:i,disableKeyboardA11y:o,userSelectionActive:a}=we(),s=Ug(),u=me(null),c=Gg({el:u,onStart(g){t.selectionDragStart(g)},onDrag(g){t.selectionDrag(g)},onStop(g){t.selectionDragStop(g)}});st(()=>{var g;o.value||(g=u.value)==null||g.focus({preventScroll:!0})});const l=se(()=>Mg(r.value)),d=se(()=>({width:`${l.value.width}px`,height:`${l.value.height}px`,top:`${l.value.y}px`,left:`${l.value.x}px`}));function f(g){t.selectionContextMenu({event:g,nodes:r.value})}function h(g){o||jt[g.key]&&s({x:jt[g.key].x,y:jt[g.key].y},g.shiftKey)}return(g,v)=>!re(a)&&l.value.width&&l.value.height?(he(),_e("div",{key:0,class:At(["vue-flow__nodesselection vue-flow__container",re(i)]),style:Ue({transform:`translate(${re(n).x}px,${re(n).y}px) scale(${re(n).zoom})`})},[qt("div",{ref_key:"el",ref:u,class:At([{dragging:re(c)},"vue-flow__nodesselection-rect"]),style:Ue(d.value),tabIndex:re(o)?void 0:-1,onContextmenu:f,onKeydown:h},null,46,L1)],6)):je("",!0)}});function G1(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const V1={name:"Pane",compatConfig:{MODE:3}},H1=be({...V1,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:r,emits:i,userSelectionActive:o,removeSelectedElements:a,panOnDrag:s,userSelectionRect:u,elementsSelectable:c,nodesSelectionActive:l,getSelectedEdges:d,getSelectedNodes:f,removeNodes:h,removeEdges:g,selectionMode:v,deleteKeyCode:y,multiSelectionKeyCode:w,multiSelectionActive:m,edgeLookup:I,nodeLookup:S}=we(),P=me(null),M=me(0),R=me(0),B=me(),D=me(new Map),A=Se(()=>c.value&&(e.isSelecting||o.value));let b=!1,G=!1;const W=hn(y,{actInsideInputWithModifier:!1}),E=hn(w);ge(W,U=>{!U||(h(f.value),g(d.value),l.value=!1)}),ge(E,U=>{m.value=U});function T(U,F){return X=>{X.target===F&&(U==null||U(X))}}function N(){o.value=!1,u.value=null,M.value=0,R.value=0}function k(U){if(b){b=!1;return}i.paneClick(U),a(),l.value=!1}function $(U){var F;if(Array.isArray(s.value)&&((F=s.value)==null?void 0:F.includes(2))){U.preventDefault();return}i.paneContextMenu(U)}function L(U){i.paneScroll(U)}function V(U){var F,X,ce,le,de;if(B.value=(F=t.value)==null?void 0:F.getBoundingClientRect(),!c.value||!e.isSelecting||U.button!==0||U.target!==P.value||!B.value)return;(ce=(X=U.target)==null?void 0:X.setPointerCapture)==null||ce.call(X,U.pointerId);const{x:ne,y:ae}=G1(U,B.value);G=!0,b=!1,D.value=new Map;for(const[K,Z]of I.value)D.value.set(Z.source,((le=D.value.get(Z.source))==null?void 0:le.add(K))||new Set([K])),D.value.set(Z.target,((de=D.value.get(Z.target))==null?void 0:de.add(K))||new Set([K]));a(),u.value={width:0,height:0,startX:ne,startY:ae,x:ne,y:ae},o.value=!0,l.value=!1,i.selectionStart(U)}function z(U){if(!B.value||!u.value)return;b=!0;const{x:F,y:X}=mt(U,B.value),{startX:ce=0,startY:le=0}=u.value,de={startX:ce,startY:le,x:F<ce?F:ce,y:X<le?X:le,width:Math.abs(F-ce),height:Math.abs(X-le)},ne=Pg(n.value,de,r.value,v.value===El.Partial,!0),ae=new Set,K=new Set;for(const Z of ne){K.add(Z.id);const _=D.value.get(Z.id);if(_)for(const p of _)ae.add(p)}if(M.value!==K.size){M.value=K.size;const Z=gt(S.value,K,!0);i.nodesChange(Z)}if(R.value!==ae.size){R.value=ae.size;const Z=gt(I.value,ae);i.edgesChange(Z)}u.value=de,o.value=!0,l.value=!1}function ee(U){var F;U.button!==0||!G||((F=U.target)==null||F.releasePointerCapture(U.pointerId),!o.value&&u.value&&U.target===P.value&&k(U),M.value>0&&(l.value=!0),N(),i.selectionEnd(U),e.selectionKeyPressed&&(b=!1),G=!1)}return(U,F)=>(he(),_e("div",{ref_key:"container",ref:P,class:At(["vue-flow__pane vue-flow__container",{selection:U.isSelecting}]),onClick:F[0]||(F[0]=X=>A.value?void 0:T(k,P.value)(X)),onContextmenu:F[1]||(F[1]=X=>T($,P.value)(X)),onWheelPassive:F[2]||(F[2]=X=>T(L,P.value)(X)),onPointerenter:F[3]||(F[3]=X=>A.value?void 0:re(i).paneMouseEnter(X)),onPointerdown:F[4]||(F[4]=X=>A.value?V(X):re(i).paneMouseMove(X)),onPointermove:F[5]||(F[5]=X=>A.value?z(X):re(i).paneMouseMove(X)),onPointerup:F[6]||(F[6]=X=>A.value?ee(X):void 0),onPointerleave:F[7]||(F[7]=X=>re(i).paneMouseLeave(X))},[it(U.$slots,"default"),re(o)&&re(u)?(he(),Mt(B1,{key:0,"user-selection-rect":re(u)},null,8,["user-selection-rect"])):je("",!0),re(l)&&re(f).length?(he(),Mt(z1,{key:1})):je("",!0)],34))}}),U1={name:"Transform",compatConfig:{MODE:3}},j1=be({...U1,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:r}=we(),i=se(()=>n.value?!r.value:!1),o=se(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(a,s)=>(he(),_e("div",{class:"vue-flow__transformationpane vue-flow__container",style:Ue({transform:o.value,opacity:i.value?0:void 0})},[it(a.$slots,"default")],4))}}),Y1={name:"Viewport",compatConfig:{MODE:3}},K1=be({...Y1,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:r,translateExtent:i,zoomActivationKeyCode:o,selectionKeyCode:a,panActivationKeyCode:s,panOnScroll:u,panOnScrollMode:c,panOnScrollSpeed:l,panOnDrag:d,zoomOnDoubleClick:f,zoomOnPinch:h,zoomOnScroll:g,preventScrolling:v,noWheelClassName:y,noPanClassName:w,emits:m,connectionStartHandle:I,userSelectionActive:S,paneDragging:P,d3Zoom:M,d3Selection:R,d3ZoomHandler:B,viewport:D,viewportRef:A,paneClickDistance:b}=we();D1(A);const G=me(!1),W=me(!1);let E=null,T=!1,N=0,k={x:0,y:0,zoom:0};const $=hn(s),L=hn(a),V=hn(o),z=Se(()=>$.value||d.value),ee=Se(()=>$.value||u.value),U=Se(()=>L.value||a.value===!0&&z.value!==!0);st(()=>{var q,j,Y;if(!A.value){gr("Viewport element is missing");return}const ne=A.value,ae=ne.getBoundingClientRect(),K=ww().clickDistance(b.value).scaleExtent([t.value,n.value]).translateExtent(i.value),Z=De(ne).call(K),_=Z.on("wheel.zoom"),p=Wt.translate((q=r.value.x)!=null?q:0,(j=r.value.y)!=null?j:0).scale(Dt((Y=r.value.zoom)!=null?Y:1,t.value,n.value)),x=[[0,0],[ae.width,ae.height]],C=K.constrain()(p,x,i.value);K.transform(Z,C),K.wheelDelta(X),M.value=K,R.value=Z,B.value=_,D.value={x:C.x,y:C.y,zoom:C.k},K.on("start",O=>{var Q;if(!O.sourceEvent)return null;N=O.sourceEvent.button,G.value=!0;const ie=le(O.transform);((Q=O.sourceEvent)==null?void 0:Q.type)==="mousedown"&&(P.value=!0),k=ie,m.viewportChangeStart(ie),m.moveStart({event:O,flowTransform:ie})}),K.on("end",O=>{if(!O.sourceEvent)return null;if(G.value=!1,P.value=!1,F(z.value,N!=null?N:0)&&!T&&m.paneContextMenu(O.sourceEvent),T=!1,ce(k,O.transform)){const Q=le(O.transform);k=Q,m.viewportChangeEnd(Q),m.moveEnd({event:O,flowTransform:Q})}}),K.filter(O=>{var Q,ie,te;const fe=V.value||g.value,Te=h.value&&O.ctrlKey,ze=O.button;if((z.value===!0||Array.isArray(z.value)&&z.value.includes(1))&&ze===1&&O.type==="mousedown"&&(((Q=O.target)==null?void 0:Q.closest(".vue-flow__node"))||((ie=O.target)==null?void 0:ie.closest(".vue-flow__edge"))))return!0;if(!z.value&&!fe&&!ee.value&&!f.value&&!h.value||S.value||!f.value&&O.type==="dblclick"||de(O,y.value)&&O.type==="wheel"||de(O,w.value)&&(O.type!=="wheel"||ee.value&&O.type==="wheel"&&!V.value)||!h.value&&O.ctrlKey&&O.type==="wheel"||!fe&&!ee.value&&!Te&&O.type==="wheel")return!1;if(!h&&O.type==="touchstart"&&((te=O.touches)==null?void 0:te.length)>1)return O.preventDefault(),!1;if(!z.value&&(O.type==="mousedown"||O.type==="touchstart")||Array.isArray(z.value)&&!z.value.includes(ze)&&(O.type==="mousedown"||O.type==="touchstart"))return!1;const ct=Array.isArray(z.value)&&z.value.includes(ze)||!ze||ze<=1;return(!O.ctrlKey||O.type==="wheel")&&ct}),ge([S,z],()=>{S.value&&!G.value?K.on("zoom",null):S.value||K.on("zoom",O=>{D.value={x:O.transform.x,y:O.transform.y,zoom:O.transform.k};const Q=le(O.transform);T=F(z.value,N!=null?N:0),m.viewportChange(Q),m.move({event:O,flowTransform:Q})})},{immediate:!0}),ge([S,ee,c,V,h,v,y],()=>{ee.value&&!V.value&&!S.value?Z.on("wheel.zoom",O=>{if(de(O,y.value))return!1;const Q=V.value||g.value,ie=h.value&&O.ctrlKey;if(!(!v.value||ee.value||Q||ie))return!1;O.preventDefault(),O.stopImmediatePropagation();const fe=Z.property("__zoom").k||1,Te=ir();if(O.ctrlKey&&h.value&&Te){const Tn=Ge(O),zr=X(O),Rn=fe*2**zr;K.scaleTo(Z,Rn,Tn,O);return}const ze=O.deltaMode===1?20:1;let ct=c.value===fn.Vertical?0:O.deltaX*ze,ke=c.value===fn.Horizontal?0:O.deltaY*ze;!Te&&O.shiftKey&&c.value!==fn.Vertical&&!ct&&ke&&(ct=ke,ke=0),K.translateBy(Z,-(ct/fe)*l.value,-(ke/fe)*l.value);const Xe=le(Z.property("__zoom"));E&&clearTimeout(E),W.value?(m.move({event:O,flowTransform:Xe}),m.viewportChange(Xe),E=setTimeout(()=>{m.moveEnd({event:O,flowTransform:Xe}),m.viewportChangeEnd(Xe),W.value=!1},150)):(W.value=!0,m.moveStart({event:O,flowTransform:Xe}),m.viewportChangeStart(Xe))},{passive:!1}):typeof _<"u"&&Z.on("wheel.zoom",function(O,Q){const ie=!v.value&&O.type==="wheel"&&!O.ctrlKey,te=V.value||g.value,fe=h.value&&O.ctrlKey;if(!te&&!u.value&&!fe&&O.type==="wheel"||ie||de(O,y.value))return null;O.preventDefault(),_.call(this,O,Q)},{passive:!1})},{immediate:!0})});function F(ne,ae){return ae===2&&Array.isArray(ne)&&ne.includes(2)}function X(ne){const ae=ne.ctrlKey&&ir()?10:1;return-ne.deltaY*(ne.deltaMode===1?.05:ne.deltaMode?1:.002)*ae}function ce(ne,ae){return ne.x!==ae.x&&!Number.isNaN(ae.x)||ne.y!==ae.y&&!Number.isNaN(ae.y)||ne.zoom!==ae.k&&!Number.isNaN(ae.k)}function le(ne){return{x:ne.x,y:ne.y,zoom:ne.k}}function de(ne,ae){return ne.target.closest(`.${ae}`)}return(ne,ae)=>(he(),_e("div",{ref_key:"viewportRef",ref:A,class:"vue-flow__viewport vue-flow__container"},[Qe(H1,{"is-selecting":U.value,"selection-key-pressed":re(L),class:At({connecting:!!re(I),dragging:re(P),draggable:z.value})},{default:ju(()=>[Qe(j1,null,{default:ju(()=>[it(ne.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),X1=["id"],W1=["id"],Z1=["id"],J1={name:"A11yDescriptions",compatConfig:{MODE:3}},Q1=be({...J1,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:r}=we();return(i,o)=>(he(),_e(Pt,null,[qt("div",{id:`${re(Eg)}-${re(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+Yu(re(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,X1),qt("div",{id:`${re(Sg)}-${re(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,W1),re(n)?je("",!0):(he(),_e("div",{key:0,id:`${re(Cw)}-${re(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},Yu(re(r)),9,Z1))],64))}});function eE(){const e=we();ge(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function tE(e,t,n){return n===J.Left?e-t:n===J.Right?e+t:e}function nE(e,t,n){return n===J.Top?e-t:n===J.Bottom?e+t:e}const Cl=function({radius:e=10,centerX:t=0,centerY:n=0,position:r=J.Top,type:i}){return ye("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${i}`,cx:tE(t,e,r),cy:nE(n,e,r),r:e,stroke:"transparent",fill:"transparent"})};Cl.props=["radius","centerX","centerY","position","type"];Cl.compatConfig={MODE:3};const kc=Cl,rE=be({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:r,edgeUpdaterRadius:i,emits:o,nodesSelectionActive:a,noPanClassName:s,getEdgeTypes:u,removeSelectedEdges:c,findEdge:l,findNode:d,isValidConnection:f,multiSelectionActive:h,disableKeyboardA11y:g,elementsSelectable:v,edgesUpdatable:y,edgesFocusable:w}=we(),m=se(()=>l(e.id)),I=Xw(m.value,o),S=Zt(yr),P=bn(),M=me(!1),R=me(!1),B=me(""),D=me(null),A=me("source"),b=me(null),G=Se(()=>typeof m.value.selectable>"u"?v.value:m.value.selectable),W=Se(()=>typeof m.value.updatable>"u"?y.value:m.value.updatable),E=Se(()=>typeof m.value.focusable>"u"?w.value:m.value.focusable);Yt(jw,e.id),Yt(Yw,b);const T=se(()=>m.value.class instanceof Function?m.value.class(m.value):m.value.class),N=se(()=>m.value.style instanceof Function?m.value.style(m.value):m.value.style),k=se(()=>{var C;const _=m.value.type||"default",p=S==null?void 0:S[`edge-${_}`];if(p)return p;let x=(C=m.value.template)!=null?C:u.value[_];if(typeof x=="string"&&P){const q=Object.keys(P.appContext.components);q&&q.includes(_)&&(x=Hp(_,!1))}return x&&typeof x!="string"?x:(o.error(new Ne(Ie.EDGE_TYPE_MISSING,x)),!1)}),{handlePointerDown:$}=Vg({nodeId:B,handleId:D,type:A,isValidConnection:f,edgeUpdaterType:A,onEdgeUpdate:z,onEdgeUpdateEnd:ee});return()=>{const _=d(m.value.source),p=d(m.value.target),x="pathOptions"in m.value?m.value.pathOptions:{};if(!_&&!p)return o.error(new Ne(Ie.EDGE_SOURCE_TARGET_MISSING,m.value.id,m.value.source,m.value.target)),null;if(!_)return o.error(new Ne(Ie.EDGE_SOURCE_MISSING,m.value.id,m.value.source)),null;if(!p)return o.error(new Ne(Ie.EDGE_TARGET_MISSING,m.value.id,m.value.target)),null;if(!m.value||m.value.hidden||_.hidden||p.hidden)return null;let C;r.value===kt.Strict?C=_.handleBounds.source:C=[..._.handleBounds.source||[],..._.handleBounds.target||[]];const q=Ec(C,m.value.sourceHandle);let j;r.value===kt.Strict?j=p.handleBounds.target:j=[...p.handleBounds.target||[],...p.handleBounds.source||[]];const Y=Ec(j,m.value.targetHandle),O=(q==null?void 0:q.position)||J.Bottom,Q=(Y==null?void 0:Y.position)||J.Top,{x:ie,y:te}=rr(_,q,O),{x:fe,y:Te}=rr(p,Y,Q);return m.value.sourceX=ie,m.value.sourceY=te,m.value.targetX=fe,m.value.targetY=Te,ye("g",{ref:b,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${k.value===!1?"default":m.value.type||"default"}`,s.value,T.value,{updating:M.value,selected:m.value.selected,animated:m.value.animated,inactive:!G.value}],onClick:F,onContextmenu:X,onDblclick:ce,onMouseenter:le,onMousemove:de,onMouseleave:ne,onKeyDown:E.value?Z:void 0,tabIndex:E.value?0:void 0,"aria-label":m.value.ariaLabel===null?void 0:m.value.ariaLabel||`Edge from ${m.value.source} to ${m.value.target}`,"aria-describedby":E.value?`${Sg}-${t}`:void 0,role:E.value?"button":"img"},[R.value?null:ye(k.value===!1?u.value.default:k.value,{id:e.id,sourceNode:_,targetNode:p,source:m.value.source,target:m.value.target,type:m.value.type,updatable:W.value,selected:m.value.selected,animated:m.value.animated,label:m.value.label,labelStyle:m.value.labelStyle,labelShowBg:m.value.labelShowBg,labelBgStyle:m.value.labelBgStyle,labelBgPadding:m.value.labelBgPadding,labelBgBorderRadius:m.value.labelBgBorderRadius,data:m.value.data,events:{...m.value.events,...I.on},style:N.value,markerStart:`url('#${_n(m.value.markerStart,t)}')`,markerEnd:`url('#${_n(m.value.markerEnd,t)}')`,sourcePosition:O,targetPosition:Q,sourceX:ie,sourceY:te,targetX:fe,targetY:Te,sourceHandleId:m.value.sourceHandle,targetHandleId:m.value.targetHandle,interactionWidth:m.value.interactionWidth,...x}),[W.value==="source"||W.value===!0?[ye("g",{onMousedown:ae,onMouseenter:L,onMouseout:V},ye(kc,{position:O,centerX:ie,centerY:te,radius:i.value,type:"source","data-type":"source"}))]:null,W.value==="target"||W.value===!0?[ye("g",{onMousedown:K,onMouseenter:L,onMouseout:V},ye(kc,{position:Q,centerX:fe,centerY:Te,radius:i.value,type:"target","data-type":"target"}))]:null]])};function L(){M.value=!0}function V(){M.value=!1}function z(_,p){I.emit.update({event:_,edge:m.value,connection:p})}function ee(_){I.emit.updateEnd({event:_,edge:m.value}),R.value=!1}function U(_,p){var x;_.button===0&&(R.value=!0,B.value=p?m.value.target:m.value.source,D.value=(x=p?m.value.targetHandle:m.value.sourceHandle)!=null?x:"",A.value=p?"target":"source",I.emit.updateStart({event:_,edge:m.value}),$(_))}function F(_){var p;const x={event:_,edge:m.value};G.value&&(a.value=!1,m.value.selected&&h.value?(c([m.value]),(p=b.value)==null||p.blur()):n([m.value])),I.emit.click(x)}function X(_){I.emit.contextMenu({event:_,edge:m.value})}function ce(_){I.emit.doubleClick({event:_,edge:m.value})}function le(_){I.emit.mouseEnter({event:_,edge:m.value})}function de(_){I.emit.mouseMove({event:_,edge:m.value})}function ne(_){I.emit.mouseLeave({event:_,edge:m.value})}function ae(_){U(_,!0)}function K(_){U(_,!1)}function Z(_){var p;!g.value&&xg.includes(_.key)&&G.value&&(_.key==="Escape"?((p=b.value)==null||p.blur(),c([l(e.id)])):n([l(e.id)]))}}}),iE=rE,oE={[J.Left]:J.Right,[J.Right]:J.Left,[J.Top]:J.Bottom,[J.Bottom]:J.Top},aE=be({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:r,connectionEndHandle:i,connectionPosition:o,connectionLineType:a,connectionLineStyle:s,connectionLineOptions:u,connectionStatus:c,viewport:l,findNode:d}=we(),f=(e=Zt(yr))==null?void 0:e["connection-line"],h=se(()=>{var m;return d((m=r.value)==null?void 0:m.nodeId)}),g=se(()=>{var I;var m;return(I=d((m=i.value)==null?void 0:m.nodeId))!=null?I:null}),v=se(()=>({x:(o.value.x-l.value.x)/l.value.zoom,y:(o.value.y-l.value.y)/l.value.zoom})),y=se(()=>u.value.markerStart?`url(#${_n(u.value.markerStart,t)})`:""),w=se(()=>u.value.markerEnd?`url(#${_n(u.value.markerEnd,t)})`:"");return()=>{var L,V,z,ee;var m,I,S,P;if(!h.value||!r.value)return null;const M=r.value.handleId,R=r.value.type,B=h.value.handleBounds;let D=B==null?void 0:B[R];if(n.value===kt.Loose&&(D=D||(B==null?void 0:B[R==="source"?"target":"source"])),!D)return null;const A=(L=M?D.find(U=>U.id===M):D[0])!=null?L:null,b=(A==null?void 0:A.position)||J.Top,{x:G,y:W}=rr(h.value,A,b);let E=null;g.value&&((m=i.value)==null?void 0:m.handleId)&&(n.value===kt.Strict?E=((I=g.value.handleBounds[R==="source"?"target":"source"])==null?void 0:I.find(U=>{var F;return U.id===((F=i.value)==null?void 0:F.handleId)}))||null:E=((S=[...g.value.handleBounds.source||[],...g.value.handleBounds.target||[]])==null?void 0:S.find(U=>{var F;return U.id===((F=i.value)==null?void 0:F.handleId)}))||null);const T=(V=(P=i.value)==null?void 0:P.position)!=null?V:b?oE[b]:null;if(!b||!T)return null;const N=(ee=(z=a.value)!=null?z:u.value.type)!=null?ee:xt.Bezier;let k="";const $={sourceX:G,sourceY:W,sourcePosition:b,targetX:v.value.x,targetY:v.value.y,targetPosition:T};return N===xt.Bezier?[k]=Xg($):N===xt.Step?[k]=ll({...$,borderRadius:0}):N===xt.SmoothStep?[k]=ll($):N===xt.SimpleBezier?[k]=Wg($):k=`M${G},${W} ${v.value.x},${v.value.y}`,ye("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},ye("g",{class:"vue-flow__connection"},f?ye(f,{sourceX:G,sourceY:W,sourcePosition:b,targetX:v.value.x,targetY:v.value.y,targetPosition:T,sourceNode:h.value,sourceHandle:A,targetNode:g.value,targetHandle:E,markerEnd:w.value,markerStart:y.value,connectionStatus:c.value}):ye("path",{d:k,class:[u.value.class,c,"vue-flow__connection-path"],style:{...s.value,...u.value.style},"marker-end":w.value,"marker-start":y.value})))}}}),sE=aE,uE=["id","markerWidth","markerHeight","markerUnits","orient"],lE={name:"MarkerType",compatConfig:{MODE:3}},cE=be({...lE,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(he(),_e("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===re(il).ArrowClosed?(he(),_e("polyline",{key:0,style:Ue({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):je("",!0),t.type===re(il).Arrow?(he(),_e("polyline",{key:1,style:Ue({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):je("",!0)],8,uE))}}),dE={class:"vue-flow__marker vue-flow__container"},fE={name:"MarkerDefinitions",compatConfig:{MODE:3}},hE=be({...fE,setup(e){const{id:t,edges:n,connectionLineOptions:r,defaultMarkerColor:i}=we(),o=se(()=>{const a=new Set,s=[],u=c=>{if(c){const l=_n(c,t);a.has(l)||(typeof c=="object"?s.push({...c,id:l,color:c.color||i.value}):s.push({id:l,color:i.value,type:c}),a.add(l))}};for(const c of[r.value.markerEnd,r.value.markerStart])u(c);for(const c of n.value)for(const l of[c.markerStart,c.markerEnd])u(l);return s.sort((c,l)=>c.id.localeCompare(l.id))});return(a,s)=>(he(),_e("svg",dE,[qt("defs",null,[(he(!0),_e(Pt,null,hl(o.value,u=>(he(),Mt(cE,{id:u.id,key:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,"stroke-width":u.strokeWidth,orient:u.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),vE={name:"Edges",compatConfig:{MODE:3}},pE=be({...vE,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:r}=we();return(i,o)=>(he(),_e(Pt,null,[Qe(hE),(he(!0),_e(Pt,null,hl(re(n),a=>(he(),_e("svg",{key:a.id,class:"vue-flow__edges vue-flow__container",style:Ue({zIndex:re(Bw)(a,re(t),re(r))})},[Qe(re(iE),{id:a.id},null,8,["id"])],4))),128)),Qe(re(sE))],64))}}),gE=be({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:r,nodesSelectionActive:i,multiSelectionActive:o,emits:a,removeSelectedNodes:s,addSelectedNodes:u,updateNodeDimensions:c,onUpdateNodeInternals:l,getNodeTypes:d,nodeExtent:f,elevateNodesOnSelect:h,disableKeyboardA11y:g,ariaLiveMessage:v,snapToGrid:y,snapGrid:w,nodeDragThreshold:m,nodesDraggable:I,elementsSelectable:S,nodesConnectable:P,nodesFocusable:M}=we(),R=me(null);Yt(zg,R),Yt(Fg,e.id);const B=Zt(yr),D=bn(),A=Ug(),{node:b,parentNode:G}=Hg(e.id),W=Se(()=>typeof b.draggable>"u"?I.value:b.draggable),E=Se(()=>typeof b.selectable>"u"?S.value:b.selectable),T=Se(()=>typeof b.connectable>"u"?P.value:b.connectable),N=Se(()=>typeof b.focusable>"u"?M.value:b.focusable),k=Se(()=>!!b.dimensions.width&&!!b.dimensions.height),$=se(()=>{const p=b.type||"default",x=B==null?void 0:B[`node-${p}`];if(x)return x;let C=b.template||d.value[p];if(typeof C=="string"&&D){const q=Object.keys(D.appContext.components);q&&q.includes(p)&&(C=Hp(p,!1))}return C&&typeof C!="string"?C:(a.error(new Ne(Ie.NODE_TYPE_MISSING,C)),!1)}),{emit:L,on:V}=Qw(b,a),z=Gg({id:e.id,el:R,disabled:()=>!W.value,selectable:E,dragHandle:()=>b.dragHandle,onStart(p){L.dragStart(p)},onDrag(p){L.drag(p)},onStop(p){L.dragStop(p)},onClick(p){Z(p)}}),ee=se(()=>b.class instanceof Function?b.class(b):b.class),U=se(()=>{const p=(b.style instanceof Function?b.style(b):b.style)||{},x=b.width instanceof Function?b.width(b):b.width,C=b.height instanceof Function?b.height(b):b.height;return x&&(p.width=typeof x=="string"?x:`${x}px`),C&&(p.height=typeof C=="string"?C:`${C}px`),p}),F=Se(()=>{var p,x;return Number((x=(p=b.zIndex)!=null?p:U.value.zIndex)!=null?x:0)});return l(p=>{(p.includes(e.id)||!p.length)&&ce()}),st(()=>{ge(()=>b.hidden,(p=!1,x,C)=>{!p&&R.value&&(e.resizeObserver.observe(R.value),C(()=>{R.value&&e.resizeObserver.unobserve(R.value)}))},{immediate:!0,flush:"post"})}),ge([()=>b.type,()=>b.sourcePosition,()=>b.targetPosition],()=>{rt(()=>{c([{id:e.id,nodeElement:R.value,forceUpdate:!0}])})}),ge([()=>b.position.x,()=>b.position.y,()=>{var p;return(p=G.value)==null?void 0:p.computedPosition.x},()=>{var p;return(p=G.value)==null?void 0:p.computedPosition.y},()=>{var p;return(p=G.value)==null?void 0:p.computedPosition.z},F,()=>b.selected,()=>b.dimensions.height,()=>b.dimensions.width,()=>{var p;return(p=G.value)==null?void 0:p.dimensions.height},()=>{var p;return(p=G.value)==null?void 0:p.dimensions.width}],([p,x,C,q,j,Y])=>{const O={x:p,y:x,z:Y+(h.value&&b.selected?1e3:0)};typeof C<"u"&&typeof q<"u"?b.computedPosition=Mw({x:C,y:q,z:j},O):b.computedPosition=O},{flush:"post",immediate:!0}),ge([()=>b.extent,f],([p,x],[C,q])=>{(p!==C||x!==q)&&X()}),b.extent==="parent"||typeof b.extent=="object"&&"range"in b.extent&&b.extent.range==="parent"?Xu(()=>k).toBe(!0).then(X):X(),()=>{var p,x;return b.hidden?null:ye("div",{ref:R,"data-id":b.id,class:["vue-flow__node",`vue-flow__node-${$.value===!1?"default":b.type||"default"}`,{[n.value]:W.value,dragging:z==null?void 0:z.value,draggable:W.value,selected:b.selected,selectable:E.value,parent:b.isParent},ee.value],style:{visibility:k.value?"visible":"hidden",zIndex:(p=b.computedPosition.z)!=null?p:F.value,transform:`translate(${b.computedPosition.x}px,${b.computedPosition.y}px)`,pointerEvents:E.value||W.value?"all":"none",...U.value},tabIndex:N.value?0:void 0,role:N.value?"button":void 0,"aria-describedby":g.value?void 0:`${Eg}-${t}`,"aria-label":b.ariaLabel,onMouseenter:le,onMousemove:de,onMouseleave:ne,onContextmenu:ae,onClick:Z,onDblclick:K,onKeydown:_},[ye($.value===!1?d.value.default:$.value,{id:b.id,type:b.type,data:b.data,events:{...b.events,...V},selected:b.selected,resizing:b.resizing,dragging:z.value,connectable:T.value,position:b.computedPosition,dimensions:b.dimensions,isValidTargetPos:b.isValidTargetPos,isValidSourcePos:b.isValidSourcePos,parent:b.parentNode,parentNodeId:b.parentNode,zIndex:(x=b.computedPosition.z)!=null?x:F.value,targetPosition:b.targetPosition,sourcePosition:b.sourcePosition,label:b.label,dragHandle:b.dragHandle,onUpdateNodeInternals:ce})])};function X(){const p=b.computedPosition;y.value&&(p.x=w.value[0]*Math.round(p.x/w.value[0]),p.y=w.value[1]*Math.round(p.y/w.value[1]));const{computedPosition:x,position:C}=Sl(b,p,a.error,f.value,G.value);(b.computedPosition.x!==x.x||b.computedPosition.y!==x.y)&&(b.computedPosition={...b.computedPosition,...x}),(b.position.x!==C.x||b.position.y!==C.y)&&(b.position=C)}function ce(){R.value&&c([{id:e.id,nodeElement:R.value,forceUpdate:!0}])}function le(p){z!=null&&z.value||L.mouseEnter({event:p,node:b})}function de(p){z!=null&&z.value||L.mouseMove({event:p,node:b})}function ne(p){z!=null&&z.value||L.mouseLeave({event:p,node:b})}function ae(p){return L.contextMenu({event:p,node:b})}function K(p){return L.doubleClick({event:p,node:b})}function Z(p){E.value&&(!r.value||!W.value||m.value>0)&&ul(b,o.value,u,s,i,!1,R.value),L.click({event:p,node:b})}function _(p){if(!(ol(p)||g.value))if(xg.includes(p.key)&&E.value){const x=p.key==="Escape";ul(b,o.value,u,s,i,x,R.value)}else W.value&&b.selected&&jt[p.key]&&(v.value=`Moved selected node ${p.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~b.position.x}, y: ${~~b.position.y}`,A({x:jt[p.key].x,y:jt[p.key].y},p.shiftKey))}}}),yE=gE,mE={height:"0",width:"0"},_E={name:"EdgeLabelRenderer",compatConfig:{MODE:3}},yT=be({..._E,setup(e){const{viewportRef:t}=we(),n=Se(()=>{var r;return(r=t.value)==null?void 0:r.getElementsByClassName("vue-flow__edge-labels")[0]});return(r,i)=>(he(),_e("svg",null,[(he(),_e("foreignObject",mE,[(he(),Mt(xm,{to:n.value,disabled:!n.value},[it(r.$slots,"default")],8,["to","disabled"]))]))]))}});function bE(e={includeHiddenNodes:!1}){const{nodes:t}=we();return se(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&((n==null?void 0:n.handleBounds)===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const wE={class:"vue-flow__nodes vue-flow__container"},EE={name:"Nodes",compatConfig:{MODE:3}},SE=be({...EE,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:r}=we(),i=bE(),o=me();return ge(i,a=>{a&&rt(()=>{r.nodesInitialized(t.value)})},{immediate:!0}),st(()=>{o.value=new ResizeObserver(a=>{const s=a.map(u=>({id:u.target.getAttribute("data-id"),nodeElement:u.target,forceUpdate:!0}));rt(()=>n(s))})}),Up(()=>{var a;return(a=o.value)==null?void 0:a.disconnect()}),(a,s)=>(he(),_e("div",wE,[o.value?(he(!0),_e(Pt,{key:0},hl(re(t),(u,c,l,d)=>{const f=[u.id];if(d&&d.key===u.id&&Im(d,f))return d;const h=(he(),Mt(re(yE),{id:u.id,key:u.id,"resize-observer":o.value},null,8,["id","resize-observer"]));return h.memo=f,h},s,0),128)):je("",!0)]))}});function xE(){const{emits:e}=we();st(()=>{if(Lg()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new Ne(Ie.MISSING_STYLES))}})}const IE=qt("div",{class:"vue-flow__edge-labels"},null,-1),CE={name:"VueFlow",compatConfig:{MODE:3}},mT=be({...CE,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneReady","init","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","updateNodeInternals","error","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdate","edgeUpdateEnd","nodeDoubleClick","nodeClick","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeContextMenu","nodeDragStart","nodeDrag","nodeDragStop","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const r=e,i=bm(),o=Gr(r,"modelValue",n),a=Gr(r,"nodes",n),s=Gr(r,"edges",n),u=we(r),c=n1({modelValue:o,nodes:a,edges:s},r,u);return i1(n,u.hooks),eE(),xE(),Yt(yr,i),zp(()=>{c()}),t(u),(l,d)=>(he(),_e("div",{ref:re(u).vueFlowRef,class:"vue-flow"},[Qe(K1,null,{default:ju(()=>[Qe(pE),IE,Qe(SE),it(l.$slots,"zoom-pane")]),_:3}),it(l.$slots,"default"),Qe(Q1)],512))}}),NE={name:"Panel",compatConfig:{MODE:3}},_T=be({...NE,props:{position:{}},setup(e){const t=e,{userSelectionActive:n}=we(),r=se(()=>`${t.position}`.split("-"));return(i,o)=>(he(),_e("div",{class:At(["vue-flow__panel",r.value]),style:Ue({pointerEvents:re(n)?"none":"all"})},[it(i.$slots,"default")],6))}});var Jr,Dc;function TE(){if(Dc)return Jr;Dc=1;function e(){this.__data__=[],this.size=0}return Jr=e,Jr}var Qr,$c;function Jt(){if($c)return Qr;$c=1;function e(t,n){return t===n||t!==t&&n!==n}return Qr=e,Qr}var ei,Bc;function Er(){if(Bc)return ei;Bc=1;var e=Jt();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return ei=t,ei}var ti,Lc;function RE(){if(Lc)return ti;Lc=1;var e=Er(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,a=e(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():n.call(o,a,1),--this.size,!0}return ti=r,ti}var ni,Fc;function AE(){if(Fc)return ni;Fc=1;var e=Er();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return ni=t,ni}var ri,zc;function qE(){if(zc)return ri;zc=1;var e=Er();function t(n){return e(this.__data__,n)>-1}return ri=t,ri}var ii,Gc;function ME(){if(Gc)return ii;Gc=1;var e=Er();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return ii=t,ii}var oi,Vc;function Sr(){if(Vc)return oi;Vc=1;var e=TE(),t=RE(),n=AE(),r=qE(),i=ME();function o(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,oi=o,oi}var ai,Hc;function PE(){if(Hc)return ai;Hc=1;var e=Sr();function t(){this.__data__=new e,this.size=0}return ai=t,ai}var si,Uc;function OE(){if(Uc)return si;Uc=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return si=e,si}var ui,jc;function kE(){if(jc)return ui;jc=1;function e(t){return this.__data__.get(t)}return ui=e,ui}var li,Yc;function DE(){if(Yc)return li;Yc=1;function e(t){return this.__data__.has(t)}return li=e,li}var ci,Kc;function Jg(){if(Kc)return ci;Kc=1;var e=typeof An=="object"&&An&&An.Object===Object&&An;return ci=e,ci}var di,Xc;function Le(){if(Xc)return di;Xc=1;var e=Jg(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return di=n,di}var fi,Wc;function Qt(){if(Wc)return fi;Wc=1;var e=Le(),t=e.Symbol;return fi=t,fi}var hi,Zc;function $E(){if(Zc)return hi;Zc=1;var e=Qt(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(a){var s=n.call(a,i),u=a[i];try{a[i]=void 0;var c=!0}catch{}var l=r.call(a);return c&&(s?a[i]=u:delete a[i]),l}return hi=o,hi}var vi,Jc;function BE(){if(Jc)return vi;Jc=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return vi=n,vi}var pi,Qc;function $t(){if(Qc)return pi;Qc=1;var e=Qt(),t=$E(),n=BE(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(s){return s==null?s===void 0?i:r:o&&o in Object(s)?t(s):n(s)}return pi=a,pi}var gi,ed;function Pe(){if(ed)return gi;ed=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return gi=e,gi}var yi,td;function Sn(){if(td)return yi;td=1;var e=$t(),t=Pe(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!t(s))return!1;var u=e(s);return u==r||u==i||u==n||u==o}return yi=a,yi}var mi,nd;function LE(){if(nd)return mi;nd=1;var e=Le(),t=e["__core-js_shared__"];return mi=t,mi}var _i,rd;function FE(){if(rd)return _i;rd=1;var e=LE(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return _i=n,_i}var bi,id;function Qg(){if(id)return bi;id=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return bi=n,bi}var wi,od;function zE(){if(od)return wi;od=1;var e=Sn(),t=FE(),n=Pe(),r=Qg(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,l=RegExp("^"+u.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||t(f))return!1;var h=e(f)?l:o;return h.test(r(f))}return wi=d,wi}var Ei,ad;function GE(){if(ad)return Ei;ad=1;function e(t,n){return t==null?void 0:t[n]}return Ei=e,Ei}var Si,sd;function Bt(){if(sd)return Si;sd=1;var e=zE(),t=GE();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return Si=n,Si}var xi,ud;function Nl(){if(ud)return xi;ud=1;var e=Bt(),t=Le(),n=e(t,"Map");return xi=n,xi}var Ii,ld;function xr(){if(ld)return Ii;ld=1;var e=Bt(),t=e(Object,"create");return Ii=t,Ii}var Ci,cd;function VE(){if(cd)return Ci;cd=1;var e=xr();function t(){this.__data__=e?e(null):{},this.size=0}return Ci=t,Ci}var Ni,dd;function HE(){if(dd)return Ni;dd=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Ni=e,Ni}var Ti,fd;function UE(){if(fd)return Ti;fd=1;var e=xr(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(e){var s=a[o];return s===t?void 0:s}return r.call(a,o)?a[o]:void 0}return Ti=i,Ti}var Ri,hd;function jE(){if(hd)return Ri;hd=1;var e=xr(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return Ri=r,Ri}var Ai,vd;function YE(){if(vd)return Ai;vd=1;var e=xr(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return Ai=n,Ai}var qi,pd;function KE(){if(pd)return qi;pd=1;var e=VE(),t=HE(),n=UE(),r=jE(),i=YE();function o(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,qi=o,qi}var Mi,gd;function XE(){if(gd)return Mi;gd=1;var e=KE(),t=Sr(),n=Nl();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Mi=r,Mi}var Pi,yd;function WE(){if(yd)return Pi;yd=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Pi=e,Pi}var Oi,md;function Ir(){if(md)return Oi;md=1;var e=WE();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Oi=t,Oi}var ki,_d;function ZE(){if(_d)return ki;_d=1;var e=Ir();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return ki=t,ki}var Di,bd;function JE(){if(bd)return Di;bd=1;var e=Ir();function t(n){return e(this,n).get(n)}return Di=t,Di}var $i,wd;function QE(){if(wd)return $i;wd=1;var e=Ir();function t(n){return e(this,n).has(n)}return $i=t,$i}var Bi,Ed;function eS(){if(Ed)return Bi;Ed=1;var e=Ir();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Bi=t,Bi}var Li,Sd;function Tl(){if(Sd)return Li;Sd=1;var e=XE(),t=ZE(),n=JE(),r=QE(),i=eS();function o(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Li=o,Li}var Fi,xd;function tS(){if(xd)return Fi;xd=1;var e=Sr(),t=Nl(),n=Tl(),r=200;function i(o,a){var s=this.__data__;if(s instanceof e){var u=s.__data__;if(!t||u.length<r-1)return u.push([o,a]),this.size=++s.size,this;s=this.__data__=new n(u)}return s.set(o,a),this.size=s.size,this}return Fi=i,Fi}var zi,Id;function Cr(){if(Id)return zi;Id=1;var e=Sr(),t=PE(),n=OE(),r=kE(),i=DE(),o=tS();function a(s){var u=this.__data__=new e(s);this.size=u.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,zi=a,zi}var Gi,Cd;function Rl(){if(Cd)return Gi;Cd=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return Gi=e,Gi}var Vi,Nd;function ey(){if(Nd)return Vi;Nd=1;var e=Bt(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Vi=t,Vi}var Hi,Td;function Nr(){if(Td)return Hi;Td=1;var e=ey();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Hi=t,Hi}var Ui,Rd;function Tr(){if(Rd)return Ui;Rd=1;var e=Nr(),t=Jt(),n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s){var u=o[a];(!(r.call(o,a)&&t(u,s))||s===void 0&&!(a in o))&&e(o,a,s)}return Ui=i,Ui}var ji,Ad;function xn(){if(Ad)return ji;Ad=1;var e=Tr(),t=Nr();function n(r,i,o,a){var s=!o;o||(o={});for(var u=-1,c=i.length;++u<c;){var l=i[u],d=a?a(o[l],r[l],l,o,r):void 0;d===void 0&&(d=r[l]),s?t(o,l,d):e(o,l,d)}return o}return ji=n,ji}var Yi,qd;function nS(){if(qd)return Yi;qd=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return Yi=e,Yi}var Ki,Md;function Ke(){if(Md)return Ki;Md=1;function e(t){return t!=null&&typeof t=="object"}return Ki=e,Ki}var Xi,Pd;function rS(){if(Pd)return Xi;Pd=1;var e=$t(),t=Ke(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return Xi=r,Xi}var Wi,Od;function In(){if(Od)return Wi;Od=1;var e=rS(),t=Ke(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(a){return t(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return Wi=o,Wi}var Zi,kd;function Ce(){if(kd)return Zi;kd=1;var e=Array.isArray;return Zi=e,Zi}var Ln={exports:{}},Ji,Dd;function iS(){if(Dd)return Ji;Dd=1;function e(){return!1}return Ji=e,Ji}var $d;function en(){return $d||($d=1,function(e,t){var n=Le(),r=iS(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,u=s?s.isBuffer:void 0,c=u||r;e.exports=c}(Ln,Ln.exports)),Ln.exports}var Qi,Bd;function Rr(){if(Bd)return Qi;Bd=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i==null?e:i,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return Qi=n,Qi}var eo,Ld;function Al(){if(Ld)return eo;Ld=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return eo=t,eo}var to,Fd;function oS(){if(Fd)return to;Fd=1;var e=$t(),t=Al(),n=Ke(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",u="[object Function]",c="[object Map]",l="[object Number]",d="[object Object]",f="[object RegExp]",h="[object Set]",g="[object String]",v="[object WeakMap]",y="[object ArrayBuffer]",w="[object DataView]",m="[object Float32Array]",I="[object Float64Array]",S="[object Int8Array]",P="[object Int16Array]",M="[object Int32Array]",R="[object Uint8Array]",B="[object Uint8ClampedArray]",D="[object Uint16Array]",A="[object Uint32Array]",b={};b[m]=b[I]=b[S]=b[P]=b[M]=b[R]=b[B]=b[D]=b[A]=!0,b[r]=b[i]=b[y]=b[o]=b[w]=b[a]=b[s]=b[u]=b[c]=b[l]=b[d]=b[f]=b[h]=b[g]=b[v]=!1;function G(W){return n(W)&&t(W.length)&&!!b[e(W)]}return to=G,to}var no,zd;function Ar(){if(zd)return no;zd=1;function e(t){return function(n){return t(n)}}return no=e,no}var Fn={exports:{}},Gd;function ql(){return Gd||(Gd=1,function(e,t){var n=Jg(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var u=i&&i.require&&i.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s}(Fn,Fn.exports)),Fn.exports}var ro,Vd;function Cn(){if(Vd)return ro;Vd=1;var e=oS(),t=Ar(),n=ql(),r=n&&n.isTypedArray,i=r?t(r):e;return ro=i,ro}var io,Hd;function ty(){if(Hd)return io;Hd=1;var e=nS(),t=In(),n=Ce(),r=en(),i=Rr(),o=Cn(),a=Object.prototype,s=a.hasOwnProperty;function u(c,l){var d=n(c),f=!d&&t(c),h=!d&&!f&&r(c),g=!d&&!f&&!h&&o(c),v=d||f||h||g,y=v?e(c.length,String):[],w=y.length;for(var m in c)(l||s.call(c,m))&&!(v&&(m=="length"||h&&(m=="offset"||m=="parent")||g&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||i(m,w)))&&y.push(m);return y}return io=u,io}var oo,Ud;function qr(){if(Ud)return oo;Ud=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return oo=t,oo}var ao,jd;function ny(){if(jd)return ao;jd=1;function e(t,n){return function(r){return t(n(r))}}return ao=e,ao}var so,Yd;function aS(){if(Yd)return so;Yd=1;var e=ny(),t=e(Object.keys,Object);return so=t,so}var uo,Kd;function Ml(){if(Kd)return uo;Kd=1;var e=qr(),t=aS(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var a=[];for(var s in Object(o))r.call(o,s)&&s!="constructor"&&a.push(s);return a}return uo=i,uo}var lo,Xd;function ut(){if(Xd)return lo;Xd=1;var e=Sn(),t=Al();function n(r){return r!=null&&t(r.length)&&!e(r)}return lo=n,lo}var co,Wd;function Et(){if(Wd)return co;Wd=1;var e=ty(),t=Ml(),n=ut();function r(i){return n(i)?e(i):t(i)}return co=r,co}var fo,Zd;function sS(){if(Zd)return fo;Zd=1;var e=xn(),t=Et();function n(r,i){return r&&e(i,t(i),r)}return fo=n,fo}var ho,Jd;function uS(){if(Jd)return ho;Jd=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return ho=e,ho}var vo,Qd;function lS(){if(Qd)return vo;Qd=1;var e=Pe(),t=qr(),n=uS(),r=Object.prototype,i=r.hasOwnProperty;function o(a){if(!e(a))return n(a);var s=t(a),u=[];for(var c in a)c=="constructor"&&(s||!i.call(a,c))||u.push(c);return u}return vo=o,vo}var po,ef;function Lt(){if(ef)return po;ef=1;var e=ty(),t=lS(),n=ut();function r(i){return n(i)?e(i,!0):t(i)}return po=r,po}var go,tf;function cS(){if(tf)return go;tf=1;var e=xn(),t=Lt();function n(r,i){return r&&e(i,t(i),r)}return go=n,go}var zn={exports:{}},nf;function ry(){return nf||(nf=1,function(e,t){var n=Le(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function u(c,l){if(l)return c.slice();var d=c.length,f=s?s(d):new c.constructor(d);return c.copy(f),f}e.exports=u}(zn,zn.exports)),zn.exports}var yo,rf;function iy(){if(rf)return yo;rf=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return yo=e,yo}var mo,of;function oy(){if(of)return mo;of=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,a=[];++r<i;){var s=t[r];n(s,r,t)&&(a[o++]=s)}return a}return mo=e,mo}var _o,af;function ay(){if(af)return _o;af=1;function e(){return[]}return _o=e,_o}var bo,sf;function Pl(){if(sf)return bo;sf=1;var e=oy(),t=ay(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),e(i(a),function(s){return r.call(a,s)}))}:t;return bo=o,bo}var wo,uf;function dS(){if(uf)return wo;uf=1;var e=xn(),t=Pl();function n(r,i){return e(r,t(r),i)}return wo=n,wo}var Eo,lf;function Ol(){if(lf)return Eo;lf=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return Eo=e,Eo}var So,cf;function Mr(){if(cf)return So;cf=1;var e=ny(),t=e(Object.getPrototypeOf,Object);return So=t,So}var xo,df;function sy(){if(df)return xo;df=1;var e=Ol(),t=Mr(),n=Pl(),r=ay(),i=Object.getOwnPropertySymbols,o=i?function(a){for(var s=[];a;)e(s,n(a)),a=t(a);return s}:r;return xo=o,xo}var Io,ff;function fS(){if(ff)return Io;ff=1;var e=xn(),t=sy();function n(r,i){return e(r,t(r),i)}return Io=n,Io}var Co,hf;function uy(){if(hf)return Co;hf=1;var e=Ol(),t=Ce();function n(r,i,o){var a=i(r);return t(r)?a:e(a,o(r))}return Co=n,Co}var No,vf;function ly(){if(vf)return No;vf=1;var e=uy(),t=Pl(),n=Et();function r(i){return e(i,n,t)}return No=r,No}var To,pf;function hS(){if(pf)return To;pf=1;var e=uy(),t=sy(),n=Lt();function r(i){return e(i,n,t)}return To=r,To}var Ro,gf;function vS(){if(gf)return Ro;gf=1;var e=Bt(),t=Le(),n=e(t,"DataView");return Ro=n,Ro}var Ao,yf;function pS(){if(yf)return Ao;yf=1;var e=Bt(),t=Le(),n=e(t,"Promise");return Ao=n,Ao}var qo,mf;function cy(){if(mf)return qo;mf=1;var e=Bt(),t=Le(),n=e(t,"Set");return qo=n,qo}var Mo,_f;function gS(){if(_f)return Mo;_f=1;var e=Bt(),t=Le(),n=e(t,"WeakMap");return Mo=n,Mo}var Po,bf;function tn(){if(bf)return Po;bf=1;var e=vS(),t=Nl(),n=pS(),r=cy(),i=gS(),o=$t(),a=Qg(),s="[object Map]",u="[object Object]",c="[object Promise]",l="[object Set]",d="[object WeakMap]",f="[object DataView]",h=a(e),g=a(t),v=a(n),y=a(r),w=a(i),m=o;return(e&&m(new e(new ArrayBuffer(1)))!=f||t&&m(new t)!=s||n&&m(n.resolve())!=c||r&&m(new r)!=l||i&&m(new i)!=d)&&(m=function(I){var S=o(I),P=S==u?I.constructor:void 0,M=P?a(P):"";if(M)switch(M){case h:return f;case g:return s;case v:return c;case y:return l;case w:return d}return S}),Po=m,Po}var Oo,wf;function yS(){if(wf)return Oo;wf=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return Oo=n,Oo}var ko,Ef;function dy(){if(Ef)return ko;Ef=1;var e=Le(),t=e.Uint8Array;return ko=t,ko}var Do,Sf;function kl(){if(Sf)return Do;Sf=1;var e=dy();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return Do=t,Do}var $o,xf;function mS(){if(xf)return $o;xf=1;var e=kl();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return $o=t,$o}var Bo,If;function _S(){if(If)return Bo;If=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return Bo=t,Bo}var Lo,Cf;function bS(){if(Cf)return Lo;Cf=1;var e=Qt(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return Lo=r,Lo}var Fo,Nf;function fy(){if(Nf)return Fo;Nf=1;var e=kl();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return Fo=t,Fo}var zo,Tf;function wS(){if(Tf)return zo;Tf=1;var e=kl(),t=mS(),n=_S(),r=bS(),i=fy(),o="[object Boolean]",a="[object Date]",s="[object Map]",u="[object Number]",c="[object RegExp]",l="[object Set]",d="[object String]",f="[object Symbol]",h="[object ArrayBuffer]",g="[object DataView]",v="[object Float32Array]",y="[object Float64Array]",w="[object Int8Array]",m="[object Int16Array]",I="[object Int32Array]",S="[object Uint8Array]",P="[object Uint8ClampedArray]",M="[object Uint16Array]",R="[object Uint32Array]";function B(D,A,b){var G=D.constructor;switch(A){case h:return e(D);case o:case a:return new G(+D);case g:return t(D,b);case v:case y:case w:case m:case I:case S:case P:case M:case R:return i(D,b);case s:return new G;case u:case d:return new G(D);case c:return n(D);case l:return new G;case f:return r(D)}}return zo=B,zo}var Go,Rf;function hy(){if(Rf)return Go;Rf=1;var e=Pe(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return Go=n,Go}var Vo,Af;function vy(){if(Af)return Vo;Af=1;var e=hy(),t=Mr(),n=qr();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return Vo=r,Vo}var Ho,qf;function ES(){if(qf)return Ho;qf=1;var e=tn(),t=Ke(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return Ho=r,Ho}var Uo,Mf;function SS(){if(Mf)return Uo;Mf=1;var e=ES(),t=Ar(),n=ql(),r=n&&n.isMap,i=r?t(r):e;return Uo=i,Uo}var jo,Pf;function xS(){if(Pf)return jo;Pf=1;var e=tn(),t=Ke(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return jo=r,jo}var Yo,Of;function IS(){if(Of)return Yo;Of=1;var e=xS(),t=Ar(),n=ql(),r=n&&n.isSet,i=r?t(r):e;return Yo=i,Yo}var Ko,kf;function py(){if(kf)return Ko;kf=1;var e=Cr(),t=Rl(),n=Tr(),r=sS(),i=cS(),o=ry(),a=iy(),s=dS(),u=fS(),c=ly(),l=hS(),d=tn(),f=yS(),h=wS(),g=vy(),v=Ce(),y=en(),w=SS(),m=Pe(),I=IS(),S=Et(),P=Lt(),M=1,R=2,B=4,D="[object Arguments]",A="[object Array]",b="[object Boolean]",G="[object Date]",W="[object Error]",E="[object Function]",T="[object GeneratorFunction]",N="[object Map]",k="[object Number]",$="[object Object]",L="[object RegExp]",V="[object Set]",z="[object String]",ee="[object Symbol]",U="[object WeakMap]",F="[object ArrayBuffer]",X="[object DataView]",ce="[object Float32Array]",le="[object Float64Array]",de="[object Int8Array]",ne="[object Int16Array]",ae="[object Int32Array]",K="[object Uint8Array]",Z="[object Uint8ClampedArray]",_="[object Uint16Array]",p="[object Uint32Array]",x={};x[D]=x[A]=x[F]=x[X]=x[b]=x[G]=x[ce]=x[le]=x[de]=x[ne]=x[ae]=x[N]=x[k]=x[$]=x[L]=x[V]=x[z]=x[ee]=x[K]=x[Z]=x[_]=x[p]=!0,x[W]=x[E]=x[U]=!1;function C(q,j,Y,O,Q,ie){var te,fe=j&M,Te=j&R,ze=j&B;if(Y&&(te=Q?Y(q,O,Q,ie):Y(q)),te!==void 0)return te;if(!m(q))return q;var ct=v(q);if(ct){if(te=f(q),!fe)return a(q,te)}else{var ke=d(q),Xe=ke==E||ke==T;if(y(q))return o(q,fe);if(ke==$||ke==D||Xe&&!Q){if(te=Te||Xe?{}:g(q),!fe)return Te?u(q,i(te,q)):s(q,r(te,q))}else{if(!x[ke])return Q?q:{};te=h(q,ke,fe)}}ie||(ie=new e);var Tn=ie.get(q);if(Tn)return Tn;ie.set(q,te),I(q)?q.forEach(function(dt){te.add(C(dt,j,Y,dt,q,ie))}):w(q)&&q.forEach(function(dt,St){te.set(St,C(dt,j,Y,St,q,ie))});var zr=ze?Te?l:c:Te?P:S,Rn=ct?void 0:zr(q);return t(Rn||q,function(dt,St){Rn&&(St=dt,dt=q[St]),n(te,St,C(dt,j,Y,St,q,ie))}),te}return Ko=C,Ko}var Xo,Df;function CS(){if(Df)return Xo;Df=1;var e=py(),t=4;function n(r){return e(r,t)}return Xo=n,Xo}var Wo,$f;function Dl(){if($f)return Wo;$f=1;function e(t){return function(){return t}}return Wo=e,Wo}var Zo={exports:{}},Jo,Bf;function NS(){if(Bf)return Jo;Bf=1;function e(t){return function(n,r,i){for(var o=-1,a=Object(n),s=i(n),u=s.length;u--;){var c=s[t?u:++o];if(r(a[c],c,a)===!1)break}return n}}return Jo=e,Jo}var Qo,Lf;function $l(){if(Lf)return Qo;Lf=1;var e=NS(),t=e();return Qo=t,Qo}var ea,Ff;function Bl(){if(Ff)return ea;Ff=1;var e=$l(),t=Et();function n(r,i){return r&&e(r,i,t)}return ea=n,ea}var ta,zf;function TS(){if(zf)return ta;zf=1;var e=ut();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var a=i.length,s=r?a:-1,u=Object(i);(r?s--:++s<a)&&o(u[s],s,u)!==!1;);return i}}return ta=t,ta}var na,Gf;function Pr(){if(Gf)return na;Gf=1;var e=Bl(),t=TS(),n=t(e);return na=n,na}var ra,Vf;function Ft(){if(Vf)return ra;Vf=1;function e(t){return t}return ra=e,ra}var ia,Hf;function gy(){if(Hf)return ia;Hf=1;var e=Ft();function t(n){return typeof n=="function"?n:e}return ia=t,ia}var oa,Uf;function yy(){if(Uf)return oa;Uf=1;var e=Rl(),t=Pr(),n=gy(),r=Ce();function i(o,a){var s=r(o)?e:t;return s(o,n(a))}return oa=i,oa}var jf;function my(){return jf||(jf=1,function(e){e.exports=yy()}(Zo)),Zo.exports}var aa,Yf;function RS(){if(Yf)return aa;Yf=1;var e=Pr();function t(n,r){var i=[];return e(n,function(o,a,s){r(o,a,s)&&i.push(o)}),i}return aa=t,aa}var sa,Kf;function AS(){if(Kf)return sa;Kf=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return sa=t,sa}var ua,Xf;function qS(){if(Xf)return ua;Xf=1;function e(t){return this.__data__.has(t)}return ua=e,ua}var la,Wf;function _y(){if(Wf)return la;Wf=1;var e=Tl(),t=AS(),n=qS();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new e;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,la=r,la}var ca,Zf;function MS(){if(Zf)return ca;Zf=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return ca=e,ca}var da,Jf;function by(){if(Jf)return da;Jf=1;function e(t,n){return t.has(n)}return da=e,da}var fa,Qf;function wy(){if(Qf)return fa;Qf=1;var e=_y(),t=MS(),n=by(),r=1,i=2;function o(a,s,u,c,l,d){var f=u&r,h=a.length,g=s.length;if(h!=g&&!(f&&g>h))return!1;var v=d.get(a),y=d.get(s);if(v&&y)return v==s&&y==a;var w=-1,m=!0,I=u&i?new e:void 0;for(d.set(a,s),d.set(s,a);++w<h;){var S=a[w],P=s[w];if(c)var M=f?c(P,S,w,s,a,d):c(S,P,w,a,s,d);if(M!==void 0){if(M)continue;m=!1;break}if(I){if(!t(s,function(R,B){if(!n(I,B)&&(S===R||l(S,R,u,c,d)))return I.push(B)})){m=!1;break}}else if(!(S===P||l(S,P,u,c,d))){m=!1;break}}return d.delete(a),d.delete(s),m}return fa=o,fa}var ha,eh;function PS(){if(eh)return ha;eh=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return ha=e,ha}var va,th;function Ll(){if(th)return va;th=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return va=e,va}var pa,nh;function OS(){if(nh)return pa;nh=1;var e=Qt(),t=dy(),n=Jt(),r=wy(),i=PS(),o=Ll(),a=1,s=2,u="[object Boolean]",c="[object Date]",l="[object Error]",d="[object Map]",f="[object Number]",h="[object RegExp]",g="[object Set]",v="[object String]",y="[object Symbol]",w="[object ArrayBuffer]",m="[object DataView]",I=e?e.prototype:void 0,S=I?I.valueOf:void 0;function P(M,R,B,D,A,b,G){switch(B){case m:if(M.byteLength!=R.byteLength||M.byteOffset!=R.byteOffset)return!1;M=M.buffer,R=R.buffer;case w:return!(M.byteLength!=R.byteLength||!b(new t(M),new t(R)));case u:case c:case f:return n(+M,+R);case l:return M.name==R.name&&M.message==R.message;case h:case v:return M==R+"";case d:var W=i;case g:var E=D&a;if(W||(W=o),M.size!=R.size&&!E)return!1;var T=G.get(M);if(T)return T==R;D|=s,G.set(M,R);var N=r(W(M),W(R),D,A,b,G);return G.delete(M),N;case y:if(S)return S.call(M)==S.call(R)}return!1}return pa=P,pa}var ga,rh;function kS(){if(rh)return ga;rh=1;var e=ly(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s,u,c,l){var d=s&t,f=e(o),h=f.length,g=e(a),v=g.length;if(h!=v&&!d)return!1;for(var y=h;y--;){var w=f[y];if(!(d?w in a:r.call(a,w)))return!1}var m=l.get(o),I=l.get(a);if(m&&I)return m==a&&I==o;var S=!0;l.set(o,a),l.set(a,o);for(var P=d;++y<h;){w=f[y];var M=o[w],R=a[w];if(u)var B=d?u(R,M,w,a,o,l):u(M,R,w,o,a,l);if(!(B===void 0?M===R||c(M,R,s,u,l):B)){S=!1;break}P||(P=w=="constructor")}if(S&&!P){var D=o.constructor,A=a.constructor;D!=A&&"constructor"in o&&"constructor"in a&&!(typeof D=="function"&&D instanceof D&&typeof A=="function"&&A instanceof A)&&(S=!1)}return l.delete(o),l.delete(a),S}return ga=i,ga}var ya,ih;function DS(){if(ih)return ya;ih=1;var e=Cr(),t=wy(),n=OS(),r=kS(),i=tn(),o=Ce(),a=en(),s=Cn(),u=1,c="[object Arguments]",l="[object Array]",d="[object Object]",f=Object.prototype,h=f.hasOwnProperty;function g(v,y,w,m,I,S){var P=o(v),M=o(y),R=P?l:i(v),B=M?l:i(y);R=R==c?d:R,B=B==c?d:B;var D=R==d,A=B==d,b=R==B;if(b&&a(v)){if(!a(y))return!1;P=!0,D=!1}if(b&&!D)return S||(S=new e),P||s(v)?t(v,y,w,m,I,S):n(v,y,R,w,m,I,S);if(!(w&u)){var G=D&&h.call(v,"__wrapped__"),W=A&&h.call(y,"__wrapped__");if(G||W){var E=G?v.value():v,T=W?y.value():y;return S||(S=new e),I(E,T,w,m,S)}}return b?(S||(S=new e),r(v,y,w,m,I,S)):!1}return ya=g,ya}var ma,oh;function Ey(){if(oh)return ma;oh=1;var e=DS(),t=Ke();function n(r,i,o,a,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,a,n,s)}return ma=n,ma}var _a,ah;function $S(){if(ah)return _a;ah=1;var e=Cr(),t=Ey(),n=1,r=2;function i(o,a,s,u){var c=s.length,l=c,d=!u;if(o==null)return!l;for(o=Object(o);c--;){var f=s[c];if(d&&f[2]?f[1]!==o[f[0]]:!(f[0]in o))return!1}for(;++c<l;){f=s[c];var h=f[0],g=o[h],v=f[1];if(d&&f[2]){if(g===void 0&&!(h in o))return!1}else{var y=new e;if(u)var w=u(g,v,h,o,a,y);if(!(w===void 0?t(v,g,n|r,u,y):w))return!1}}return!0}return _a=i,_a}var ba,sh;function Sy(){if(sh)return ba;sh=1;var e=Pe();function t(n){return n===n&&!e(n)}return ba=t,ba}var wa,uh;function BS(){if(uh)return wa;uh=1;var e=Sy(),t=Et();function n(r){for(var i=t(r),o=i.length;o--;){var a=i[o],s=r[a];i[o]=[a,s,e(s)]}return i}return wa=n,wa}var Ea,lh;function xy(){if(lh)return Ea;lh=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Ea=e,Ea}var Sa,ch;function LS(){if(ch)return Sa;ch=1;var e=$S(),t=BS(),n=xy();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||e(a,i,o)}}return Sa=r,Sa}var xa,dh;function nn(){if(dh)return xa;dh=1;var e=$t(),t=Ke(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return xa=r,xa}var Ia,fh;function Fl(){if(fh)return Ia;fh=1;var e=Ce(),t=nn(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(e(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return Ia=i,Ia}var Ca,hh;function FS(){if(hh)return Ca;hh=1;var e=Tl(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],u=o.cache;if(u.has(s))return u.get(s);var c=r.apply(this,a);return o.cache=u.set(s,c)||u,c};return o.cache=new(n.Cache||e),o}return n.Cache=e,Ca=n,Ca}var Na,vh;function zS(){if(vh)return Na;vh=1;var e=FS(),t=500;function n(r){var i=e(r,function(a){return o.size===t&&o.clear(),a}),o=i.cache;return i}return Na=n,Na}var Ta,ph;function GS(){if(ph)return Ta;ph=1;var e=zS(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(a,s,u,c){o.push(u?c.replace(n,"$1"):s||a)}),o});return Ta=r,Ta}var Ra,gh;function Or(){if(gh)return Ra;gh=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return Ra=e,Ra}var Aa,yh;function VS(){if(yh)return Aa;yh=1;var e=Qt(),t=Or(),n=Ce(),r=nn(),i=1/0,o=e?e.prototype:void 0,a=o?o.toString:void 0;function s(u){if(typeof u=="string")return u;if(n(u))return t(u,s)+"";if(r(u))return a?a.call(u):"";var c=u+"";return c=="0"&&1/u==-i?"-0":c}return Aa=s,Aa}var qa,mh;function Iy(){if(mh)return qa;mh=1;var e=VS();function t(n){return n==null?"":e(n)}return qa=t,qa}var Ma,_h;function kr(){if(_h)return Ma;_h=1;var e=Ce(),t=Fl(),n=GS(),r=Iy();function i(o,a){return e(o)?o:t(o,a)?[o]:n(r(o))}return Ma=i,Ma}var Pa,bh;function Nn(){if(bh)return Pa;bh=1;var e=nn(),t=1/0;function n(r){if(typeof r=="string"||e(r))return r;var i=r+"";return i=="0"&&1/r==-t?"-0":i}return Pa=n,Pa}var Oa,wh;function Dr(){if(wh)return Oa;wh=1;var e=kr(),t=Nn();function n(r,i){i=e(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[t(i[o++])];return o&&o==a?r:void 0}return Oa=n,Oa}var ka,Eh;function HS(){if(Eh)return ka;Eh=1;var e=Dr();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return ka=t,ka}var Da,Sh;function US(){if(Sh)return Da;Sh=1;function e(t,n){return t!=null&&n in Object(t)}return Da=e,Da}var $a,xh;function Cy(){if(xh)return $a;xh=1;var e=kr(),t=In(),n=Ce(),r=Rr(),i=Al(),o=Nn();function a(s,u,c){u=e(u,s);for(var l=-1,d=u.length,f=!1;++l<d;){var h=o(u[l]);if(!(f=s!=null&&c(s,h)))break;s=s[h]}return f||++l!=d?f:(d=s==null?0:s.length,!!d&&i(d)&&r(h,d)&&(n(s)||t(s)))}return $a=a,$a}var Ba,Ih;function Ny(){if(Ih)return Ba;Ih=1;var e=US(),t=Cy();function n(r,i){return r!=null&&t(r,i,e)}return Ba=n,Ba}var La,Ch;function jS(){if(Ch)return La;Ch=1;var e=Ey(),t=HS(),n=Ny(),r=Fl(),i=Sy(),o=xy(),a=Nn(),s=1,u=2;function c(l,d){return r(l)&&i(d)?o(a(l),d):function(f){var h=t(f,l);return h===void 0&&h===d?n(f,l):e(d,h,s|u)}}return La=c,La}var Fa,Nh;function Ty(){if(Nh)return Fa;Nh=1;function e(t){return function(n){return n==null?void 0:n[t]}}return Fa=e,Fa}var za,Th;function YS(){if(Th)return za;Th=1;var e=Dr();function t(n){return function(r){return e(r,n)}}return za=t,za}var Ga,Rh;function KS(){if(Rh)return Ga;Rh=1;var e=Ty(),t=YS(),n=Fl(),r=Nn();function i(o){return n(o)?e(r(o)):t(o)}return Ga=i,Ga}var Va,Ah;function lt(){if(Ah)return Va;Ah=1;var e=LS(),t=jS(),n=Ft(),r=Ce(),i=KS();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):i(a)}return Va=o,Va}var Ha,qh;function Ry(){if(qh)return Ha;qh=1;var e=oy(),t=RS(),n=lt(),r=Ce();function i(o,a){var s=r(o)?e:t;return s(o,n(a,3))}return Ha=i,Ha}var Ua,Mh;function XS(){if(Mh)return Ua;Mh=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return Ua=n,Ua}var ja,Ph;function Ay(){if(Ph)return ja;Ph=1;var e=XS(),t=Cy();function n(r,i){return r!=null&&t(r,i,e)}return ja=n,ja}var Ya,Oh;function WS(){if(Oh)return Ya;Oh=1;var e=Ml(),t=tn(),n=In(),r=Ce(),i=ut(),o=en(),a=qr(),s=Cn(),u="[object Map]",c="[object Set]",l=Object.prototype,d=l.hasOwnProperty;function f(h){if(h==null)return!0;if(i(h)&&(r(h)||typeof h=="string"||typeof h.splice=="function"||o(h)||s(h)||n(h)))return!h.length;var g=t(h);if(g==u||g==c)return!h.size;if(a(h))return!e(h).length;for(var v in h)if(d.call(h,v))return!1;return!0}return Ya=f,Ya}var Ka,kh;function qy(){if(kh)return Ka;kh=1;function e(t){return t===void 0}return Ka=e,Ka}var Xa,Dh;function My(){if(Dh)return Xa;Dh=1;var e=Pr(),t=ut();function n(r,i){var o=-1,a=t(r)?Array(r.length):[];return e(r,function(s,u,c){a[++o]=i(s,u,c)}),a}return Xa=n,Xa}var Wa,$h;function Py(){if($h)return Wa;$h=1;var e=Or(),t=lt(),n=My(),r=Ce();function i(o,a){var s=r(o)?e:n;return s(o,t(a,3))}return Wa=i,Wa}var Za,Bh;function ZS(){if(Bh)return Za;Bh=1;function e(t,n,r,i){var o=-1,a=t==null?0:t.length;for(i&&a&&(r=t[++o]);++o<a;)r=n(r,t[o],o,t);return r}return Za=e,Za}var Ja,Lh;function JS(){if(Lh)return Ja;Lh=1;function e(t,n,r,i,o){return o(t,function(a,s,u){r=i?(i=!1,a):n(r,a,s,u)}),r}return Ja=e,Ja}var Qa,Fh;function Oy(){if(Fh)return Qa;Fh=1;var e=ZS(),t=Pr(),n=lt(),r=JS(),i=Ce();function o(a,s,u){var c=i(a)?e:r,l=arguments.length<3;return c(a,n(s,4),u,l,t)}return Qa=o,Qa}var es,zh;function QS(){if(zh)return es;zh=1;var e=$t(),t=Ce(),n=Ke(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return es=i,es}var ts,Gh;function ex(){if(Gh)return ts;Gh=1;var e=Ty(),t=e("length");return ts=t,ts}var ns,Vh;function tx(){if(Vh)return ns;Vh=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+e+i+o+"]");function u(c){return s.test(c)}return ns=u,ns}var rs,Hh;function nx(){if(Hh)return rs;Hh=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="["+e+"]",s="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+u+")",l="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",g=c+"?",v="["+o+"]?",y="(?:"+h+"(?:"+[l,d,f].join("|")+")"+v+g+")*",w=v+g+y,m="(?:"+[l+s+"?",s,d,f,a].join("|")+")",I=RegExp(u+"(?="+u+")|"+m+w,"g");function S(P){for(var M=I.lastIndex=0;I.test(P);)++M;return M}return rs=S,rs}var is,Uh;function rx(){if(Uh)return is;Uh=1;var e=ex(),t=tx(),n=nx();function r(i){return t(i)?n(i):e(i)}return is=r,is}var os,jh;function ix(){if(jh)return os;jh=1;var e=Ml(),t=tn(),n=ut(),r=QS(),i=rx(),o="[object Map]",a="[object Set]";function s(u){if(u==null)return 0;if(n(u))return r(u)?i(u):u.length;var c=t(u);return c==o||c==a?u.size:e(u).length}return os=s,os}var as,Yh;function ox(){if(Yh)return as;Yh=1;var e=Rl(),t=hy(),n=Bl(),r=lt(),i=Mr(),o=Ce(),a=en(),s=Sn(),u=Pe(),c=Cn();function l(d,f,h){var g=o(d),v=g||a(d)||c(d);if(f=r(f,4),h==null){var y=d&&d.constructor;v?h=g?new y:[]:u(d)?h=s(y)?t(i(d)):{}:h={}}return(v?e:n)(d,function(w,m,I){return f(h,w,m,I)}),h}return as=l,as}var ss,Kh;function ax(){if(Kh)return ss;Kh=1;var e=Qt(),t=In(),n=Ce(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return ss=i,ss}var us,Xh;function zl(){if(Xh)return us;Xh=1;var e=Ol(),t=ax();function n(r,i,o,a,s){var u=-1,c=r.length;for(o||(o=t),s||(s=[]);++u<c;){var l=r[u];i>0&&o(l)?i>1?n(l,i-1,o,a,s):e(s,l):a||(s[s.length]=l)}return s}return us=n,us}var ls,Wh;function sx(){if(Wh)return ls;Wh=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return ls=e,ls}var cs,Zh;function ky(){if(Zh)return cs;Zh=1;var e=sx(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var a=arguments,s=-1,u=t(a.length-i,0),c=Array(u);++s<u;)c[s]=a[i+s];s=-1;for(var l=Array(i+1);++s<i;)l[s]=a[s];return l[i]=o(c),e(r,this,l)}}return cs=n,cs}var ds,Jh;function ux(){if(Jh)return ds;Jh=1;var e=Dl(),t=ey(),n=Ft(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return ds=r,ds}var fs,Qh;function lx(){if(Qh)return fs;Qh=1;var e=800,t=16,n=Date.now;function r(i){var o=0,a=0;return function(){var s=n(),u=t-(s-a);if(a=s,u>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return fs=r,fs}var hs,ev;function Dy(){if(ev)return hs;ev=1;var e=ux(),t=lx(),n=t(e);return hs=n,hs}var vs,tv;function $r(){if(tv)return vs;tv=1;var e=Ft(),t=ky(),n=Dy();function r(i,o){return n(t(i,o,e),i+"")}return vs=r,vs}var ps,nv;function $y(){if(nv)return ps;nv=1;function e(t,n,r,i){for(var o=t.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(t[a],a,t))return a;return-1}return ps=e,ps}var gs,rv;function cx(){if(rv)return gs;rv=1;function e(t){return t!==t}return gs=e,gs}var ys,iv;function dx(){if(iv)return ys;iv=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return ys=e,ys}var ms,ov;function fx(){if(ov)return ms;ov=1;var e=$y(),t=cx(),n=dx();function r(i,o,a){return o===o?n(i,o,a):e(i,t,a)}return ms=r,ms}var _s,av;function hx(){if(av)return _s;av=1;var e=fx();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return _s=t,_s}var bs,sv;function vx(){if(sv)return bs;sv=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return bs=e,bs}var ws,uv;function px(){if(uv)return ws;uv=1;function e(){}return ws=e,ws}var Es,lv;function gx(){if(lv)return Es;lv=1;var e=cy(),t=px(),n=Ll(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return Es=i,Es}var Ss,cv;function yx(){if(cv)return Ss;cv=1;var e=_y(),t=hx(),n=vx(),r=by(),i=gx(),o=Ll(),a=200;function s(u,c,l){var d=-1,f=t,h=u.length,g=!0,v=[],y=v;if(l)g=!1,f=n;else if(h>=a){var w=c?null:i(u);if(w)return o(w);g=!1,f=r,y=new e}else y=c?[]:v;e:for(;++d<h;){var m=u[d],I=c?c(m):m;if(m=l||m!==0?m:0,g&&I===I){for(var S=y.length;S--;)if(y[S]===I)continue e;c&&y.push(I),v.push(m)}else f(y,I,l)||(y!==v&&y.push(I),v.push(m))}return v}return Ss=s,Ss}var xs,dv;function By(){if(dv)return xs;dv=1;var e=ut(),t=Ke();function n(r){return t(r)&&e(r)}return xs=n,xs}var Is,fv;function mx(){if(fv)return Is;fv=1;var e=zl(),t=$r(),n=yx(),r=By(),i=t(function(o){return n(e(o,1,r,!0))});return Is=i,Is}var Cs,hv;function _x(){if(hv)return Cs;hv=1;var e=Or();function t(n,r){return e(r,function(i){return n[i]})}return Cs=t,Cs}var Ns,vv;function Ly(){if(vv)return Ns;vv=1;var e=_x(),t=Et();function n(r){return r==null?[]:e(r,t(r))}return Ns=n,Ns}var Ts,pv;function Oe(){if(pv)return Ts;pv=1;var e;if(typeof pl=="function")try{e={clone:CS(),constant:Dl(),each:my(),filter:Ry(),has:Ay(),isArray:Ce(),isEmpty:WS(),isFunction:Sn(),isUndefined:qy(),keys:Et(),map:Py(),reduce:Oy(),size:ix(),transform:ox(),union:mx(),values:Ly()}}catch{}return e||(e=window._),Ts=e,Ts}var Rs,gv;function Gl(){if(gv)return Rs;gv=1;var e=Oe();Rs=i;var t="\0",n="\0",r="";function i(l){this._isDirected=e.has(l,"directed")?l.directed:!0,this._isMultigraph=e.has(l,"multigraph")?l.multigraph:!1,this._isCompound=e.has(l,"compound")?l.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(l){return this._label=l,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(l){return e.isFunction(l)||(l=e.constant(l)),this._defaultNodeLabelFn=l,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var l=this;return e.filter(this.nodes(),function(d){return e.isEmpty(l._in[d])})},i.prototype.sinks=function(){var l=this;return e.filter(this.nodes(),function(d){return e.isEmpty(l._out[d])})},i.prototype.setNodes=function(l,d){var f=arguments,h=this;return e.each(l,function(g){f.length>1?h.setNode(g,d):h.setNode(g)}),this},i.prototype.setNode=function(l,d){return e.has(this._nodes,l)?(arguments.length>1&&(this._nodes[l]=d),this):(this._nodes[l]=arguments.length>1?d:this._defaultNodeLabelFn(l),this._isCompound&&(this._parent[l]=n,this._children[l]={},this._children[n][l]=!0),this._in[l]={},this._preds[l]={},this._out[l]={},this._sucs[l]={},++this._nodeCount,this)},i.prototype.node=function(l){return this._nodes[l]},i.prototype.hasNode=function(l){return e.has(this._nodes,l)},i.prototype.removeNode=function(l){var d=this;if(e.has(this._nodes,l)){var f=function(h){d.removeEdge(d._edgeObjs[h])};delete this._nodes[l],this._isCompound&&(this._removeFromParentsChildList(l),delete this._parent[l],e.each(this.children(l),function(h){d.setParent(h)}),delete this._children[l]),e.each(e.keys(this._in[l]),f),delete this._in[l],delete this._preds[l],e.each(e.keys(this._out[l]),f),delete this._out[l],delete this._sucs[l],--this._nodeCount}return this},i.prototype.setParent=function(l,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(d))d=n;else{d+="";for(var f=d;!e.isUndefined(f);f=this.parent(f))if(f===l)throw new Error("Setting "+d+" as parent of "+l+" would create a cycle");this.setNode(d)}return this.setNode(l),this._removeFromParentsChildList(l),this._parent[l]=d,this._children[d][l]=!0,this},i.prototype._removeFromParentsChildList=function(l){delete this._children[this._parent[l]][l]},i.prototype.parent=function(l){if(this._isCompound){var d=this._parent[l];if(d!==n)return d}},i.prototype.children=function(l){if(e.isUndefined(l)&&(l=n),this._isCompound){var d=this._children[l];if(d)return e.keys(d)}else{if(l===n)return this.nodes();if(this.hasNode(l))return[]}},i.prototype.predecessors=function(l){var d=this._preds[l];if(d)return e.keys(d)},i.prototype.successors=function(l){var d=this._sucs[l];if(d)return e.keys(d)},i.prototype.neighbors=function(l){var d=this.predecessors(l);if(d)return e.union(d,this.successors(l))},i.prototype.isLeaf=function(l){var d;return this.isDirected()?d=this.successors(l):d=this.neighbors(l),d.length===0},i.prototype.filterNodes=function(l){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;e.each(this._nodes,function(v,y){l(y)&&d.setNode(y,v)}),e.each(this._edgeObjs,function(v){d.hasNode(v.v)&&d.hasNode(v.w)&&d.setEdge(v,f.edge(v))});var h={};function g(v){var y=f.parent(v);return y===void 0||d.hasNode(y)?(h[v]=y,y):y in h?h[y]:g(y)}return this._isCompound&&e.each(d.nodes(),function(v){d.setParent(v,g(v))}),d},i.prototype.setDefaultEdgeLabel=function(l){return e.isFunction(l)||(l=e.constant(l)),this._defaultEdgeLabelFn=l,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(l,d){var f=this,h=arguments;return e.reduce(l,function(g,v){return h.length>1?f.setEdge(g,v,d):f.setEdge(g,v),v}),this},i.prototype.setEdge=function(){var l,d,f,h,g=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(l=v.v,d=v.w,f=v.name,arguments.length===2&&(h=arguments[1],g=!0)):(l=v,d=arguments[1],f=arguments[3],arguments.length>2&&(h=arguments[2],g=!0)),l=""+l,d=""+d,e.isUndefined(f)||(f=""+f);var y=s(this._isDirected,l,d,f);if(e.has(this._edgeLabels,y))return g&&(this._edgeLabels[y]=h),this;if(!e.isUndefined(f)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(l),this.setNode(d),this._edgeLabels[y]=g?h:this._defaultEdgeLabelFn(l,d,f);var w=u(this._isDirected,l,d,f);return l=w.v,d=w.w,Object.freeze(w),this._edgeObjs[y]=w,o(this._preds[d],l),o(this._sucs[l],d),this._in[d][y]=w,this._out[l][y]=w,this._edgeCount++,this},i.prototype.edge=function(l,d,f){var h=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,l,d,f);return this._edgeLabels[h]},i.prototype.hasEdge=function(l,d,f){var h=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,l,d,f);return e.has(this._edgeLabels,h)},i.prototype.removeEdge=function(l,d,f){var h=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,l,d,f),g=this._edgeObjs[h];return g&&(l=g.v,d=g.w,delete this._edgeLabels[h],delete this._edgeObjs[h],a(this._preds[d],l),a(this._sucs[l],d),delete this._in[d][h],delete this._out[l][h],this._edgeCount--),this},i.prototype.inEdges=function(l,d){var f=this._in[l];if(f){var h=e.values(f);return d?e.filter(h,function(g){return g.v===d}):h}},i.prototype.outEdges=function(l,d){var f=this._out[l];if(f){var h=e.values(f);return d?e.filter(h,function(g){return g.w===d}):h}},i.prototype.nodeEdges=function(l,d){var f=this.inEdges(l,d);if(f)return f.concat(this.outEdges(l,d))};function o(l,d){l[d]?l[d]++:l[d]=1}function a(l,d){--l[d]||delete l[d]}function s(l,d,f,h){var g=""+d,v=""+f;if(!l&&g>v){var y=g;g=v,v=y}return g+r+v+r+(e.isUndefined(h)?t:h)}function u(l,d,f,h){var g=""+d,v=""+f;if(!l&&g>v){var y=g;g=v,v=y}var w={v:g,w:v};return h&&(w.name=h),w}function c(l,d){return s(l,d.v,d.w,d.name)}return Rs}var As,yv;function bx(){return yv||(yv=1,As="2.1.8"),As}var qs,mv;function wx(){return mv||(mv=1,qs={Graph:Gl(),version:bx()}),qs}var Ms,_v;function Ex(){if(_v)return Ms;_v=1;var e=Oe(),t=Gl();Ms={write:n,read:o};function n(a){var s={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:r(a),edges:i(a)};return e.isUndefined(a.graph())||(s.value=e.clone(a.graph())),s}function r(a){return e.map(a.nodes(),function(s){var u=a.node(s),c=a.parent(s),l={v:s};return e.isUndefined(u)||(l.value=u),e.isUndefined(c)||(l.parent=c),l})}function i(a){return e.map(a.edges(),function(s){var u=a.edge(s),c={v:s.v,w:s.w};return e.isUndefined(s.name)||(c.name=s.name),e.isUndefined(u)||(c.value=u),c})}function o(a){var s=new t(a.options).setGraph(a.value);return e.each(a.nodes,function(u){s.setNode(u.v,u.value),u.parent&&s.setParent(u.v,u.parent)}),e.each(a.edges,function(u){s.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),s}return Ms}var Ps,bv;function Sx(){if(bv)return Ps;bv=1;var e=Oe();Ps=t;function t(n){var r={},i=[],o;function a(s){e.has(r,s)||(r[s]=!0,o.push(s),e.each(n.successors(s),a),e.each(n.predecessors(s),a))}return e.each(n.nodes(),function(s){o=[],a(s),o.length&&i.push(o)}),i}return Ps}var Os,wv;function Fy(){if(wv)return Os;wv=1;var e=Oe();Os=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,a=o.length;return i[n]=a,o.push({key:n,priority:r}),this._decrease(a),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,a=n;i<r.length&&(a=r[i].priority<r[a].priority?i:a,o<r.length&&(a=r[o].priority<r[a].priority?o:a),a!==n&&(this._swap(n,a),this._heapify(a)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,a=i[n],s=i[r];i[n]=s,i[r]=a,o[s.key]=n,o[a.key]=r},Os}var ks,Ev;function zy(){if(Ev)return ks;Ev=1;var e=Oe(),t=Fy();ks=r;var n=e.constant(1);function r(o,a,s,u){return i(o,String(a),s||n,u||function(c){return o.outEdges(c)})}function i(o,a,s,u){var c={},l=new t,d,f,h=function(g){var v=g.v!==d?g.v:g.w,y=c[v],w=s(g),m=f.distance+w;if(w<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+g+" Weight: "+w);m<y.distance&&(y.distance=m,y.predecessor=d,l.decrease(v,m))};for(o.nodes().forEach(function(g){var v=g===a?0:Number.POSITIVE_INFINITY;c[g]={distance:v},l.add(g,v)});l.size()>0&&(d=l.removeMin(),f=c[d],f.distance!==Number.POSITIVE_INFINITY);)u(d).forEach(h);return c}return ks}var Ds,Sv;function xx(){if(Sv)return Ds;Sv=1;var e=zy(),t=Oe();Ds=n;function n(r,i,o){return t.transform(r.nodes(),function(a,s){a[s]=e(r,s,i,o)},{})}return Ds}var $s,xv;function Gy(){if(xv)return $s;xv=1;var e=Oe();$s=t;function t(n){var r=0,i=[],o={},a=[];function s(u){var c=o[u]={onStack:!0,lowlink:r,index:r++};if(i.push(u),n.successors(u).forEach(function(f){e.has(o,f)?o[f].onStack&&(c.lowlink=Math.min(c.lowlink,o[f].index)):(s(f),c.lowlink=Math.min(c.lowlink,o[f].lowlink))}),c.lowlink===c.index){var l=[],d;do d=i.pop(),o[d].onStack=!1,l.push(d);while(u!==d);a.push(l)}}return n.nodes().forEach(function(u){e.has(o,u)||s(u)}),a}return $s}var Bs,Iv;function Ix(){if(Iv)return Bs;Iv=1;var e=Oe(),t=Gy();Bs=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return Bs}var Ls,Cv;function Cx(){if(Cv)return Ls;Cv=1;var e=Oe();Ls=n;var t=e.constant(1);function n(i,o,a){return r(i,o||t,a||function(s){return i.outEdges(s)})}function r(i,o,a){var s={},u=i.nodes();return u.forEach(function(c){s[c]={},s[c][c]={distance:0},u.forEach(function(l){c!==l&&(s[c][l]={distance:Number.POSITIVE_INFINITY})}),a(c).forEach(function(l){var d=l.v===c?l.w:l.v,f=o(l);s[c][d]={distance:f,predecessor:c}})}),u.forEach(function(c){var l=s[c];u.forEach(function(d){var f=s[d];u.forEach(function(h){var g=f[c],v=l[h],y=f[h],w=g.distance+v.distance;w<y.distance&&(y.distance=w,y.predecessor=v.predecessor)})})}),s}return Ls}var Fs,Nv;function Vy(){if(Nv)return Fs;Nv=1;var e=Oe();Fs=t,t.CycleException=n;function t(r){var i={},o={},a=[];function s(u){if(e.has(o,u))throw new n;e.has(i,u)||(o[u]=!0,i[u]=!0,e.each(r.predecessors(u),s),delete o[u],a.push(u))}if(e.each(r.sinks(),s),e.size(i)!==r.nodeCount())throw new n;return a}function n(){}return n.prototype=new Error,Fs}var zs,Tv;function Nx(){if(Tv)return zs;Tv=1;var e=Vy();zs=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return zs}var Gs,Rv;function Hy(){if(Rv)return Gs;Rv=1;var e=Oe();Gs=t;function t(r,i,o){e.isArray(i)||(i=[i]);var a=(r.isDirected()?r.successors:r.neighbors).bind(r),s=[],u={};return e.each(i,function(c){if(!r.hasNode(c))throw new Error("Graph does not have node: "+c);n(r,c,o==="post",u,a,s)}),s}function n(r,i,o,a,s,u){e.has(a,i)||(a[i]=!0,o||u.push(i),e.each(s(i),function(c){n(r,c,o,a,s,u)}),o&&u.push(i))}return Gs}var Vs,Av;function Tx(){if(Av)return Vs;Av=1;var e=Hy();Vs=t;function t(n,r){return e(n,r,"post")}return Vs}var Hs,qv;function Rx(){if(qv)return Hs;qv=1;var e=Hy();Hs=t;function t(n,r){return e(n,r,"pre")}return Hs}var Us,Mv;function Ax(){if(Mv)return Us;Mv=1;var e=Oe(),t=Gl(),n=Fy();Us=r;function r(i,o){var a=new t,s={},u=new n,c;function l(f){var h=f.v===c?f.w:f.v,g=u.priority(h);if(g!==void 0){var v=o(f);v<g&&(s[h]=c,u.decrease(h,v))}}if(i.nodeCount()===0)return a;e.each(i.nodes(),function(f){u.add(f,Number.POSITIVE_INFINITY),a.setNode(f)}),u.decrease(i.nodes()[0],0);for(var d=!1;u.size()>0;){if(c=u.removeMin(),e.has(s,c))a.setEdge(c,s[c]);else{if(d)throw new Error("Input graph is not connected: "+i);d=!0}i.nodeEdges(c).forEach(l)}return a}return Us}var js,Pv;function qx(){return Pv||(Pv=1,js={components:Sx(),dijkstra:zy(),dijkstraAll:xx(),findCycles:Ix(),floydWarshall:Cx(),isAcyclic:Nx(),postorder:Tx(),preorder:Rx(),prim:Ax(),tarjan:Gy(),topsort:Vy()}),js}var Ys,Ov;function Mx(){if(Ov)return Ys;Ov=1;var e=wx();return Ys={Graph:e.Graph,json:Ex(),alg:qx(),version:e.version},Ys}var ar;if(typeof pl=="function")try{ar=Mx()}catch{}ar||(ar=window.graphlib);var Fe=ar,Ks,kv;function Px(){if(kv)return Ks;kv=1;var e=py(),t=1,n=4;function r(i){return e(i,t|n)}return Ks=r,Ks}var Xs,Dv;function Br(){if(Dv)return Xs;Dv=1;var e=Jt(),t=ut(),n=Rr(),r=Pe();function i(o,a,s){if(!r(s))return!1;var u=typeof a;return(u=="number"?t(s)&&n(a,s.length):u=="string"&&a in s)?e(s[a],o):!1}return Xs=i,Xs}var Ws,$v;function Ox(){if($v)return Ws;$v=1;var e=$r(),t=Jt(),n=Br(),r=Lt(),i=Object.prototype,o=i.hasOwnProperty,a=e(function(s,u){s=Object(s);var c=-1,l=u.length,d=l>2?u[2]:void 0;for(d&&n(u[0],u[1],d)&&(l=1);++c<l;)for(var f=u[c],h=r(f),g=-1,v=h.length;++g<v;){var y=h[g],w=s[y];(w===void 0||t(w,i[y])&&!o.call(s,y))&&(s[y]=f[y])}return s});return Ws=a,Ws}var Zs,Bv;function kx(){if(Bv)return Zs;Bv=1;var e=lt(),t=ut(),n=Et();function r(i){return function(o,a,s){var u=Object(o);if(!t(o)){var c=e(a,3);o=n(o),a=function(d){return c(u[d],d,u)}}var l=i(o,a,s);return l>-1?u[c?o[l]:l]:void 0}}return Zs=r,Zs}var Js,Lv;function Dx(){if(Lv)return Js;Lv=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Js=t,Js}var Qs,Fv;function $x(){if(Fv)return Qs;Fv=1;var e=Dx(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Qs=n,Qs}var eu,zv;function Bx(){if(zv)return eu;zv=1;var e=$x(),t=Pe(),n=nn(),r=0/0,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function u(c){if(typeof c=="number")return c;if(n(c))return r;if(t(c)){var l=typeof c.valueOf=="function"?c.valueOf():c;c=t(l)?l+"":l}if(typeof c!="string")return c===0?c:+c;c=e(c);var d=o.test(c);return d||a.test(c)?s(c.slice(2),d?2:8):i.test(c)?r:+c}return eu=u,eu}var tu,Gv;function Uy(){if(Gv)return tu;Gv=1;var e=Bx(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return tu=r,tu}var nu,Vv;function Lx(){if(Vv)return nu;Vv=1;var e=Uy();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return nu=t,nu}var ru,Hv;function Fx(){if(Hv)return ru;Hv=1;var e=$y(),t=lt(),n=Lx(),r=Math.max;function i(o,a,s){var u=o==null?0:o.length;if(!u)return-1;var c=s==null?0:n(s);return c<0&&(c=r(u+c,0)),e(o,t(a,3),c)}return ru=i,ru}var iu,Uv;function zx(){if(Uv)return iu;Uv=1;var e=kx(),t=Fx(),n=e(t);return iu=n,iu}var ou,jv;function jy(){if(jv)return ou;jv=1;var e=zl();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return ou=t,ou}var au,Yv;function Gx(){if(Yv)return au;Yv=1;var e=$l(),t=gy(),n=Lt();function r(i,o){return i==null?i:e(i,t(o),n)}return au=r,au}var su,Kv;function Vx(){if(Kv)return su;Kv=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return su=e,su}var uu,Xv;function Hx(){if(Xv)return uu;Xv=1;var e=Nr(),t=Bl(),n=lt();function r(i,o){var a={};return o=n(o,3),t(i,function(s,u,c){e(a,u,o(s,u,c))}),a}return uu=r,uu}var lu,Wv;function Vl(){if(Wv)return lu;Wv=1;var e=nn();function t(n,r,i){for(var o=-1,a=n.length;++o<a;){var s=n[o],u=r(s);if(u!=null&&(c===void 0?u===u&&!e(u):i(u,c)))var c=u,l=s}return l}return lu=t,lu}var cu,Zv;function Ux(){if(Zv)return cu;Zv=1;function e(t,n){return t>n}return cu=e,cu}var du,Jv;function jx(){if(Jv)return du;Jv=1;var e=Vl(),t=Ux(),n=Ft();function r(i){return i&&i.length?e(i,n,t):void 0}return du=r,du}var fu,Qv;function Yy(){if(Qv)return fu;Qv=1;var e=Nr(),t=Jt();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return fu=n,fu}var hu,ep;function Yx(){if(ep)return hu;ep=1;var e=$t(),t=Mr(),n=Ke(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,u=a.call(Object);function c(l){if(!n(l)||e(l)!=r)return!1;var d=t(l);if(d===null)return!0;var f=s.call(d,"constructor")&&d.constructor;return typeof f=="function"&&f instanceof f&&a.call(f)==u}return hu=c,hu}var vu,tp;function Ky(){if(tp)return vu;tp=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return vu=e,vu}var pu,np;function Kx(){if(np)return pu;np=1;var e=xn(),t=Lt();function n(r){return e(r,t(r))}return pu=n,pu}var gu,rp;function Xx(){if(rp)return gu;rp=1;var e=Yy(),t=ry(),n=fy(),r=iy(),i=vy(),o=In(),a=Ce(),s=By(),u=en(),c=Sn(),l=Pe(),d=Yx(),f=Cn(),h=Ky(),g=Kx();function v(y,w,m,I,S,P,M){var R=h(y,m),B=h(w,m),D=M.get(B);if(D){e(y,m,D);return}var A=P?P(R,B,m+"",y,w,M):void 0,b=A===void 0;if(b){var G=a(B),W=!G&&u(B),E=!G&&!W&&f(B);A=B,G||W||E?a(R)?A=R:s(R)?A=r(R):W?(b=!1,A=t(B,!0)):E?(b=!1,A=n(B,!0)):A=[]:d(B)||o(B)?(A=R,o(R)?A=g(R):(!l(R)||c(R))&&(A=i(B))):b=!1}b&&(M.set(B,A),S(A,B,I,P,M),M.delete(B)),e(y,m,A)}return gu=v,gu}var yu,ip;function Wx(){if(ip)return yu;ip=1;var e=Cr(),t=Yy(),n=$l(),r=Xx(),i=Pe(),o=Lt(),a=Ky();function s(u,c,l,d,f){u!==c&&n(c,function(h,g){if(f||(f=new e),i(h))r(u,c,g,l,s,d,f);else{var v=d?d(a(u,g),h,g+"",u,c,f):void 0;v===void 0&&(v=h),t(u,g,v)}},o)}return yu=s,yu}var mu,op;function Zx(){if(op)return mu;op=1;var e=$r(),t=Br();function n(r){return e(function(i,o){var a=-1,s=o.length,u=s>1?o[s-1]:void 0,c=s>2?o[2]:void 0;for(u=r.length>3&&typeof u=="function"?(s--,u):void 0,c&&t(o[0],o[1],c)&&(u=s<3?void 0:u,s=1),i=Object(i);++a<s;){var l=o[a];l&&r(i,l,a,u)}return i})}return mu=n,mu}var _u,ap;function Jx(){if(ap)return _u;ap=1;var e=Wx(),t=Zx(),n=t(function(r,i,o){e(r,i,o)});return _u=n,_u}var bu,sp;function Xy(){if(sp)return bu;sp=1;function e(t,n){return t<n}return bu=e,bu}var wu,up;function Qx(){if(up)return wu;up=1;var e=Vl(),t=Xy(),n=Ft();function r(i){return i&&i.length?e(i,n,t):void 0}return wu=r,wu}var Eu,lp;function eI(){if(lp)return Eu;lp=1;var e=Vl(),t=lt(),n=Xy();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return Eu=r,Eu}var Su,cp;function tI(){if(cp)return Su;cp=1;var e=Le(),t=function(){return e.Date.now()};return Su=t,Su}var xu,dp;function nI(){if(dp)return xu;dp=1;var e=Tr(),t=kr(),n=Rr(),r=Pe(),i=Nn();function o(a,s,u,c){if(!r(a))return a;s=t(s,a);for(var l=-1,d=s.length,f=d-1,h=a;h!=null&&++l<d;){var g=i(s[l]),v=u;if(g==="__proto__"||g==="constructor"||g==="prototype")return a;if(l!=f){var y=h[g];v=c?c(y,g,h):void 0,v===void 0&&(v=r(y)?y:n(s[l+1])?[]:{})}e(h,g,v),h=h[g]}return a}return xu=o,xu}var Iu,fp;function rI(){if(fp)return Iu;fp=1;var e=Dr(),t=nI(),n=kr();function r(i,o,a){for(var s=-1,u=o.length,c={};++s<u;){var l=o[s],d=e(i,l);a(d,l)&&t(c,n(l,i),d)}return c}return Iu=r,Iu}var Cu,hp;function iI(){if(hp)return Cu;hp=1;var e=rI(),t=Ny();function n(r,i){return e(r,i,function(o,a){return t(r,a)})}return Cu=n,Cu}var Nu,vp;function oI(){if(vp)return Nu;vp=1;var e=jy(),t=ky(),n=Dy();function r(i){return n(t(i,void 0,e),i+"")}return Nu=r,Nu}var Tu,pp;function aI(){if(pp)return Tu;pp=1;var e=iI(),t=oI(),n=t(function(r,i){return r==null?{}:e(r,i)});return Tu=n,Tu}var Ru,gp;function sI(){if(gp)return Ru;gp=1;var e=Math.ceil,t=Math.max;function n(r,i,o,a){for(var s=-1,u=t(e((i-r)/(o||1)),0),c=Array(u);u--;)c[a?u:++s]=r,r+=o;return c}return Ru=n,Ru}var Au,yp;function uI(){if(yp)return Au;yp=1;var e=sI(),t=Br(),n=Uy();function r(i){return function(o,a,s){return s&&typeof s!="number"&&t(o,a,s)&&(a=s=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),s=s===void 0?o<a?1:-1:n(s),e(o,a,s,i)}}return Au=r,Au}var qu,mp;function lI(){if(mp)return qu;mp=1;var e=uI(),t=e();return qu=t,qu}var Mu,_p;function cI(){if(_p)return Mu;_p=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Mu=e,Mu}var Pu,bp;function dI(){if(bp)return Pu;bp=1;var e=nn();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,s=e(n),u=r!==void 0,c=r===null,l=r===r,d=e(r);if(!c&&!d&&!s&&n>r||s&&u&&l&&!c&&!d||o&&u&&l||!i&&l||!a)return 1;if(!o&&!s&&!d&&n<r||d&&i&&a&&!o&&!s||c&&i&&a||!u&&a||!l)return-1}return 0}return Pu=t,Pu}var Ou,wp;function fI(){if(wp)return Ou;wp=1;var e=dI();function t(n,r,i){for(var o=-1,a=n.criteria,s=r.criteria,u=a.length,c=i.length;++o<u;){var l=e(a[o],s[o]);if(l){if(o>=c)return l;var d=i[o];return l*(d=="desc"?-1:1)}}return n.index-r.index}return Ou=t,Ou}var ku,Ep;function hI(){if(Ep)return ku;Ep=1;var e=Or(),t=Dr(),n=lt(),r=My(),i=cI(),o=Ar(),a=fI(),s=Ft(),u=Ce();function c(l,d,f){d.length?d=e(d,function(v){return u(v)?function(y){return t(y,v.length===1?v[0]:v)}:v}):d=[s];var h=-1;d=e(d,o(n));var g=r(l,function(v,y,w){var m=e(d,function(I){return I(v)});return{criteria:m,index:++h,value:v}});return i(g,function(v,y){return a(v,y,f)})}return ku=c,ku}var Du,Sp;function vI(){if(Sp)return Du;Sp=1;var e=zl(),t=hI(),n=$r(),r=Br(),i=n(function(o,a){if(o==null)return[];var s=a.length;return s>1&&r(o,a[0],a[1])?a=[]:s>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(o,e(a,1),[])});return Du=i,Du}var $u,xp;function pI(){if(xp)return $u;xp=1;var e=Iy(),t=0;function n(r){var i=++t;return e(r)+i}return $u=n,$u}var Bu,Ip;function gI(){if(Ip)return Bu;Ip=1;function e(t,n,r){for(var i=-1,o=t.length,a=n.length,s={};++i<o;){var u=i<a?n[i]:void 0;r(s,t[i],u)}return s}return Bu=e,Bu}var Lu,Cp;function yI(){if(Cp)return Lu;Cp=1;var e=Tr(),t=gI();function n(r,i){return t(r||[],i||[],e)}return Lu=n,Lu}var sr;if(typeof pl=="function")try{sr={cloneDeep:Px(),constant:Dl(),defaults:Ox(),each:my(),filter:Ry(),find:zx(),flatten:jy(),forEach:yy(),forIn:Gx(),has:Ay(),isUndefined:qy(),last:Vx(),map:Py(),mapValues:Hx(),max:jx(),merge:Jx(),min:Qx(),minBy:eI(),now:tI(),pick:aI(),range:lI(),reduce:Oy(),sortBy:vI(),uniqueId:pI(),values:Ly(),zipObject:yI()}}catch{}sr||(sr=window._);var Ee=sr,mI=Lr;function Lr(){var e={};e._next=e._prev=e,this._sentinel=e}Lr.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return Wy(t),t};Lr.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&Wy(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};Lr.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,_I)),n=n._prev;return"["+e.join(", ")+"]"};function Wy(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function _I(e,t){if(e!=="_next"&&e!=="_prev")return t}var tt=Ee,bI=Fe.Graph,wI=mI,EI=xI,SI=tt.constant(1);function xI(e,t){if(e.nodeCount()<=1)return[];var n=CI(e,t||SI),r=II(n.graph,n.buckets,n.zeroIdx);return tt.flatten(tt.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function II(e,t,n){for(var r=[],i=t[t.length-1],o=t[0],a;e.nodeCount();){for(;a=o.dequeue();)Fu(e,t,n,a);for(;a=i.dequeue();)Fu(e,t,n,a);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(a=t[s].dequeue(),a){r=r.concat(Fu(e,t,n,a,!0));break}}}return r}function Fu(e,t,n,r,i){var o=i?[]:void 0;return tt.forEach(e.inEdges(r.v),function(a){var s=e.edge(a),u=e.node(a.v);i&&o.push({v:a.v,w:a.w}),u.out-=s,cl(t,n,u)}),tt.forEach(e.outEdges(r.v),function(a){var s=e.edge(a),u=a.w,c=e.node(u);c.in-=s,cl(t,n,c)}),e.removeNode(r.v),o}function CI(e,t){var n=new bI,r=0,i=0;tt.forEach(e.nodes(),function(s){n.setNode(s,{v:s,in:0,out:0})}),tt.forEach(e.edges(),function(s){var u=n.edge(s.v,s.w)||0,c=t(s),l=u+c;n.setEdge(s.v,s.w,l),i=Math.max(i,n.node(s.v).out+=c),r=Math.max(r,n.node(s.w).in+=c)});var o=tt.range(i+r+3).map(function(){return new wI}),a=r+1;return tt.forEach(n.nodes(),function(s){cl(o,a,n.node(s))}),{graph:n,buckets:o,zeroIdx:a}}function cl(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var Nt=Ee,NI=EI,TI={run:RI,undo:qI};function RI(e){var t=e.graph().acyclicer==="greedy"?NI(e,n(e)):AI(e);Nt.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,Nt.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function AI(e){var t=[],n={},r={};function i(o){Nt.has(r,o)||(r[o]=!0,n[o]=!0,Nt.forEach(e.outEdges(o),function(a){Nt.has(n,a.w)?t.push(a):i(a.w)}),delete n[o])}return Nt.forEach(e.nodes(),i),t}function qI(e){Nt.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var pe=Ee,Zy=Fe.Graph,Ae={addDummyNode:Jy,simplify:MI,asNonCompoundGraph:PI,successorWeights:OI,predecessorWeights:kI,intersectRect:DI,buildLayerMatrix:$I,normalizeRanks:BI,removeEmptyRanks:LI,addBorderNode:FI,maxRank:Qy,partition:zI,time:GI,notime:VI};function Jy(e,t,n,r){var i;do i=pe.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function MI(e){var t=new Zy().setGraph(e.graph());return pe.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),pe.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function PI(e){var t=new Zy({multigraph:e.isMultigraph()}).setGraph(e.graph());return pe.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),pe.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function OI(e){var t=pe.map(e.nodes(),function(n){var r={};return pe.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return pe.zipObject(e.nodes(),t)}function kI(e){var t=pe.map(e.nodes(),function(n){var r={};return pe.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return pe.zipObject(e.nodes(),t)}function DI(e,t){var n=e.x,r=e.y,i=t.x-n,o=t.y-r,a=e.width/2,s=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var u,c;return Math.abs(o)*a>Math.abs(i)*s?(o<0&&(s=-s),u=s*i/o,c=s):(i<0&&(a=-a),u=a,c=a*o/i),{x:n+u,y:r+c}}function $I(e){var t=pe.map(pe.range(Qy(e)+1),function(){return[]});return pe.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;pe.isUndefined(i)||(t[i][r.order]=n)}),t}function BI(e){var t=pe.min(pe.map(e.nodes(),function(n){return e.node(n).rank}));pe.forEach(e.nodes(),function(n){var r=e.node(n);pe.has(r,"rank")&&(r.rank-=t)})}function LI(e){var t=pe.min(pe.map(e.nodes(),function(o){return e.node(o).rank})),n=[];pe.forEach(e.nodes(),function(o){var a=e.node(o).rank-t;n[a]||(n[a]=[]),n[a].push(o)});var r=0,i=e.graph().nodeRankFactor;pe.forEach(n,function(o,a){pe.isUndefined(o)&&a%i!==0?--r:r&&pe.forEach(o,function(s){e.node(s).rank+=r})})}function FI(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),Jy(e,"border",i,t)}function Qy(e){return pe.max(pe.map(e.nodes(),function(t){var n=e.node(t).rank;if(!pe.isUndefined(n))return n}))}function zI(e,t){var n={lhs:[],rhs:[]};return pe.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function GI(e,t){var n=pe.now();try{return t()}finally{console.log(e+" time: "+(pe.now()-n)+"ms")}}function VI(e,t){return t()}var em=Ee,HI=Ae,UI={run:jI,undo:KI};function jI(e){e.graph().dummyChains=[],em.forEach(e.edges(),function(t){YI(e,t)})}function YI(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,a=t.name,s=e.edge(t),u=s.labelRank;if(o!==r+1){e.removeEdge(t);var c,l,d;for(d=0,++r;r<o;++d,++r)s.points=[],l={width:0,height:0,edgeLabel:s,edgeObj:t,rank:r},c=HI.addDummyNode(e,"edge",l,"_d"),r===u&&(l.width=s.width,l.height=s.height,l.dummy="edge-label",l.labelpos=s.labelpos),e.setEdge(n,c,{weight:s.weight},a),d===0&&e.graph().dummyChains.push(c),n=c;e.setEdge(n,i,{weight:s.weight},a)}}function KI(e){em.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var Gn=Ee,Fr={longestPath:XI,slack:WI};function XI(e){var t={};function n(r){var i=e.node(r);if(Gn.has(t,r))return i.rank;t[r]=!0;var o=Gn.min(Gn.map(e.outEdges(r),function(a){return n(a.w)-e.edge(a).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}Gn.forEach(e.sources(),n)}function WI(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var ur=Ee,ZI=Fe.Graph,lr=Fr.slack,tm=JI;function JI(e){var t=new ZI({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,o;QI(t,e)<r;)i=eC(t,e),o=t.hasNode(i.v)?lr(e,i):-lr(e,i),tC(t,e,o);return t}function QI(e,t){function n(r){ur.forEach(t.nodeEdges(r),function(i){var o=i.v,a=r===o?i.w:o;!e.hasNode(a)&&!lr(t,i)&&(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))})}return ur.forEach(e.nodes(),n),e.nodeCount()}function eC(e,t){return ur.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return lr(t,n)})}function tC(e,t,n){ur.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var at=Ee,nC=tm,rC=Fr.slack,iC=Fr.longestPath,oC=Fe.alg.preorder,aC=Fe.alg.postorder,sC=Ae.simplify,uC=zt;zt.initLowLimValues=Ul;zt.initCutValues=Hl;zt.calcCutValue=nm;zt.leaveEdge=im;zt.enterEdge=om;zt.exchangeEdges=am;function zt(e){e=sC(e),iC(e);var t=nC(e);Ul(t),Hl(t,e);for(var n,r;n=im(t);)r=om(t,e,n),am(t,e,n,r)}function Hl(e,t){var n=aC(e,e.nodes());n=n.slice(0,n.length-1),at.forEach(n,function(r){lC(e,t,r)})}function lC(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=nm(e,t,n)}function nm(e,t,n){var r=e.node(n),i=r.parent,o=!0,a=t.edge(n,i),s=0;return a||(o=!1,a=t.edge(i,n)),s=a.weight,at.forEach(t.nodeEdges(n),function(u){var c=u.v===n,l=c?u.w:u.v;if(l!==i){var d=c===o,f=t.edge(u).weight;if(s+=d?f:-f,dC(e,n,l)){var h=e.edge(n,l).cutvalue;s+=d?-h:h}}}),s}function Ul(e,t){arguments.length<2&&(t=e.nodes()[0]),rm(e,{},1,t)}function rm(e,t,n,r,i){var o=n,a=e.node(r);return t[r]=!0,at.forEach(e.neighbors(r),function(s){at.has(t,s)||(n=rm(e,t,n,s,r))}),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function im(e){return at.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function om(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),a=e.node(i),s=o,u=!1;o.lim>a.lim&&(s=a,u=!0);var c=at.filter(t.edges(),function(l){return u===Np(e,e.node(l.v),s)&&u!==Np(e,e.node(l.w),s)});return at.minBy(c,function(l){return rC(t,l)})}function am(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),Ul(e),Hl(e,t),cC(e,t)}function cC(e,t){var n=at.find(e.nodes(),function(i){return!t.node(i).parent}),r=oC(e,n);r=r.slice(1),at.forEach(r,function(i){var o=e.node(i).parent,a=t.edge(i,o),s=!1;a||(a=t.edge(o,i),s=!0),t.node(i).rank=t.node(o).rank+(s?a.minlen:-a.minlen)})}function dC(e,t,n){return e.hasEdge(t,n)}function Np(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var fC=Fr,sm=fC.longestPath,hC=tm,vC=uC,pC=gC;function gC(e){switch(e.graph().ranker){case"network-simplex":Tp(e);break;case"tight-tree":mC(e);break;case"longest-path":yC(e);break;default:Tp(e)}}var yC=sm;function mC(e){sm(e),hC(e)}function Tp(e){vC(e)}var dl=Ee,_C=bC;function bC(e){var t=EC(e);dl.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=wC(e,t,i.v,i.w),a=o.path,s=o.lca,u=0,c=a[u],l=!0;n!==i.w;){if(r=e.node(n),l){for(;(c=a[u])!==s&&e.node(c).maxRank<r.rank;)u++;c===s&&(l=!1)}if(!l){for(;u<a.length-1&&e.node(c=a[u+1]).minRank<=r.rank;)u++;c=a[u]}e.setParent(n,c),n=e.successors(n)[0]}})}function wC(e,t,n,r){var i=[],o=[],a=Math.min(t[n].low,t[r].low),s=Math.max(t[n].lim,t[r].lim),u,c;u=n;do u=e.parent(u),i.push(u);while(u&&(t[u].low>a||s>t[u].lim));for(c=u,u=r;(u=e.parent(u))!==c;)o.push(u);return{path:i.concat(o.reverse()),lca:c}}function EC(e){var t={},n=0;function r(i){var o=n;dl.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return dl.forEach(e.children(),r),t}var nt=Ee,fl=Ae,SC={run:xC,cleanup:NC};function xC(e){var t=fl.addDummyNode(e,"root",{},"_root"),n=IC(e),r=nt.max(nt.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,nt.forEach(e.edges(),function(a){e.edge(a).minlen*=i});var o=CC(e)+1;nt.forEach(e.children(),function(a){um(e,t,i,o,r,n,a)}),e.graph().nodeRankFactor=i}function um(e,t,n,r,i,o,a){var s=e.children(a);if(!s.length){a!==t&&e.setEdge(t,a,{weight:0,minlen:n});return}var u=fl.addBorderNode(e,"_bt"),c=fl.addBorderNode(e,"_bb"),l=e.node(a);e.setParent(u,a),l.borderTop=u,e.setParent(c,a),l.borderBottom=c,nt.forEach(s,function(d){um(e,t,n,r,i,o,d);var f=e.node(d),h=f.borderTop?f.borderTop:d,g=f.borderBottom?f.borderBottom:d,v=f.borderTop?r:2*r,y=h!==g?1:i-o[a]+1;e.setEdge(u,h,{weight:v,minlen:y,nestingEdge:!0}),e.setEdge(g,c,{weight:v,minlen:y,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,u,{weight:0,minlen:i+o[a]})}function IC(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&nt.forEach(o,function(a){n(a,i+1)}),t[r]=i}return nt.forEach(e.children(),function(r){n(r,1)}),t}function CC(e){return nt.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function NC(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,nt.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var zu=Ee,TC=Ae,RC=AC;function AC(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&zu.forEach(r,t),zu.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)Rp(e,"borderLeft","_bl",n,i,o),Rp(e,"borderRight","_br",n,i,o)}}zu.forEach(e.children(),t)}function Rp(e,t,n,r,i,o){var a={width:0,height:0,rank:o,borderType:t},s=i[t][o-1],u=TC.addDummyNode(e,"border",a,n);i[t][o]=u,e.setParent(u,r),s&&e.setEdge(s,u,{weight:1})}var Ve=Ee,qC={adjust:MC,undo:PC};function MC(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&lm(e)}function PC(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&OC(e),(t==="lr"||t==="rl")&&(kC(e),lm(e))}function lm(e){Ve.forEach(e.nodes(),function(t){Ap(e.node(t))}),Ve.forEach(e.edges(),function(t){Ap(e.edge(t))})}function Ap(e){var t=e.width;e.width=e.height,e.height=t}function OC(e){Ve.forEach(e.nodes(),function(t){Gu(e.node(t))}),Ve.forEach(e.edges(),function(t){var n=e.edge(t);Ve.forEach(n.points,Gu),Ve.has(n,"y")&&Gu(n)})}function Gu(e){e.y=-e.y}function kC(e){Ve.forEach(e.nodes(),function(t){Vu(e.node(t))}),Ve.forEach(e.edges(),function(t){var n=e.edge(t);Ve.forEach(n.points,Vu),Ve.has(n,"x")&&Vu(n)})}function Vu(e){var t=e.x;e.x=e.y,e.y=t}var Ze=Ee,DC=$C;function $C(e){var t={},n=Ze.filter(e.nodes(),function(s){return!e.children(s).length}),r=Ze.max(Ze.map(n,function(s){return e.node(s).rank})),i=Ze.map(Ze.range(r+1),function(){return[]});function o(s){if(!Ze.has(t,s)){t[s]=!0;var u=e.node(s);i[u.rank].push(s),Ze.forEach(e.successors(s),o)}}var a=Ze.sortBy(n,function(s){return e.node(s).rank});return Ze.forEach(a,o),i}var ht=Ee,BC=LC;function LC(e,t){for(var n=0,r=1;r<t.length;++r)n+=FC(e,t[r-1],t[r]);return n}function FC(e,t,n){for(var r=ht.zipObject(n,ht.map(n,function(c,l){return l})),i=ht.flatten(ht.map(t,function(c){return ht.sortBy(ht.map(e.outEdges(c),function(l){return{pos:r[l.w],weight:e.edge(l).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=ht.map(new Array(a),function(){return 0}),u=0;return ht.forEach(i.forEach(function(c){var l=c.pos+o;s[l]+=c.weight;for(var d=0;l>0;)l%2&&(d+=s[l+1]),l=l-1>>1,s[l]+=c.weight;u+=c.weight*d})),u}var qp=Ee,zC=GC;function GC(e,t){return qp.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=qp.reduce(r,function(o,a){var s=e.edge(a),u=e.node(a.v);return{sum:o.sum+s.weight*u.order,weight:o.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var qe=Ee,VC=HC;function HC(e,t){var n={};qe.forEach(e,function(i,o){var a=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};qe.isUndefined(i.barycenter)||(a.barycenter=i.barycenter,a.weight=i.weight)}),qe.forEach(t.edges(),function(i){var o=n[i.v],a=n[i.w];!qe.isUndefined(o)&&!qe.isUndefined(a)&&(a.indegree++,o.out.push(n[i.w]))});var r=qe.filter(n,function(i){return!i.indegree});return UC(r)}function UC(e){var t=[];function n(o){return function(a){a.merged||(qe.isUndefined(a.barycenter)||qe.isUndefined(o.barycenter)||a.barycenter>=o.barycenter)&&jC(o,a)}}function r(o){return function(a){a.in.push(o),--a.indegree===0&&e.push(a)}}for(;e.length;){var i=e.pop();t.push(i),qe.forEach(i.in.reverse(),n(i)),qe.forEach(i.out,r(i))}return qe.map(qe.filter(t,function(o){return!o.merged}),function(o){return qe.pick(o,["vs","i","barycenter","weight"])})}function jC(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var ln=Ee,YC=Ae,KC=XC;function XC(e,t){var n=YC.partition(e,function(l){return ln.has(l,"barycenter")}),r=n.lhs,i=ln.sortBy(n.rhs,function(l){return-l.i}),o=[],a=0,s=0,u=0;r.sort(WC(!!t)),u=Mp(o,i,u),ln.forEach(r,function(l){u+=l.vs.length,o.push(l.vs),a+=l.barycenter*l.weight,s+=l.weight,u=Mp(o,i,u)});var c={vs:ln.flatten(o,!0)};return s&&(c.barycenter=a/s,c.weight=s),c}function Mp(e,t,n){for(var r;t.length&&(r=ln.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function WC(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var yt=Ee,ZC=zC,JC=VC,QC=KC,eN=cm;function cm(e,t,n,r){var i=e.children(t),o=e.node(t),a=o?o.borderLeft:void 0,s=o?o.borderRight:void 0,u={};a&&(i=yt.filter(i,function(g){return g!==a&&g!==s}));var c=ZC(e,i);yt.forEach(c,function(g){if(e.children(g.v).length){var v=cm(e,g.v,n,r);u[g.v]=v,yt.has(v,"barycenter")&&nN(g,v)}});var l=JC(c,n);tN(l,u);var d=QC(l,r);if(a&&(d.vs=yt.flatten([a,d.vs,s],!0),e.predecessors(a).length)){var f=e.node(e.predecessors(a)[0]),h=e.node(e.predecessors(s)[0]);yt.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+f.order+h.order)/(d.weight+2),d.weight+=2}return d}function tN(e,t){yt.forEach(e,function(n){n.vs=yt.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function nN(e,t){yt.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var cn=Ee,rN=Fe.Graph,iN=oN;function oN(e,t,n){var r=aN(e),i=new rN({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return e.node(o)});return cn.forEach(e.nodes(),function(o){var a=e.node(o),s=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),cn.forEach(e[n](o),function(u){var c=u.v===o?u.w:u.v,l=i.edge(c,o),d=cn.isUndefined(l)?0:l.weight;i.setEdge(c,o,{weight:e.edge(u).weight+d})}),cn.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),i}function aN(e){for(var t;e.hasNode(t=cn.uniqueId("_root")););return t}var sN=Ee,uN=lN;function lN(e,t,n){var r={},i;sN.forEach(n,function(o){for(var a=e.parent(o),s,u;a;){if(s=e.parent(a),s?(u=r[s],r[s]=a):(u=i,i=a),u&&u!==a){t.setEdge(u,a);return}a=s}})}var _t=Ee,cN=DC,dN=BC,fN=eN,hN=iN,vN=uN,pN=Fe.Graph,Pp=Ae,gN=yN;function yN(e){var t=Pp.maxRank(e),n=Op(e,_t.range(1,t+1),"inEdges"),r=Op(e,_t.range(t-1,-1,-1),"outEdges"),i=cN(e);kp(e,i);for(var o=Number.POSITIVE_INFINITY,a,s=0,u=0;u<4;++s,++u){mN(s%2?n:r,s%4>=2),i=Pp.buildLayerMatrix(e);var c=dN(e,i);c<o&&(u=0,a=_t.cloneDeep(i),o=c)}kp(e,a)}function Op(e,t,n){return _t.map(t,function(r){return hN(e,r,n)})}function mN(e,t){var n=new pN;_t.forEach(e,function(r){var i=r.graph().root,o=fN(r,i,n,t);_t.forEach(o.vs,function(a,s){r.node(a).order=s}),vN(r,n,o.vs)})}function kp(e,t){_t.forEach(t,function(n){_t.forEach(n,function(r,i){e.node(r).order=i})})}var oe=Ee,_N=Fe.Graph,bN=Ae,wN={positionX:xN,findType1Conflicts:dm,findType2Conflicts:fm,addConflict:jl,hasConflict:hm,verticalAlignment:vm,horizontalCompaction:pm,alignCoordinates:ym,findSmallestWidthAlignment:gm,balance:mm};function dm(e,t){var n={};function r(i,o){var a=0,s=0,u=i.length,c=oe.last(o);return oe.forEach(o,function(l,d){var f=EN(e,l),h=f?e.node(f).order:u;(f||l===c)&&(oe.forEach(o.slice(s,d+1),function(g){oe.forEach(e.predecessors(g),function(v){var y=e.node(v),w=y.order;(w<a||h<w)&&!(y.dummy&&e.node(g).dummy)&&jl(n,v,g)})}),s=d+1,a=h)}),o}return oe.reduce(t,r),n}function fm(e,t){var n={};function r(o,a,s,u,c){var l;oe.forEach(oe.range(a,s),function(d){l=o[d],e.node(l).dummy&&oe.forEach(e.predecessors(l),function(f){var h=e.node(f);h.dummy&&(h.order<u||h.order>c)&&jl(n,f,l)})})}function i(o,a){var s=-1,u,c=0;return oe.forEach(a,function(l,d){if(e.node(l).dummy==="border"){var f=e.predecessors(l);f.length&&(u=e.node(f[0]).order,r(a,c,d,s,u),c=d,s=u)}r(a,c,a.length,u,o.length)}),a}return oe.reduce(t,i),n}function EN(e,t){if(e.node(t).dummy)return oe.find(e.predecessors(t),function(n){return e.node(n).dummy})}function jl(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function hm(e,t,n){if(t>n){var r=t;t=n,n=r}return oe.has(e[t],n)}function vm(e,t,n,r){var i={},o={},a={};return oe.forEach(t,function(s){oe.forEach(s,function(u,c){i[u]=u,o[u]=u,a[u]=c})}),oe.forEach(t,function(s){var u=-1;oe.forEach(s,function(c){var l=r(c);if(l.length){l=oe.sortBy(l,function(v){return a[v]});for(var d=(l.length-1)/2,f=Math.floor(d),h=Math.ceil(d);f<=h;++f){var g=l[f];o[c]===c&&u<a[g]&&!hm(n,c,g)&&(o[g]=c,o[c]=i[c]=i[g],u=a[g])}}})}),{root:i,align:o}}function pm(e,t,n,r,i){var o={},a=SN(e,t,n,i),s=i?"borderLeft":"borderRight";function u(d,f){for(var h=a.nodes(),g=h.pop(),v={};g;)v[g]?d(g):(v[g]=!0,h.push(g),h=h.concat(f(g))),g=h.pop()}function c(d){o[d]=a.inEdges(d).reduce(function(f,h){return Math.max(f,o[h.v]+a.edge(h))},0)}function l(d){var f=a.outEdges(d).reduce(function(g,v){return Math.min(g,o[v.w]-a.edge(v))},Number.POSITIVE_INFINITY),h=e.node(d);f!==Number.POSITIVE_INFINITY&&h.borderType!==s&&(o[d]=Math.max(o[d],f))}return u(c,a.predecessors.bind(a)),u(l,a.successors.bind(a)),oe.forEach(r,function(d){o[d]=o[n[d]]}),o}function SN(e,t,n,r){var i=new _N,o=e.graph(),a=IN(o.nodesep,o.edgesep,r);return oe.forEach(t,function(s){var u;oe.forEach(s,function(c){var l=n[c];if(i.setNode(l),u){var d=n[u],f=i.edge(d,l);i.setEdge(d,l,Math.max(a(e,c,u),f||0))}u=c})}),i}function gm(e,t){return oe.minBy(oe.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return oe.forIn(n,function(o,a){var s=CN(e,a)/2;r=Math.max(o+s,r),i=Math.min(o-s,i)}),r-i})}function ym(e,t){var n=oe.values(t),r=oe.min(n),i=oe.max(n);oe.forEach(["u","d"],function(o){oe.forEach(["l","r"],function(a){var s=o+a,u=e[s],c;if(u!==t){var l=oe.values(u);c=a==="l"?r-oe.min(l):i-oe.max(l),c&&(e[s]=oe.mapValues(u,function(d){return d+c}))}})})}function mm(e,t){return oe.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=oe.sortBy(oe.map(e,r));return(i[1]+i[2])/2})}function xN(e){var t=bN.buildLayerMatrix(e),n=oe.merge(dm(e,t),fm(e,t)),r={},i;oe.forEach(["u","d"],function(a){i=a==="u"?t:oe.values(t).reverse(),oe.forEach(["l","r"],function(s){s==="r"&&(i=oe.map(i,function(d){return oe.values(d).reverse()}));var u=(a==="u"?e.predecessors:e.successors).bind(e),c=vm(e,i,n,u),l=pm(e,i,c.root,c.align,s==="r");s==="r"&&(l=oe.mapValues(l,function(d){return-d})),r[a+s]=l})});var o=gm(e,r);return ym(r,o),mm(r,e.graph().align)}function IN(e,t,n){return function(r,i,o){var a=r.node(i),s=r.node(o),u=0,c;if(u+=a.width/2,oe.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":c=-a.width/2;break;case"r":c=a.width/2;break}if(c&&(u+=n?c:-c),c=0,u+=(a.dummy?t:e)/2,u+=(s.dummy?t:e)/2,u+=s.width/2,oe.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":c=s.width/2;break;case"r":c=-s.width/2;break}return c&&(u+=n?c:-c),c=0,u}}function CN(e,t){return e.node(t).width}var dn=Ee,_m=Ae,NN=wN.positionX,TN=RN;function RN(e){e=_m.asNonCompoundGraph(e),AN(e),dn.forEach(NN(e),function(t,n){e.node(n).x=t})}function AN(e){var t=_m.buildLayerMatrix(e),n=e.graph().ranksep,r=0;dn.forEach(t,function(i){var o=dn.max(dn.map(i,function(a){return e.node(a).height}));dn.forEach(i,function(a){e.node(a).y=r+o/2}),r+=o+n})}var ue=Ee,Dp=TI,$p=UI,qN=pC,MN=Ae.normalizeRanks,PN=_C,ON=Ae.removeEmptyRanks,Bp=SC,kN=RC,Lp=qC,DN=gN,$N=TN,wt=Ae,BN=Fe.Graph,LN=FN;function FN(e,t){var n=t&&t.debugTiming?wt.time:wt.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return ZN(e)});n("  runLayout",function(){zN(r,n)}),n("  updateInputGraph",function(){GN(e,r)})})}function zN(e,t){t("    makeSpaceForEdgeLabels",function(){JN(e)}),t("    removeSelfEdges",function(){sT(e)}),t("    acyclic",function(){Dp.run(e)}),t("    nestingGraph.run",function(){Bp.run(e)}),t("    rank",function(){qN(wt.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){QN(e)}),t("    removeEmptyRanks",function(){ON(e)}),t("    nestingGraph.cleanup",function(){Bp.cleanup(e)}),t("    normalizeRanks",function(){MN(e)}),t("    assignRankMinMax",function(){eT(e)}),t("    removeEdgeLabelProxies",function(){tT(e)}),t("    normalize.run",function(){$p.run(e)}),t("    parentDummyChains",function(){PN(e)}),t("    addBorderSegments",function(){kN(e)}),t("    order",function(){DN(e)}),t("    insertSelfEdges",function(){uT(e)}),t("    adjustCoordinateSystem",function(){Lp.adjust(e)}),t("    position",function(){$N(e)}),t("    positionSelfEdges",function(){lT(e)}),t("    removeBorderNodes",function(){aT(e)}),t("    normalize.undo",function(){$p.undo(e)}),t("    fixupEdgeLabelCoords",function(){iT(e)}),t("    undoCoordinateSystem",function(){Lp.undo(e)}),t("    translateGraph",function(){nT(e)}),t("    assignNodeIntersects",function(){rT(e)}),t("    reversePoints",function(){oT(e)}),t("    acyclic.undo",function(){Dp.undo(e)})}function GN(e,t){ue.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),ue.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,ue.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var VN=["nodesep","edgesep","ranksep","marginx","marginy"],HN={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},UN=["acyclicer","ranker","rankdir","align"],jN=["width","height"],YN={width:0,height:0},KN=["minlen","weight","width","height","labeloffset"],XN={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},WN=["labelpos"];function ZN(e){var t=new BN({multigraph:!0,compound:!0}),n=Uu(e.graph());return t.setGraph(ue.merge({},HN,Hu(n,VN),ue.pick(n,UN))),ue.forEach(e.nodes(),function(r){var i=Uu(e.node(r));t.setNode(r,ue.defaults(Hu(i,jN),YN)),t.setParent(r,e.parent(r))}),ue.forEach(e.edges(),function(r){var i=Uu(e.edge(r));t.setEdge(r,ue.merge({},XN,Hu(i,KN),ue.pick(i,WN)))}),t}function JN(e){var t=e.graph();t.ranksep/=2,ue.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function QN(e){ue.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};wt.addDummyNode(e,"edge-proxy",o,"_ep")}})}function eT(e){var t=0;ue.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=ue.max(t,r.maxRank))}),e.graph().maxRank=t}function tT(e){ue.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function nT(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0;function u(c){var l=c.x,d=c.y,f=c.width,h=c.height;t=Math.min(t,l-f/2),n=Math.max(n,l+f/2),r=Math.min(r,d-h/2),i=Math.max(i,d+h/2)}ue.forEach(e.nodes(),function(c){u(e.node(c))}),ue.forEach(e.edges(),function(c){var l=e.edge(c);ue.has(l,"x")&&u(l)}),t-=a,r-=s,ue.forEach(e.nodes(),function(c){var l=e.node(c);l.x-=t,l.y-=r}),ue.forEach(e.edges(),function(c){var l=e.edge(c);ue.forEach(l.points,function(d){d.x-=t,d.y-=r}),ue.has(l,"x")&&(l.x-=t),ue.has(l,"y")&&(l.y-=r)}),o.width=n-t+a,o.height=i-r+s}function rT(e){ue.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),o,a;n.points?(o=n.points[0],a=n.points[n.points.length-1]):(n.points=[],o=i,a=r),n.points.unshift(wt.intersectRect(r,o)),n.points.push(wt.intersectRect(i,a))})}function iT(e){ue.forEach(e.edges(),function(t){var n=e.edge(t);if(ue.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function oT(e){ue.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function aT(e){ue.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(ue.last(n.borderLeft)),a=e.node(ue.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),ue.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function sT(e){ue.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function uT(e){var t=wt.buildLayerMatrix(e);ue.forEach(t,function(n){var r=0;ue.forEach(n,function(i,o){var a=e.node(i);a.order=o+r,ue.forEach(a.selfEdges,function(s){wt.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:a.rank,order:o+ ++r,e:s.e,label:s.label},"_se")}),delete a.selfEdges})})}function lT(e){ue.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}function Hu(e,t){return ue.mapValues(ue.pick(e,t),Number)}function Uu(e){var t={};return ue.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var Vn=Ee,cT=Ae,dT=Fe.Graph,fT={debugOrdering:hT};function hT(e){var t=cT.buildLayerMatrix(e),n=new dT({compound:!0,multigraph:!0}).setGraph({});return Vn.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),Vn.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),Vn.forEach(t,function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),Vn.reduce(r,function(a,s){return n.setEdge(a,s,{style:"invis"}),s})}),n}var vT="0.8.5",bT={graphlib:Fe,layout:LN,debug:fT,util:{time:Ae.time,notime:Ae.notime},version:vT};export{il as M,Fg as N,Ew as P,_T as _,wr as a,yT as b,J as c,bT as d,Mg as e,mT as f,S1 as g,gT as h,Og as i,or as j,we as u};
//# sourceMappingURL=index.ee7c7b0a.js.map
