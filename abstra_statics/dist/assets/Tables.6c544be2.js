import{_ as F}from"./AbstraButton.vue_vue_type_script_setup_true_lang.41e88327.js";import{o as pe}from"./omniChatStore.81aa62c1.js";import{a as U}from"./string.b10c2096.js";import{d as te,at as B,c as Z,o as r,ac as m,ae as _e,h as L,ew as ge,e as c,dg as Se,r as j,i as u,a as x,b as s,u as e,f as o,g as V,t as C,df as W,dj as R,aY as ie,eB as he,ad as Y,eK as me,bT as ce,cD as ke,cE as ee,bQ as ae,d0 as fe,aI as Ie,S as we,M as Ne,cM as K,al as Te,U as Ue,ax as je,ec as Be,eA as De,j as He,A as ze,cC as ye}from"./jwt-decode.esm.fbcfeaec.js";import{C as Fe,A as Le,k as Ee,a as Pe,g as Re}from"./router.ed823a0a.js";import{p as Oe,T as Ke}from"./tables.76beaff5.js";import{T as We}from"./TableCard.410c9c75.js";import{_ as qe}from"./TablesTabs.vue_vue_type_script_setup_true_lang.b54389d2.js";import{u as X}from"./uuid.ee81c117.js";import{read as ve,utils as be}from"./xlsx.89ea120e.js";import{u as Ge}from"./useTables.77dbe628.js";import"./record.63a637c8.js";import"./PhCopySimple.vue.b62e6136.js";import"./index.d9ce41fc.js";import"./PhKey.vue.ff44d896.js";import"./PhPencil.vue.e528a6ad.js";import"./vue-flow-core.0bd59900.js";import"./Card.5199b9ee.js";(function(){try{var $=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},y=new Error().stack;y&&($._sentryDebugIds=$._sentryDebugIds||{},$._sentryDebugIds[y]="26bcc679-e2fc-4e0b-bfd8-db5d26c473c5",$._sentryDebugIdIdentifier="sentry-dbid-26bcc679-e2fc-4e0b-bfd8-db5d26c473c5")}catch{}})();const Je=["width","height","fill","transform"],Qe={key:0},Ye=c("path",{d:"M216.49,79.52l-56-56A12,12,0,0,0,152,20H56A20,20,0,0,0,36,40V216a20,20,0,0,0,20,20H200a20,20,0,0,0,20-20V88A12,12,0,0,0,216.49,79.52ZM183,80H160V57ZM60,212V44h76V92a12,12,0,0,0,12,12h48V212Zm100.49-72.49a12,12,0,0,1-17,17L140,153v31a12,12,0,0,1-24,0V153l-3.51,3.52a12,12,0,0,1-17-17l24-24a12,12,0,0,1,17,0Z"},null,-1),Xe=[Ye],ea={key:1},aa=c("path",{d:"M208,88H152V32Z",opacity:"0.2"},null,-1),ta=c("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Zm-42.34-77.66a8,8,0,0,1-11.32,11.32L136,139.31V184a8,8,0,0,1-16,0V139.31l-10.34,10.35a8,8,0,0,1-11.32-11.32l24-24a8,8,0,0,1,11.32,0Z"},null,-1),la=[aa,ta],na={key:2},sa=c("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34Zm-56,67.32a8,8,0,0,1-11.32,0L136,139.31V184a8,8,0,0,1-16,0V139.31l-10.34,10.35a8,8,0,0,1-11.32-11.32l24-24a8,8,0,0,1,11.32,0l24,24A8,8,0,0,1,157.66,149.66ZM152,88V44l44,44Z"},null,-1),oa=[sa],ra={key:3},ia=c("path",{d:"M212.24,83.76l-56-56A6,6,0,0,0,152,26H56A14,14,0,0,0,42,40V216a14,14,0,0,0,14,14H200a14,14,0,0,0,14-14V88A6,6,0,0,0,212.24,83.76ZM158,46.48,193.52,82H158ZM200,218H56a2,2,0,0,1-2-2V40a2,2,0,0,1,2-2h90V88a6,6,0,0,0,6,6h50V216A2,2,0,0,1,200,218Zm-43.76-78.24a6,6,0,1,1-8.48,8.48L134,134.49V184a6,6,0,0,1-12,0V134.49l-13.76,13.75a6,6,0,0,1-8.48-8.48l24-24a6,6,0,0,1,8.48,0Z"},null,-1),ua=[ia],da={key:4},pa=c("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Zm-42.34-77.66a8,8,0,0,1-11.32,11.32L136,139.31V184a8,8,0,0,1-16,0V139.31l-10.34,10.35a8,8,0,0,1-11.32-11.32l24-24a8,8,0,0,1,11.32,0Z"},null,-1),ma=[pa],ca={key:5},fa=c("path",{d:"M210.83,85.17l-56-56A4,4,0,0,0,152,28H56A12,12,0,0,0,44,40V216a12,12,0,0,0,12,12H200a12,12,0,0,0,12-12V88A4,4,0,0,0,210.83,85.17ZM156,41.65,198.34,84H156ZM200,220H56a4,4,0,0,1-4-4V40a4,4,0,0,1,4-4h92V88a4,4,0,0,0,4,4h52V216A4,4,0,0,1,200,220Zm-45.17-78.83a4,4,0,0,1-5.66,5.66L132,129.66V184a4,4,0,0,1-8,0V129.66l-17.17,17.17a4,4,0,0,1-5.66-5.66l24-24a4,4,0,0,1,5.66,0Z"},null,-1),ya=[fa],va={name:"PhFileArrowUp"},ba=te({...va,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup($){const y=$,D=B("weight","regular"),A=B("size","1em"),k=B("color","currentColor"),S=B("mirrored",!1),p=Z(()=>{var i;return(i=y.weight)!=null?i:D}),v=Z(()=>{var i;return(i=y.size)!=null?i:A}),w=Z(()=>{var i;return(i=y.color)!=null?i:k}),N=Z(()=>y.mirrored!==void 0?y.mirrored?"scale(-1, 1)":void 0:S?"scale(-1, 1)":void 0);return(i,g)=>(r(),m("svg",ge({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:v.value,height:v.value,fill:w.value,transform:N.value},i.$attrs),[_e(i.$slots,"default"),p.value==="bold"?(r(),m("g",Qe,Xe)):p.value==="duotone"?(r(),m("g",ea,la)):p.value==="fill"?(r(),m("g",na,oa)):p.value==="light"?(r(),m("g",ra,ua)):p.value==="regular"?(r(),m("g",da,ma)):p.value==="thin"?(r(),m("g",ca,ya)):L("",!0)],16,Je))}}),_a=["width","height","fill","transform"],ga={key:0},ha=c("path",{d:"M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z"},null,-1),ka=[ha],wa={key:1},Na=c("path",{d:"M192,112a80,80,0,1,1-80-80A80,80,0,0,1,192,112Z",opacity:"0.2"},null,-1),xa=c("path",{d:"M229.66,218.34,179.6,168.28a88.21,88.21,0,1,0-11.32,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"},null,-1),Aa=[Na,xa],Va={key:2},Ca=c("path",{d:"M168,112a56,56,0,1,1-56-56A56,56,0,0,1,168,112Zm61.66,117.66a8,8,0,0,1-11.32,0l-50.06-50.07a88,88,0,1,1,11.32-11.31l50.06,50.06A8,8,0,0,1,229.66,229.66ZM112,184a72,72,0,1,0-72-72A72.08,72.08,0,0,0,112,184Z"},null,-1),Ma=[Ca],$a={key:3},Za=c("path",{d:"M228.24,219.76l-51.38-51.38a86.15,86.15,0,1,0-8.48,8.48l51.38,51.38a6,6,0,0,0,8.48-8.48ZM38,112a74,74,0,1,1,74,74A74.09,74.09,0,0,1,38,112Z"},null,-1),Sa=[Za],Ia={key:4},Ta=c("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"},null,-1),Ua=[Ta],ja={key:5},Ba=c("path",{d:"M226.83,221.17l-52.7-52.7a84.1,84.1,0,1,0-5.66,5.66l52.7,52.7a4,4,0,0,0,5.66-5.66ZM36,112a76,76,0,1,1,76,76A76.08,76.08,0,0,1,36,112Z"},null,-1),Da=[Ba],Ha={name:"PhMagnifyingGlass"},za=te({...Ha,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup($){const y=$,D=B("weight","regular"),A=B("size","1em"),k=B("color","currentColor"),S=B("mirrored",!1),p=Z(()=>{var i;return(i=y.weight)!=null?i:D}),v=Z(()=>{var i;return(i=y.size)!=null?i:A}),w=Z(()=>{var i;return(i=y.color)!=null?i:k}),N=Z(()=>y.mirrored!==void 0?y.mirrored?"scale(-1, 1)":void 0:S?"scale(-1, 1)":void 0);return(i,g)=>(r(),m("svg",ge({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:v.value,height:v.value,fill:w.value,transform:N.value},i.$attrs),[_e(i.$slots,"default"),p.value==="bold"?(r(),m("g",ga,ka)):p.value==="duotone"?(r(),m("g",wa,Aa)):p.value==="fill"?(r(),m("g",Va,Ma)):p.value==="light"?(r(),m("g",$a,Sa)):p.value==="regular"?(r(),m("g",Ia,Ua)):p.value==="thin"?(r(),m("g",ja,Da)):L("",!0)],16,_a))}}),Fa={key:0},La={class:"ant-upload-drag-icon"},Ea={class:"ant-upload-text"},Pa={class:"ant-upload-hint"},Ra={key:1},Oa={style:{"margin-top":"1rem","max-height":"60vh","overflow-y":"auto"}},Ka=te({__name:"ImportSpreadsheetsModal",props:{open:{type:Boolean},projectId:{}},emits:["update:open","success"],setup($,{emit:y}){const D=Se.Dragger,A=$,k=y,S=Z({get:()=>A.open,set:n=>k("update:open",n)}),p=j(1),v=j([]),w=j([]),N=j([]),i=j(!1),g=j(!1),le=Oe.map(n=>({label:n,value:n})),ne=[{title:"",dataIndex:"selected",key:"selected",width:50},{title:u.translate("i18n_tables_original_column"),dataIndex:"originalName",key:"originalName",width:150},{title:u.translate("i18n_tables_mapped_column"),dataIndex:"mappedName",key:"mappedName",width:200},{title:u.translate("i18n_tables_column_type"),dataIndex:"type",key:"type",width:120},{title:u.translate("i18n_tables_sample_value"),dataIndex:"sample",key:"sample",width:150}],q=n=>U(n,!0),G=n=>U(n,!1),M=n=>n==null?"(empty)":typeof n=="object"?JSON.stringify(n).substring(0,50):String(n).substring(0,50),d=n=>{const a=n.filter(l=>l!=null&&l!=="");return a.length===0?"text":a.every(l=>!isNaN(Number(l)))?"numeric":a.every(l=>l===!0||l===!1||l==="true"||l==="false"||l===1||l===0)?"boolean":a.every(l=>!isNaN(Date.parse(l)))?"date":"text"},se=n=>(n.type==="text/csv"||n.type==="application/vnd.ms-excel"||n.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||K.error(u.translate("i18n_tables_invalid_file_type")),!1),b=n=>{const a=v.value.indexOf(n);a>-1&&v.value.splice(a,1)},xe=async n=>new Promise((a,t)=>{const h=new FileReader;h.onload=f=>{var l;try{const _=(l=f.target)==null?void 0:l.result,I=ve(_,{type:"string"}),oe=I.SheetNames[0],H=I.Sheets[oe],z=be.sheet_to_json(H,{defval:null});if(z.length===0){t(new Error("Empty file"));return}const ue=Object.keys(z[0]).map(P=>{const Q=z.map(T=>T[P]);return{id:X(),selected:!0,originalName:P,mappedName:U(P,!1),type:d(Q),sample:Q.find(T=>T!=null&&T!=="")||null}}),re={selected:!0,fileName:n.name,sheetName:null,tableName:U(n.name.replace(/\.csv$/i,""),!1),columns:ue,previewData:z.slice(0,5),rawData:z};a([re])}catch(_){t(_)}},h.onerror=t,h.readAsText(n.originFileObj)}),Ae=async n=>new Promise((a,t)=>{const h=new FileReader;h.onload=f=>{var l;try{const _=new Uint8Array((l=f.target)==null?void 0:l.result),I=ve(_,{type:"array"}),oe=I.SheetNames.map(H=>{const z=I.Sheets[H],E=be.sheet_to_json(z,{defval:null});if(E.length===0)return null;const re=Object.keys(E[0]).map(T=>{const de=E.map(O=>O[T]);return{id:X(),selected:!0,originalName:T,mappedName:U(T,!1),type:d(de),sample:de.find(O=>O!=null&&O!=="")||null}}),P=U(n.name.replace(/\.(xlsx|xls)$/i,""),!1),Q=I.SheetNames.length===1?P:`${P}_${U(H,!1)}`;return{selected:!0,fileName:n.name,sheetName:H,tableName:Q,columns:re,previewData:E.slice(0,5),rawData:E}}).filter(H=>H!==null);a(oe)}catch(_){t(_)}},h.onerror=t,h.readAsArrayBuffer(n.originFileObj)}),Ve=async()=>{i.value=!0,w.value=[];try{for(const n of v.value){const a=n.name.toLowerCase();let t=[];a.endsWith(".csv")?t=await xe(n):(a.endsWith(".xlsx")||a.endsWith(".xls"))&&(t=await Ae(n)),w.value.push(...t)}w.value.length>0?(N.value=[0],p.value=2):K.error(u.translate("i18n_tables_no_valid_sheets"))}catch(n){console.error("Error processing files:",n),K.error(u.translate("i18n_tables_import_error"))}finally{i.value=!1}},Ce=n=>n.columns.map(a=>({title:a.mappedName,dataIndex:a.originalName,key:a.originalName,width:150,ellipsis:!0})),Me=Z(()=>{const n=w.value.filter(a=>a.selected);return n.length>0&&n.every(a=>{const t=a.columns.filter(h=>h.selected);return a.tableName.trim()!==""&&t.length>0&&t.every(h=>h.mappedName.trim()!=="")})}),$e=async()=>{g.value=!0;try{const a={tables:w.value.filter(t=>t.selected).map(t=>{const h={id:X(),name:"id",type:"uuid",primaryKey:!0,nullable:!1,unique:!0,default:"gen_random_uuid()"},f=t.columns.filter(l=>l.selected);return{id:X(),name:t.tableName,columns:[h,...f.map(l=>({id:l.id,name:l.mappedName,type:l.type,primaryKey:!1,nullable:!0,unique:!1,default:""}))],data:t.rawData.map(l=>{const _={};return f.forEach(I=>{_[I.mappedName]=l[I.originalName]}),_})}})};await Ee.post(`projects/${A.projectId}/tables/restore`,{tables:a.tables}),K.success(u.translate("i18n_tables_import_success")),J(),k("success")}catch(n){console.error("Error importing tables:",n),K.error(u.translate("i18n_tables_import_error"))}finally{g.value=!1}},Ze=()=>{p.value=1},J=()=>{S.value=!1,p.value=1,v.value=[],w.value=[],N.value=[],i.value=!1,g.value=!1};return(n,a)=>(r(),x(e(Ne),{open:S.value,"onUpdate:open":a[4]||(a[4]=t=>S.value=t),title:e(u).translate("i18n_tables_import_spreadsheets"),width:800,footer:null,onCancel:J},{default:s(()=>[p.value===1?(r(),m("div",Fa,[o(e(W),{type:"secondary"},{default:s(()=>[V(C(e(u).translate("i18n_tables_import_description")),1)]),_:1}),o(e(D),{"file-list":v.value,"onUpdate:fileList":a[0]||(a[0]=t=>v.value=t),"before-upload":se,remove:b,accept:".csv,.xlsx,.xls",multiple:"",style:{"margin-top":"1rem"}},{default:s(()=>[c("p",La,[o(e(ba),{size:48})]),c("p",Ea,C(e(u).translate("i18n_tables_upload_click_or_drag")),1),c("p",Pa,C(e(u).translate("i18n_tables_upload_supported_formats")),1)]),_:1},8,["file-list"]),o(e(R),{justify:"flex-end",gap:"small",style:{"margin-top":"1rem"}},{default:s(()=>[o(F,{onClick:J},{default:s(()=>[...a[5]||(a[5]=[V(" Cancel ",-1)])]),_:1}),o(F,{type:"primary",disabled:v.value.length===0,loading:i.value,onClick:Ve},{default:s(()=>[...a[6]||(a[6]=[V(" Next ",-1)])]),_:1},8,["disabled","loading"])]),_:1})])):L("",!0),p.value===2?(r(),m("div",Ra,[o(e(W),{type:"secondary"},{default:s(()=>[V(C(e(u).translate("i18n_tables_import_mapping_description")),1)]),_:1}),o(e(we),{spinning:i.value},{default:s(()=>[c("div",Oa,[o(e(Fe),{"active-key":N.value,"onUpdate:activeKey":a[3]||(a[3]=t=>N.value=t),accordion:""},{default:s(()=>[(r(!0),m(ie,null,he(w.value,(t,h)=>(r(),x(e(Le),{key:h,disabled:!t.selected,style:Y({opacity:t.selected?1:.6})},{header:s(()=>[o(e(R),{align:"center",gap:"small",onClick:a[2]||(a[2]=me(()=>{},["stop"]))},{default:s(()=>[o(e(ce),{checked:t.selected,"onUpdate:checked":f=>t.selected=f,onClick:a[1]||(a[1]=me(()=>{},["stop"]))},null,8,["checked","onUpdate:checked"]),c("span",{style:Y({textDecoration:t.selected?"none":"line-through",color:t.selected?"inherit":"#999"})},C(t.fileName)+" "+C(t.sheetName?`- ${t.sheetName}`:""),5)]),_:2},1024)]),default:s(()=>[t.selected?(r(),x(e(ke),{key:0,layout:"vertical"},{default:s(()=>[o(e(ee),{label:e(u).translate("i18n_tables_table_name")},{default:s(()=>[o(e(ae),{value:t.tableName,"onUpdate:value":f=>t.tableName=f,placeholder:e(u).translate("i18n_tables_enter_table_name"),onBlur:f=>t.tableName=G(t.tableName),onInput:f=>t.tableName=q(t.tableName)},null,8,["value","onUpdate:value","placeholder","onBlur","onInput"])]),_:2},1032,["label"]),o(e(ee),{label:e(u).translate("i18n_tables_columns")},{default:s(()=>[o(e(fe),{columns:ne,"data-source":t.columns,pagination:!1,size:"small"},{bodyCell:s(({column:f,record:l})=>[f.key==="selected"?(r(),x(e(ce),{key:0,checked:l.selected,"onUpdate:checked":_=>l.selected=_},null,8,["checked","onUpdate:checked"])):f.key==="originalName"?(r(),x(e(W),{key:1,code:"",style:Y({textDecoration:l.selected?"none":"line-through",opacity:l.selected?1:.5})},{default:s(()=>[V(C(l.originalName),1)]),_:2},1032,["style"])):f.key==="mappedName"?(r(),x(e(ae),{key:2,value:l.mappedName,"onUpdate:value":_=>l.mappedName=_,size:"small",disabled:!l.selected,onBlur:_=>l.mappedName=G(l.mappedName),onInput:_=>l.mappedName=q(l.mappedName)},null,8,["value","onUpdate:value","disabled","onBlur","onInput"])):f.key==="type"?(r(),x(e(Ie),{key:3,value:l.type,"onUpdate:value":_=>l.type=_,size:"small",style:{width:"100%"},disabled:!l.selected,options:e(le)},null,8,["value","onUpdate:value","disabled","options"])):f.key==="sample"?(r(),x(e(W),{key:4,type:"secondary",style:Y([{"font-size":"12px"},{opacity:l.selected?1:.5}])},{default:s(()=>[V(C(M(l.sample)),1)]),_:2},1032,["style"])):L("",!0)]),_:1},8,["data-source"])]),_:2},1032,["label"]),o(e(ee),{label:e(u).translate("i18n_tables_preview")},{default:s(()=>[o(e(fe),{columns:Ce(t),"data-source":t.previewData,pagination:!1,scroll:{x:"max-content",y:200},size:"small"},null,8,["columns","data-source"])]),_:2},1032,["label"])]),_:2},1024)):L("",!0)]),_:2},1032,["disabled","style"]))),128))]),_:1},8,["active-key"])])]),_:1},8,["spinning"]),o(e(R),{justify:"space-between",style:{"margin-top":"1rem"}},{default:s(()=>[o(F,{onClick:Ze},{default:s(()=>[...a[7]||(a[7]=[V(" Back ",-1)])]),_:1}),o(e(R),{gap:"small"},{default:s(()=>[o(F,{onClick:J},{default:s(()=>[...a[8]||(a[8]=[V(" Cancel ",-1)])]),_:1}),o(F,{type:"primary",disabled:!Me.value,loading:g.value,onClick:$e},{default:s(()=>[V(C(e(u).translate("i18n_tables_import")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})])):L("",!0)]),_:1},8,["open","title"]))}}),Wa={key:1,style:{padding:"1rem"}},qa={style:{flex:"1"}},ct=te({__name:"Tables",setup($){const y=Be(),A=De().params.projectId,{tables:k,loading:S,fetchTables:p}=Ge(A),v=j(""),w=Z(()=>{if(!k.value)return[];if(!v.value)return k.value;const M=v.value.toLowerCase();return k.value.filter(d=>d.name.toLowerCase().includes(M))}),N=j(!1),i=j(!1),g=Te({name:""}),le=M=>U(M,!0),ne=M=>U(M,!1),q=async()=>{const M=await Ke.create(A,g.name);N.value=!1,g.name="",y.push({name:"tableEditor",params:{tableId:M.id,projectId:A}})},G=()=>{p(!0)};return Ue(()=>{const M=pe.subscribe("tableCreated",()=>{p(!0)});je(()=>{pe.unsubscribe(M)})}),(M,d)=>{const se=He("RouterLink");return r(),m(ie,null,[o(qe),e(S)?(r(),x(e(we),{key:0,style:{width:"100%","margin-top":"2rem"}})):(r(),m("div",Wa,[o(e(R),{justify:"space-between",align:"center",style:{"margin-bottom":"1rem"}},{default:s(()=>[c("div",qa,[o(e(ze),{level:3},{default:s(()=>[V(C(e(u).translate("i18n_tables_tables")),1)]),_:1}),o(e(W),{type:"secondary"},{default:s(()=>[V(C(e(u).translate("i18n_tables_description")),1)]),_:1})]),o(e(R),{gap:"small"},{default:s(()=>[o(F,{onClick:d[0]||(d[0]=b=>i.value=!0)},{default:s(()=>[V(C(e(u).translate("i18n_tables_import_spreadsheets")),1)]),_:1}),o(F,{type:"primary",onClick:d[1]||(d[1]=b=>N.value=!0)},{default:s(()=>[V(C(e(u).translate("i18n_tables_create_table")),1)]),_:1})]),_:1})]),_:1}),e(k)&&e(k).length>0?(r(),x(e(ae),{key:0,value:v.value,"onUpdate:value":d[2]||(d[2]=b=>v.value=b),placeholder:e(u).translate("i18n_tables_search_placeholder"),"allow-clear":"",style:{"margin-bottom":"1rem","max-width":"400px"}},{prefix:s(()=>[o(e(za),{size:16})]),_:1},8,["value","placeholder"])):L("",!0),!e(k)||e(k).length===0?(r(),x(e(ye),{key:1,description:e(u).translate("i18n_tables_empty_title")},null,8,["description"])):w.value.length===0?(r(),x(e(ye),{key:2,description:e(u).translate("i18n_tables_no_match")},null,8,["description"])):(r(),x(e(Re),{key:3,gutter:[16,16]},{default:s(()=>[(r(!0),m(ie,null,he(w.value,b=>(r(),x(e(Pe),{key:b.id,xs:24,sm:24,md:12,lg:12,xl:8,xxl:8},{default:s(()=>[o(se,{to:`/projects/${e(A)}/tables/${b.id}`,style:{"text-decoration":"none",color:"inherit"}},{default:s(()=>[o(We,{table:b,"project-id":e(A),"show-edit-button":!1},null,8,["table","project-id"])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1}))])),o(e(Ne),{open:N.value,"onUpdate:open":d[6]||(d[6]=b=>N.value=b),title:e(u).translate("i18n_tables_create_table"),onOk:q,onCancel:d[7]||(d[7]=b=>N.value=!1)},{default:s(()=>[o(e(ke),{model:g,layout:"vertical"},{default:s(()=>[o(e(ee),{label:e(u).translate("i18n_tables_table_name"),name:"name"},{default:s(()=>[o(e(ae),{value:g.name,"onUpdate:value":d[3]||(d[3]=b=>g.name=b),placeholder:e(u).translate("i18n_tables_enter_table_name"),onBlur:d[4]||(d[4]=b=>g.name=ne(g.name)),onInput:d[5]||(d[5]=b=>g.name=le(g.name))},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["open","title"]),o(Ka,{open:i.value,"onUpdate:open":d[8]||(d[8]=b=>i.value=b),"project-id":e(A),onSuccess:G},null,8,["open","project-id"])],64)}}});export{ct as default};
//# sourceMappingURL=Tables.6c544be2.js.map
