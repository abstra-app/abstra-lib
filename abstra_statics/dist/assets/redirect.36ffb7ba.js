import{i as s}from"./url.6b83143a.js";import"./jwt-decode.esm.b6d37558.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r=new Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="2b8d5cfd-9ccb-41d7-bcf0-1f6669c1edde",e._sentryDebugIdIdentifier="sentry-dbid-2b8d5cfd-9ccb-41d7-bcf0-1f6669c1edde")}catch{}})();function n(e){return e.startsWith("/")?e.slice(1):e}function d(e,r,c={}){if(s(r)){const t=new URL(r),a=new URLSearchParams(c),i=new URLSearchParams(t.search),o=new URLSearchParams([...i,...a]);return t.search=o.toString(),{action:"REPLACE_LOCAL_HREF",newHref:t.toString()}}else{const t=r.replace(/\/$/,"");if(e==="player")return{action:"GOTO_FORM_PLAYER",path:n(t),queryParams:c};if(e==="editor")return{action:"GOTO_FORM_EDITOR",path:n(t),queryParams:c};if(e==="preview")return{action:"GOTO_FORM_PLAYER",path:n(t),queryParams:c};throw new Error(`Invalid routing ${e}`)}}async function w(e,r,c,t={}){const a=d(e,c,t);switch(a.action){case"REPLACE_LOCAL_HREF":window.location.href=a.newHref;break;case"GOTO_FORM_EDITOR":await r.push({name:"formEditor",params:{formPath:a.path},query:a.queryParams});break;case"GOTO_FORM_PLAYER":await r.push({name:e==="preview"?"formPreview":"formPlayer",params:{formPath:a.path},query:a.queryParams});break;default:throw new Error("Invalid routing")}}export{w as r};
//# sourceMappingURL=redirect.36ffb7ba.js.map
