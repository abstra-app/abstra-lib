import{r as R}from"./router.02703dbf.js";import{d as V,Z as b,J as y,b as o,ew as g,dj as j,ey as w,eB as I,e as f,f as m,eI as z,fc as U,eK as W,c as h,w as p,u as r,bE as J,bi as Q,bg as Y,as as C,cC as P,eH as $,ck as X,eE as K,o as ee,O as te,r as ae,aE as le,eU as re,aI as oe,cy as ne,ex as ie,bh as ue,x as se}from"./outputWidgets.e96ae777.js";import{a as N}from"./asyncComputed.9e0c8a41.js";import{B as ce,a as de,g as pe}from"./datetime.ba9bbf51.js";import"./index.3067bca0.js";import{P as me}from"./project.90db8483.js";import{C as ge}from"./CrudView.266d1db2.js";import{G as fe}from"./PhArrowCounterClockwise.vue.d0685a98.js";import{H as ve}from"./PhCube.vue.ddfc1e0f.js";import{F as he,a as ye,G as be}from"./PhWebhooksLogo.vue.383716ab.js";import{A as x}from"./Text.8691a2b2.js";import{A as Ae}from"./Item.8dc79d71.js";import{A as ke}from"./index.4935c3a3.js";import{A as Ce}from"./Paragraph.1efad55d.js";import{E as we}from"./ExclamationCircleOutlined.65ae4da7.js";import{C as $e}from"./CloseCircleOutlined.a37e4490.js";import{L as H}from"./LoadingOutlined.659a23a4.js";import{A as _e}from"./index.3385a1bc.js";import{M as Ze}from"./Modal.ead7c614.js";import"./Form.8a04defb.js";import"./hasIn.ad84c1e7.js";import"./popupNotifcation.143e6bc8.js";import"./record.97f1db0c.js";import"./pubsub.780e91bb.js";import"./DocsButton.vue_vue_type_script_setup_true_lang.3bf38e15.js";import"./BookOutlined.19f678a3.js";import"./url.abb30f1b.js";import"./index.4551969a.js";import"./Title.d5efda58.js";import"./Base.2ebb0198.js";(function(){try{var l=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(l._sentryDebugIds=l._sentryDebugIds||{},l._sentryDebugIds[e]="b20585ed-4f68-4580-9e62-7fa9c6ada9c0",l._sentryDebugIdIdentifier="sentry-dbid-b20585ed-4f68-4580-9e62-7fa9c6ada9c0")}catch{}})();var xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"};const Oe=xe;var Ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"}}]},name:"pause-circle",theme:"outlined"};const Se=Ve,Me=["width","height","fill","transform"],Pe={key:0},He=f("path",{d:"M140,80v41.21l34.17,20.5a12,12,0,1,1-12.34,20.58l-40-24A12,12,0,0,1,116,128V80a12,12,0,0,1,24,0ZM128,28A99.38,99.38,0,0,0,57.24,57.34c-4.69,4.74-9,9.37-13.24,14V64a12,12,0,0,0-24,0v40a12,12,0,0,0,12,12H72a12,12,0,0,0,0-24H57.77C63,86,68.37,80.22,74.26,74.26a76,76,0,1,1,1.58,109,12,12,0,0,0-16.48,17.46A100,100,0,1,0,128,28Z"},null,-1),je=[He],Ie={key:1},ze=f("path",{d:"M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z",opacity:"0.2"},null,-1),Be=f("path",{d:"M136,80v43.47l36.12,21.67a8,8,0,0,1-8.24,13.72l-40-24A8,8,0,0,1,120,128V80a8,8,0,0,1,16,0Zm-8-48A95.44,95.44,0,0,0,60.08,60.15C52.81,67.51,46.35,74.59,40,82V64a8,8,0,0,0-16,0v40a8,8,0,0,0,8,8H72a8,8,0,0,0,0-16H49c7.15-8.42,14.27-16.35,22.39-24.57a80,80,0,1,1,1.66,114.75,8,8,0,1,0-11,11.64A96,96,0,1,0,128,32Z"},null,-1),Le=[ze,Be],De={key:2},Ee=f("path",{d:"M224,128A96,96,0,0,1,62.11,197.82a8,8,0,1,1,11-11.64A80,80,0,1,0,71.43,71.43C67.9,75,64.58,78.51,61.35,82L77.66,98.34A8,8,0,0,1,72,112H32a8,8,0,0,1-8-8V64a8,8,0,0,1,13.66-5.66L50,70.7c3.22-3.49,6.54-7,10.06-10.55A96,96,0,0,1,224,128ZM128,72a8,8,0,0,0-8,8v48a8,8,0,0,0,3.88,6.86l40,24a8,8,0,1,0,8.24-13.72L136,123.47V80A8,8,0,0,0,128,72Z"},null,-1),Ne=[Ee],Te={key:3},Fe=f("path",{d:"M134,80v44.6l37.09,22.25a6,6,0,0,1-6.18,10.3l-40-24A6,6,0,0,1,122,128V80a6,6,0,0,1,12,0Zm-6-46A93.4,93.4,0,0,0,61.51,61.56c-8.58,8.68-16,17-23.51,25.8V64a6,6,0,0,0-12,0v40a6,6,0,0,0,6,6H72a6,6,0,0,0,0-12H44.73C52.86,88.29,60.79,79.35,70,70a82,82,0,1,1,1.7,117.62,6,6,0,1,0-8.24,8.72A94,94,0,1,0,128,34Z"},null,-1),Ge=[Fe],qe={key:4},Re=f("path",{d:"M136,80v43.47l36.12,21.67a8,8,0,0,1-8.24,13.72l-40-24A8,8,0,0,1,120,128V80a8,8,0,0,1,16,0Zm-8-48A95.44,95.44,0,0,0,60.08,60.15C52.81,67.51,46.35,74.59,40,82V64a8,8,0,0,0-16,0v40a8,8,0,0,0,8,8H72a8,8,0,0,0,0-16H49c7.15-8.42,14.27-16.35,22.39-24.57a80,80,0,1,1,1.66,114.75,8,8,0,1,0-11,11.64A96,96,0,1,0,128,32Z"},null,-1),Ue=[Re],We={key:5},Je=f("path",{d:"M132,80v45.74l38.06,22.83a4,4,0,0,1-4.12,6.86l-40-24A4,4,0,0,1,124,128V80a4,4,0,0,1,8,0Zm-4-44A91.42,91.42,0,0,0,62.93,63C53.05,73,44.66,82.47,36,92.86V64a4,4,0,0,0-8,0v40a4,4,0,0,0,4,4H72a4,4,0,0,0,0-8H40.47C49.61,89,58.3,79,68.6,68.6a84,84,0,1,1,1.75,120.49,4,4,0,1,0-5.5,5.82A92,92,0,1,0,128,36Z"},null,-1),Qe=[Je],Ye={name:"PhClockCounterClockwise"},Xe=V({...Ye,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(l){const e=l,a=b("weight","regular"),d=b("size","1em"),s=b("color","currentColor"),_=b("mirrored",!1),i=y(()=>{var n;return(n=e.weight)!=null?n:a}),v=y(()=>{var n;return(n=e.size)!=null?n:d}),A=y(()=>{var n;return(n=e.color)!=null?n:s}),Z=y(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:_?"scale(-1, 1)":void 0);return(n,S)=>(o(),g("svg",I({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:v.value,height:v.value,fill:A.value,transform:Z.value},n.$attrs),[j(n.$slots,"default"),i.value==="bold"?(o(),g("g",Pe,je)):i.value==="duotone"?(o(),g("g",Ie,Le)):i.value==="fill"?(o(),g("g",De,Ne)):i.value==="light"?(o(),g("g",Te,Ge)):i.value==="regular"?(o(),g("g",qe,Ue)):i.value==="thin"?(o(),g("g",We,Qe)):w("",!0)],16,Me))}}),Ke=["width","height","fill","transform"],e1={key:0},t1=f("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm-16-84a16,16,0,1,1-16-16A16,16,0,0,1,112,128Zm64,0a16,16,0,1,1-16-16A16,16,0,0,1,176,128Z"},null,-1),a1=[t1],l1={key:1},r1=f("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"},null,-1),o1=f("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm56-88a12,12,0,1,1-12-12A12,12,0,0,1,184,128Zm-44,0a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm-44,0a12,12,0,1,1-12-12A12,12,0,0,1,96,128Z"},null,-1),n1=[r1,o1],i1={key:2},u1=f("path",{d:"M128,24A104,104,0,1,0,232,128,104.13,104.13,0,0,0,128,24ZM84,140a12,12,0,1,1,12-12A12,12,0,0,1,84,140Zm44,0a12,12,0,1,1,12-12A12,12,0,0,1,128,140Zm44,0a12,12,0,1,1,12-12A12,12,0,0,1,172,140Z"},null,-1),s1=[u1],c1={key:3},d1=f("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm10-90a10,10,0,1,1-10-10A10,10,0,0,1,138,128Zm-44,0a10,10,0,1,1-10-10A10,10,0,0,1,94,128Zm88,0a10,10,0,1,1-10-10A10,10,0,0,1,182,128Z"},null,-1),p1=[d1],m1={key:4},g1=f("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm12-88a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm44,0a12,12,0,1,1-12-12A12,12,0,0,1,184,128Zm-88,0a12,12,0,1,1-12-12A12,12,0,0,1,96,128Z"},null,-1),f1=[g1],v1={key:5},h1=f("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm8-92a8,8,0,1,1-8-8A8,8,0,0,1,136,128Zm-44,0a8,8,0,1,1-8-8A8,8,0,0,1,92,128Zm88,0a8,8,0,1,1-8-8A8,8,0,0,1,180,128Z"},null,-1),y1=[h1],b1={name:"PhDotsThreeCircle"},A1=V({...b1,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(l){const e=l,a=b("weight","regular"),d=b("size","1em"),s=b("color","currentColor"),_=b("mirrored",!1),i=y(()=>{var n;return(n=e.weight)!=null?n:a}),v=y(()=>{var n;return(n=e.size)!=null?n:d}),A=y(()=>{var n;return(n=e.color)!=null?n:s}),Z=y(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:_?"scale(-1, 1)":void 0);return(n,S)=>(o(),g("svg",I({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:v.value,height:v.value,fill:A.value,transform:Z.value},n.$attrs),[j(n.$slots,"default"),i.value==="bold"?(o(),g("g",e1,a1)):i.value==="duotone"?(o(),g("g",l1,n1)):i.value==="fill"?(o(),g("g",i1,s1)):i.value==="light"?(o(),g("g",c1,p1)):i.value==="regular"?(o(),g("g",m1,f1)):i.value==="thin"?(o(),g("g",v1,y1)):w("",!0)],16,Ke))}}),k1=["width","height","fill","transform"],C1={key:0},w1=f("path",{d:"M228,144v64a12,12,0,0,1-12,12H40a12,12,0,0,1-12-12V144a12,12,0,0,1,24,0v52H204V144a12,12,0,0,1,24,0Zm-108.49,8.49a12,12,0,0,0,17,0l40-40a12,12,0,0,0-17-17L140,115V32a12,12,0,0,0-24,0v83L96.49,95.51a12,12,0,0,0-17,17Z"},null,-1),$1=[w1],_1={key:1},Z1=f("path",{d:"M216,48V208H40V48A16,16,0,0,1,56,32H200A16,16,0,0,1,216,48Z",opacity:"0.2"},null,-1),x1=f("path",{d:"M224,144v64a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V144a8,8,0,0,1,16,0v56H208V144a8,8,0,0,1,16,0Zm-101.66,5.66a8,8,0,0,0,11.32,0l40-40a8,8,0,0,0-11.32-11.32L136,124.69V32a8,8,0,0,0-16,0v92.69L93.66,98.34a8,8,0,0,0-11.32,11.32Z"},null,-1),O1=[Z1,x1],V1={key:2},S1=f("path",{d:"M224,144v64a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V144a8,8,0,0,1,16,0v56H208V144a8,8,0,0,1,16,0Zm-101.66,5.66a8,8,0,0,0,11.32,0l40-40A8,8,0,0,0,168,96H136V32a8,8,0,0,0-16,0V96H88a8,8,0,0,0-5.66,13.66Z"},null,-1),M1=[S1],P1={key:3},H1=f("path",{d:"M222,144v64a6,6,0,0,1-6,6H40a6,6,0,0,1-6-6V144a6,6,0,0,1,12,0v58H210V144a6,6,0,0,1,12,0Zm-98.24,4.24a6,6,0,0,0,8.48,0l40-40a6,6,0,0,0-8.48-8.48L134,129.51V32a6,6,0,0,0-12,0v97.51L92.24,99.76a6,6,0,0,0-8.48,8.48Z"},null,-1),j1=[H1],I1={key:4},z1=f("path",{d:"M224,144v64a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V144a8,8,0,0,1,16,0v56H208V144a8,8,0,0,1,16,0Zm-101.66,5.66a8,8,0,0,0,11.32,0l40-40a8,8,0,0,0-11.32-11.32L136,124.69V32a8,8,0,0,0-16,0v92.69L93.66,98.34a8,8,0,0,0-11.32,11.32Z"},null,-1),B1=[z1],L1={key:5},D1=f("path",{d:"M220,144v64a4,4,0,0,1-4,4H40a4,4,0,0,1-4-4V144a4,4,0,0,1,8,0v60H212V144a4,4,0,0,1,8,0Zm-94.83,2.83a4,4,0,0,0,5.66,0l40-40a4,4,0,1,0-5.66-5.66L132,134.34V32a4,4,0,0,0-8,0V134.34L90.83,101.17a4,4,0,0,0-5.66,5.66Z"},null,-1),E1=[D1],N1={name:"PhDownloadSimple"},T1=V({...N1,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(l){const e=l,a=b("weight","regular"),d=b("size","1em"),s=b("color","currentColor"),_=b("mirrored",!1),i=y(()=>{var n;return(n=e.weight)!=null?n:a}),v=y(()=>{var n;return(n=e.size)!=null?n:d}),A=y(()=>{var n;return(n=e.color)!=null?n:s}),Z=y(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:_?"scale(-1, 1)":void 0);return(n,S)=>(o(),g("svg",I({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:v.value,height:v.value,fill:A.value,transform:Z.value},n.$attrs),[j(n.$slots,"default"),i.value==="bold"?(o(),g("g",C1,$1)):i.value==="duotone"?(o(),g("g",_1,O1)):i.value==="fill"?(o(),g("g",V1,M1)):i.value==="light"?(o(),g("g",P1,j1)):i.value==="regular"?(o(),g("g",I1,B1)):i.value==="thin"?(o(),g("g",L1,E1)):w("",!0)],16,k1))}});function T(l){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},d=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(a).filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable}))),d.forEach(function(s){F1(l,s,a[s])})}return l}function F1(l,e,a){return e in l?Object.defineProperty(l,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[e]=a,l}var B=function(e,a){var d=T({},e,a.attrs);return m(z,T({},d,{icon:U}),null)};B.displayName="CheckCircleOutlined";B.inheritAttrs=!1;const G1=B;function F(l){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},d=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(a).filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable}))),d.forEach(function(s){q1(l,s,a[s])})}return l}function q1(l,e,a){return e in l?Object.defineProperty(l,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[e]=a,l}var L=function(e,a){var d=F({},e,a.attrs);return m(z,F({},d,{icon:Oe}),null)};L.displayName="MinusCircleOutlined";L.inheritAttrs=!1;const R1=L;function G(l){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},d=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(a).filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable}))),d.forEach(function(s){U1(l,s,a[s])})}return l}function U1(l,e,a){return e in l?Object.defineProperty(l,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[e]=a,l}var D=function(e,a){var d=G({},e,a.attrs);return m(z,G({},d,{icon:Se}),null)};D.displayName="PauseCircleOutlined";D.inheritAttrs=!1;const W1=D,J1={style:{display:"flex","align-items":"center",gap:"5px"}},Q1={key:1},Y1=V({__name:"BuildInspector",props:{buildSpec:{}},setup(l){const e=l,a=W(),d=s=>{a.push({name:"logs",params:{projectId:e.buildSpec.projectId},query:s.logQuery})};return(s,_)=>s.buildSpec.runtimes.length>0?(o(),h(r(ke),{key:0,"item-layout":"horizontal","data-source":s.buildSpec.runtimes},{renderItem:p(({item:i})=>[m(r(Ae),null,{actions:p(()=>[m(r(J),null,{overlay:p(()=>[m(r(Q),null,{default:p(()=>[m(r(Y),{onClick:v=>d(i)},{default:p(()=>[f("div",J1,[m(r(Xe)),m(r(x),null,{default:p(()=>[C(" View Logs")]),_:1})])]),_:2},1032,["onClick"])]),_:2},1024)]),default:p(()=>[m(r(A1),{style:{cursor:"pointer"}})]),_:2},1024)]),default:p(()=>[i.type=="form"?(o(),h(r(P),{key:0,size:"large"},{default:p(()=>[m(r(he)),m(r(x),{strong:""},{default:p(()=>[C($(i.title),1)]),_:2},1024),m(r(x),{type:"secondary",code:""},{default:p(()=>[C("/"+$(i.path),1)]),_:2},1024)]),_:2},1024)):w("",!0),i.type=="job"?(o(),h(r(P),{key:1,size:"large"},{default:p(()=>[m(r(ye)),m(r(x),{strong:""},{default:p(()=>[C($(i.title),1)]),_:2},1024),m(r(x),{type:"secondary",code:""},{default:p(()=>[C($(i.schedule),1)]),_:2},1024)]),_:2},1024)):w("",!0),i.type=="hook"?(o(),h(r(P),{key:2,size:"large"},{default:p(()=>[m(r(be)),m(r(x),{strong:""},{default:p(()=>[C($(i.title),1)]),_:2},1024),m(r(x),{type:"secondary",code:""},{default:p(()=>[C("/_hooks/"+$(i.path),1)]),_:2},1024)]),_:2},1024)):w("",!0)]),_:2},1024)]),_:1},8,["data-source"])):(o(),g("div",Q1,[m(r(X),{description:"No runtimes found. Make sure your project has forms, hooks or jobs before deploying it"})]))}}),X1=V({__name:"Builds",setup(l){const a=K().params.projectId,{loading:d,result:s,refetch:_}=N(async()=>{const[t,c]=await Promise.all([ce.list(a),me.getStatus(a)]);return{b:t.map(k=>({build:k,status:c.filter(O=>O.buildId==k.id).map(O=>O.status)})),status:c}});let i;ee(()=>{i=setInterval(_,1e4)}),te(()=>{clearInterval(i)});const v=ae(null),A=N(async()=>v.value?await de.get(v.value):null),Z=()=>{var u;const t=(u=s.value)==null?void 0:u.b.find(k=>k.build.id===v.value);return`Build ${t==null?void 0:t.build.id.slice(0,8)} - ${t==null?void 0:t.build.createdAt.toLocaleString()}`},n=[{text:"Deploying",tagColor:"blue",check:t=>{var c,u;return(u=t.build.latest&&t.status.some(k=>k=="Running")&&((c=s.value)==null?void 0:c.status.some(k=>k.buildId!==t.build.id)))!=null?u:!1},loading:!0},{text:"Deactivating",tagColor:"orange",check:t=>t.build.status==="success"&&!t.build.latest&&t.status.some(c=>c=="Running"),loading:!0},{text:"Live",tagColor:"green",check:t=>t.build.latest&&t.status.some(c=>c=="Running")},{text:"Sleeping",tagColor:"cyan",check:t=>t.build.latest&&t.status.length===0},{text:"Failed",tagColor:"red",check:t=>t.build.latest&&t.status.some(c=>c=="Failed")},{text:"Inactive",tagColor:"default",check:t=>t.build.status==="success"},{text:"Aborted",tagColor:"default",check:t=>t.build.status==="aborted"||t.build.status==="aborted-by-user"},{text:"Failed",tagColor:"orange",check:t=>t.build.status==="failure"},{text:"Deploying",tagColor:"blue",check:t=>t.build.status==="in-progress",loading:!0},{text:"Uploading",tagColor:"yellow",check:t=>t.build.status==="pending"}];function S(t){var c,u,k,O,E;return{text:(u=(c=n.find(M=>M.check(t)))==null?void 0:c.text)!=null?u:"unknown",tagColor:(O=(k=n.find(M=>M.check(t)))==null?void 0:k.tagColor)!=null?O:"default",hover:(E=t.build.log)!=null?E:void 0}}const q=y(()=>{const t=[{name:"Id"},{name:"Date"},{name:"Abstra Version"},{name:"Status"},{name:"",align:"right"}];return s.value?{columns:t,rows:s.value.b.map(c=>{var u;return{key:c.build.id,cells:[{type:"text",text:c.build.id.slice(0,8)},{key:"date",type:"slot",payload:{date:pe(c.build.createdAt,{weekday:void 0}),distance:re(c.build.createdAt)}},{type:"text",text:(u=c.build.abstraVersion)!=null?u:"-"},{key:"status",type:"slot",payload:S(c)},{type:"actions",actions:[{icon:ve,label:"Inspect build",onClick:async()=>{v.value=c.build.id,A.refetch()}},{icon:fe,label:"View application logs",onClick:()=>R.push({name:"logs",params:{projectId:a},query:{buildId:c.build.id}})},{icon:T1,label:"Download files",onClick:()=>c.build.download()}]}]}})}:{columns:t,rows:[]}});return(t,c)=>(o(),g(le,null,[m(ge,{"entity-name":"build",loading:r(d),title:"Builds",description:"Each build is a version of your project. You can create a new build by deploying your project from the local editor.","empty-title":"No builds here yet",table:q.value,live:""},{date:p(({payload:u})=>[m(r(oe),null,{title:p(()=>[C($(u.distance),1)]),default:p(()=>[C($(u.date)+" ",1)]),_:2},1024)]),status:p(({payload:u})=>[m(r(ne),{open:u.hover?void 0:!1},{content:p(()=>[m(r(Ce),{style:{width:"300px",overflow:"auto","font-family":"monospace"},content:u.hover,copyable:""},null,8,["content"])]),default:p(()=>[u.text!=="unknown"?(o(),h(r(_e),{key:0,color:u.tagColor,style:ie({cursor:u.hover?"pointer":"default"})},{default:p(()=>[u.text==="Live"?(o(),h(r(G1),{key:0})):u.text==="Inactive"?(o(),h(r(R1),{key:1})):u.text==="Failed"?(o(),h(r(we),{key:2})):u.text==="Aborted"?(o(),h(r($e),{key:3})):u.text==="Sleeping"?(o(),h(r(W1),{key:4})):u.text==="Uploading"?(o(),h(r(H),{key:5})):u.text==="Deploying"?(o(),h(r(H),{key:6})):u.text==="Deactivating"?(o(),h(r(H),{key:7})):w("",!0),C(" "+$(u.text),1)]),_:2},1032,["color","style"])):w("",!0)]),_:2},1032,["open"])]),_:1},8,["loading","table"]),v.value?(o(),h(r(Ze),{key:0,footer:null,open:!!v.value,size:"large",width:"80%",title:Z(),onCancel:c[0]||(c[0]=u=>v.value=null)},{default:p(()=>[!r(A).result.value||r(A).loading.value?(o(),h(r(ue),{key:0})):r(A).result.value?(o(),h(Y1,{key:1,"build-spec":r(A).result.value},null,8,["build-spec"])):w("",!0)]),_:1},8,["open","title"])):w("",!0)],64))}});const Vt=se(X1,[["__scopeId","data-v-a07c796d"]]);export{Vt as default};
//# sourceMappingURL=Builds.67ac2b25.js.map
