import{f as l,eG as Ue,d as re,eB as de,H as N,r as A,J as _e,eM as X,a as ce,b as d,c as y,w as a,u as e,bG as j,ar as L,cE as pe,bz as H,bg as Ce,ex as S,o as Ee,e as q,ae as Oe,v as we,G as Te,ev as J,fb as Ne,eD as ee,bE as ze,bh as Be,bf as he,aD as ie,cz as je,aH as qe,cG as Re,eC as De,eJ as Fe,bA as Pe,eA as Me,eL as Ke,I as Ve}from"./outputWidgets.84400f3d.js";import{p as Se,T as Q,d as He}from"./tables.1d198494.js";import{B as Ge}from"./BaseLayout.af9cbbe2.js";import{a as fe}from"./asyncComputed.f2a51feb.js";import{p as ue}from"./popupNotifcation.d06c16fd.js";import{Y as Ae,Z as Ie,_ as Je,H as Qe}from"./icons.51c500b8.js";import"./router.6e29c40f.js";import{P as me}from"./project.6de3a389.js";import"./index.575f21cf.js";import{A as Le}from"./index.3493888c.js";import{A as x,F as ve}from"./Form.d05a1b22.js";import{A as te}from"./index.0223ca32.js";import{A as ye}from"./index.93162d4c.js";import{a as Ye}from"./ant-design.c41e79aa.js";import{E as Ze}from"./Base.5abbd37f.js";import{L as We}from"./LoadingOutlined.95868496.js";import{A as oe}from"./index.fa6ccec8.js";import{D as Xe}from"./DeleteOutlined.87dfb7c2.js";import{D as et}from"./DownOutlined.e05fa14d.js";import{A as tt}from"./index.617fe5ff.js";import{O as at}from"./organization.0f66ea2d.js";import{B as lt,a as nt,c as ut}from"./index.ee5bcd97.js";import"./record.a1f907ea.js";import"./pubsub.87032f37.js";import"./string.486bb998.js";import"./index.cf4c23b9.js";import"./index.15ddb2c1.js";import"./hasIn.bbea906d.js";import"./isNumeric.75337b1e.js";import"./index.e0dbea82.js";import"./Modal.d808afee.js";import"./Typography.d06ce724.js";import"./DeleteOutlined.f8ba9770.js";import"./ArrowRightOutlined.08fa31dd.js";(function(){try{var h=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},v=new Error().stack;v&&(h._sentryDebugIds=h._sentryDebugIds||{},h._sentryDebugIds[v]="32965bee-5af6-4da5-bf9a-ead9e98ec426",h._sentryDebugIdIdentifier="sentry-dbid-32965bee-5af6-4da5-bf9a-ead9e98ec426")}catch{}})();function ke(h){for(var v=1;v<arguments.length;v++){var t=arguments[v]!=null?Object(arguments[v]):{},I=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(I=I.concat(Object.getOwnPropertySymbols(t).filter(function(k){return Object.getOwnPropertyDescriptor(t,k).enumerable}))),I.forEach(function(k){ot(h,k,t[k])})}return h}function ot(h,v,t){return v in h?Object.defineProperty(h,v,{value:t,enumerable:!0,configurable:!0,writable:!0}):h[v]=t,h}var ge=function(v,t){var I=ke({},v,t.attrs);return l(Ue,ke({},I,{icon:Ze}),null)};ge.displayName="EditOutlined";ge.inheritAttrs=!1;const rt=ge,xe=(h,v)=>v.includes(h)?{status:"error",help:"There already is a column with this name in the table"}:{status:""},st=re({__name:"NewColumn",props:{open:{type:Boolean},table:{}},emits:["created","cancel"],setup(h,{emit:v}){const t=h,k=de().params.projectId,$=N(()=>{var f;return((f=t.table)==null?void 0:f.getColumns().map(i=>i.name))||[]}),z=N(()=>xe(s.value.name,$.value)),_={name:"",type:"varchar",default:"",nullable:!0,unique:!1},s=A(_),M=()=>{s.value={..._}},R=A([{value:"reference",label:"reference",isLeaf:!1},...Se.map(f=>({value:f,label:f,isLeaf:!0}))]),B=f=>{if(!f)return;const i=f[f.length-1];switch(f.length){case 0:return;case 1:i.loading=!0,Q.list(k).then(U=>{i.children=U.map(g=>({value:g.id,label:g.name,isLeaf:!1})),i.loading=!1});return;case 2:i.loading=!0,Q.get(k,i.value).then(U=>{i.children=U.getColumns().map(g=>({type:g.type,value:g.id,label:g.name,isLeaf:!0})),i.loading=!1});return}},p=(f,i)=>{if(!!f){if(f.length===1){s.value.type=f[0],s.value.foreignKey=void 0;return}if(f.length===3){const U=i[i.length-1];s.value.type=U.type,s.value.foreignKey={columnId:U.value}}}},D=f=>{const i=f.selectedOptions;return i?i.length===1?i[0].label:i.length===3?`reference to ${i[1].label}(${i[2].label})`:"":"Select type"},m=A({...{status:"success",message:"",fakeLoading:!1}}),F=()=>{m.value.fakeLoading=!0,P()};_e(()=>s.value.type,()=>{s.value.default=He[s.value.type]||"",F()});const P=X.exports.debounce(async()=>{if(!s.value.default){m.value.status="success",m.value.message="",m.value.fakeLoading=!1;return}const f=`select (${s.value.default})::${s.value.type} `;me.executeQuery(k,f,[]).then(i=>{m.value.status=i.errors.length>0?"error":"success",m.value.message=i.errors[0]||"",m.value.fakeLoading=!1})},500);function V(){v("cancel")}async function w(){if(!!t.table&&!(!s.value.name||!s.value.type))try{await t.table.addColumn(s.value),M(),v("created")}catch(f){f instanceof Error&&ue("Database error",f.message)}}return(f,i)=>{const U=ce("icon");return d(),y(e(ye),{title:"New column",width:720,open:t.open,"body-style":{paddingBottom:"80px"},"footer-style":{textAlign:"right"},onClose:V},{extra:a(()=>[l(e(pe),null,{default:a(()=>[l(e(j),{onClick:V},{default:a(()=>[L("Cancel")]),_:1}),l(e(j),{type:"primary",onClick:w},{default:a(()=>[L("Submit")]),_:1})]),_:1})]),default:a(()=>[l(e(ve),{model:s.value,layout:"vertical"},{default:a(()=>[l(e(x),{key:"name",label:"Name",required:"","validate-status":z.value.status,help:z.value.help},{default:a(()=>[l(e(H),{value:s.value.name,"onUpdate:value":i[0]||(i[0]=g=>s.value.name=g)},null,8,["value"])]),_:1},8,["validate-status","help"]),l(e(x),{key:"type",label:"Type",required:""},{default:a(()=>[l(e(Le),{options:R.value,"load-data":B,"display-render":D,"allow-clear":!1,onChange:p},null,8,["options"])]),_:1}),l(e(x),{key:"default-value",label:"Default value","validate-status":m.value.status,help:m.value.message},{default:a(()=>[l(e(H),{value:s.value.default,"onUpdate:value":i[1]||(i[1]=g=>s.value.default=g),onInput:F},{suffix:a(()=>[m.value.fakeLoading?(d(),y(e(Ce),{key:0})):S("",!0),!m.value.fakeLoading&&m.value.status==="success"?(d(),y(U,{key:1,path:e(Ae),width:"18",height:"18"},null,8,["path"])):S("",!0),!m.value.fakeLoading&&m.value.status==="error"?(d(),y(U,{key:2,path:e(Ie),width:"18",height:"18"},null,8,["path"])):S("",!0)]),_:1},8,["value"])]),_:1},8,["validate-status","help"]),l(e(x),{key:"nullable",label:"Nullable"},{default:a(()=>[l(e(te),{checked:s.value.nullable,"onUpdate:checked":i[2]||(i[2]=g=>s.value.nullable=g)},null,8,["checked"])]),_:1}),l(e(x),{key:"unique",label:"Unique"},{default:a(()=>[l(e(te),{checked:s.value.unique,"onUpdate:checked":i[3]||(i[3]=g=>s.value.unique=g)},null,8,["checked"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open"])}}}),it={class:"twin-container"},dt={class:"fullwidth-input"},ct={class:"fullwidth-input"},pt={class:"using-container"},ft={class:"fullwidth-input"},mt=re({__name:"UpdateColumn",props:{open:{type:Boolean},table:{},column:{}},emits:["updated","cancel"],setup(h,{emit:v}){const t=h,k=de().params.projectId,$=A(t.column.record.initialState.type);Ee(async()=>{if(!t.column.foreignKey)return;$.value="loading...";const n=await Q.fromColumnId(k,t.column.foreignKey.columnId),u=n.getColumn(t.column.foreignKey.columnId);$.value=`reference to ${n.name}(${u.name})`});const z=N(()=>{var n;return((n=t.table)==null?void 0:n.getColumns().map(u=>u.record.initialState.name))||[]}),_=N(()=>t.column.name===t.column.record.initialState.name?{status:"",help:""}:xe(t.column.name,z.value)),{result:s,loading:M}=fe(async()=>t.table.select({},10,0).then(({total:n})=>n));function R(){t.column.record.resetChanges(),v("cancel")}const p=A({status:"success",message:"",fakeLoading:!1}),D=()=>{p.value.fakeLoading=!0,K()},K=X.exports.debounce(async()=>{if(!t.column.default){p.value.status="success",p.value.message="",p.value.fakeLoading=!1;return}const n=`select (${t.column.default})::${t.column.type} `,u=await me.executeQuery(k,n,[]);p.value.status=u.errors.length>0?"error":"success",p.value.message=u.errors[0]||"",p.value.fakeLoading=!1},500),m=A([{value:"reference",label:"reference",isLeaf:!1},...Se.map(n=>({value:n,label:n,isLeaf:!0}))]),F=n=>{if(!n)return;const u=n[n.length-1];switch(n.length){case 0:return;case 1:u.loading=!0,Q.list(k).then(E=>{u.children=E.map(C=>({value:C.id,label:C.name,isLeaf:!1})),u.loading=!1});return;case 2:u.loading=!0,Q.get(k,u.value).then(E=>{u.children=E.getColumns().map(C=>({type:C.type,value:C.id,label:C.name,isLeaf:!0})),u.loading=!1});return}},ae=n=>{const u=n.selectedOptions;return u?u.length===1?u[0].label:u.length===3?`reference to ${u[1].label}(${u[2].label})`:"":"Select type"},P=(n,u)=>{if(!!n){if(n.length===1){t.column.type=n[0],t.column.foreignKey=null;return}if(n.length===3){if(t.column.foreignKey&&t.column.foreignKey.columnId===n[2])return;const E=u[u.length-1];t.column.type=E.type,t.column.foreignKey={columnId:E.value}}}},V=()=>s.value===0||M.value?!1:t.column.record.hasChangesDeep("type"),w=A({type:"default"}),f=()=>{t.column.type=t.column.record.initialState.type,w.value={type:"default"}};function i(n,u){return u==="varchar"||n==="int"&&u==="boolean"||n==="boolean"&&u==="int"}_e(()=>t.column.type,()=>{D(),g.value||(w.value={type:"user-defined",using:b.value,mandatory:!0})});const g=N(()=>w.value.type==="default"&&i(t.column.record.initialState.type,t.column.type)),Y=N(()=>!i(t.column.record.initialState.type,t.column.type));function se(n){n?w.value={type:"default"}:w.value={type:"user-defined",using:b.value,mandatory:!1}}function le(n){if(w.value.type==="default")throw new Error("Can't change using when using default casting");w.value.using=n!=null?n:""}const Z=()=>Y.value?!0:V()&&w.value.type==="user-defined",b=N(()=>`${t.column.record.initialState.name}::${t.column.type}`);async function W(){if(!t.column)return;let n=w.value.type==="default"?b.value:w.value.using;s.value===0&&(n=`${t.column.name}::text::${t.column.type}`);try{await t.column.update(n),v("updated")}catch(u){u instanceof Error&&ue("Database error",u.message)}}return(n,u)=>{const E=ce("icon");return d(),y(e(ye),{title:"Edit column",width:720,open:n.open,"body-style":{paddingBottom:"80px"},"footer-style":{textAlign:"right"},onClose:R},{extra:a(()=>[l(e(pe),null,{default:a(()=>[l(e(j),{onClick:R},{default:a(()=>[L("Cancel")]),_:1}),l(e(j),{type:"primary",onClick:W},{default:a(()=>[L("Submit")]),_:1})]),_:1})]),default:a(()=>[l(e(ve),{model:n.column,layout:"vertical"},{default:a(()=>[l(e(x),{key:"name",label:"Name","validate-status":_.value.status,help:_.value.help},{default:a(()=>[l(e(H),{value:n.column.name,"onUpdate:value":u[0]||(u[0]=C=>n.column.name=C)},null,8,["value"])]),_:1},8,["validate-status","help"]),q("div",it,[q("span",dt,[l(e(x),{key:"type",label:"Current Type"},{default:a(()=>[l(e(Oe),{value:$.value,"onUpdate:value":u[1]||(u[1]=C=>$.value=C),"default-active-first-option":"",disabled:""},null,8,["value"])]),_:1})]),l(E,{class:"right-arrow",path:e(Je)},null,8,["path"]),q("span",ct,[l(e(x),{key:"new-type",label:"New Type"},{default:a(()=>[l(e(Le),{options:m.value,"load-data":F,"display-render":ae,"allow-clear":!0,onClear:f,onChange:P},null,8,["options"])]),_:1})])]),l(e(x),{key:"default-value",label:"Default value","validate-status":p.value.status,help:p.value.message},{default:a(()=>[l(e(H),{value:n.column.default,"onUpdate:value":u[2]||(u[2]=C=>n.column.default=C),onInput:D},{suffix:a(()=>[p.value.fakeLoading?(d(),y(e(Ce),{key:0,size:"small"})):S("",!0),!p.value.fakeLoading&&p.value.status==="success"?(d(),y(E,{key:1,path:e(Ae),width:"18",height:"18"},null,8,["path"])):S("",!0),!p.value.fakeLoading&&p.value.status==="error"?(d(),y(E,{key:2,path:e(Ie),width:"18",height:"18"},null,8,["path"])):S("",!0)]),_:1},8,["value"])]),_:1},8,["validate-status","help"]),q("div",pt,[V()?(d(),y(e(x),{key:"default-casting",label:"Use default casting"},{default:a(()=>[l(e(te),{checked:g.value,disabled:Y.value,"onUpdate:checked":u[3]||(u[3]=C=>se(!!C))},null,8,["checked","disabled"])]),_:1})):S("",!0),q("span",ft,[V()?(d(),y(e(x),{key:"using",label:"Using"},{default:a(()=>[l(e(H),{value:w.value.type==="user-defined"?w.value.using:b.value,disabled:!Z(),onInput:u[4]||(u[4]=C=>le(C.target.value))},null,8,["value","disabled"])]),_:1})):S("",!0)])]),l(e(x),{key:"nullable",label:"Nullable"},{default:a(()=>[l(e(te),{checked:n.column.nullable,"onUpdate:checked":u[5]||(u[5]=C=>n.column.nullable=C)},null,8,["checked"])]),_:1}),l(e(x),{key:"unique",label:"Unique"},{default:a(()=>[l(e(te),{checked:n.column.unique,"onUpdate:checked":u[6]||(u[6]=C=>n.column.unique=C)},null,8,["checked"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open"])}}});const vt=we(mt,[["__scopeId","data-v-d14cbe65"]]),yt={class:"table-data",style:{width:"calc(100% - 120px)"}},gt={style:{overflow:"hidden","white-space":"wrap"}},bt={key:1},ht={key:1},kt=["onClick"],_t=q("a",null,"Delete",-1),Ct=re({__name:"TableData",props:{table:{},loading:{type:Boolean}},emits:["refresh"],setup(h,{emit:v}){var be;const t=h,I=A(1),k=A(10),$=N(()=>{var r,c;return{total:(c=(r=P.value)==null?void 0:r.total)!=null?c:0,current:I.value,pageSize:k.value,totalBoundaryShowSizeChanger:10,showSizeChanger:!0,pageSizeOptions:["10","25","50","100"],onChange:async(o,O)=>{I.value=o,k.value=O,await w()}}}),z=A(""),_=A(!1),s=A({type:"idle"}),M=()=>{_.value=!0,R()},R=X.exports.debounce(()=>{w(),_.value=!1},500);function B(){s.value={type:"idle"}}async function p(){B(),v("refresh"),await w(),Y()}function D(){s.value={type:"creating"}}const K=r=>{if(!t.table)throw new Error("Table not found");s.value={type:"editing",column:t.table.getColumn(r)}};async function m(r){await Ye("Are you sure you want to delete this column?")&&await F(r)}async function F(r){var c,o;await((o=(c=t.table)==null?void 0:c.getColumn(r))==null?void 0:o.delete()),v("refresh"),await w(),Y()}const ae=N(()=>{var r;return((r=P.value)==null?void 0:r.rows.length)===1}),{result:P,loading:V,refetch:w}=fe(()=>t.table.select({},(I.value-1)*k.value,k.value,z.value)),f=(r,c)=>o=>{if(r==="json"&&o==""){b.value[c]="null";return}b.value[c]=o},i=()=>[...t.table.getColumns().map(r=>{var c;return{key:(c=r.id)!=null?c:"",title:r.name,dataIndex:r.name,width:220,resizable:!0,ellipsis:!1}}),{key:"action",title:"",fixed:"right",width:100,align:"center",resizable:!1,ellipsis:!1}],U=i(),g=A(U),Y=()=>g.value=i();function se(r,c){g.value=g.value.map(o=>o.key===c.key?{...o,width:r}:o)}const le=N(()=>{var r;return((r=P.value)==null?void 0:r.rows.map(c=>({key:c.id,...c})))||[]}),Z=A(!1),b=A({}),W=()=>{Z.value=!0},n=()=>{b.value={},Z.value=!1};let u=Te((be=t.table)==null?void 0:be.getUnprotectedColumns().reduce((r,c)=>({...r,[c.name]:""}),{}));async function E(){if(!(!t.table||!u))try{b.value.id?await t.table.updateRow(b.value.id,b.value):await t.table.insertRow(b.value),b.value={},w(),n()}catch(r){r instanceof Error&&ue("Database error",r.message)}}const C=async r=>{if(!(!P.value||!P.value.rows.find(c=>c.id===r)))try{await t.table.deleteRow(r),ae.value&&(I.value=Math.max(1,I.value-1)),w()}catch(c){c instanceof Error&&ue("Database error",c.message)}},$e=r=>{var G;const c=(G=le.value)==null?void 0:G.filter(T=>r===T.key)[0],o=t.table.getColumns(),O=o.map(T=>T.name),ne=o.filter(T=>T.type==="json").map(T=>T.name);b.value=X.exports.pick(X.exports.cloneDeep(c),O),ne.forEach(T=>{b.value[T]&&(b.value[T]=JSON.stringify(b.value[T]))}),W()};return(r,c)=>(d(),J("div",yt,[l(e(oe),{justify:"space-between",style:{"margin-bottom":"16px"},gap:"middle"},{default:a(()=>[l(e(H),{value:z.value,"onUpdate:value":[c[0]||(c[0]=o=>z.value=o),M],placeholder:"Search",style:{width:"400px"},"allow-clear":""},{prefix:a(()=>[l(e(Ne))]),suffix:a(()=>[_.value?(d(),y(e(We),{key:0})):S("",!0)]),_:1},8,["value"]),l(e(j),{type:"primary",onClick:D},{default:a(()=>[L("+ Add new column")]),_:1})]),_:1}),l(e(Re),{columns:g.value,"data-source":le.value,pagination:$.value,bordered:"",loading:e(V)||r.loading,scroll:{x:1e3,y:720},size:"small",onResizeColumn:se},{headerCell:a(({column:o})=>[o.title!=="id"&&o.title!=="created_at"&&o.key!=="action"?(d(),y(e(oe),{key:0,align:"center",justify:"space-between",gap:"small"},{default:a(()=>[q("span",gt,ee(o.title),1),l(e(ze),{placement:"bottomRight",trigger:"click"},{overlay:a(()=>[l(e(Be),null,{default:a(()=>[l(e(he),{onClick:O=>K(String(o.key))},{icon:a(()=>[l(e(rt))]),default:a(()=>[L(" Edit ")]),_:2},1032,["onClick"]),l(e(he),{danger:"",onClick:O=>m(String(o.key))},{icon:a(()=>[l(e(Xe))]),default:a(()=>[L(" Delete ")]),_:2},1032,["onClick"])]),_:2},1024)]),default:a(()=>[l(e(et))]),_:2},1024)]),_:2},1024)):(d(),J("span",bt,ee(o.title),1))]),bodyCell:a(({column:o,text:O,record:ne})=>[g.value.map(G=>G.title).includes(o.dataIndex)?(d(),J(ie,{key:0},[L(ee(O),1)],64)):S("",!0),o.key==="action"?(d(),J("div",ht,[q("span",null,[q("a",{onClick:G=>$e(ne.id)},"Edit",8,kt)]),l(e(tt),{type:"vertical"}),l(e(je),{title:"Sure to delete?",onConfirm:G=>C(ne.id)},{default:a(()=>[_t]),_:2},1032,["onConfirm"])])):S("",!0)]),footer:a(()=>[g.value.length===3?(d(),y(e(qe),{key:0,title:"Add a first column prior to data entry",placement:"right"},{default:a(()=>[l(e(j),{type:"primary",disabled:!0,onClick:W},{default:a(()=>[L(" + Add New Data ")]),_:1})]),_:1})):(d(),y(e(j),{key:1,type:"primary",onClick:W},{default:a(()=>[L("+ Add New Data")]),_:1}))]),_:1},8,["columns","data-source","pagination","loading"]),l(e(ye),{title:"Data",width:720,open:Z.value,"body-style":{paddingBottom:"80px"},"footer-style":{textAlign:"right"},onClose:n},{extra:a(()=>[l(e(pe),null,{default:a(()=>[l(e(j),{onClick:n},{default:a(()=>[L("Cancel")]),_:1}),l(e(j),{type:"primary",onClick:E},{default:a(()=>[L("Submit")]),_:1})]),_:1})]),default:a(()=>[l(e(ve),{model:b.value,layout:"vertical"},{default:a(()=>[(d(!0),J(ie,null,De(r.table.getUnprotectedColumns(),o=>(d(),y(e(x),{key:o.id,label:o.name,required:!o.nullable},{default:a(()=>[b.value?(d(),y(e(H),{key:0,placeholder:o.type,value:b.value[o.name],disabled:b.value[o.name]===null,"onUpdate:value":O=>f(o.type,o.name)(O)},Fe({_:2},[o.nullable?{name:"addonAfter",fn:a(()=>[l(e(Pe),{checked:b.value[o.name]===null,"onUpdate:checked":O=>b.value[o.name]=O?null:""},{default:a(()=>[L(" NULL ")]),_:2},1032,["checked","onUpdate:checked"])]),key:"0"}:void 0]),1032,["placeholder","value","disabled","onUpdate:value"])):S("",!0)]),_:2},1032,["label","required"]))),128))]),_:1},8,["model"])]),_:1},8,["open"]),r.table&&s.value.type==="creating"?(d(),y(st,{key:0,open:"",table:t.table,onClose:B,onCancel:B,onCreated:p},null,8,["table"])):S("",!0),r.table&&s.value.type==="editing"?(d(),y(vt,{key:1,column:s.value.column,open:"",table:r.table,onUpdated:p,onClose:B,onCancel:B},null,8,["column","table"])):S("",!0)]))}});const wt={style:{"font-size":"20px"}},Dt=re({__name:"TableEditor",setup(h){const v=Me(),t=de(),I=t.params.tableId,k=t.params.projectId,$=A(!1),z=()=>{var p;$.value=!1,(p=_.value)==null||p.table.save(),M()},{result:_,loading:s,refetch:M}=fe(()=>Promise.all([me.get(k).then(async p=>{const D=await at.get(p.organizationId);return{project:p,organization:D}}),Q.get(k,I)]).then(([{project:p,organization:D},K])=>Ke({project:p,organization:D,table:K}))),R=N(()=>!s.value&&_.value?[{label:"My organizations",path:"/organizations"},{label:_.value.organization.name,path:`/organizations/${_.value.organization.id}`},{label:_.value.project.name,path:`/projects/${_.value.project.id}/tables`}]:void 0);function B(){v.push({name:"tables",params:{projectId:k}})}return(p,D)=>{const K=ce("router-link");return d(),y(Ge,null,{navbar:a(()=>[l(e(ut),{style:{padding:"5px 25px"},onBack:B},{title:a(()=>[$.value?(d(),y(e(oe),{key:1,align:"center",gap:"large"},{default:a(()=>[e(_)?(d(),y(e(H),{key:0,value:e(_).table.name,"onUpdate:value":D[1]||(D[1]=m=>e(_).table.name=m),class:"borderless-input"},null,8,["value"])):S("",!0),l(e(j),{onClick:z},{default:a(()=>[L("Save")]),_:1})]),_:1})):(d(),y(e(oe),{key:0,align:"center",gap:"small"},{default:a(()=>{var m;return[q("span",wt,ee((m=e(_))==null?void 0:m.table.name),1),l(Ve,{path:e(Qe),width:"22",style:{cursor:"pointer"},onClick:D[0]||(D[0]=F=>$.value=!0)},null,8,["path"])]}),_:1}))]),breadcrumb:a(()=>[R.value?(d(),y(e(lt),{key:0},{default:a(()=>[(d(!0),J(ie,null,De(R.value,(m,F)=>(d(),y(e(nt),{key:F},{default:a(()=>[l(K,{to:m.path},{default:a(()=>[L(ee(m.label),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})):S("",!0)]),_:1})]),content:a(()=>[e(_)?(d(),y(Ct,{key:0,loading:e(s),table:e(_).table,onRefresh:D[2]||(D[2]=m=>e(M)())},null,8,["loading","table"])):S("",!0)]),_:1})}}});const ua=we(Dt,[["__scopeId","data-v-594196a3"]]);export{ua as default};
//# sourceMappingURL=TableEditor.8aa47bca.js.map
