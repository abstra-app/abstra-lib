var o=Object.defineProperty;var c=(a,e,s)=>e in a?o(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s;var i=(a,e,s)=>(c(a,typeof e!="symbol"?e+"":e,s),s);import{A as d,a as p,b as h,c as l,d as b,e as y,f,g as w}from"./linters.7a08fd6c.js";import"./index.dac48cf7.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[e]="3d8927e1-6fe9-4425-9008-82c5e3cc99de",a._sentryDebugIdIdentifier="sentry-dbid-3d8927e1-6fe9-4425-9008-82c5e3cc99de")}catch{}})();class g{async list(){const s=await(await fetch("/_editor/api/codebase/files")).json();return d.parse(s)}async create(e,s){const r=await(await fetch(`/_editor/api/codebase/files/${e}`,{method:"POST",body:s})).json();return p.parse(r)}async delete(e){const t=await(await fetch(`/_editor/api/codebase/files/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).json();return h.parse(t)}async update(e,s){const r=await(await fetch(`/_editor/api/codebase/files/${e}`,{method:"PUT",body:s})).json();return l.parse(r)}async retrieve(e){const t=await(await fetch(`/_editor/api/codebase/files/${e}`)).arrayBuffer();return new Uint8Array(t)}async rename(e,s){const t=b.parse({pathParts:e,newPathParts:s}),n=await(await fetch("/_editor/api/codebase/files",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();return y.parse(n)}async mkdir(e){const t=await(await fetch(`/_editor/api/codebase/dir/${e}`,{method:"POST",headers:{"Content-Type":"application/json"}})).json();return f.parse(t)}async settings(){const s=await(await fetch("/_editor/api/codebase/settings")).json();return w.parse(s)}}class F{constructor(e,s){i(this,"uploadFile",async(e,s)=>{const t=e.join(this.settings.separator);await this.api.create(t,s)});i(this,"deleteFile",async e=>{const s=e.join(this.settings.separator);await this.api.delete(s)});i(this,"renameFile",async(e,s)=>{await this.api.rename(e,s)});i(this,"editFile",async(e,s)=>{const t=e.join(this.settings.separator);await this.api.update(t,s)});i(this,"getFile",async e=>{const s=e.join(this.settings.separator);return this.api.retrieve(s)});i(this,"mkdir",async e=>{const s=e.join(this.settings.separator);await this.api.mkdir(s)});this.api=e,this.settings=s}}export{g as C,F};
//# sourceMappingURL=filesController.2b4e90b7.js.map
