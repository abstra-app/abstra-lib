import{i as c}from"./url.af3a24f0.js";import"./jwt-decode.esm.97430585.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[e]="aaf095ad-b0db-4fa0-b9a3-201f975a4a01",a._sentryDebugIdIdentifier="sentry-dbid-aaf095ad-b0db-4fa0-b9a3-201f975a4a01")}catch{}})();function i(a){return a.startsWith("/")?a.slice(1):a}function f(a,e,n={}){if(c(e)){const r=new URL(e),t=new URLSearchParams(n),o=new URLSearchParams(r.search),s=new URLSearchParams([...o,...t]);return r.search=s.toString(),{action:"REPLACE_LOCAL_HREF",newHref:r.toString()}}else{const r=e.replace(/\/$/,"");if(a==="player")return{action:"GOTO_FORM_PLAYER",path:i(r),queryParams:n};if(a==="editor")return{action:"GOTO_FORM_EDITOR",path:i(r),queryParams:n};if(a==="preview")return{action:"GOTO_FORM_PLAYER",path:i(r),queryParams:n};throw new Error(`Invalid routing ${a}`)}}async function w(a,e,n,r={}){const t=f(a,n,r);switch(t.action){case"REPLACE_LOCAL_HREF":window.location.href=t.newHref;break;case"GOTO_FORM_EDITOR":await e.push({name:"formEditor",params:{formPath:t.path},query:t.queryParams});break;case"GOTO_FORM_PLAYER":await e.push({name:a==="preview"?"formPreview":"formPlayer",params:{formPath:t.path},query:t.queryParams});break;default:throw new Error("Invalid routing")}}export{w as r};
//# sourceMappingURL=redirect.d88096e3.js.map
