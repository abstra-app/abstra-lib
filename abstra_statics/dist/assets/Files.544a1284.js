import{_ as s1}from"./DocsButton.vue_vue_type_script_setup_true_lang.05882775.js";import{d as Y,at as F,c as C,o as d,ac as A,ae as he,h as U,ed as ge,e as _,f as y,ee as me,fb as i1,en as o1,fc as c1,fd as u1,fe as d1,ff as f1,eN as p1,r as N,fg as v1,al as pe,w as ve,b as V,u as s,aY as ze,ej as h1,a as k,t as E,dj as ne,g as W,i as p,cy as Le,cI as g1,bT as Pe,eh as re,es as se,el as ke,cC as m1,bV as y1,bQ as _1,M as A1,fh as H1,K as ie,_ as Ie,ei as w1,A as V1,de as b1}from"./jwt-decode.esm.ab3ee903.js";import{f as Z1,e as x1,p as $}from"./router.bd696210.js";import{a as $1}from"./asyncComputed.b2197b88.js";import{f as Fe}from"./string.8f37679c.js";import{F as M1}from"./PhArrowUp.vue.05b1cdfc.js";import{a as C1,G as j1}from"./PhFolderPlus.vue.fcad1f1f.js";import{_ as oe}from"./AbstraButton.vue_vue_type_script_setup_true_lang.e57b30b0.js";import{_ as z1}from"./ScrollArea.vue_vue_type_script_setup_true_lang.9ee420b5.js";import{B as L1,A as Oe}from"./Breadcrumb.88a4fbdc.js";import{U as P1}from"./UploadOutlined.53e85bb0.js";import{F as k1}from"./file.e5108956.js";import"./tables.245f1853.js";import{C as F1}from"./Card.acf4995c.js";import"./constants.4ffee779.js";import"./index.03cbe9da.js";import"./record.f2db2562.js";(function(){try{var c=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},l=new Error().stack;l&&(c._sentryDebugIds=c._sentryDebugIds||{},c._sentryDebugIds[l]="968905be-af03-4e30-8b68-ef7aace0252b",c._sentryDebugIdIdentifier="sentry-dbid-968905be-af03-4e30-8b68-ef7aace0252b")}catch{}})();var O1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M484 443.1V528h-84.5c-4.1 0-7.5 3.1-7.5 7v42c0 3.8 3.4 7 7.5 7H484v84.9c0 3.9 3.2 7.1 7 7.1h42c3.9 0 7-3.2 7-7.1V584h84.5c4.1 0 7.5-3.2 7.5-7v-42c0-3.9-3.4-7-7.5-7H540v-84.9c0-3.9-3.1-7.1-7-7.1h-42c-3.8 0-7 3.2-7 7.1zm396-144.7H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder-add",theme:"outlined"};const D1=O1;var S1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"};const T1=S1,I1=["width","height","fill","transform"],B1={key:0},N1=_("path",{d:"M96.59,124.91a12,12,0,0,0-13.08,2.6L63,148H44a12,12,0,0,0-12,12v40a12,12,0,0,0,12,12H63l20.48,20.48A12,12,0,0,0,104,224V136A12,12,0,0,0,96.59,124.91ZM80,195l-3.51-3.52A12,12,0,0,0,68,188H56V172H68a12,12,0,0,0,8.49-3.51L80,165Zm80-15a44.55,44.55,0,0,1-21.95,38.36A12,12,0,1,1,126,197.64a20.51,20.51,0,0,0,0-35.28,12,12,0,1,1,12.1-20.72A44.55,44.55,0,0,1,160,180ZM216.49,79.51l-56-56A12,12,0,0,0,152,20H56A20,20,0,0,0,36,40v72a12,12,0,0,0,24,0V44h76V92a12,12,0,0,0,12,12h48V212H180a12,12,0,0,0,0,24h20a20,20,0,0,0,20-20V88A12,12,0,0,0,216.49,79.51ZM160,57l23,23H160Z"},null,-1),E1=[N1],U1={key:1},G1=_("path",{d:"M72,160l24-24v88L72,200H48V160ZM152,32V88h56Z",opacity:"0.2"},null,-1),R1=_("path",{d:"M99.06,128.61a8,8,0,0,0-8.72,1.73L68.69,152H48a8,8,0,0,0-8,8v40a8,8,0,0,0,8,8H68.69l21.65,21.66A8,8,0,0,0,104,224V136A8,8,0,0,0,99.06,128.61ZM88,204.69,77.66,194.34A8,8,0,0,0,72,192H56V168H72a8,8,0,0,0,5.66-2.34L88,155.31ZM152,180a40.55,40.55,0,0,1-20,34.91A8,8,0,0,1,124,201.09a24.49,24.49,0,0,0,0-42.18A8,8,0,0,1,132,145.09,40.55,40.55,0,0,1,152,180Zm61.66-97.66-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40v80a8,8,0,0,0,16,0V40h88V88a8,8,0,0,0,8,8h48V216H168a8,8,0,0,0,0,16h32a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160Z"},null,-1),W1=[G1,R1],q1={key:2},J1=_("path",{d:"M152,180a40.55,40.55,0,0,1-20,34.91A8,8,0,0,1,124,201.09a24.49,24.49,0,0,0,0-42.18A8,8,0,0,1,132,145.09,40.55,40.55,0,0,1,152,180ZM99.06,128.61a8,8,0,0,0-8.72,1.73L68.69,152H48a8,8,0,0,0-8,8v40a8,8,0,0,0,8,8H68.69l21.65,21.66A8,8,0,0,0,104,224V136A8,8,0,0,0,99.06,128.61ZM216,88V216a16,16,0,0,1-16,16H168a8,8,0,0,1,0-16h32V96H152a8,8,0,0,1-8-8V40H56v80a8,8,0,0,1-16,0V40A16,16,0,0,1,56,24h96a8,8,0,0,1,5.66,2.34l56,56A8,8,0,0,1,216,88Zm-56-8h28.69L160,51.31Z"},null,-1),K1=[J1],Q1={key:3},Y1=_("path",{d:"M98.3,130.46a6,6,0,0,0-6.54,1.3L69.51,154H48a6,6,0,0,0-6,6v40a6,6,0,0,0,6,6H69.51l22.25,22.24A6,6,0,0,0,102,224V136A6,6,0,0,0,98.3,130.46Zm-8.3,79L76.24,195.76A6,6,0,0,0,72,194H54V166H72a6,6,0,0,0,4.24-1.76L90,150.49ZM150,180a38.53,38.53,0,0,1-19,33.18A6,6,0,0,1,125,202.82a26.5,26.5,0,0,0,0-45.64A6,6,0,0,1,131,146.82,38.53,38.53,0,0,1,150,180Zm62.24-96.24-56-56A6,6,0,0,0,152,26H56A14,14,0,0,0,42,40v80a6,6,0,0,0,12,0V40a2,2,0,0,1,2-2h90V88a6,6,0,0,0,6,6h50V216a2,2,0,0,1-2,2H168a6,6,0,0,0,0,12h32a14,14,0,0,0,14-14V88A6,6,0,0,0,212.24,83.76ZM158,46.48,193.52,82H158Z"},null,-1),X1=[Y1],e0={key:4},a0=_("path",{d:"M99.06,128.61a8,8,0,0,0-8.72,1.73L68.69,152H48a8,8,0,0,0-8,8v40a8,8,0,0,0,8,8H68.69l21.65,21.66A8,8,0,0,0,104,224V136A8,8,0,0,0,99.06,128.61ZM88,204.69,77.66,194.34A8,8,0,0,0,72,192H56V168H72a8,8,0,0,0,5.66-2.34L88,155.31ZM152,180a40.55,40.55,0,0,1-20,34.91A8,8,0,0,1,124,201.09a24.49,24.49,0,0,0,0-42.18A8,8,0,0,1,132,145.09,40.55,40.55,0,0,1,152,180Zm61.66-97.66-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40v80a8,8,0,0,0,16,0V40h88V88a8,8,0,0,0,8,8h48V216H168a8,8,0,0,0,0,16h32a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160Z"},null,-1),t0=[a0],l0={key:5},n0=_("path",{d:"M97.53,132.3a4,4,0,0,0-4.36.87L70.34,156H48a4,4,0,0,0-4,4v40a4,4,0,0,0,4,4H70.34l22.83,22.83A4,4,0,0,0,100,224V136A4,4,0,0,0,97.53,132.3Zm-5.53,82L74.83,197.17A4,4,0,0,0,72,196H52V164H72a4,4,0,0,0,2.83-1.17L92,145.66ZM148,180a36.52,36.52,0,0,1-18,31.45,4,4,0,0,1-4-6.9,28.5,28.5,0,0,0,0-49.1,4,4,0,0,1,4-6.9A36.52,36.52,0,0,1,148,180Zm62.83-94.83-56-56A4,4,0,0,0,152,28H56A12,12,0,0,0,44,40v80a4,4,0,0,0,8,0V40a4,4,0,0,1,4-4h92V88a4,4,0,0,0,4,4h52V216a4,4,0,0,1-4,4H168a4,4,0,0,0,0,8h32a12,12,0,0,0,12-12V88A4,4,0,0,0,210.83,85.17ZM156,41.65,198.34,84H156Z"},null,-1),r0=[n0],s0={name:"PhFileAudio"},i0=Y({...s0,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(c){const l=c,n=F("weight","regular"),v=F("size","1em"),i=F("color","currentColor"),b=F("mirrored",!1),g=C(()=>{var u;return(u=l.weight)!=null?u:n}),w=C(()=>{var u;return(u=l.size)!=null?u:v}),O=C(()=>{var u;return(u=l.color)!=null?u:i}),D=C(()=>l.mirrored!==void 0?l.mirrored?"scale(-1, 1)":void 0:b?"scale(-1, 1)":void 0);return(u,X)=>(d(),A("svg",ge({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:w.value,height:w.value,fill:O.value,transform:D.value},u.$attrs),[he(u.$slots,"default"),g.value==="bold"?(d(),A("g",B1,E1)):g.value==="duotone"?(d(),A("g",U1,W1)):g.value==="fill"?(d(),A("g",q1,K1)):g.value==="light"?(d(),A("g",Q1,X1)):g.value==="regular"?(d(),A("g",e0,t0)):g.value==="thin"?(d(),A("g",l0,r0)):U("",!0)],16,I1))}}),o0=["width","height","fill","transform"],c0={key:0},u0=_("path",{d:"M48,180c0,8.67,5.49,16,12,16a10.27,10.27,0,0,0,7.33-3.43,12,12,0,1,1,17.34,16.6A34,34,0,0,1,60,220C40.15,220,24,202,24,180s16.15-40,36-40a34,34,0,0,1,24.67,10.83,12,12,0,1,1-17.34,16.6A10.27,10.27,0,0,0,60,164C53.49,164,48,171.31,48,180Zm97.51-5.71c-5.13-3.45-11.33-5.24-16.8-6.82a79.5,79.5,0,0,1-7.91-2.59c2.45-1.18,9.71-1.3,16.07.33A12,12,0,0,0,143,142a69.24,69.24,0,0,0-12-1.86c-9.93-.66-18,1.08-24.1,5.17a24.45,24.45,0,0,0-10.69,17.76c-1.1,8.74,2.48,16.27,10.11,21.19,4.78,3.09,10.36,4.7,15.75,6.26,3,.89,7.94,2.3,9.88,3.53a2,2,0,0,1-.22.71c-1.36,1.55-9.57,1.79-16.39-.06a12,12,0,0,0-6.45,23.11A63.73,63.73,0,0,0,125.09,220c6.47,0,13.74-1.17,19.74-5.15a24.73,24.73,0,0,0,10.95-18C157,187.53,153.32,179.53,145.51,174.27ZM216,140.68A12,12,0,0,0,200.7,148L192,172.3,183.3,148A12,12,0,1,0,160.7,156l20,56a12,12,0,0,0,22.6,0l20-56A12,12,0,0,0,216,140.68ZM36,108V40A20,20,0,0,1,56,20h96a12,12,0,0,1,8.49,3.51l56,56A12,12,0,0,1,220,88v20a12,12,0,1,1-24,0v-4H148a12,12,0,0,1-12-12V44H60v64a12,12,0,1,1-24,0ZM160,80h23L160,57Z"},null,-1),d0=[u0],f0={key:1},p0=_("path",{d:"M208,88H152V32Z",opacity:"0.2"},null,-1),v0=_("path",{d:"M48,180c0,11,7.18,20,16,20a14.24,14.24,0,0,0,10.22-4.66A8,8,0,0,1,85.78,206.4,30.06,30.06,0,0,1,64,216c-17.65,0-32-16.15-32-36s14.35-36,32-36a30.06,30.06,0,0,1,21.78,9.6,8,8,0,0,1-11.56,11.06A14.24,14.24,0,0,0,64,160C55.18,160,48,169,48,180Zm79.6-8.69c-4-1.16-8.14-2.35-10.45-3.84-1.25-.81-1.23-1-1.12-1.9a4.57,4.57,0,0,1,2-3.67c4.6-3.12,15.34-1.73,19.83-.56A8,8,0,0,0,142,145.86c-2.12-.55-21-5.22-32.84,2.76a20.58,20.58,0,0,0-9,14.95c-2,15.88,13.65,20.41,23,23.11,12.06,3.49,13.12,4.92,12.78,7.59-.31,2.41-1.26,3.34-2.14,3.93-4.6,3.06-15.17,1.56-19.55.36A8,8,0,0,0,109.94,214a61.34,61.34,0,0,0,15.19,2c5.82,0,12.3-1,17.49-4.46a20.82,20.82,0,0,0,9.19-15.23C154,179,137.49,174.17,127.6,171.31Zm83.09-26.84a8,8,0,0,0-10.23,4.84L188,184.21l-12.47-34.9a8,8,0,0,0-15.07,5.38l20,56a8,8,0,0,0,15.07,0l20-56A8,8,0,0,0,210.69,144.47ZM216,88v24a8,8,0,0,1-16,0V96H152a8,8,0,0,1-8-8V40H56v72a8,8,0,0,1-16,0V40A16,16,0,0,1,56,24h96a8,8,0,0,1,5.66,2.34l56,56A8,8,0,0,1,216,88Zm-27.31-8L160,51.31V80Z"},null,-1),h0=[p0,v0],g0={key:2},m0=_("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40v76a4,4,0,0,0,4,4H212a4,4,0,0,0,4-4V88A8,8,0,0,0,213.66,82.34ZM152,88V44l44,44ZM48,180c0,11,7.18,20,16,20a14.18,14.18,0,0,0,10.06-4.5,8.21,8.21,0,0,1,10.9-.91,8,8,0,0,1,.82,11.81A30.06,30.06,0,0,1,64,216c-17.64,0-32-16.15-32-36s14.36-36,32-36a30,30,0,0,1,21.39,9.19,8.26,8.26,0,0,1,.73,11.09,8,8,0,0,1-11.9.38A14.17,14.17,0,0,0,64,160C55.18,160,48,169,48,180Zm103.81,16.31a20.82,20.82,0,0,1-9.19,15.23C137.43,215,131,216,125.13,216A61.14,61.14,0,0,1,110,214a8,8,0,1,1,4.3-15.41c4.38,1.2,14.95,2.7,19.55-.36.88-.59,1.83-1.52,2.14-3.93.35-2.67-.71-4.1-12.78-7.59-9.35-2.7-25-7.23-23-23.11a20.56,20.56,0,0,1,9-14.95c11.84-8,30.71-3.31,32.83-2.76a8,8,0,0,1-4.07,15.48c-4.49-1.17-15.23-2.56-19.83.56a4.54,4.54,0,0,0-2,3.67c-.12.9-.14,1.09,1.11,1.9,2.31,1.49,6.45,2.68,10.45,3.84C137.49,174.17,154.05,179,151.81,196.31ZM215.42,155l-19.89,55.68a8,8,0,0,1-15.06,0L160.58,155a8.21,8.21,0,0,1,4.5-10.45,8,8,0,0,1,10.45,4.76L188,184.21l12.47-34.9a8,8,0,0,1,10.45-4.76A8.23,8.23,0,0,1,215.42,155Z"},null,-1),y0=[m0],_0={key:3},A0=_("path",{d:"M46,180c0,12.13,8.07,22,18,22a16.24,16.24,0,0,0,11.67-5.28,6,6,0,0,1,8.66,8.3A28.06,28.06,0,0,1,64,214c-16.54,0-30-15.25-30-34s13.46-34,30-34a28.06,28.06,0,0,1,20.33,9,6,6,0,0,1-8.66,8.3A16.23,16.23,0,0,0,64,158C54.07,158,46,167.86,46,180Zm81.05-6.77c-10.86-3.13-13.41-4.69-13-7.91a6.59,6.59,0,0,1,2.88-5.08c5.6-3.79,17.66-1.82,21.45-.84a6,6,0,0,0,3.06-11.6c-2-.53-20.1-5-31.21,2.48a18.61,18.61,0,0,0-8.08,13.54c-1.8,14.19,12.26,18.25,21.57,20.94,12.12,3.5,14.78,5.33,14.2,9.76a6.85,6.85,0,0,1-3,5.34c-5.61,3.73-17.48,1.64-21.19.62A6,6,0,0,0,110.48,212a59.41,59.41,0,0,0,14.68,2c5.49,0,11.54-.95,16.36-4.14a18.89,18.89,0,0,0,8.31-13.81C151.84,180.39,136.92,176.08,127.05,173.22Zm83-26.88a6,6,0,0,0-7.67,3.63L188,190.15,173.65,150a6,6,0,1,0-11.3,4l20,56a6,6,0,0,0,11.3,0l20-56A6,6,0,0,0,210,146.34ZM214,88v24a6,6,0,1,1-12,0V94H152a6,6,0,0,1-6-6V38H56a2,2,0,0,0-2,2v72a6,6,0,1,1-12,0V40A14,14,0,0,1,56,26h96a6,6,0,0,1,4.24,1.76l56,56A6,6,0,0,1,214,88Zm-20.49-6L158,46.48V82Z"},null,-1),H0=[A0],w0={key:4},V0=_("path",{d:"M48,180c0,11,7.18,20,16,20a14.24,14.24,0,0,0,10.22-4.66A8,8,0,0,1,85.78,206.4,30.06,30.06,0,0,1,64,216c-17.65,0-32-16.15-32-36s14.35-36,32-36a30.06,30.06,0,0,1,21.78,9.6,8,8,0,0,1-11.56,11.06A14.24,14.24,0,0,0,64,160C55.18,160,48,169,48,180Zm79.6-8.69c-4-1.16-8.14-2.35-10.45-3.84-1.25-.81-1.23-1-1.12-1.9a4.57,4.57,0,0,1,2-3.67c4.6-3.12,15.34-1.73,19.82-.56A8,8,0,0,0,142,145.86c-2.12-.55-21-5.22-32.84,2.76a20.58,20.58,0,0,0-9,14.95c-2,15.88,13.65,20.41,23,23.11,12.06,3.49,13.12,4.92,12.78,7.59-.31,2.41-1.26,3.34-2.14,3.93-4.6,3.06-15.17,1.56-19.55.36A8,8,0,0,0,109.94,214a61.34,61.34,0,0,0,15.19,2c5.82,0,12.3-1,17.49-4.46a20.82,20.82,0,0,0,9.19-15.23C154,179,137.49,174.17,127.6,171.31Zm83.09-26.84a8,8,0,0,0-10.23,4.84L188,184.21l-12.47-34.9a8,8,0,0,0-15.07,5.38l20,56a8,8,0,0,0,15.07,0l20-56A8,8,0,0,0,210.69,144.47ZM216,88v24a8,8,0,0,1-16,0V96H152a8,8,0,0,1-8-8V40H56v72a8,8,0,0,1-16,0V40A16,16,0,0,1,56,24h96a8,8,0,0,1,5.66,2.34l56,56A8,8,0,0,1,216,88Zm-27.31-8L160,51.31V80Z"},null,-1),b0=[V0],Z0={key:5},x0=_("path",{d:"M44,180c0,13.23,9,24,20,24a18.15,18.15,0,0,0,13.11-5.9,4,4,0,1,1,5.78,5.54A26.11,26.11,0,0,1,64,212c-15.44,0-28-14.36-28-32s12.56-32,28-32a26.11,26.11,0,0,1,18.89,8.36,4,4,0,1,1-5.78,5.54A18.15,18.15,0,0,0,64,156C53,156,44,166.77,44,180Zm82.49-4.85c-10.53-3-15.08-4.91-14.42-10.08a8.51,8.51,0,0,1,3.75-6.49c6.25-4.23,18.77-2.24,23.06-1.11a4,4,0,0,0,2-7.74,61.11,61.11,0,0,0-10.47-1.61c-8.12-.54-14.54.75-19.1,3.82a16.66,16.66,0,0,0-7.22,12.13c-1.58,12.49,10.46,16,20.14,18.77,11.26,3.25,16.47,5.49,15.64,11.94a8.94,8.94,0,0,1-3.91,6.75c-6.27,4.17-18.61,2.05-22.83.88a4,4,0,1,0-2.15,7.7A57.89,57.89,0,0,0,125.19,212c5.18,0,10.83-.86,15.22-3.77a17,17,0,0,0,7.43-12.41C149.64,181.84,136.26,178,126.49,175.15Zm82.85-26.92a4,4,0,0,0-5.11,2.42L188,196.11l-16.23-45.46a4,4,0,1,0-7.54,2.7l20,56a4,4,0,0,0,7.54,0l20-56A4,4,0,0,0,209.34,148.23ZM212,88v24a4,4,0,0,1-8,0V92H152a4,4,0,0,1-4-4V36H56a4,4,0,0,0-4,4v72a4,4,0,0,1-8,0V40A12,12,0,0,1,56,28h96a4,4,0,0,1,2.83,1.17l56,56A4,4,0,0,1,212,88Zm-13.66-4L156,41.65V84Z"},null,-1),$0=[x0],M0={name:"PhFileCsv"},C0=Y({...M0,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(c){const l=c,n=F("weight","regular"),v=F("size","1em"),i=F("color","currentColor"),b=F("mirrored",!1),g=C(()=>{var u;return(u=l.weight)!=null?u:n}),w=C(()=>{var u;return(u=l.size)!=null?u:v}),O=C(()=>{var u;return(u=l.color)!=null?u:i}),D=C(()=>l.mirrored!==void 0?l.mirrored?"scale(-1, 1)":void 0:b?"scale(-1, 1)":void 0);return(u,X)=>(d(),A("svg",ge({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:w.value,height:w.value,fill:O.value,transform:D.value},u.$attrs),[he(u.$slots,"default"),g.value==="bold"?(d(),A("g",c0,d0)):g.value==="duotone"?(d(),A("g",f0,h0)):g.value==="fill"?(d(),A("g",g0,y0)):g.value==="light"?(d(),A("g",_0,H0)):g.value==="regular"?(d(),A("g",w0,b0)):g.value==="thin"?(d(),A("g",Z0,$0)):U("",!0)],16,o0))}}),j0=["width","height","fill","transform"],z0={key:0},L0=_("path",{d:"M200,20H72A20,20,0,0,0,52,40V56H36A20,20,0,0,0,16,76V180a20,20,0,0,0,20,20H52v16a20,20,0,0,0,20,20H200a20,20,0,0,0,20-20V40A20,20,0,0,0,200,20Zm-32,88h28v40H168Zm28-24H168V76a20,20,0,0,0-20-20V44h48ZM76,44h48V56H76ZM40,80H144v96H40ZM76,200h48v12H76Zm72,12V200a20,20,0,0,0,20-20v-8h28v40ZM64.32,161.22a12,12,0,0,1-1.54-16.9L76.38,128l-13.6-16.32A12,12,0,1,1,81.22,96.32L92,109.25l10.78-12.93a12,12,0,0,1,18.44,15.36L107.62,128l13.6,16.32a12,12,0,1,1-18.44,15.36L92,146.75,81.22,159.68a12,12,0,0,1-16.9,1.54Z"},null,-1),P0=[L0],k0={key:1},F0=_("path",{d:"M152,80v96a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V80a8,8,0,0,1,8-8H144A8,8,0,0,1,152,80Z",opacity:"0.2"},null,-1),O0=_("path",{d:"M200,24H72A16,16,0,0,0,56,40V64H40A16,16,0,0,0,24,80v96a16,16,0,0,0,16,16H56v24a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24Zm-40,80h40v48H160Zm40-16H160V80a16,16,0,0,0-16-16V40h56ZM72,40h56V64H72ZM40,80H144v79.83c0,.06,0,.11,0,.17s0,.11,0,.17V176H40ZM72,192h56v24H72Zm72,24V192a16,16,0,0,0,16-16v-8h40v48ZM65.85,146.88,81.59,128,65.85,109.12a8,8,0,0,1,12.3-10.24L92,115.5l13.85-16.62a8,8,0,1,1,12.3,10.24L102.41,128l15.74,18.88a8,8,0,0,1-12.3,10.24L92,140.5,78.15,157.12a8,8,0,0,1-12.3-10.24Z"},null,-1),D0=[F0,O0],S0={key:2},T0=_("path",{d:"M200,24H72A16,16,0,0,0,56,40V64H40A16,16,0,0,0,24,80v96a16,16,0,0,0,16,16H56v24a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24ZM72,160a8,8,0,0,1-6.15-13.12L81.59,128,65.85,109.12a8,8,0,0,1,12.3-10.24L92,115.5l13.85-16.62a8,8,0,1,1,12.3,10.24L102.41,128l15.74,18.88a8,8,0,0,1-12.3,10.24L92,140.5,78.15,157.12A8,8,0,0,1,72,160Zm56,56H72V192h56Zm0-152H72V40h56Zm72,152H144V192a16,16,0,0,0,16-16v-8h40Zm0-64H160V104h40Zm0-64H160V80a16,16,0,0,0-16-16V40h56Z"},null,-1),I0=[T0],B0={key:3},N0=_("path",{d:"M200,26H72A14,14,0,0,0,58,40V66H40A14,14,0,0,0,26,80v96a14,14,0,0,0,14,14H58v26a14,14,0,0,0,14,14H200a14,14,0,0,0,14-14V40A14,14,0,0,0,200,26Zm-42,76h44v52H158Zm44-62V90H158V80a14,14,0,0,0-14-14h-2V38h58A2,2,0,0,1,202,40ZM70,40a2,2,0,0,1,2-2h58V66H70ZM38,176V80a2,2,0,0,1,2-2H144a2,2,0,0,1,2,2v96a2,2,0,0,1-2,2H40A2,2,0,0,1,38,176Zm32,40V190h60v28H72A2,2,0,0,1,70,216Zm130,2H142V190h2a14,14,0,0,0,14-14V166h44v50A2,2,0,0,1,200,218ZM67.39,148.16,84.19,128l-16.8-20.16a6,6,0,1,1,9.22-7.68L92,118.63l15.39-18.47a6,6,0,0,1,9.22,7.68L99.81,128l16.8,20.16a6,6,0,1,1-9.22,7.68L92,137.37,76.61,155.84a6,6,0,0,1-9.22-7.68Z"},null,-1),E0=[N0],U0={key:4},G0=_("path",{d:"M200,24H72A16,16,0,0,0,56,40V64H40A16,16,0,0,0,24,80v96a16,16,0,0,0,16,16H56v24a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24Zm-40,80h40v48H160Zm40-16H160V80a16,16,0,0,0-16-16V40h56ZM72,40h56V64H72ZM40,80H144v79.83c0,.06,0,.11,0,.17s0,.11,0,.17V176H40ZM72,192h56v24H72Zm72,24V192a16,16,0,0,0,16-16v-8h40v48ZM65.85,146.88,81.59,128,65.85,109.12a8,8,0,0,1,12.3-10.24L92,115.5l13.85-16.62a8,8,0,1,1,12.3,10.24L102.41,128l15.74,18.88a8,8,0,0,1-12.3,10.24L92,140.5,78.15,157.12a8,8,0,0,1-12.3-10.24Z"},null,-1),R0=[G0],W0={key:5},q0=_("path",{d:"M200,28H72A12,12,0,0,0,60,40V68H40A12,12,0,0,0,28,80v96a12,12,0,0,0,12,12H60v28a12,12,0,0,0,12,12H200a12,12,0,0,0,12-12V40A12,12,0,0,0,200,28Zm-44,72h48v56H156Zm48-60V92H156V80a12,12,0,0,0-12-12h-4V36h60A4,4,0,0,1,204,40ZM68,40a4,4,0,0,1,4-4h60V68H68ZM36,176V80a4,4,0,0,1,4-4H144a4,4,0,0,1,4,4v96a4,4,0,0,1-4,4H40A4,4,0,0,1,36,176Zm32,40V188h64v32H72A4,4,0,0,1,68,216Zm132,4H140V188h4a12,12,0,0,0,12-12V164h48v52A4,4,0,0,1,200,220ZM68.93,149.44,86.79,128,68.93,106.56a4,4,0,0,1,6.14-5.12L92,121.75l16.93-20.31a4,4,0,1,1,6.14,5.12L97.21,128l17.86,21.44a4,4,0,1,1-6.14,5.12L92,134.25,75.07,154.56A4,4,0,0,1,72,156a3.94,3.94,0,0,1-2.56-.93A4,4,0,0,1,68.93,149.44Z"},null,-1),J0=[q0],K0={name:"PhMicrosoftExcelLogo"},Q0=Y({...K0,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(c){const l=c,n=F("weight","regular"),v=F("size","1em"),i=F("color","currentColor"),b=F("mirrored",!1),g=C(()=>{var u;return(u=l.weight)!=null?u:n}),w=C(()=>{var u;return(u=l.size)!=null?u:v}),O=C(()=>{var u;return(u=l.color)!=null?u:i}),D=C(()=>l.mirrored!==void 0?l.mirrored?"scale(-1, 1)":void 0:b?"scale(-1, 1)":void 0);return(u,X)=>(d(),A("svg",ge({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:w.value,height:w.value,fill:O.value,transform:D.value},u.$attrs),[he(u.$slots,"default"),g.value==="bold"?(d(),A("g",z0,P0)):g.value==="duotone"?(d(),A("g",k0,D0)):g.value==="fill"?(d(),A("g",S0,I0)):g.value==="light"?(d(),A("g",B0,E0)):g.value==="regular"?(d(),A("g",U0,R0)):g.value==="thin"?(d(),A("g",W0,J0)):U("",!0)],16,j0))}});function De(c){for(var l=1;l<arguments.length;l++){var n=arguments[l]!=null?Object(arguments[l]):{},v=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),v.forEach(function(i){Y0(c,i,n[i])})}return c}function Y0(c,l,n){return l in c?Object.defineProperty(c,l,{value:n,enumerable:!0,configurable:!0,writable:!0}):c[l]=n,c}var ye=function(l,n){var v=De({},l,n.attrs);return y(me,De({},v,{icon:i1}),null)};ye.displayName="DeleteOutlined";ye.inheritAttrs=!1;const X0=ye;function Se(c){for(var l=1;l<arguments.length;l++){var n=arguments[l]!=null?Object(arguments[l]):{},v=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),v.forEach(function(i){ea(c,i,n[i])})}return c}function ea(c,l,n){return l in c?Object.defineProperty(c,l,{value:n,enumerable:!0,configurable:!0,writable:!0}):c[l]=n,c}var _e=function(l,n){var v=Se({},l,n.attrs);return y(me,Se({},v,{icon:D1}),null)};_e.displayName="FolderAddOutlined";_e.inheritAttrs=!1;const aa=_e;function Te(c){for(var l=1;l<arguments.length;l++){var n=arguments[l]!=null?Object(arguments[l]):{},v=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),v.forEach(function(i){ta(c,i,n[i])})}return c}function ta(c,l,n){return l in c?Object.defineProperty(c,l,{value:n,enumerable:!0,configurable:!0,writable:!0}):c[l]=n,c}var Ae=function(l,n){var v=Te({},l,n.attrs);return y(me,Te({},v,{icon:T1}),null)};Ae.displayName="HomeOutlined";Ae.inheritAttrs=!1;const la=Ae;class Q{static getExtension(l){var n;return((n=l.split(".").pop())==null?void 0:n.toLowerCase())||""}static getFileIcon(l){switch(this.getExtension(l)){case"xlsx":case"xls":return Q0;case"csv":return C0;case"pdf":return p1;case"txt":case"md":case"json":case"xml":case"html":case"css":case"js":case"ts":case"py":case"vue":case"jsx":case"tsx":return f1;case"jpg":case"jpeg":case"png":case"gif":case"webp":case"svg":return d1;case"mp4":case"webm":case"ogg":case"avi":case"mov":return u1;case"mp3":case"wav":case"flac":return i0;case"zip":case"rar":case"7z":case"tar":case"gz":return c1;default:return o1}}static getFileIconClass(l){switch(this.getExtension(l)){case"xlsx":case"xls":return"excel-file";case"csv":return"csv-file";case"pdf":return"pdf-file";case"jpg":case"jpeg":case"png":case"gif":case"webp":case"svg":return"image-file";case"mp4":case"webm":case"ogg":case"avi":case"mov":return"video-file";case"mp3":case"wav":case"flac":return"audio-file";case"txt":case"md":case"json":case"xml":case"html":case"css":case"js":case"ts":case"py":case"vue":case"jsx":case"tsx":return"code-file";case"zip":case"rar":case"7z":case"tar":case"gz":return"archive-file";default:return"generic-file"}}static getMimeType(l){const n=this.getExtension(l);return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",webp:"image/webp",svg:"image/svg+xml",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",avi:"video/x-msvideo",mov:"video/quicktime",mp3:"audio/mpeg",wav:"audio/wav",flac:"audio/flac",pdf:"application/pdf",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xls:"application/vnd.ms-excel",csv:"text/csv",txt:"text/plain",md:"text/markdown",json:"application/json",xml:"application/xml",html:"text/html",css:"text/css",js:"application/javascript",ts:"application/typescript",py:"text/x-python-script",vue:"text/plain",jsx:"application/javascript",tsx:"application/typescript",zip:"application/zip",rar:"application/vnd.rar","7z":"application/x-7z-compressed",tar:"application/x-tar",gz:"application/gzip"}[n]||"application/octet-stream"}static isExcelFile(l){const n=this.getExtension(l);return n==="xlsx"||n==="xls"}}const na={class:"files-navigator"},ra={class:"header-container",style:{"margin-bottom":"8px"}},sa=["onClick"],ia={class:"list-header"},oa=["onClick"],ca={key:3,class:"file-size"},ua=Y({__name:"FilesNavigator",props:{filesModel:{}},setup(c){const l=c,n=N(!1),v=N(""),i=N(new Set),b=N(!1),g=N(null),w=N("idle"),O=N(null),D=N(!1),u=new v1,X=t=>{if(!I.searchTerm.trim())return ie("span",t);const e=Fe(I.searchTerm,t);return e?ie("span",t.split("").map((a,r)=>e.includes(r)?ie("span",{class:"char-match"},a):a)):ie("span",t)},L=pe({currentIndex:1,pageSize:20,totalCount:0}),M=pe({currentPath:"",breadcrumbs:[]}),I=pe({searchTerm:""}),{loading:ce,result:J,refetch:S}=$1(async()=>{const t=await l.filesModel.list(L.pageSize,(L.currentIndex-1)*L.pageSize,I.searchTerm||void 0,M.currentPath||void 0);return L.totalCount=t.totalCount,t});let ee=null;ve(()=>I.searchTerm,()=>{ee&&clearTimeout(ee),ee=setTimeout(()=>{L.currentIndex=1,S(),ee=null},300)}),ve([()=>L.currentIndex,()=>L.pageSize],()=>{i.value.clear(),b.value=!1,g.value=null,S()}),ve(()=>M.currentPath,()=>{S()});const He=C(()=>J.value?J.value.items:[]);async function we(t,e){const a=t.join("/");await l.filesModel.upload(a,e),await S()}async function Ve(t){const e=[];let a=0;const r=100;let o=!0;for(;o;){const h=await l.filesModel.list(r,a,void 0,t);for(const m of h.items)if(m.type==="file")e.push(m.path);else if(m.type==="directory"){const Z=await Ve(m.path);e.push(...Z)}a+=r,o=a<h.totalCount}return e}async function Be(t){if(w.value!=="idle"){$(p.translate("i18n_filesnavigator_operation_in_progress"),p.translate("i18n_filesnavigator_wait_for_operation"));return}w.value="downloading";const e=6;let a=0,r=0;const o=[];try{const h=[];for(const m of t){const Z=z.value.find(H=>H.path===m);if((Z==null?void 0:Z.type)==="directory"){const H=await Ve(m);h.push(...H)}else(Z==null?void 0:Z.type)==="file"&&h.push(m)}if(h.length===0){$("No files to download","The selected folders are empty or contain no files"),w.value="idle";return}for(let m=0;m<h.length;m+=e){const Z=h.slice(m,m+e);await Promise.all(Z.map(async H=>{try{const f=await l.filesModel.download(H),x=URL.createObjectURL(f),j=document.createElement("a");j.href=x,j.download=H.split("/").pop()||"download",document.body.appendChild(j),j.click(),document.body.removeChild(j),setTimeout(()=>URL.revokeObjectURL(x),1e3),a++}catch(f){console.error(`Failed to download ${H}:`,f),r++,o.push(H.split("/").pop()||H)}}))}r===0?(i.value.clear(),b.value=!1,g.value=null):a===0?$(p.translate("i18n_filesnavigator_failed_to_download_files",null,{count:r}),o.length<=3?o.join(", "):`${o.slice(0,3).join(", ")} and ${o.length-3} more`):($(p.translate("i18n_filesnavigator_downloaded_with_failures",null,{success:a,failure:r}),o.length<=3?o.join(", "):`${o.slice(0,3).join(", ")} and ${o.length-3} more`),i.value.clear(),b.value=!1,g.value=null)}finally{w.value="idle"}}function ue(t){M.currentPath=t,M.breadcrumbs=t?t.split("/").filter(e=>e.length>0):[],L.currentIndex=1,S()}async function Ne(t){if(w.value!=="idle"){$(p.translate("i18n_filesnavigator_operation_in_progress"),p.translate("i18n_filesnavigator_wait_for_operation"));return}w.value="deleting";let e=0,a=0;const r=[];try{for(const o of t)try{await l.filesModel.delete(o.path),e++}catch(h){console.error(`Failed to delete ${o.path}:`,h),a++,r.push(o.name)}a===0?(i.value.clear(),b.value=!1,g.value=null):e===0?$(p.translate("i18n_filesnavigator_failed_to_delete_files",null,{count:a}),r.length<=3?r.join(", "):`${r.slice(0,3).join(", ")} and ${r.length-3} more`):($(p.translate("i18n_filesnavigator_deleted_with_failures",null,{success:e,failure:a}),r.length<=3?r.join(", "):`${r.slice(0,3).join(", ")} and ${r.length-3} more`),i.value.clear(),b.value=!1,g.value=null),await S()}finally{w.value="idle"}}const Ee=t=>t.type==="directory"?"":t.type==="file"?t.sizeHuman:"",z=C(()=>{if(!He.value)return[];let t=He.value;return I.searchTerm.trim()&&(t=t.filter(e=>Fe(I.searchTerm,e.name))),M.currentPath&&!I.searchTerm.trim()?[{path:M.currentPath.split("/").slice(0,-1).join("/"),name:"..",type:"directory",sizeBytes:0,sizeHuman:"",isParentFolder:!0},...t]:t}),Ue=C(()=>z.value?z.value.filter(t=>t.name!==".."&&i.value.has(t.path)):[]);async function Ge(t,e){const a=e==null?void 0:e.shiftKey,r=(e==null?void 0:e.ctrlKey)||(e==null?void 0:e.metaKey);if((a||r)&&t.name!==".."){e==null||e.preventDefault(),e==null||e.stopPropagation(),be(t,e);return}t.type==="directory"?(i.value.clear(),b.value=!1,g.value=null,ue(t.path)):await Re(t)}async function Re(t){try{const e=await l.filesModel.download(t.path),a=Q.getMimeType(t.name),r=new Blob([e],{type:a}),o=URL.createObjectURL(r),h={uid:t.path,name:t.name,status:"done",response:[o],url:o,type:a,size:t.sizeBytes||0};u.open(h)}catch(e){console.error("Failed to preview file:",e),$(p.translate("i18n_filesnavigator_failed_to_preview"),String(e))}}const ae=N(!1);function We(t){if(t&&t.type==="file")return;const e=document.createElement("input");e.type="file",e.multiple=!0,e.onchange=async()=>{var r,o;const a=e.files;if(!(!a||a.length===0))try{ae.value=!0;const h=(r=t==null?void 0:t.path.split("/").filter(f=>f.length>0))!=null?r:M.currentPath?M.currentPath.split("/").filter(f=>f.length>0):[];let m=0,Z=0;const H=[];for(let f=0;f<a.length;f++){const x=a[f];try{const j=await x.arrayBuffer();await we([...h,(o=x.name)!=null?o:p.translate("i18n_filesnavigator_untitled_file")],j?new Uint8Array(j):void 0),m++}catch(j){console.error(`Failed to upload ${x.name}:`,j),Z++,H.push(x.name)}}await S(),Z>0&&(m===0?$(p.translate("i18n_filesnavigator_failed_to_upload"),H.length<=3?H.join(", "):`${H.slice(0,3).join(", ")} and ${H.length-3} more`):$(p.translate("i18n_filesnavigator_uploaded_with_failures",null,{success:m,failure:Z}),H.length<=3?H.join(", "):`${H.slice(0,3).join(", ")} and ${H.length-3} more`))}catch(h){$(p.translate("i18n_filesnavigator_failed_to_upload"),String(h))}finally{ae.value=!1}},e.click()}const qe=C(()=>{const t=M.currentPath?`/${M.currentPath}`:"/";return p.translate("i18n_filesnavigator_search_files_in",null,{path:t})});function Je(t,e){var h;const a=Math.min(t,e),r=Math.max(t,e),o=((h=z.value)==null?void 0:h.filter(m=>m.name!==".."))||[];for(let m=a;m<=r&&m<o.length;m++)i.value.add(o[m].path);de()}function be(t,e,a=!1){var H;const o=(((H=z.value)==null?void 0:H.filter(f=>f.name!==".."))||[]).findIndex(f=>f.path===t.path),h=e,m=h==null?void 0:h.shiftKey,Z=(h==null?void 0:h.ctrlKey)||(h==null?void 0:h.metaKey);if(m&&g.value!==null&&o!==-1)Je(g.value,o);else if(Z||a){const f=t.path;i.value.has(f)?i.value.delete(f):i.value.add(f),de()}else{const f=t.path;i.value.has(f)?i.value.delete(f):i.value.add(f),de()}o!==-1&&(g.value=o)}function Ke(){var t;b.value?(i.value.clear(),g.value=null):(t=z.value)==null||t.forEach(e=>{e.name!==".."&&i.value.add(e.path)}),b.value=!b.value}function de(){var r;const e=(((r=z.value)==null?void 0:r.filter(o=>o.name!==".."))||[]).length,a=i.value.size;b.value=e>0&&a===e}function Qe(){v.value="",n.value=!0}async function Ze(){if(v.value.trim()){const t=M.currentPath,e=v.value,a=t?`${t}/${e}`:e;await l.filesModel.createFolder(a),await S(),n.value=!1,v.value=""}}function Ye(t){t.preventDefault(),D.value=!0}function Xe(t){const e=t.target,a=t.relatedTarget;(!a||!e.contains(a))&&(D.value=!1)}function e1(t,e){if(e.dataTransfer){const a=i.value.has(t.path)?Array.from(i.value):[t.path],r=a.map(o=>z.value.find(m=>m.path===o)||t);e.dataTransfer.setData("text/plain",a.join("|")),e.dataTransfer.setData("application/json",JSON.stringify(r)),e.dataTransfer.setData("text/uri-list",a.join(`
`)),e.dataTransfer.setData("application/x-abstra-file",JSON.stringify(r.map(o=>({path:o.path,name:o.name,size:o.sizeBytes,type:o.type==="directory"?"directory":Q.getMimeType(o.name)})))),e.dataTransfer.effectAllowed="move"}}function a1(t,e){e.preventDefault(),e.stopPropagation(),t.type==="directory"&&(O.value=t.path,D.value=!1)}function t1(t){O.value===t.path&&(O.value=null)}async function xe(t,e){var h,m,Z,H;e.preventDefault(),e.stopPropagation(),O.value=null,D.value=!1;const a=(h=e.dataTransfer)==null?void 0:h.files;if(a&&a.length>0){try{ae.value=!0;const f=t?t.path.split("/").filter(T=>T.length>0):M.currentPath?M.currentPath.split("/").filter(T=>T.length>0):[];let x=0,j=0;const P=[];for(let T=0;T<a.length;T++){const G=a[T];try{const R=await G.arrayBuffer();await we([...f,(m=G.name)!=null?m:p.translate("i18n_filesnavigator_untitled_file")],R?new Uint8Array(R):void 0),x++}catch(R){console.error(`Failed to upload ${G.name}:`,R),j++,P.push(G.name)}}await S(),j>0&&(x===0?$(p.translate("i18n_filesnavigator_failed_to_upload"),P.length<=3?P.join(", "):`${P.slice(0,3).join(", ")} and ${P.length-3} more`):$(p.translate("i18n_filesnavigator_uploaded_with_failures",null,{success:x,failure:j}),P.length<=3?P.join(", "):`${P.slice(0,3).join(", ")} and ${P.length-3} more`))}catch(f){$(p.translate("i18n_filesnavigator_failed_to_upload"),String(f))}finally{ae.value=!1}return}const r=(Z=e.dataTransfer)==null?void 0:Z.getData("text/plain"),o=(H=e.dataTransfer)==null?void 0:H.getData("application/json");if(r&&o){try{let f;try{f=JSON.parse(o)}catch(B){console.error("Failed to parse dragged file data:",B),$(p.translate("i18n_filesnavigator_invalid_file_data"),p.translate("i18n_filesnavigator_unable_to_process"));return}const x=t?t.path:M.currentPath||"",P=(Array.isArray(f)?f:[f]).filter(B=>{const K=B.path;return!((K.substring(0,K.lastIndexOf("/"))||"")===x||B.type==="directory"&&(K===x||x.startsWith(K+"/")))});if(P.length===0)return;w.value="moving";let T=0,G=0;const R=[],$e=10;for(let B=0;B<P.length;B+=$e){const Ce=P.slice(B,B+$e).map(async q=>{try{const le=q.path,je=q.name,r1=x?`${x}/${je}`:je;return await l.filesModel.move(le,r1),T++,{success:!0,fileName:q.name}}catch(le){return console.error(`Failed to move file ${q.name}:`,le),G++,R.push(q.name),{success:!1,fileName:q.name,error:le}}});await Promise.all(Ce)}const Me=T,fe=G,te=[...R];if(i.value.clear(),b.value=!1,g.value=null,await S(),fe===0)return;const l1=Me===0?p.translate("i18n_filesnavigator_failed_to_move_files",null,{count:fe}):p.translate("i18n_filesnavigator_moved_with_failures",null,{success:Me,failure:fe}),n1=te.length<=3?te.join(", "):`${te.slice(0,3).join(", ")} and ${te.length-3} more`;$(l1,n1)}catch(f){console.error("Failed to move files:",f),$(p.translate("i18n_filesnavigator_failed_to_move"),String(f)),await S()}finally{w.value="idle"}return}}return(t,e)=>(d(),A("div",na,[_("div",ra,[y(s(ne),{justify:"space-between",align:"center",gap:"small"},{default:V(()=>[y(s(L1),null,{default:V(()=>[y(s(Oe),null,{default:V(()=>[_("a",{onClick:e[0]||(e[0]=a=>ue(""))},[y(s(la))])]),_:1}),(d(!0),A(ze,null,h1(M.breadcrumbs,(a,r)=>(d(),k(s(Oe),{key:r},{default:V(()=>[_("a",{onClick:o=>ue(M.breadcrumbs.slice(0,r+1).join("/"))},E(a),9,sa)]),_:2},1024))),128))]),_:1}),y(s(ne),{gap:"small"},{default:V(()=>[s(ce)?U("",!0):(d(),k(s(Le),{key:0},{default:V(()=>[y(oe,{size:"small",onClick:e[1]||(e[1]=()=>We())},{default:V(()=>[y(s(P1)),W(" "+E(s(p).translate("i18n_filesnavigator_upload_file")),1)]),_:1}),y(oe,{size:"small",onClick:e[2]||(e[2]=()=>Qe())},{default:V(()=>[y(s(aa)),W(" "+E(s(p).translate("i18n_filesnavigator_new_folder")),1)]),_:1})]),_:1})),i.value.size>0?(d(),k(s(Le),{key:1},{default:V(()=>[y(oe,{size:"small",disabled:w.value!=="idle",loading:w.value==="downloading",onClick:e[3]||(e[3]=()=>Be(Array.from(i.value)))},{default:V(()=>[y(s(C1),{size:"18"}),W(" "+E(s(p).translate("i18n_filesnavigator_download",null,{count:i.value.size})),1)]),_:1},8,["disabled","loading"]),y(oe,{size:"small",danger:"",disabled:w.value!=="idle",loading:w.value==="deleting",onClick:e[4]||(e[4]=()=>Ne(Ue.value))},{default:V(()=>[y(s(X0)),W(" "+E(s(p).translate("i18n_filesnavigator_delete",null,{count:i.value.size})),1)]),_:1},8,["disabled","loading"])]),_:1})):U("",!0)]),_:1})]),_:1})]),y(z1,{class:"scroll-area","outer-style":{flexGrow:"1"},onDragover:se(Ye,["prevent"]),onDragleave:Xe,onDrop:e[6]||(e[6]=se(a=>xe(null,a),["prevent"]))},{default:V(()=>[_("div",ia,[y(s(ne),{justify:"space-between",align:"center",gap:"small",style:{"margin-bottom":"8px"}},{default:V(()=>[y(s(g1),{value:I.searchTerm,"onUpdate:value":e[5]||(e[5]=a=>I.searchTerm=a),loading:s(ce),placeholder:qe.value,style:{"max-width":"300px"},size:"small"},null,8,["value","loading","placeholder"]),z.value&&z.value.length>0?(d(),k(s(Pe),{key:0,checked:b.value,indeterminate:i.value.size>0&&i.value.size<z.value.length,class:"select-all-checkbox",onChange:Ke},null,8,["checked","indeterminate"])):U("",!0)]),_:1})]),z.value&&z.value.length>0?(d(),k(s(x1),{key:0,class:"files-list","data-source":z.value},{renderItem:V(({item:a})=>[y(s(Z1),{class:re(["compact-list-item",{"drag-over":O.value===a.path&&a.type==="directory","parent-folder-item":a.name===".."}]),draggable:a.name!=="..",onDragstart:r=>a.name!==".."?e1(a,r):null,onDragover:se(r=>a.type==="directory"?a1(a,r):null,["prevent"]),onDragleave:r=>a.type==="directory"?t1(a):null,onDrop:se(r=>a.type==="directory"?xe(a,r):null,["prevent"])},{default:V(()=>[y(s(ne),{align:"center",justify:"space-between",gap:"large",style:{width:"100%","padding-right":"12px"}},{default:V(()=>[_("div",{style:{display:"flex","align-items":"center",gap:"8px",flex:"1",cursor:"pointer","min-width":"0"},onClick:r=>Ge(a,r)},[a.name===".."?(d(),k(s(M1),{key:0,size:"18px",class:"parent-folder-icon"})):a.type==="directory"?(d(),k(s(j1),{key:1,size:"18px"})):(d(),k(ke(s(Q).getFileIcon(a.name)),{key:2,size:"18px",class:re(["file-icon",s(Q).getFileIconClass(a.name)])},null,8,["class"])),_("span",{class:re(["file-name",s(Q).getFileIconClass(a.name)])},[a.name===".."?(d(),A(ze,{key:0},[W(E(s(p).translate("i18n_filesnavigator_parent_folder")),1)],64)):(d(),k(ke(X(a.name)),{key:1}))],2),a.type==="file"?(d(),A("span",ca,E(Ee(a)),1)):U("",!0)],8,oa),a.name!==".."?(d(),k(s(Pe),{key:0,checked:i.value.has(a.path),onClick:r=>{r.stopPropagation(),be(a,r,!0)}},null,8,["checked","onClick"])):U("",!0)]),_:2},1024)]),_:2},1032,["class","draggable","onDragstart","onDragover","onDragleave","onDrop"])]),_:1},8,["data-source"])):(d(),k(s(m1),{key:1,description:s(ce)?s(p).translate("i18n_filesnavigator_loading"):s(p).translate("i18n_filesnavigator_no_files"),class:re(["drop-zone-empty",{"drag-over":D.value}])},null,8,["description","class"]))]),_:1},8,["onDragover"]),s(J)&&s(J).totalCount>L.pageSize?(d(),k(s(y1),{key:0,current:L.currentIndex,"onUpdate:current":e[7]||(e[7]=a=>L.currentIndex=a),"page-size":L.pageSize,"onUpdate:pageSize":e[8]||(e[8]=a=>L.pageSize=a),total:s(J).totalCount,"show-total":a=>s(p).translate("i18n_filesnavigator_items",null,{total:a}),"show-size-changer":"","page-size-options":["10","20","50","100"],style:{"margin-top":"20px","text-align":"center"}},null,8,["current","page-size","total","show-total"])):U("",!0),y(s(A1),{open:n.value,"onUpdate:open":e[10]||(e[10]=a=>n.value=a),title:s(p).translate("i18n_filesnavigator_create_folder"),onOk:Ze,onCancel:e[11]||(e[11]=a=>n.value=!1)},{default:V(()=>[y(s(_1),{value:v.value,"onUpdate:value":e[9]||(e[9]=a=>v.value=a),placeholder:s(p).translate("i18n_filesnavigator_enter_folder_name"),onPressEnter:Ze},null,8,["value","placeholder"])]),_:1},8,["open","title"]),y(H1,{ctrl:s(u)},null,8,["ctrl"])]))}});const da=Ie(ua,[["__scopeId","data-v-725eb485"]]),fa={class:"files-container"},pa=Y({__name:"Files",setup(c){const n=w1().params.projectId,v=k1.fromProjectId(n);return(i,b)=>(d(),A("div",fa,[y(s(V1),null,{default:V(()=>[W(E(s(p).translate("i18n_filesview_title")),1)]),_:1}),y(s(b1),null,{default:V(()=>[W(E(s(p).translate("i18n_filesview_description"))+" ",1),y(s1,{path:"tools/files"})]),_:1}),y(s(F1),{class:"files-card"},{default:V(()=>[y(da,{"files-model":s(v)},null,8,["files-model"])]),_:1})]))}});const za=Ie(pa,[["__scopeId","data-v-1d917c14"]]);export{za as default};
//# sourceMappingURL=Files.544a1284.js.map
