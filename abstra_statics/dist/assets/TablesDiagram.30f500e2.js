import{_ as wn}from"./AbstraButton.vue_vue_type_script_setup_true_lang.fe14808c.js";import{a as _n}from"./asyncComputed.aa78e2c1.js";import{F as kn}from"./PhKey.vue.756999f8.js";import{G as bn}from"./PhPencil.vue.91a231b5.js";import{_ as xn}from"./vue-flow-background.fb678420.js";import{u as Ve,d as $n,h as Mn,_ as Nn,i as dt,e as Cn,j as ye,c as we,f as _e}from"./index.acfb373b.js";import{d as le,eN as En,eS as Xe,r as qe,a4 as Sn,bz as Jt,c as K,aK as zn,o as V,a as ot,b as L,a5 as lt,u as N,ec as Et,h as Oe,aR as jt,eb as Ye,a6 as Rn,e9 as Tt,e as An,am as Tn,ey as Bn,e6 as Dn,ee as In,ea as Fn,m as Pn,f as D,S as Hn,d8 as Kt,g as Gt,dc as ke,_ as Ln}from"./jwt-decode.esm.23ceadb7.js";import"./router.0114316a.js";import{T as be}from"./tables.2f395e4c.js";import{_ as Vn}from"./TablesTabs.vue_vue_type_script_setup_true_lang.f82ab6fd.js";import{A as Xn}from"./index.3e9d09f3.js";import{C as qn}from"./Card.958620a9.js";import"./index.4e51ce12.js";import"./record.2149946a.js";import"./string.ce2d885c.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="17555c15-790e-4157-9e2e-bd02c4394b3c",t._sentryDebugIdIdentifier="sentry-dbid-17555c15-790e-4157-9e2e-bd02c4394b3c")}catch{}})();var On={value:()=>{}};function ce(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new St(n)}function St(t){this._=t}function Yn(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}St.prototype=ce.prototype={constructor:St,on:function(t,e){var n=this._,r=Yn(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Wn(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=xe(n[i],t.name,e);else if(e==null)for(i in n)n[i]=xe(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new St(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Wn(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function xe(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=On,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var te="http://www.w3.org/1999/xhtml";const $e={svg:"http://www.w3.org/2000/svg",xhtml:te,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Lt(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),$e.hasOwnProperty(e)?{space:$e[e],local:t}:t}function Kn(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===te&&e.documentElement.namespaceURI===te?e.createElement(t):e.createElementNS(n,t)}}function Gn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function We(t){var e=Lt(t);return(e.local?Gn:Kn)(e)}function Un(){}function he(t){return t==null?Un:function(){return this.querySelector(t)}}function Zn(t){typeof t!="function"&&(t=he(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),u,l,h=0;h<s;++h)(u=o[h])&&(l=t.call(u,u.__data__,h,o))&&("__data__"in u&&(l.__data__=u.__data__),a[h]=l);return new X(r,this._parents)}function Qn(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Jn(){return[]}function Ke(t){return t==null?Jn:function(){return this.querySelectorAll(t)}}function jn(t){return function(){return Qn(t.apply(this,arguments))}}function tr(t){typeof t=="function"?t=jn(t):t=Ke(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&(r.push(t.call(u,u.__data__,l,s)),i.push(u));return new X(r,i)}function Ge(t){return function(){return this.matches(t)}}function Ue(t){return function(e){return e.matches(t)}}var er=Array.prototype.find;function nr(t){return function(){return er.call(this.children,t)}}function rr(){return this.firstElementChild}function ir(t){return this.select(t==null?rr:nr(typeof t=="function"?t:Ue(t)))}var or=Array.prototype.filter;function sr(){return Array.from(this.children)}function ar(t){return function(){return or.call(this.children,t)}}function ur(t){return this.selectAll(t==null?sr:ar(typeof t=="function"?t:Ue(t)))}function lr(t){typeof t!="function"&&(t=Ge(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new X(r,this._parents)}function Ze(t){return new Array(t.length)}function cr(){return new X(this._enter||this._groups.map(Ze),this._parents)}function Bt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Bt.prototype={constructor:Bt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function hr(t){return function(){return t}}function fr(t,e,n,r,i,o){for(var s=0,a,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new Bt(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function dr(t,e,n,r,i,o,s){var a,u,l=new Map,h=e.length,f=o.length,v=new Array(h),p;for(a=0;a<h;++a)(u=e[a])&&(v[a]=p=s.call(u,u.__data__,a,e)+"",l.has(p)?i[a]=u:l.set(p,u));for(a=0;a<f;++a)p=s.call(t,o[a],a,o)+"",(u=l.get(p))?(r[a]=u,u.__data__=o[a],l.delete(p)):n[a]=new Bt(t,o[a]);for(a=0;a<h;++a)(u=e[a])&&l.get(v[a])===u&&(i[a]=u)}function mr(t){return t.__data__}function pr(t,e){if(!arguments.length)return Array.from(this,mr);var n=e?dr:fr,r=this._parents,i=this._groups;typeof t!="function"&&(t=hr(t));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),l=0;l<o;++l){var h=r[l],f=i[l],v=f.length,p=gr(t.call(h,h&&h.__data__,l,r)),$=p.length,b=a[l]=new Array($),x=s[l]=new Array($),_=u[l]=new Array(v);n(h,f,b,x,_,p,e);for(var A=0,T=0,q,F;A<$;++A)if(q=b[A]){for(A>=T&&(T=A+1);!(F=x[T])&&++T<$;);q._next=F||null}}return s=new X(s,r),s._enter=a,s._exit=u,s}function gr(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vr(){return new X(this._exit||this._groups.map(Ze),this._parents)}function yr(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function wr(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var l=n[u],h=r[u],f=l.length,v=a[u]=new Array(f),p,$=0;$<f;++$)(p=l[$]||h[$])&&(v[$]=p);for(;u<i;++u)a[u]=n[u];return new X(a,this._parents)}function _r(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function kr(t){t||(t=br);function e(f,v){return f&&v?t(f.__data__,v.__data__):!f-!v}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,u=i[o]=new Array(a),l,h=0;h<a;++h)(l=s[h])&&(u[h]=l);u.sort(e)}return new X(i,this._parents).order()}function br(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function xr(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function $r(){return Array.from(this)}function Mr(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Nr(){let t=0;for(const e of this)++t;return t}function Cr(){return!this.node()}function Er(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function Sr(t){return function(){this.removeAttribute(t)}}function zr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Rr(t,e){return function(){this.setAttribute(t,e)}}function Ar(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Tr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Br(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Dr(t,e){var n=Lt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?zr:Sr:typeof e=="function"?n.local?Br:Tr:n.local?Ar:Rr)(n,e))}function Qe(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ir(t){return function(){this.style.removeProperty(t)}}function Fr(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Pr(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Hr(t,e,n){return arguments.length>1?this.each((e==null?Ir:typeof e=="function"?Pr:Fr)(t,e,n==null?"":n)):ht(this.node(),t)}function ht(t,e){return t.style.getPropertyValue(e)||Qe(t).getComputedStyle(t,null).getPropertyValue(e)}function Lr(t){return function(){delete this[t]}}function Vr(t,e){return function(){this[t]=e}}function Xr(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function qr(t,e){return arguments.length>1?this.each((e==null?Lr:typeof e=="function"?Xr:Vr)(t,e)):this.node()[t]}function Je(t){return t.trim().split(/^|\s+/)}function fe(t){return t.classList||new je(t)}function je(t){this._node=t,this._names=Je(t.getAttribute("class")||"")}je.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function tn(t,e){for(var n=fe(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function en(t,e){for(var n=fe(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Or(t){return function(){tn(this,t)}}function Yr(t){return function(){en(this,t)}}function Wr(t,e){return function(){(e.apply(this,arguments)?tn:en)(this,t)}}function Kr(t,e){var n=Je(t+"");if(arguments.length<2){for(var r=fe(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Wr:e?Or:Yr)(n,e))}function Gr(){this.textContent=""}function Ur(t){return function(){this.textContent=t}}function Zr(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function Qr(t){return arguments.length?this.each(t==null?Gr:(typeof t=="function"?Zr:Ur)(t)):this.node().textContent}function Jr(){this.innerHTML=""}function jr(t){return function(){this.innerHTML=t}}function ti(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function ei(t){return arguments.length?this.each(t==null?Jr:(typeof t=="function"?ti:jr)(t)):this.node().innerHTML}function ni(){this.nextSibling&&this.parentNode.appendChild(this)}function ri(){return this.each(ni)}function ii(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function oi(){return this.each(ii)}function si(t){var e=typeof t=="function"?t:We(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ai(){return null}function ui(t,e){var n=typeof t=="function"?t:We(t),r=e==null?ai:typeof e=="function"?e:he(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function li(){var t=this.parentNode;t&&t.removeChild(this)}function ci(){return this.each(li)}function hi(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function fi(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function di(t){return this.select(t?fi:hi)}function mi(t){return arguments.length?this.property("__data__",t):this.node().__data__}function pi(t){return function(e){t.call(this,e,this.__data__)}}function gi(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function vi(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function yi(t,e,n){return function(){var r=this.__on,i,o=pi(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function wi(t,e,n){var r=gi(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,h;u<l;++u)for(i=0,h=a[u];i<o;++i)if((s=r[i]).type===h.type&&s.name===h.name)return h.value}return}for(a=e?yi:vi,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function nn(t,e,n){var r=Qe(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function _i(t,e){return function(){return nn(this,t,e)}}function ki(t,e){return function(){return nn(this,t,e.apply(this,arguments))}}function bi(t,e){return this.each((typeof e=="function"?ki:_i)(t,e))}function*xi(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var rn=[null];function X(t,e){this._groups=t,this._parents=e}function bt(){return new X([[document.documentElement]],rn)}function $i(){return this}X.prototype=bt.prototype={constructor:X,select:Zn,selectAll:tr,selectChild:ir,selectChildren:ur,filter:lr,data:pr,enter:cr,exit:vr,join:yr,merge:wr,selection:$i,order:_r,sort:kr,call:xr,nodes:$r,node:Mr,size:Nr,empty:Cr,each:Er,attr:Dr,style:Hr,property:qr,classed:Kr,text:Qr,html:ei,raise:ri,lower:oi,append:si,insert:ui,remove:ci,clone:di,datum:mi,on:wi,dispatch:bi,[Symbol.iterator]:xi};function it(t){return typeof t=="string"?new X([[document.querySelector(t)]],[document.documentElement]):new X([[t]],rn)}function Mi(t){let e;for(;e=t.sourceEvent;)t=e;return t}function nt(t,e){if(t=Mi(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const ee={capture:!0,passive:!1};function ne(t){t.preventDefault(),t.stopImmediatePropagation()}function Ni(t){var e=t.document.documentElement,n=it(t).on("dragstart.drag",ne,ee);"onselectstart"in e?n.on("selectstart.drag",ne,ee):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ci(t,e){var n=t.document.documentElement,r=it(t).on("dragstart.drag",null);e&&(r.on("click.drag",ne,ee),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function de(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function on(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function xt(){}var yt=.7,Dt=1/yt,ct="\\s*([+-]?\\d+)\\s*",wt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Z="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ei=/^#([0-9a-f]{3,8})$/,Si=new RegExp(`^rgb\\(${ct},${ct},${ct}\\)$`),zi=new RegExp(`^rgb\\(${Z},${Z},${Z}\\)$`),Ri=new RegExp(`^rgba\\(${ct},${ct},${ct},${wt}\\)$`),Ai=new RegExp(`^rgba\\(${Z},${Z},${Z},${wt}\\)$`),Ti=new RegExp(`^hsl\\(${wt},${Z},${Z}\\)$`),Bi=new RegExp(`^hsla\\(${wt},${Z},${Z},${wt}\\)$`),Me={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};de(xt,_t,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ne,formatHex:Ne,formatHex8:Di,formatHsl:Ii,formatRgb:Ce,toString:Ce});function Ne(){return this.rgb().formatHex()}function Di(){return this.rgb().formatHex8()}function Ii(){return sn(this).formatHsl()}function Ce(){return this.rgb().formatRgb()}function _t(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ei.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ee(e):n===3?new I(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?$t(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?$t(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Si.exec(t))?new I(e[1],e[2],e[3],1):(e=zi.exec(t))?new I(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ri.exec(t))?$t(e[1],e[2],e[3],e[4]):(e=Ai.exec(t))?$t(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ti.exec(t))?Re(e[1],e[2]/100,e[3]/100,1):(e=Bi.exec(t))?Re(e[1],e[2]/100,e[3]/100,e[4]):Me.hasOwnProperty(t)?Ee(Me[t]):t==="transparent"?new I(NaN,NaN,NaN,0):null}function Ee(t){return new I(t>>16&255,t>>8&255,t&255,1)}function $t(t,e,n,r){return r<=0&&(t=e=n=NaN),new I(t,e,n,r)}function Fi(t){return t instanceof xt||(t=_t(t)),t?(t=t.rgb(),new I(t.r,t.g,t.b,t.opacity)):new I}function re(t,e,n,r){return arguments.length===1?Fi(t):new I(t,e,n,r==null?1:r)}function I(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}de(I,re,on(xt,{brighter(t){return t=t==null?Dt:Math.pow(Dt,t),new I(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?yt:Math.pow(yt,t),new I(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new I(at(this.r),at(this.g),at(this.b),It(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Se,formatHex:Se,formatHex8:Pi,formatRgb:ze,toString:ze}));function Se(){return`#${st(this.r)}${st(this.g)}${st(this.b)}`}function Pi(){return`#${st(this.r)}${st(this.g)}${st(this.b)}${st((isNaN(this.opacity)?1:this.opacity)*255)}`}function ze(){const t=It(this.opacity);return`${t===1?"rgb(":"rgba("}${at(this.r)}, ${at(this.g)}, ${at(this.b)}${t===1?")":`, ${t})`}`}function It(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function at(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function st(t){return t=at(t),(t<16?"0":"")+t.toString(16)}function Re(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new G(t,e,n,r)}function sn(t){if(t instanceof G)return new G(t.h,t.s,t.l,t.opacity);if(t instanceof xt||(t=_t(t)),!t)return new G;if(t instanceof G)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new G(s,a,u,t.opacity)}function Hi(t,e,n,r){return arguments.length===1?sn(t):new G(t,e,n,r==null?1:r)}function G(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}de(G,Hi,on(xt,{brighter(t){return t=t==null?Dt:Math.pow(Dt,t),new G(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?yt:Math.pow(yt,t),new G(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new I(Ut(t>=240?t-240:t+120,i,r),Ut(t,i,r),Ut(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new G(Ae(this.h),Mt(this.s),Mt(this.l),It(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=It(this.opacity);return`${t===1?"hsl(":"hsla("}${Ae(this.h)}, ${Mt(this.s)*100}%, ${Mt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ae(t){return t=(t||0)%360,t<0?t+360:t}function Mt(t){return Math.max(0,Math.min(1,t||0))}function Ut(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const an=t=>()=>t;function Li(t,e){return function(n){return t+n*e}}function Vi(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Xi(t){return(t=+t)==1?un:function(e,n){return n-e?Vi(e,n,t):an(isNaN(e)?n:e)}}function un(t,e){var n=e-t;return n?Li(t,n):an(isNaN(t)?e:t)}const Te=function t(e){var n=Xi(e);function r(i,o){var s=n((i=re(i)).r,(o=re(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),l=un(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=a(h),i.b=u(h),i.opacity=l(h),i+""}}return r.gamma=t,r}(1);function rt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var ie=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zt=new RegExp(ie.source,"g");function qi(t){return function(){return t}}function Oi(t){return function(e){return t(e)+""}}function Yi(t,e){var n=ie.lastIndex=Zt.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(t=t+"",e=e+"";(r=ie.exec(t))&&(i=Zt.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:rt(r,i)})),n=Zt.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?Oi(u[0].x):qi(e):(e=u.length,function(l){for(var h=0,f;h<e;++h)a[(f=u[h]).i]=f.x(l);return a.join("")})}var Be=180/Math.PI,oe={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ln(t,e,n,r,i,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Be,skewX:Math.atan(u)*Be,scaleX:s,scaleY:a}}var Nt;function Wi(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?oe:ln(e.a,e.b,e.c,e.d,e.e,e.f)}function Ki(t){return t==null||(Nt||(Nt=document.createElementNS("http://www.w3.org/2000/svg","g")),Nt.setAttribute("transform",t),!(t=Nt.transform.baseVal.consolidate()))?oe:(t=t.matrix,ln(t.a,t.b,t.c,t.d,t.e,t.f))}function cn(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,h,f,v,p,$){if(l!==f||h!==v){var b=p.push("translate(",null,e,null,n);$.push({i:b-4,x:rt(l,f)},{i:b-2,x:rt(h,v)})}else(f||v)&&p.push("translate("+f+e+v+n)}function s(l,h,f,v){l!==h?(l-h>180?h+=360:h-l>180&&(l+=360),v.push({i:f.push(i(f)+"rotate(",null,r)-2,x:rt(l,h)})):h&&f.push(i(f)+"rotate("+h+r)}function a(l,h,f,v){l!==h?v.push({i:f.push(i(f)+"skewX(",null,r)-2,x:rt(l,h)}):h&&f.push(i(f)+"skewX("+h+r)}function u(l,h,f,v,p,$){if(l!==f||h!==v){var b=p.push(i(p)+"scale(",null,",",null,")");$.push({i:b-4,x:rt(l,f)},{i:b-2,x:rt(h,v)})}else(f!==1||v!==1)&&p.push(i(p)+"scale("+f+","+v+")")}return function(l,h){var f=[],v=[];return l=t(l),h=t(h),o(l.translateX,l.translateY,h.translateX,h.translateY,f,v),s(l.rotate,h.rotate,f,v),a(l.skewX,h.skewX,f,v),u(l.scaleX,l.scaleY,h.scaleX,h.scaleY,f,v),l=h=null,function(p){for(var $=-1,b=v.length,x;++$<b;)f[(x=v[$]).i]=x.x(p);return f.join("")}}}var Gi=cn(Wi,"px, ","px)","deg)"),Ui=cn(Ki,", ",")",")"),Zi=1e-12;function De(t){return((t=Math.exp(t))+1/t)/2}function Qi(t){return((t=Math.exp(t))-1/t)/2}function Ji(t){return((t=Math.exp(2*t))-1)/(t+1)}const ji=function t(e,n,r){function i(o,s){var a=o[0],u=o[1],l=o[2],h=s[0],f=s[1],v=s[2],p=h-a,$=f-u,b=p*p+$*$,x,_;if(b<Zi)_=Math.log(v/l)/e,x=function(R){return[a+R*p,u+R*$,l*Math.exp(e*R*_)]};else{var A=Math.sqrt(b),T=(v*v-l*l+r*b)/(2*l*n*A),q=(v*v-l*l-r*b)/(2*v*n*A),F=Math.log(Math.sqrt(T*T+1)-T),P=Math.log(Math.sqrt(q*q+1)-q);_=(P-F)/e,x=function(R){var O=R*_,J=De(F),S=l/(n*A)*(J*Ji(e*O+F)-Qi(F));return[a+S*p,u+S*$,l*J/De(e*O+F)]}}return x.duration=_*1e3*e/Math.SQRT2,x}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,u=a*a;return t(s,a,u)},i}(Math.SQRT2,2,4);var ft=0,gt=0,mt=0,hn=1e3,Ft,vt,Pt=0,ut=0,Vt=0,kt=typeof performance=="object"&&performance.now?performance:Date,fn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function me(){return ut||(fn(to),ut=kt.now()+Vt)}function to(){ut=0}function Ht(){this._call=this._time=this._next=null}Ht.prototype=dn.prototype={constructor:Ht,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?me():+n)+(e==null?0:+e),!this._next&&vt!==this&&(vt?vt._next=this:Ft=this,vt=this),this._call=t,this._time=n,se()},stop:function(){this._call&&(this._call=null,this._time=1/0,se())}};function dn(t,e,n){var r=new Ht;return r.restart(t,e,n),r}function eo(){me(),++ft;for(var t=Ft,e;t;)(e=ut-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ft}function Ie(){ut=(Pt=kt.now())+Vt,ft=gt=0;try{eo()}finally{ft=0,ro(),ut=0}}function no(){var t=kt.now(),e=t-Pt;e>hn&&(Vt-=e,Pt=t)}function ro(){for(var t,e=Ft,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ft=n);vt=t,se(r)}function se(t){if(!ft){gt&&(gt=clearTimeout(gt));var e=t-ut;e>24?(t<1/0&&(gt=setTimeout(Ie,t-kt.now()-Vt)),mt&&(mt=clearInterval(mt))):(mt||(Pt=kt.now(),mt=setInterval(no,hn)),ft=1,fn(Ie))}}function Fe(t,e,n){var r=new Ht;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var io=ce("start","end","cancel","interrupt"),oo=[],mn=0,Pe=1,ae=2,zt=3,He=4,ue=5,Rt=6;function Xt(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;so(t,n,{name:e,index:r,group:i,on:io,tween:oo,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:mn})}function pe(t,e){var n=U(t,e);if(n.state>mn)throw new Error("too late; already scheduled");return n}function Q(t,e){var n=U(t,e);if(n.state>zt)throw new Error("too late; already running");return n}function U(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function so(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=dn(o,0,n.time);function o(l){n.state=Pe,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var h,f,v,p;if(n.state!==Pe)return u();for(h in r)if(p=r[h],p.name===n.name){if(p.state===zt)return Fe(s);p.state===He?(p.state=Rt,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[h]):+h<e&&(p.state=Rt,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[h])}if(Fe(function(){n.state===zt&&(n.state=He,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=ae,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ae){for(n.state=zt,i=new Array(v=n.tween.length),h=0,f=-1;h<v;++h)(p=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function a(l){for(var h=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=ue,1),f=-1,v=i.length;++f<v;)i[f].call(t,h);n.state===ue&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Rt,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function At(t,e){var n=t.__transition,r,i,o=!0,s;if(!!n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>ae&&r.state<ue,r.state=Rt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function ao(t){return this.each(function(){At(this,t)})}function uo(t,e){var n,r;return function(){var i=Q(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function lo(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Q(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=a;break}u===l&&i.push(a)}o.tween=i}}function co(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=U(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?uo:lo)(n,t,e))}function ge(t,e,n){var r=t._id;return t.each(function(){var i=Q(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return U(i,r).value[e]}}function pn(t,e){var n;return(typeof e=="number"?rt:e instanceof _t?Te:(n=_t(e))?(e=n,Te):Yi)(t,e)}function ho(t){return function(){this.removeAttribute(t)}}function fo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mo(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function po(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function go(t,e,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a)))}}function vo(t,e,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a)))}}function yo(t,e){var n=Lt(t),r=n==="transform"?Ui:pn;return this.attrTween(t,typeof e=="function"?(n.local?vo:go)(n,r,ge(this,"attr."+t,e)):e==null?(n.local?fo:ho)(n):(n.local?po:mo)(n,r,e))}function wo(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function _o(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ko(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&_o(t,o)),n}return i._value=e,i}function bo(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&wo(t,o)),n}return i._value=e,i}function xo(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Lt(t);return this.tween(n,(r.local?ko:bo)(r,e))}function $o(t,e){return function(){pe(this,t).delay=+e.apply(this,arguments)}}function Mo(t,e){return e=+e,function(){pe(this,t).delay=e}}function No(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$o:Mo)(e,t)):U(this.node(),e).delay}function Co(t,e){return function(){Q(this,t).duration=+e.apply(this,arguments)}}function Eo(t,e){return e=+e,function(){Q(this,t).duration=e}}function So(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Co:Eo)(e,t)):U(this.node(),e).duration}function zo(t,e){if(typeof e!="function")throw new Error;return function(){Q(this,t).ease=e}}function Ro(t){var e=this._id;return arguments.length?this.each(zo(e,t)):U(this.node(),e).ease}function Ao(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Q(this,t).ease=n}}function To(t){if(typeof t!="function")throw new Error;return this.each(Ao(this._id,t))}function Bo(t){typeof t!="function"&&(t=Ge(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new et(r,this._parents,this._name,this._id)}function Do(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=e[a],l=n[a],h=u.length,f=s[a]=new Array(h),v,p=0;p<h;++p)(v=u[p]||l[p])&&(f[p]=v);for(;a<r;++a)s[a]=e[a];return new et(s,this._parents,this._name,this._id)}function Io(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Fo(t,e,n){var r,i,o=Io(e)?pe:Q;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function Po(t,e){var n=this._id;return arguments.length<2?U(this.node(),n).on.on(t):this.each(Fo(n,t,e))}function Ho(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Lo(){return this.on("end.remove",Ho(this._id))}function Vo(t){var e=this._name,n=this._id;typeof t!="function"&&(t=he(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,l=o[s]=new Array(u),h,f,v=0;v<u;++v)(h=a[v])&&(f=t.call(h,h.__data__,v,a))&&("__data__"in h&&(f.__data__=h.__data__),l[v]=f,Xt(l[v],e,n,v,l,U(h,n)));return new et(o,this._parents,e,n)}function Xo(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ke(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],l=u.length,h,f=0;f<l;++f)if(h=u[f]){for(var v=t.call(h,h.__data__,f,u),p,$=U(h,n),b=0,x=v.length;b<x;++b)(p=v[b])&&Xt(p,e,n,b,v,$);o.push(v),s.push(h)}return new et(o,s,e,n)}var qo=bt.prototype.constructor;function Oo(){return new qo(this._groups,this._parents)}function Yo(t,e){var n,r,i;return function(){var o=ht(this,t),s=(this.style.removeProperty(t),ht(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function gn(t){return function(){this.style.removeProperty(t)}}function Wo(t,e,n){var r,i=n+"",o;return function(){var s=ht(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function Ko(t,e,n){var r,i,o;return function(){var s=ht(this,t),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(t),ht(this,t))),s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a))}}function Go(t,e){var n,r,i,o="style."+e,s="end."+o,a;return function(){var u=Q(this,t),l=u.on,h=u.value[o]==null?a||(a=gn(e)):void 0;(l!==n||i!==h)&&(r=(n=l).copy()).on(s,i=h),u.on=r}}function Uo(t,e,n){var r=(t+="")=="transform"?Gi:pn;return e==null?this.styleTween(t,Yo(t,r)).on("end.style."+t,gn(t)):typeof e=="function"?this.styleTween(t,Ko(t,r,ge(this,"style."+t,e))).each(Go(this._id,t)):this.styleTween(t,Wo(t,r,e),n).on("end.style."+t,null)}function Zo(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Qo(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&Zo(t,s,n)),r}return o._value=e,o}function Jo(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Qo(t,e,n==null?"":n))}function jo(t){return function(){this.textContent=t}}function ts(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function es(t){return this.tween("text",typeof t=="function"?ts(ge(this,"text",t)):jo(t==null?"":t+""))}function ns(t){return function(e){this.textContent=t.call(this,e)}}function rs(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&ns(i)),e}return r._value=t,r}function is(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,rs(t))}function os(){for(var t=this._name,e=this._id,n=vn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)if(u=s[l]){var h=U(u,e);Xt(u,t,n,l,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new et(r,this._parents,t,n)}function ss(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var l=Q(this,r),h=l.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),l.on=e}),i===0&&o()})}var as=0;function et(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function vn(){return++as}var j=bt.prototype;et.prototype={constructor:et,select:Vo,selectAll:Xo,selectChild:j.selectChild,selectChildren:j.selectChildren,filter:Bo,merge:Do,selection:Oo,transition:os,call:j.call,nodes:j.nodes,node:j.node,size:j.size,empty:j.empty,each:j.each,on:Po,attr:yo,attrTween:xo,style:Uo,styleTween:Jo,text:es,textTween:is,remove:Lo,tween:co,delay:No,duration:So,ease:Ro,easeVarying:To,end:ss,[Symbol.iterator]:j[Symbol.iterator]};function us(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ls={time:null,delay:0,duration:250,ease:us};function cs(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function hs(t){var e,n;t instanceof et?(e=t._id,t=t._name):(e=vn(),(n=ls).time=me(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&Xt(u,t,e,l,s,n||cs(u,e));return new et(r,this._parents,t,e)}bt.prototype.interrupt=ao;bt.prototype.transition=hs;const Ct=t=>()=>t;function fs(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function tt(t,e,n){this.k=t,this.x=e,this.y=n}tt.prototype={constructor:tt,scale:function(t){return t===1?this:new tt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new tt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ve=new tt(1,0,0);tt.prototype;function Qt(t){t.stopImmediatePropagation()}function pt(t){t.preventDefault(),t.stopImmediatePropagation()}function ds(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function ms(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Le(){return this.__zoom||ve}function ps(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function gs(){return navigator.maxTouchPoints||"ontouchstart"in this}function vs(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function ys(){var t=ds,e=ms,n=vs,r=ps,i=gs,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,u=ji,l=ce("start","zoom","end"),h,f,v,p=500,$=150,b=0,x=10;function _(c){c.property("__zoom",Le).on("wheel.zoom",O,{passive:!1}).on("mousedown.zoom",J).on("dblclick.zoom",S).filter(i).on("touchstart.zoom",qt).on("touchmove.zoom",Ot).on("touchend.zoom touchcancel.zoom",Yt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(c,w,d,k){var g=c.selection?c.selection():c;g.property("__zoom",Le),c!==g?F(c,w,d,k):g.interrupt().each(function(){P(this,arguments).event(k).start().zoom(null,typeof w=="function"?w.apply(this,arguments):w).end()})},_.scaleBy=function(c,w,d,k){_.scaleTo(c,function(){var g=this.__zoom.k,y=typeof w=="function"?w.apply(this,arguments):w;return g*y},d,k)},_.scaleTo=function(c,w,d,k){_.transform(c,function(){var g=e.apply(this,arguments),y=this.__zoom,m=d==null?q(g):typeof d=="function"?d.apply(this,arguments):d,M=y.invert(m),C=typeof w=="function"?w.apply(this,arguments):w;return n(T(A(y,C),m,M),g,s)},d,k)},_.translateBy=function(c,w,d,k){_.transform(c,function(){return n(this.__zoom.translate(typeof w=="function"?w.apply(this,arguments):w,typeof d=="function"?d.apply(this,arguments):d),e.apply(this,arguments),s)},null,k)},_.translateTo=function(c,w,d,k,g){_.transform(c,function(){var y=e.apply(this,arguments),m=this.__zoom,M=k==null?q(y):typeof k=="function"?k.apply(this,arguments):k;return n(ve.translate(M[0],M[1]).scale(m.k).translate(typeof w=="function"?-w.apply(this,arguments):-w,typeof d=="function"?-d.apply(this,arguments):-d),y,s)},k,g)};function A(c,w){return w=Math.max(o[0],Math.min(o[1],w)),w===c.k?c:new tt(w,c.x,c.y)}function T(c,w,d){var k=w[0]-d[0]*c.k,g=w[1]-d[1]*c.k;return k===c.x&&g===c.y?c:new tt(c.k,k,g)}function q(c){return[(+c[0][0]+ +c[1][0])/2,(+c[0][1]+ +c[1][1])/2]}function F(c,w,d,k){c.on("start.zoom",function(){P(this,arguments).event(k).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(k).end()}).tween("zoom",function(){var g=this,y=arguments,m=P(g,y).event(k),M=e.apply(g,y),C=d==null?q(M):typeof d=="function"?d.apply(g,y):d,z=Math.max(M[1][0]-M[0][0],M[1][1]-M[0][1]),E=g.__zoom,B=typeof w=="function"?w.apply(g,y):w,Y=u(E.invert(C).concat(z/E.k),B.invert(C).concat(z/B.k));return function(H){if(H===1)H=B;else{var W=Y(H),Wt=z/W[2];H=new tt(Wt,C[0]-W[0]*Wt,C[1]-W[1]*Wt)}m.zoom(null,H)}})}function P(c,w,d){return!d&&c.__zooming||new R(c,w)}function R(c,w){this.that=c,this.args=w,this.active=0,this.sourceEvent=null,this.extent=e.apply(c,w),this.taps=0}R.prototype={event:function(c){return c&&(this.sourceEvent=c),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(c,w){return this.mouse&&c!=="mouse"&&(this.mouse[1]=w.invert(this.mouse[0])),this.touch0&&c!=="touch"&&(this.touch0[1]=w.invert(this.touch0[0])),this.touch1&&c!=="touch"&&(this.touch1[1]=w.invert(this.touch1[0])),this.that.__zoom=w,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(c){var w=it(this.that).datum();l.call(c,this.that,new fs(c,{sourceEvent:this.sourceEvent,target:_,type:c,transform:this.that.__zoom,dispatch:l}),w)}};function O(c,...w){if(!t.apply(this,arguments))return;var d=P(this,w).event(c),k=this.__zoom,g=Math.max(o[0],Math.min(o[1],k.k*Math.pow(2,r.apply(this,arguments)))),y=nt(c);if(d.wheel)(d.mouse[0][0]!==y[0]||d.mouse[0][1]!==y[1])&&(d.mouse[1]=k.invert(d.mouse[0]=y)),clearTimeout(d.wheel);else{if(k.k===g)return;d.mouse=[y,k.invert(y)],At(this),d.start()}pt(c),d.wheel=setTimeout(m,$),d.zoom("mouse",n(T(A(k,g),d.mouse[0],d.mouse[1]),d.extent,s));function m(){d.wheel=null,d.end()}}function J(c,...w){if(v||!t.apply(this,arguments))return;var d=c.currentTarget,k=P(this,w,!0).event(c),g=it(c.view).on("mousemove.zoom",C,!0).on("mouseup.zoom",z,!0),y=nt(c,d),m=c.clientX,M=c.clientY;Ni(c.view),Qt(c),k.mouse=[y,this.__zoom.invert(y)],At(this),k.start();function C(E){if(pt(E),!k.moved){var B=E.clientX-m,Y=E.clientY-M;k.moved=B*B+Y*Y>b}k.event(E).zoom("mouse",n(T(k.that.__zoom,k.mouse[0]=nt(E,d),k.mouse[1]),k.extent,s))}function z(E){g.on("mousemove.zoom mouseup.zoom",null),Ci(E.view,k.moved),pt(E),k.event(E).end()}}function S(c,...w){if(!!t.apply(this,arguments)){var d=this.__zoom,k=nt(c.changedTouches?c.changedTouches[0]:c,this),g=d.invert(k),y=d.k*(c.shiftKey?.5:2),m=n(T(A(d,y),k,g),e.apply(this,w),s);pt(c),a>0?it(this).transition().duration(a).call(F,m,k,c):it(this).call(_.transform,m,k,c)}}function qt(c,...w){if(!!t.apply(this,arguments)){var d=c.touches,k=d.length,g=P(this,w,c.changedTouches.length===k).event(c),y,m,M,C;for(Qt(c),m=0;m<k;++m)M=d[m],C=nt(M,this),C=[C,this.__zoom.invert(C),M.identifier],g.touch0?!g.touch1&&g.touch0[2]!==C[2]&&(g.touch1=C,g.taps=0):(g.touch0=C,y=!0,g.taps=1+!!h);h&&(h=clearTimeout(h)),y&&(g.taps<2&&(f=C[0],h=setTimeout(function(){h=null},p)),At(this),g.start())}}function Ot(c,...w){if(!!this.__zooming){var d=P(this,w).event(c),k=c.changedTouches,g=k.length,y,m,M,C;for(pt(c),y=0;y<g;++y)m=k[y],M=nt(m,this),d.touch0&&d.touch0[2]===m.identifier?d.touch0[0]=M:d.touch1&&d.touch1[2]===m.identifier&&(d.touch1[0]=M);if(m=d.that.__zoom,d.touch1){var z=d.touch0[0],E=d.touch0[1],B=d.touch1[0],Y=d.touch1[1],H=(H=B[0]-z[0])*H+(H=B[1]-z[1])*H,W=(W=Y[0]-E[0])*W+(W=Y[1]-E[1])*W;m=A(m,Math.sqrt(H/W)),M=[(z[0]+B[0])/2,(z[1]+B[1])/2],C=[(E[0]+Y[0])/2,(E[1]+Y[1])/2]}else if(d.touch0)M=d.touch0[0],C=d.touch0[1];else return;d.zoom("touch",n(T(m,M,C),d.extent,s))}}function Yt(c,...w){if(!!this.__zooming){var d=P(this,w).event(c),k=c.changedTouches,g=k.length,y,m;for(Qt(c),v&&clearTimeout(v),v=setTimeout(function(){v=null},p),y=0;y<g;++y)m=k[y],d.touch0&&d.touch0[2]===m.identifier?delete d.touch0:d.touch1&&d.touch1[2]===m.identifier&&delete d.touch1;if(d.touch1&&!d.touch0&&(d.touch0=d.touch1,delete d.touch1),d.touch0)d.touch0[1]=this.__zoom.invert(d.touch0[0]);else if(d.end(),d.taps===2&&(m=nt(m,this),Math.hypot(f[0]-m[0],f[1]-m[1])<x)){var M=it(this).on("dblclick.zoom");M&&M.apply(this,arguments)}}}return _.wheelDelta=function(c){return arguments.length?(r=typeof c=="function"?c:Ct(+c),_):r},_.filter=function(c){return arguments.length?(t=typeof c=="function"?c:Ct(!!c),_):t},_.touchable=function(c){return arguments.length?(i=typeof c=="function"?c:Ct(!!c),_):i},_.extent=function(c){return arguments.length?(e=typeof c=="function"?c:Ct([[+c[0][0],+c[0][1]],[+c[1][0],+c[1][1]]]),_):e},_.scaleExtent=function(c){return arguments.length?(o[0]=+c[0],o[1]=+c[1],_):[o[0],o[1]]},_.translateExtent=function(c){return arguments.length?(s[0][0]=+c[0][0],s[1][0]=+c[1][0],s[0][1]=+c[0][1],s[1][1]=+c[1][1],_):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},_.constrain=function(c){return arguments.length?(n=c,_):n},_.duration=function(c){return arguments.length?(a=+c,_):a},_.interpolate=function(c){return arguments.length?(u=c,_):u},_.on=function(){var c=l.on.apply(l,arguments);return c===l?_:c},_.clickDistance=function(c){return arguments.length?(b=(c=+c)*c,_):Math.sqrt(b)},_.tapDistance=function(c){return arguments.length?(x=+c,_):x},_}const yn=Symbol("MiniMapSlots"),ws=["id","x","y","rx","ry","width","height","fill","stroke","stroke-width","shape-rendering"],_s={name:"MiniMapNode",compatConfig:{MODE:3}},ks=le({..._s,props:{id:{},type:{},selected:{type:Boolean},dragging:{type:Boolean},position:{},dimensions:{},borderRadius:{},color:{},shapeRendering:{},strokeColor:{},strokeWidth:{}},emits:["click","dblclick","mouseenter","mousemove","mouseleave"],setup(t,{emit:e}){const n=t,r=Tn(yn),i=Xe(),o=Jt(()=>{var f;return(f=i.style)!=null?f:{}});function s(f){e("click",f)}function a(f){e("dblclick",f)}function u(f){e("mouseenter",f)}function l(f){e("mousemove",f)}function h(f){e("mouseleave",f)}return(f,v)=>N(r)[`node-${n.type}`]?(V(),ot(In(N(r)[`node-${n.type}`]),Bn(Dn({key:0},n)),null,16)):(V(),lt("rect",{key:1,id:f.id,class:Tt(["vue-flow__minimap-node",{selected:f.selected,dragging:f.dragging}]),x:f.position.x,y:f.position.y,rx:f.borderRadius,ry:f.borderRadius,width:f.dimensions.width,height:f.dimensions.height,fill:f.color||o.value.background||o.value.backgroundColor,stroke:f.strokeColor,"stroke-width":f.strokeWidth,"shape-rendering":f.shapeRendering,onClick:s,onDblclick:a,onMouseenter:u,onMousemove:l,onMouseleave:h},null,42,ws))}}),bs=["width","height","viewBox","aria-labelledby"],xs=["id"],$s=["d","fill","stroke","stroke-width"],Ms={name:"MiniMap",compatConfig:{MODE:3}},Ns=le({...Ms,props:{nodeColor:{type:[String,Function],default:"#e2e2e2"},nodeStrokeColor:{type:[String,Function],default:"transparent"},nodeClassName:{type:[String,Function]},nodeBorderRadius:{default:5},nodeStrokeWidth:{default:2},maskColor:{default:"rgb(240, 240, 240, 0.6)"},maskStrokeColor:{default:"none"},maskStrokeWidth:{default:1},position:{default:"bottom-right"},pannable:{type:Boolean,default:!1},zoomable:{type:Boolean,default:!1},width:{},height:{},ariaLabel:{default:"Vue Flow mini map"},inversePan:{type:Boolean,default:!1},zoomStep:{default:10},offsetScale:{default:5},maskBorderRadius:{default:0}},emits:["click","nodeClick","nodeDblclick","nodeMouseenter","nodeMousemove","nodeMouseleave"],setup(t,{emit:e}){const n=En(),r=Xe(),i=200,o=150,{id:s,edges:a,viewport:u,translateExtent:l,dimensions:h,emits:f,d3Selection:v,d3Zoom:p,getNodesInitialized:$}=Ve(),b=qe();Sn(yn,n);const x=Jt(()=>{var y,m;var g;return(m=(y=t.width)!=null?y:(g=r.style)==null?void 0:g.width)!=null?m:i}),_=Jt(()=>{var y,m;var g;return(m=(y=t.height)!=null?y:(g=r.style)==null?void 0:g.height)!=null?m:o}),A=typeof window>"u"||!!window.chrome?"crispEdges":"geometricPrecision",T=K(()=>typeof t.nodeColor=="string"?()=>t.nodeColor:t.nodeColor),q=K(()=>typeof t.nodeStrokeColor=="string"?()=>t.nodeStrokeColor:t.nodeStrokeColor),F=K(()=>typeof t.nodeClassName=="string"?()=>t.nodeClassName:typeof t.nodeClassName=="function"?t.nodeClassName:()=>""),P=K(()=>$n($.value)),R=K(()=>({x:-u.value.x/u.value.zoom,y:-u.value.y/u.value.zoom,width:h.value.width/u.value.zoom,height:h.value.height/u.value.zoom})),O=K(()=>$.value&&$.value.length?Mn(P.value,R.value):R.value),J=K(()=>{const g=O.value.width/x.value,y=O.value.height/_.value;return Math.max(g,y)}),S=K(()=>{const g=J.value*x.value,y=J.value*_.value,m=t.offsetScale*J.value;return{offset:m,x:O.value.x-(g-O.value.width)/2-m,y:O.value.y-(y-O.value.height)/2-m,width:g+m*2,height:y+m*2}}),qt=K(()=>!S.value.x||!S.value.y?"":`
    M${S.value.x-S.value.offset},${S.value.y-S.value.offset}
    h${S.value.width+S.value.offset*2}
    v${S.value.height+S.value.offset*2}
    h${-S.value.width-S.value.offset*2}z
    M${R.value.x+t.maskBorderRadius},${R.value.y}
    h${R.value.width-2*t.maskBorderRadius}
    a${t.maskBorderRadius},${t.maskBorderRadius} 0 0 1 ${t.maskBorderRadius},${t.maskBorderRadius}
    v${R.value.height-2*t.maskBorderRadius}
    a${t.maskBorderRadius},${t.maskBorderRadius} 0 0 1 -${t.maskBorderRadius},${t.maskBorderRadius}
    h${-(R.value.width-2*t.maskBorderRadius)}
    a${t.maskBorderRadius},${t.maskBorderRadius} 0 0 1 -${t.maskBorderRadius},-${t.maskBorderRadius}
    v${-(R.value.height-2*t.maskBorderRadius)}
    a${t.maskBorderRadius},${t.maskBorderRadius} 0 0 1 ${t.maskBorderRadius},-${t.maskBorderRadius}z`);zn(g=>{if(b.value){const y=it(b.value),m=z=>{if(z.sourceEvent.type!=="wheel"||!v.value||!p.value)return;const E=-z.sourceEvent.deltaY*(z.sourceEvent.deltaMode===1?.05:z.sourceEvent.deltaMode?1:.002)*t.zoomStep,B=u.value.zoom*2**E;p.value.scaleTo(v.value,B)},M=z=>{if(z.sourceEvent.type!=="mousemove"||!v.value||!p.value)return;const E=J.value*Math.max(1,u.value.zoom)*(t.inversePan?-1:1),B={x:u.value.x-z.sourceEvent.movementX*E,y:u.value.y-z.sourceEvent.movementY*E},Y=[[0,0],[h.value.width,h.value.height]],H=ve.translate(B.x,B.y).scale(u.value.zoom),W=p.value.constrain()(H,Y,l.value);p.value.transform(v.value,W)},C=ys().on("zoom",t.pannable?M:()=>{}).on("zoom.wheel",t.zoomable?m:()=>{});y.call(C),g(()=>{y.on("zoom",null)})}},{flush:"post"});function Ot(g){const[y,m]=nt(g);e("click",{event:g,position:{x:y,y:m}})}function Yt(g,y){const m={event:g,node:y,connectedEdges:dt([y],a.value)};f.miniMapNodeClick(m),e("nodeClick",m)}function c(g,y){const m={event:g,node:y,connectedEdges:dt([y],a.value)};f.miniMapNodeDoubleClick(m),e("nodeDblclick",m)}function w(g,y){const m={event:g,node:y,connectedEdges:dt([y],a.value)};f.miniMapNodeMouseEnter(m),e("nodeMouseenter",m)}function d(g,y){const m={event:g,node:y,connectedEdges:dt([y],a.value)};f.miniMapNodeMouseMove(m),e("nodeMousemove",m)}function k(g,y){const m={event:g,node:y,connectedEdges:dt([y],a.value)};f.miniMapNodeMouseLeave(m),e("nodeMouseleave",m)}return(g,y)=>(V(),ot(N(Nn),{position:g.position,class:Tt(["vue-flow__minimap",{pannable:g.pannable,zoomable:g.zoomable}])},{default:L(()=>[(V(),lt("svg",{ref_key:"el",ref:b,width:x.value,height:_.value,viewBox:[S.value.x,S.value.y,S.value.width,S.value.height].join(" "),role:"img","aria-labelledby":`vue-flow__minimap-${N(s)}`,onClick:Ot},[g.ariaLabel?(V(),lt("title",{key:0,id:`vue-flow__minimap-${N(s)}`},Et(g.ariaLabel),9,xs)):Oe("",!0),(V(!0),lt(jt,null,Ye(N($),m=>(V(),ot(ks,{id:m.id,key:m.id,position:m.computedPosition,dimensions:m.dimensions,selected:m.selected,dragging:m.dragging,style:Rn(m.style),class:Tt(F.value(m)),color:T.value(m),"border-radius":g.nodeBorderRadius,"stroke-color":q.value(m),"stroke-width":g.nodeStrokeWidth,"shape-rendering":N(A),type:m.type,onClick:M=>Yt(M,m),onDblclick:M=>c(M,m),onMouseenter:M=>w(M,m),onMousemove:M=>d(M,m),onMouseleave:M=>k(M,m)},null,8,["id","position","dimensions","selected","dragging","style","class","color","border-radius","stroke-color","stroke-width","shape-rendering","type","onClick","onDblclick","onMouseenter","onMousemove","onMouseleave"]))),128)),An("path",{class:"vue-flow__minimap-mask",d:qt.value,fill:g.maskColor,stroke:g.maskStrokeColor,"stroke-width":g.maskStrokeWidth,"fill-rule":"evenodd"},null,8,$s)],8,bs))]),_:1},8,["position","class"]))}}),Cs=le({__name:"TablesDiagram",setup(t){const e=(p,$)=>{const b=new _e.graphlib.Graph;return b.setGraph({rankdir:"LR",align:"UL",ranker:"longest-path"}),b.setDefaultEdgeLabel(()=>({})),p.forEach(x=>{b.setNode(x.id,{width:500,height:200+x.data.getColumns().length*20})}),$.forEach(x=>{b.setEdge(x.source,x.target)}),_e.layout(b),p.map(x=>({...x,position:{x:b.node(x.id).x,y:b.node(x.id).y}}))},r=Fn().params.projectId,{result:i,loading:o}=_n(async()=>{const p=await be.list(r);return Promise.all(p.map($=>be.get(r,$.id)))}),s=K(()=>{var p,$;return($=(p=i.value)==null?void 0:p.flatMap(b=>b.getColumns().filter(x=>x.foreignKey).map(x=>({id:`${b.id}:${x.id}:${x.foreignKey.columnId}`,source:b.id,target:i.value.find(_=>_.getColumn(x.foreignKey.columnId)).id,targetHandle:`target-${x.foreignKey.columnId}`,sourceHandle:`source-${x.id}`}))))!=null?$:[]}),a=K(()=>o.value?[]:e(i.value.map(p=>({id:p.id,type:"table",data:p,position:{x:0,y:0}})),s.value)),{onInit:u,onNodeDragStop:l,onConnect:h,addEdges:f}=Ve(),v=qe(!1);return u(p=>{p.fitView()}),l(({event:p,nodes:$,node:b})=>{console.log("Node Drag Stop",{event:p,nodes:$,node:b})}),h(p=>{f(p)}),(p,$)=>{const b=Pn("RouterLink");return V(),lt(jt,null,[D(Vn),N(o)?(V(),ot(N(Hn),{key:0,style:{width:"100%"}})):(V(),ot(N(Cn),{key:1,nodes:a.value,edges:s.value,class:Tt([{dark:v.value},"basic-flow"]),"default-viewport":{zoom:1.5},"fit-view-on-init":"","min-zoom":.2,"max-zoom":4,"pan-on-scroll":""},{"node-table":L(x=>[D(N(qn),{style:{padding:"0"}},{title:L(()=>[D(N(Kt),{level:5},{default:L(()=>[Gt(Et(x.data.name),1)]),_:2},1024)]),extra:L(()=>[D(b,{to:`/projects/${N(r)}/tables/${x.data.id}`},{default:L(()=>[D(N(Xn),{size:"large"}),D(wn,null,{default:L(()=>[D(N(bn))]),_:1})]),_:2},1032,["to"])]),default:L(()=>[(V(!0),lt(jt,null,Ye(x.data.getColumns(),_=>(V(),ot(N(ke),{key:_.id,vertical:""},{default:L(()=>[D(N(ke),{align:"center",gap:"small",style:{position:"relative"}},{default:L(()=>[D(N(ye),{id:`target-${_.id}`,type:"target",position:N(we).Left,connectable:!1},null,8,["id","position"]),D(N(Kt),null,{default:L(()=>[Gt(Et(_.name),1)]),_:2},1024),D(N(Kt),{type:"secondary"},{default:L(()=>[Gt(Et(_.type),1)]),_:2},1024),_.primaryKey?(V(),ot(N(kn),{key:0})):Oe("",!0),D(N(ye),{id:`source-${_.id}`,type:"source",position:N(we).Right,connectable:!1},null,8,["id","position"])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),default:L(()=>[D(N(xn),{"pattern-color":"#aaa",gap:16}),D(N(Ns),{pannable:""})]),_:1},8,["nodes","edges","class"]))],64)}}});const qs=Ln(Cs,[["__scopeId","data-v-f0dbbd69"]]);export{qs as default};
//# sourceMappingURL=TablesDiagram.30f500e2.js.map
