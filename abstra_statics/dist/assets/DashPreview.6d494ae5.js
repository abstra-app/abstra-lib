import{d as v,G as y,b as n,c as k,y as r,t as p,B as c,F as D,L as P,K as g,q as w}from"./registerWidgets.fff064a1.js";import{D as B,n as q}from"./DashPlayer.56553644.js";import{a as m,L as x}from"./CircularLoading.59d7fd3d.js";import{r as R}from"./index.314cf40a.js";import{B as I}from"./BackButton.c350c17f.js";import{D as C}from"./dashes.f5f65b41.js";import{W as F}from"./workspaces.32af92db.js";import"./WidgetsFrame.cebd6d3d.js";import"./icons.907f45d7.js";import"./Modal.2ceba592.js";import"./runnerData.81f4c073.js";import"./utils.3371dfe5.js";const L=v({__name:"DashPreview",setup(E){const t=P(),s=g(),i=({id:e,type:o})=>{o==="dash"?(s.push({name:"dashPreview",params:{dashId:e},query:t.query}),_()):s.push({name:"form-preview",params:{formId:e},query:t.query})},d=()=>{var e;!((e=a.value)!=null&&e.path)||s.push(`/_editor/dash/${encodeURIComponent(a.value.path)}`)},{loading:h,result:a,refetch:_}=m(()=>C.get(t.params.dashPath)),{result:u}=m(()=>F.get()),l=y(()=>{if(!a.value||!u.value||!a.value.makeRunnerData(u.value))return null;const e=q.create(a.value.makeRunnerData(u.value),!1);return e.onRedirect(({url:o,queryParams:f})=>R(s,o,f)),e});return(e,o)=>(n(),k(D,null,[r(h)||!r(a)?(n(),p(x,{key:0,class:"loading",justify:"center"})):c("",!0),r(l)?(n(),p(B,{key:1,class:"player",dash:r(l).runnerData,"is-preview":!0,params:r(t).query,"dash-player-state":r(l),onNavigate:i},null,8,["dash","params","dash-player-state"])):c("",!0),r(a)?(n(),p(I,{key:2,onExitFullscreenPreview:d})):c("",!0)],64))}});const A=w(L,[["__scopeId","data-v-dde58483"]]);export{A as default};
//# sourceMappingURL=DashPreview.6d494ae5.js.map
