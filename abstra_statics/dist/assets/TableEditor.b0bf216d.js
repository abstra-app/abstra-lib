import{d as J,r as z,F as B,E as se,b as s,et as T,f as a,w as t,bo as F,ao as $,eB as M,ev as S,e as D,u as e,cv as re,bM as O,cC as ie,cA as Q,eA as Y,c as C,bF as V,eG as he,bG as _e,eJ as X,a as Z,ab as ae,cz as de,be as ce,t as te,G as ke,ey as pe,eC as me,eD as fe,ez as Ce,eI as we}from"./outputWidgets.149ec695.js";import{p as ve,T as De}from"./tables.b3ea0d83.js";import{B as $e}from"./BaseLayout.3f668266.js";import{a as le}from"./asyncComputed.89365f8b.js";import{p as G}from"./popupNotifcation.4f2814fb.js";import{A as ye}from"./index.1ba4f37c.js";import{F as ne}from"./Form.15d279f3.js";import{A as N}from"./FormItem.338256bd.js";import{A as oe}from"./index.8629e091.js";import"./router.35f50650.js";import"./jwt-decode.esm.74bd4619.js";import{P as Se}from"./project.c28424c8.js";import"./index.737a9c1b.js";import{O as Ie}from"./organization.3d0a6ba4.js";import{T as Ue,U as Te,V as xe,W as Ae,X as Ne,J as Ee,Y as qe}from"./icons.ce69a27b.js";import{A as H}from"./index.bacf6dde.js";import{L as ze}from"./CircularLoading.dc6ee5e5.js";import{T as Be,A as ee}from"./TabPane.6d7facbb.js";import{B as Le,a as Re,c as Oe}from"./index.3b52e48e.js";import"./record.5c1f9715.js";import"./pubsub.f0cce5f6.js";import"./string.89bd02a3.js";import"./hasIn.708aa645.js";import"./isNumeric.75337b1e.js";import"./storage.d8354481.js";import"./index.fc8ecc48.js";import"./index.cf4c23b9.js";import"./Text.726003d1.js";(function(){try{var h=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},g=new Error().stack;g&&(h._sentryDebugIds=h._sentryDebugIds||{},h._sentryDebugIds[g]="6c667973-3c69-4f92-bd7a-11cb6a74456a",h._sentryDebugIdIdentifier="sentry-dbid-6c667973-3c69-4f92-bd7a-11cb6a74456a")}catch{}})();const Pe={class:"table-data",style:{width:"calc(100% - 80px)"}},je={key:1},Ve=["onClick"],Fe=D("a",null,"Delete",-1),Me=J({__name:"TableData",props:{table:{}},setup(h){var i,p;const g=h,l=z(1),f=z(10),x=B(()=>{var c,o;return{total:(o=(c=r.value)==null?void 0:c.total)!=null?o:0,current:l.value,pageSize:f.value,totalBoundaryShowSizeChanger:10,showSizeChanger:!0,pageSizeOptions:["10","25","50","100"],onChange:async(w,P)=>{l.value=w,f.value=P,await v()}}}),m=B(()=>{var c;return((c=r.value)==null?void 0:c.rows.length)===1}),{result:r,loading:U,refetch:v}=le(()=>g.table.select({},(l.value-1)*f.value,f.value)),b=(c,o)=>w=>{if(c==="json"&&w==""){n.value[o]="null";return}n.value[o]=w},E=(i=g.table)==null?void 0:i.getColumns().map(c=>({title:c.name,dataIndex:c.name,resizable:!0,minWidth:100,ellipsis:!1})),_=z([...E,{title:"",key:"action",fixed:"right",width:150,align:"center"}]);function u(c,o){o.width=c}const y=B(()=>{var c;return((c=r.value)==null?void 0:c.rows.map(o=>({key:o.id,...o})))||[]}),I=z(!1),n=z({}),d=()=>{I.value=!0},k=()=>{n.value={},I.value=!1};let A=se((p=g.table)==null?void 0:p.getUnprotectedColumns().reduce((c,o)=>({...c,[o.name]:""}),{}));async function L(){if(!(!g.table||!A))try{n.value.id?await g.table.updateRow(n.value.id,n.value):await g.table.insertRow(n.value),n.value={},v(),k()}catch(c){c instanceof Error&&G("Database error",c.message)}}const q=async c=>{if(!(!r.value||!r.value.rows.find(o=>o.id===c)))try{await g.table.deleteRow(c),m.value&&(l.value=Math.max(1,l.value-1)),v()}catch(o){o instanceof Error&&G("Database error",o.message)}},j=c=>{var K;const o=(K=y.value)==null?void 0:K.filter(R=>c===R.key)[0],w=g.table.getColumns(),P=w.map(R=>R.name),W=w.filter(R=>R.type==="json").map(R=>R.name);n.value=X.exports.pick(X.exports.cloneDeep(o),P),W.forEach(R=>{n.value[R]&&(n.value[R]=JSON.stringify(n.value[R]))}),d()};return(c,o)=>(s(),T("div",Pe,[a(e(ie),{columns:_.value,"data-source":y.value,pagination:x.value,bordered:"",loading:e(U),scroll:{x:2e3,y:720},size:"small",onResizeColumn:u},{bodyCell:t(({column:w,text:P,record:W})=>[_.value.map(K=>K.title).includes(w.dataIndex)?(s(),T(F,{key:0},[$(M(P),1)],64)):S("",!0),w.key==="action"?(s(),T("div",je,[D("span",null,[D("a",{onClick:K=>j(W.id)},"Edit",8,Ve)]),a(e(ye),{type:"vertical"}),a(e(re),{title:"Sure to delete?",onConfirm:K=>q(W.id)},{default:t(()=>[Fe]),_:2},1032,["onConfirm"])])):S("",!0)]),footer:t(()=>[a(e(O),{type:"primary",onClick:d},{default:t(()=>[$("+ Add New Data")]),_:1})]),_:1},8,["columns","data-source","pagination","loading"]),a(e(oe),{title:"Data",width:720,open:I.value,"body-style":{paddingBottom:"80px"},"footer-style":{textAlign:"right"},onClose:k},{extra:t(()=>[a(e(Q),null,{default:t(()=>[a(e(O),{onClick:k},{default:t(()=>[$("Cancel")]),_:1}),a(e(O),{type:"primary",onClick:L},{default:t(()=>[$("Submit")]),_:1})]),_:1})]),default:t(()=>[a(e(ne),{model:n.value,layout:"vertical"},{default:t(()=>[(s(!0),T(F,null,Y(c.table.getUnprotectedColumns(),w=>(s(),C(e(N),{key:w.id,label:w.name,required:!w.nullable},{default:t(()=>[n.value?(s(),C(e(V),{key:0,placeholder:w.type,value:n.value[w.name],disabled:n.value[w.name]===null,"onUpdate:value":P=>b(w.type,w.name)(P)},he({_:2},[w.nullable?{name:"addonAfter",fn:t(()=>[a(e(_e),{checked:n.value[w.name]===null,"onUpdate:checked":P=>n.value[w.name]=P?null:""},{default:t(()=>[$(" NULL ")]),_:2},1032,["checked","onUpdate:checked"])]),key:"0"}:void 0]),1032,["placeholder","value","disabled","onUpdate:value"])):S("",!0)]),_:2},1032,["label","required"]))),128))]),_:1},8,["model"])]),_:1},8,["open"])]))}});const be=(h,g)=>g.includes(h)?{status:"error",help:"There already is a column with this name in the table"}:{status:""},Ke=J({__name:"NewColumn",props:{open:{type:Boolean},table:{}},emits:["created","cancel"],setup(h,{emit:g}){const l=h,f=B(()=>{var u;return((u=l.table)==null?void 0:u.getColumns().map(y=>y.name))||[]}),x=B(()=>be(m.value.name,f.value)),m=z({name:"",type:"varchar",default:"''",nullable:!0,unique:!1}),r=z({error:"success",message:"",fakeLoading:!1}),U=()=>{r.value.fakeLoading=!0,v()},v=X.exports.debounce(async()=>{var y;const u=`select (${m.value.default})::${m.value.type} `;(y=l.table)==null||y.executeQuery(u,[]).then(I=>{r.value.error=I.errors.length>0?"error":"success",r.value.message=I.errors[0]||"",r.value.fakeLoading=!1})},500),b=()=>{m.value={name:"",type:"varchar",default:"''",nullable:!0,unique:!1}};function E(){g("cancel")}async function _(){if(!!l.table&&!(!m.value.name||!m.value.type))try{await l.table.addColumn(m.value),b(),g("created")}catch(u){u instanceof Error&&G("Database error",u.message)}}return(u,y)=>{const I=Z("icon");return s(),C(e(oe),{title:"New column",width:720,open:l.open,"body-style":{paddingBottom:"80px"},"footer-style":{textAlign:"right"},onClose:E},{extra:t(()=>[a(e(Q),null,{default:t(()=>[a(e(O),{onClick:E},{default:t(()=>[$("Cancel")]),_:1}),a(e(O),{type:"primary",onClick:_},{default:t(()=>[$("Submit")]),_:1})]),_:1})]),default:t(()=>[a(e(ne),{model:m.value,layout:"vertical"},{default:t(()=>[a(e(N),{key:"name",label:"Name",required:!0,"validate-status":x.value.status,help:x.value.help},{default:t(()=>[a(e(V),{value:m.value.name,"onUpdate:value":y[0]||(y[0]=n=>m.value.name=n)},null,8,["value"])]),_:1},8,["validate-status","help"]),a(e(N),{key:"type",label:"Type",required:!0},{default:t(()=>[a(e(ae),{value:m.value.type,"onUpdate:value":y[1]||(y[1]=n=>m.value.type=n),"default-active-first-option":"",onChange:U},{default:t(()=>[(s(!0),T(F,null,Y(e(ve),n=>(s(),C(e(de),{key:n,value:n},{default:t(()=>[$(M(n),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),a(e(N),{key:"default-value",label:"Default value","validate-status":r.value.error,help:r.value.message},{default:t(()=>[a(e(V),{value:m.value.default,"onUpdate:value":y[2]||(y[2]=n=>m.value.default=n),onInput:U},{suffix:t(()=>[r.value.fakeLoading?(s(),C(e(ce),{key:0})):S("",!0),!r.value.fakeLoading&&r.value.error==="success"?(s(),C(I,{key:1,path:e(Ue)},null,8,["path"])):S("",!0),!r.value.fakeLoading&&r.value.error==="error"?(s(),C(I,{key:2,path:e(Te)},null,8,["path"])):S("",!0)]),_:1},8,["value"])]),_:1},8,["validate-status","help"]),a(e(N),{key:"nullable",label:"Nullable"},{default:t(()=>[a(e(H),{checked:m.value.nullable,"onUpdate:checked":y[3]||(y[3]=n=>m.value.nullable=n)},null,8,["checked"])]),_:1}),a(e(N),{key:"unique",label:"Unique"},{default:t(()=>[a(e(H),{checked:m.value.unique,"onUpdate:checked":y[4]||(y[4]=n=>m.value.unique=n)},null,8,["checked"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open"])}}}),Ge={class:"types-container"},Je={class:"fullwidth-input"},He={class:"fullwidth-input"},Qe={class:"using-container"},We={class:"fullwidth-input"},Xe=J({__name:"UpdateColumn",props:{open:{type:Boolean},table:{},column:{}},emits:["updated","cancel"],setup(h,{emit:g}){const l=h,f=B(()=>{var i;return((i=l.table)==null?void 0:i.getColumns().map(p=>p.record.initialState.name))||[]}),x=B(()=>l.column.name===l.column.record.initialState.name?{status:"",help:""}:be(l.column.name,f.value)),{result:m,loading:r}=le(async()=>l.table.select({},10,0).then(({total:i})=>i));function U(){l.column.record.resetChanges(),g("cancel")}const v=z({error:"success",message:"",fakeLoading:!1}),b=()=>{v.value.fakeLoading=!0,E()},E=X.exports.debounce(async()=>{var c;if(!l.column.default){v.value.fakeLoading=!1;return}const i=`select (${l.column.default})::${l.column.type} `,p=await((c=l.table)==null?void 0:c.executeQuery(i,[]));v.value.error=p.errors.length>0?"error":"success",v.value.message=p.errors[0]||"",v.value.fakeLoading=!1},500),_=()=>m.value===0||r.value?!1:l.column.record.hasChangesDeep("type"),u=z({type:"default"});function y(i,p){return p==="varchar"||i==="int"&&p==="boolean"||i==="boolean"&&p==="int"}const I=()=>{b(),n.value||(u.value={type:"user-defined",using:q.value,mandatory:!0})},n=B(()=>u.value.type==="default"&&y(l.column.record.initialState.type,l.column.type)),d=B(()=>!y(l.column.record.initialState.type,l.column.type));function k(i){i?u.value={type:"default"}:u.value={type:"user-defined",using:q.value,mandatory:!1}}function A(i){if(u.value.type==="default")throw new Error("Can't change using when using default casting");u.value.using=i!=null?i:""}const L=()=>d.value?!0:_()&&u.value.type==="user-defined",q=B(()=>`${l.column.record.initialState.name}::${l.column.type}`);async function j(){if(!l.column)return;let i=u.value.type==="default"?q.value:u.value.using;m.value===0&&(i=`${l.column.name}::text::${l.column.type}`);try{await l.column.update(i),g("updated")}catch(p){p instanceof Error&&G("Database error",p.message)}}return(i,p)=>{const c=Z("icon");return s(),C(e(oe),{title:"Edit column",width:720,open:i.open,"body-style":{paddingBottom:"80px"},"footer-style":{textAlign:"right"},onClose:U},{extra:t(()=>[a(e(Q),null,{default:t(()=>[a(e(O),{onClick:U},{default:t(()=>[$("Cancel")]),_:1}),a(e(O),{type:"primary",onClick:j},{default:t(()=>[$("Submit")]),_:1})]),_:1})]),default:t(()=>[a(e(ne),{model:i.column,layout:"vertical"},{default:t(()=>[a(e(N),{key:"name",label:"Name","validate-status":x.value.status,help:x.value.help},{default:t(()=>[a(e(V),{value:i.column.name,"onUpdate:value":p[0]||(p[0]=o=>i.column.name=o)},null,8,["value"])]),_:1},8,["validate-status","help"]),D("div",Ge,[D("span",Je,[a(e(N),{key:"type",label:"Current Type"},{default:t(()=>[a(e(ae),{value:i.column.record.initialState.type,"onUpdate:value":p[1]||(p[1]=o=>i.column.record.initialState.type=o),"default-active-first-option":"",disabled:""},null,8,["value"])]),_:1})]),a(c,{class:"right-arrow",path:e(xe)},null,8,["path"]),D("span",He,[a(e(N),{key:"new-type",label:"New Type"},{default:t(()=>[a(e(ae),{value:i.column.type,"onUpdate:value":p[2]||(p[2]=o=>i.column.type=o),"default-active-first-option":"",onChange:p[3]||(p[3]=o=>I())},{default:t(()=>[(s(!0),T(F,null,Y(e(ve),o=>(s(),C(e(de),{key:o,value:o},{default:t(()=>[$(M(o),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})])]),a(e(N),{key:"default-value",label:"Default value","validate-status":v.value.error,help:v.value.message},{default:t(()=>[a(e(V),{value:i.column.default,"onUpdate:value":p[4]||(p[4]=o=>i.column.default=o),onInput:b},{suffix:t(()=>[v.value.fakeLoading?(s(),C(e(ce),{key:0,size:"small"})):S("",!0),!v.value.fakeLoading&&v.value.error==="success"?(s(),C(c,{key:1,path:e(Ae),width:"18",height:"18"},null,8,["path"])):S("",!0),!v.value.fakeLoading&&v.value.error==="error"?(s(),C(c,{key:2,path:e(Ne),width:"18",height:"18"},null,8,["path"])):S("",!0)]),_:1},8,["value"])]),_:1},8,["validate-status","help"]),D("div",Qe,[_()?(s(),C(e(N),{key:"default-casting",label:"Use default casting"},{default:t(()=>[a(e(H),{checked:n.value,disabled:d.value,"onUpdate:checked":p[5]||(p[5]=o=>k(!!o))},null,8,["checked","disabled"])]),_:1})):S("",!0),D("span",We,[_()?(s(),C(e(N),{key:"using",label:"Using"},{default:t(()=>[a(e(V),{value:u.value.type==="user-defined"?u.value.using:q.value,disabled:!L(),onInput:p[6]||(p[6]=o=>A(o.target.value))},null,8,["value","disabled"])]),_:1})):S("",!0)])]),a(e(N),{key:"nullable",label:"Nullable"},{default:t(()=>[a(e(H),{checked:i.column.nullable,"onUpdate:checked":p[7]||(p[7]=o=>i.column.nullable=o)},null,8,["checked"])]),_:1}),a(e(N),{key:"unique",label:"Unique"},{default:t(()=>[a(e(H),{checked:i.column.unique,"onUpdate:checked":p[8]||(p[8]=o=>i.column.unique=o)},null,8,["checked"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open"])}}});const Ye=te(Xe,[["__scopeId","data-v-2dd03764"]]),ge=h=>(me("data-v-dc242058"),h=h(),fe(),h),Ze={class:"table-settings"},ea={key:0},aa=ge(()=>D("span",null," protected ",-1)),ta=[aa],la={key:1},na=["onClick"],oa=ge(()=>D("a",null,"Delete",-1)),ua=J({__name:"TableColumns",props:{table:{},loading:{type:Boolean}},emits:["refresh"],setup(h,{emit:g}){var n;const l=h,f=z(l.loading);ke(()=>l.loading,()=>{f.value=l.loading});const x=pe();(n=l.table)==null||n.onUpdate(()=>{var d;x.replace({name:"tableEditor",params:{tableName:(d=l.table)==null?void 0:d.name}})});const r=[...[{title:"Name",dataIndex:"name",sorter:(d,k)=>d.name.localeCompare(k.name)},{title:"Type",dataIndex:"type",sorter:(d,k)=>d.type.localeCompare(k.type)},{title:"Default Value",dataIndex:"default",sorter:(d,k)=>{var A,L,q,j;return(j=(q=d.default)==null?void 0:q.localeCompare((L=(A=k.default)==null?void 0:A.toString())!=null?L:""))!=null?j:0}},{title:"Nullable",dataIndex:"nullable",sorter:(d,k)=>d.nullable||!k.nullable?1:-1},{title:"Unique",dataIndex:"unique",sorter:(d,k)=>d.unique||!k.unique?1:-1},{title:"Primary Key",dataIndex:"primaryKey",sorter:(d,k)=>d.primaryKey||!k.primaryKey?1:-1}],{title:"",key:"action"}],U=B(()=>{var d;return(d=l.table)==null?void 0:d.getColumns()});function v(){_.value={type:"idle"}}function b(){v(),f.value=!0,setTimeout(()=>{g("refresh")},500)}function E(){_.value={type:"creating"}}const _=z({type:"idle"});function u(d){var k,A;(A=(k=l.table)==null?void 0:k.getColumn(d))==null||A.delete(),f.value=!0,setTimeout(()=>{g("refresh")},500)}const y=d=>{var k,A,L;return(L=(A=(k=l.table)==null?void 0:k.getColumn(d))==null?void 0:A.protected)!=null?L:!1},I=d=>{if(!l.table)throw new Error("Table not found");_.value={type:"editing",column:l.table.getColumn(d)}};return(d,k)=>(s(),T("div",Ze,[a(e(ie),{columns:r,"data-source":U.value,bordered:"",loading:f.value,pagination:!1},{bodyCell:t(({column:A,text:L,record:q})=>[A.key!=="action"?(s(),T(F,{key:0},[$(M(L),1)],64)):(s(),T(F,{key:1},[y(q.id)?(s(),T("div",ea,ta)):(s(),T("div",la,[D("span",null,[D("a",{onClick:()=>I(q.id)},"Edit",8,na)]),a(e(ye),{type:"vertical"}),a(e(re),{title:"Sure to delete?",onConfirm:j=>u(q.id)},{default:t(()=>[oa]),_:2},1032,["onConfirm"])]))],64))]),footer:t(()=>[a(e(O),{type:"primary",onClick:E},{default:t(()=>[$("+ Add New Column")]),_:1})]),_:1},8,["data-source","loading"]),d.table&&_.value.type==="creating"?(s(),C(Ke,{key:0,open:"",table:l.table,onClose:v,onCancel:v,onCreated:b},null,8,["table"])):S("",!0),d.table&&_.value.type==="editing"?(s(),C(Ye,{key:1,column:_.value.column,open:"",table:d.table,onUpdated:b,onClose:v,onCancel:v},null,8,["column","table"])):S("",!0)]))}});const sa=te(ua,[["__scopeId","data-v-dc242058"]]),ue=h=>(me("data-v-06f57b7a"),h=h(),fe(),h),ra={class:"table-settings"},ia=ue(()=>D("h2",{class:"title"},"Table settings",-1)),da=ue(()=>D("div",{class:"subtitle"},"Edit table metadata",-1)),ca={key:0,class:"table-presenter"},pa={class:"table-property-item"},ma={class:"property-item"},fa={key:1},va={class:"change-warning"},ya={class:"section-title"},ba=ue(()=>D("div",{class:"section-body"}," Changing the table's name can possibly result in the break of running applications. ",-1)),ga={class:"table-name-value-input"},ha={key:0,class:"error"},_a=J({__name:"TableSettings",props:{table:{}},emits:["refresh"],setup(h,{emit:g}){const l=h,f=se({error:"",editing:!1,loading:!1}),x=()=>f.editing=!0,m=()=>{l.table.resetChanges(),f.editing=!1,f.error=""},r=async()=>{f.error="",f.loading=!0;try{await U()}catch(b){b instanceof Error&&(G("Database error",b.message),f.error=b.message)}f.error||(f.editing=!1),f.loading=!1},U=async()=>{if(!l.table.name){f.error="Table name cannot be empty";return}try{await l.table.save(),g("refresh")}catch(b){b instanceof Error&&(G("Database error",b.message),f.error=b.message)}},v=b=>{l.table.name=b.target.value};return(b,E)=>{var u;const _=Z("icon");return s(),T("div",ra,[ia,da,f.editing?(s(),T("div",fa,[D("div",va,[D("div",ya,[a(_,{path:e(Ee),width:"12",height:"12",fill:"#D35249"},null,8,["path"]),$(" Be careful ")]),ba]),a(e(Q),{direction:"vertical"},{default:t(()=>[D("div",ga,[a(e(V),{value:b.table.name,type:"text",onInput:v,onBlur:E[0]||(E[0]=y=>b.table.fixTraillingName())},null,8,["value"])]),f.error?(s(),T("div",ha,[a(_,{path:e(qe),fill:"#D35249",width:"12",height:"12"},null,8,["path"]),$(" "+M(f.error),1)])):S("",!0),a(e(Q),null,{default:t(()=>[a(e(O),{onClick:m},{default:t(()=>[$("Cancel")]),_:1}),a(e(O),{type:"primary",disabled:!b.table.hasChangesDeep("name"),onClick:r},{default:t(()=>[$(" Save Changes "),f.loading?(s(),C(ze,{key:0,size:"16"})):S("",!0)]),_:1},8,["disabled"])]),_:1})]),_:1})])):(s(),T("div",ca,[D("div",pa,[D("div",ma,"Name: "+M((u=b.table)==null?void 0:u.name),1)]),a(e(O),{onClick:x},{default:t(()=>[$("Edit Name")]),_:1})]))])}}});const ka=te(_a,[["__scopeId","data-v-06f57b7a"]]),Wa=J({__name:"TableEditor",setup(h){const g=pe(),l=Ce(),f=l.params.tableId,x=l.params.projectId,m=z("data"),{result:r,loading:U,refetch:v}=le(()=>Promise.all([Se.get(x).then(async _=>{const u=await Ie.get(_.organizationId);return{project:_,organization:u}}),De.get(x,f)]).then(([{project:_,organization:u},y])=>we({project:_,organization:u,table:y}))),b=B(()=>!U.value&&r.value?[{label:"My organizations",path:"/organizations"},{label:r.value.organization.name,path:`/organizations/${r.value.organization.id}`},{label:r.value.project.name,path:`/projects/${r.value.project.id}/tables`}]:void 0);function E(){g.push({name:"tables",params:{projectId:x}})}return(_,u)=>{const y=Z("router-link");return s(),C($e,null,{navbar:t(()=>{var I;return[a(e(Oe),{title:(I=e(r))==null?void 0:I.table.name,style:{padding:"5px 25px"},onBack:E},{footer:t(()=>[a(e(Be),{"active-key":m.value,"onUpdate:activeKey":u[0]||(u[0]=n=>m.value=n)},{default:t(()=>[a(e(ee),{key:"columns",tab:"Columns"}),a(e(ee),{key:"data",tab:"Data"}),a(e(ee),{key:"settings",tab:"Settings"})]),_:1},8,["active-key"])]),breadcrumb:t(()=>[b.value?(s(),C(e(Le),{key:0},{default:t(()=>[(s(!0),T(F,null,Y(b.value,(n,d)=>(s(),C(e(Re),{key:d},{default:t(()=>[a(y,{to:n.path},{default:t(()=>[$(M(n.label),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})):S("",!0)]),_:1},8,["title"])]}),content:t(()=>[e(r)&&m.value==="columns"?(s(),C(sa,{key:0,table:e(r).table,loading:e(U),onRefresh:u[1]||(u[1]=I=>e(v)())},null,8,["table","loading"])):S("",!0),e(r)&&m.value==="data"?(s(),C(Me,{key:1,loading:e(U),table:e(r).table},null,8,["loading","table"])):S("",!0),e(r)&&m.value==="settings"?(s(),C(ka,{key:2,table:e(r).table,loading:e(U),onRefresh:u[2]||(u[2]=I=>e(v)())},null,8,["table","loading"])):S("",!0)]),_:1})}}});export{Wa as default};
//# sourceMappingURL=TableEditor.b0bf216d.js.map
