import{r as l,c as u,ac as y}from"./jwt-decode.esm-fjkZIee2.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s=new Error().stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="94b1d487-90c6-4ae1-bdff-57aafcaeb03d",e._sentryDebugIdIdentifier="sentry-dbid-94b1d487-90c6-4ae1-bdff-57aafcaeb03d")}catch{}})();function p({api:e,fetchTasks:s}){const a=l({state:"idle"}),n=()=>{a.value={state:"idle"}},d=()=>{a.value={state:"creating",name:"My task",payloadCode:`{
    "key": "value"
  }`}},c=async r=>{const t=a.value;if(t.state!=="creating")throw new Error("Payload is required to create a task");if(!o.value)return;const i=JSON.parse(t.payloadCode),f=await e.createTask(t.name,r,i);return await s(),n(),f},o=u(()=>{const r=a.value;if(r.state!=="creating")return!1;try{const t=JSON.parse(r.payloadCode);return y.isObject(t)}catch{return!1}});return{createTask:c,creatingTaskState:a,cancelCreatingTask:n,startCreatingTask:d,isPayloadValid:o}}export{p as T};
//# sourceMappingURL=taskCreator-npH8CQ_s.js.map
