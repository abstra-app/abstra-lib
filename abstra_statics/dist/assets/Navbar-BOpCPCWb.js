import{_ as E}from"./logo-BiWG9_W5.js";import{_ as C}from"./AbstraButton.vue_vue_type_script_setup_true_lang-BIjGauJ1.js";import{A as F}from"./constants-DWbxCu8u.js";import{a as w,r as z,k as h,b as _,f as n,g as d,h as t,t as i,u as e,b3 as M,bO as B,$ as G,aK as A,af as N,a7 as U,b4 as T,w as a,i as v,bf as P,m as k,T as K,bh as R,B as x,bi as D,Q as O,Z as S,bj as I,c4 as j,ac as H,H as q,c as Q,c5 as Z,ab as J,ba as W,b5 as X,e as V,c6 as Y}from"./jwt-decode.esm-BicT5bVN.js";import{G as ee}from"./PhNotePencil.vue-DC7QVlFn.js";import{a as ae}from"./asyncComputed-B7wN3TEJ.js";import{G as te,F as ne,a as oe,b as se}from"./PhTranslate.vue-DzvQPGyh.js";import{F as le}from"./PhSignOut.vue-De9yApdF.js";import{b as L,C as re}from"./router-DgySwpZX.js";import{S as ie,B as ue,A as ce}from"./index-DZ7gB_3o.js";import{A as de}from"./index-DbHHXRkZ.js";import{u as pe}from"./organizationSwitcher-Nao_35DK.js";import{O as me}from"./organization-DLs7Xqs9.js";import"./tables-Dghgxh0i.js";import{I as fe}from"./PhPlus.vue-CxZ8YRJU.js";import{u as ge}from"./omniChatStore-BHaCEeok.js";import{G as _e}from"./PhSparkle.vue-Dozz7bpr.js";import{A as be}from"./index-Z1CTzTd9.js";(function(){try{var o=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},y=new Error().stack;y&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[y]="32039de3-f3ef-4599-aeb4-2bfae63557d5",o._sentryDebugIdIdentifier="sentry-dbid-32039de3-f3ef-4599-aeb4-2bfae63557d5")}catch{}})();const ye=w({__name:"EditableBreadcrumbItem",props:{modelValue:{}},emits:["update:modelValue"],setup(o,{emit:y}){const s=o,p=y,u=z(!1),l=z(""),m=z(null);function r(){l.value=s.modelValue,u.value=!0,G(()=>{m.value?.focus?.()})}function f(){l.value.trim()&&l.value!==s.modelValue&&p("update:modelValue",l.value.trim()),u.value=!1}function c(){u.value=!1}return(b,g)=>u.value?(n(),_(e(M),{key:1,ref_key:"inputRef",ref:m,value:l.value,"onUpdate:value":g[0]||(g[0]=$=>l.value=$),size:"small",class:"edit-input",onBlur:f,onKeydown:[B(f,["enter"]),B(c,["escape"])]},null,8,["value"])):(n(),h("span",{key:0,class:"editable-item",onClick:r},[d(i(o.modelValue)+" ",1),t(e(ee),{class:"edit-icon",size:"14"})]))}}),ve=A(ye,[["__scopeId","data-v-e67e9e4c"]]),ke={key:1,style:{display:"flex","align-items":"center",gap:"16px"}},he={style:{display:"flex","flex-direction":"column",gap:"10px"}},ze={style:{display:"flex",gap:"5px"}},we={style:{display:"flex",gap:"5px"}},xe=w({__name:"LoginBlock",setup(o){function y(f){const c=f.split("@")[0];return H.kebabCase(c).toUpperCase().split("-").slice(0,2).map(b=>b[0]).join("")}const s=N(),{result:p,loading:u,refetch:l}=ae(async()=>L.getAuthor());async function m(){await L.logout(),re.shutdown(),l(),s.push({name:"login"})}function r(f){localStorage.setItem("locale",String(f.key)),window.location.reload()}return(f,c)=>{const b=U("RouterLink");return e(u)?(n(),_(e(T),{key:0})):e(p)?(n(),h("div",ke,[t(C,{class:"intercom-launcher",target:"_blank",type:"link",size:"small"},{default:a(()=>[t(e(te)),d(" "+i(e(v).translate("i18n_loginblock_support")),1)]),_:1}),t(e(P),{placement:"bottomRight"},{content:a(()=>[k("div",he,[t(e(K),{size:"small",type:"secondary"},{default:a(()=>[d(i(e(p).claims.email),1)]),_:1}),t(e(R),{trigger:["click"]},{overlay:a(()=>[t(e(D),{onClick:r},{default:a(()=>[(n(!0),h(O,null,S(e(j),g=>(n(),_(e(I),{key:g.key},{default:a(()=>[d(i(g.value),1)]),_:2},1024))),128))]),_:1})]),default:a(()=>[t(e(x),{type:"text"},{default:a(()=>[k("div",ze,[t(e(ne),{size:"20"}),d(" "+i(e(v).translate("i18n_loginblock_language")),1)])]),_:1})]),_:1}),t(e(x),{type:"text",onClick:m},{default:a(()=>[k("div",we,[t(e(le),{size:"20"}),d(" "+i(e(v).translate("i18n_loginblock_logout")),1)])]),_:1})])]),default:a(()=>[t(e(ie),{align:"center",style:{cursor:"pointer"}},{default:a(()=>[t(e(de),{shape:"square"},{default:a(()=>[d(i(y(e(p).claims.email)),1)]),_:1})]),_:1})]),_:1})])):(n(),_(e(x),{key:2},{default:a(()=>[t(b,{to:"/login"},{default:a(()=>[d(i(e(v).translate("i18n_loginblock_login")),1)]),_:1})]),_:1}))}}}),Ce={class:"organization-switcher ant-dropdown-trigger"},Ie={class:"create-item"},Ae=w({__name:"OrganizationSwitcher",props:{organizationId:{}},setup(o){const y=o,s=pe(),p=z(!1),u=z("");q(()=>{s.organizations.length===0&&s.fetchOrganizations()});const l=Q(()=>s.organizations.find(b=>b.id===y.organizationId)?.name||"Select Organization"),m=c=>{s.selectOrganization(c)},r=()=>{u.value="",p.value=!0},f=async()=>{if(u.value)try{const c=await me.create(u.value);await s.fetchOrganizations(),s.selectOrganization(c.id),p.value=!1}catch(c){console.error("Failed to create organization",c)}};return(c,b)=>(n(),h("span",null,[t(e(R),{trigger:["click"]},{overlay:a(()=>[t(e(D),{"selected-keys":o.organizationId?[o.organizationId]:[]},{default:a(()=>[(n(!0),h(O,null,S(e(s).organizations,g=>(n(),_(e(I),{key:g.id,onClick:$=>m(g.id)},{default:a(()=>[d(i(g.name),1)]),_:2},1032,["onClick"]))),128)),t(e(Z)),t(e(I),{onClick:r},{default:a(()=>[k("div",Ie,[t(e(fe)),d(" "+i(e(v).translate("i18n_organizations_create_organization")),1)])]),_:1})]),_:1},8,["selected-keys"])]),default:a(()=>[k("span",Ce,[d(i(l.value)+" ",1),t(e(oe),{class:"icon"})])]),_:1}),t(e(J),{open:p.value,"onUpdate:open":b[1]||(b[1]=g=>p.value=g),title:e(v).translate("i18n_organizations_create_organization"),onOk:f},{default:a(()=>[t(e(W),{layout:"vertical"},{default:a(()=>[t(e(X),{label:e(v).translate("i18n_organizations_organization_name")},{default:a(()=>[t(e(M),{value:u.value,"onUpdate:value":b[0]||(b[0]=g=>u.value=g),onPressEnter:f},null,8,["value"])]),_:1},8,["label"])]),_:1})]),_:1},8,["open","title"])]))}}),Oe=A(Ae,[["__scopeId","data-v-400bedd9"]]),Se={key:3},$e={class:"extra"},Be=w({__name:"Navbar",props:{breadcrumb:{},showAiSparkles:{type:Boolean}},emits:["update:breadcrumb-label"],setup(o){const y=o,s=ge(),p=N();function u(){const l=y.breadcrumb?.find(m=>m.type==="organization-switcher");l?.organizationId?p.push(`/organizations/${l.organizationId}`):p.push("/")}return(l,m)=>(n(),_(e(be),{style:{padding:"5px 25px",border:"1px solid #f0f0f0"},"back-icon":null},{title:a(()=>[k("div",{class:"logo-container",onClick:u},[...m[1]||(m[1]=[k("img",{src:E,alt:"Abstra Logo",class:"logo"},null,-1),k("span",{class:"logo-text"},"Abstra",-1)])])]),subTitle:a(()=>[o.breadcrumb?(n(),_(e(ue),{key:0},{default:a(()=>[(n(!0),h(O,null,S(o.breadcrumb,(r,f)=>(n(),_(e(ce),{key:f},{default:a(()=>[r.type==="organization-switcher"?(n(),_(Oe,{key:0,"organization-id":r.organizationId},null,8,["organization-id"])):r.type==="editable"?(n(),_(ve,{key:1,"model-value":r.label,"onUpdate:modelValue":c=>l.$emit("update:breadcrumb-label",{index:f,label:c})},null,8,["model-value","onUpdate:modelValue"])):r.path?(n(),_(e(Y),{key:2,to:r.path},{default:a(()=>[d(i(r.label),1)]),_:2},1032,["to"])):(n(),h("span",Se,i(r.label),1))]),_:2},1024))),128))]),_:1})):V("",!0)]),extra:a(()=>[k("div",$e,[o.showAiSparkles?(n(),_(C,{key:0,type:"link",onClick:m[0]||(m[0]=r=>e(s).toggle())},{default:a(()=>[t(e(_e)),d(" "+i(e(v).translate("i18n_consolenavbar_ai_assistant")),1)]),_:1})):V("",!0),t(C,{href:e(F).DOCS,target:"_blank",type:"link"},{default:a(()=>[t(e(se)),d(" "+i(e(v).translate("i18n_consolenavbar_docs")),1)]),_:1},8,["href"]),t(xe)])]),_:1}))}}),Je=A(Be,[["__scopeId","data-v-32a6ae24"]]);export{Je as N};
//# sourceMappingURL=Navbar-BOpCPCWb.js.map
