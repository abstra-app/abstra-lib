import{S as E}from"./SaveButton.dae41db2.js";import{C as V}from"./CrudView.ee7bd94c.js";import{a as x}from"./asyncComputed.b76c5ecd.js";import{u as h}from"./polling.19328705.js";import{o as b}from"./omniChatStore.7e171021.js";import{a as A}from"./controller.dde7aa04.js";import{d as F,J as B,aj as I,o as d,K as S,u as e,c,ec as T,w as t,F as m,aL as U,b as i,az as u,bM as D,ea as y,cr as L,d5 as M,cx as N,cs as O,cE as P}from"./index.37aa498c.js";import{A as j}from"./index.9a2bc42b.js";(function(){try{var r=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s=new Error().stack;s&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[s]="7a52ad1d-a5a9-42a5-9a74-d3e2a15c8bbb",r._sentryDebugIdIdentifier="sentry-dbid-7a52ad1d-a5a9-42a5-9a74-d3e2a15c8bbb")}catch{}})();const Q=F({__name:"View",props:{envVarRepository:{},mode:{},fileOpener:{}},setup(r){const s=r,{result:a,loading:g,refetch:k}=x(async()=>{const o=await A.create(s.envVarRepository,s.mode,s.fileOpener);return w(),o}),{startPolling:w,endPolling:C}=h({task:()=>{var o;return(o=a.value)==null?void 0:o.pollingFunction()},interval:2e3}),_={columns:[],rows:[]};return B(()=>{const o=b.subscribe("envVarCreated",()=>{k()});I(()=>{C(),b.unsubscribe(o)})}),(o,l)=>{var p,v;return d(),S(U,null,[e(a)?(d(),c(V,{key:0,"entity-name":"Env var",loading:e(g),title:"Environment Variables",description:"Set environment variables for your project.","empty-title":"No environment variables set",table:e(a).table()||_,"create-button-text":"Add Environment Variable",create:e(a).create,fields:e(a).creationFields||[],live:e(a).isLocalEditor},T({_:2},[(p=e(a))!=null&&p.isLocalEditor?{name:"secondary",fn:t(()=>{var n;return[i(e(D),{onClick:(n=e(a))==null?void 0:n.openEnvFile},{default:t(()=>[u("Open .env")]),_:1},8,["onClick"])]}),key:"0"}:void 0,(v=e(a))!=null&&v.isLocalEditor?{name:"extra",fn:t(()=>[i(e(j),{"show-icon":"",style:{"margin-top":"20px"}},{message:t(()=>[u(" This is simply a helper to manage your environment variables locally. The variables set here will not be deployed to Cloud with your project. ")]),_:1})]),key:"1"}:void 0,e(a)?{name:"more",fn:t(()=>[i(E,{model:e(a),disabled:!e(a).hasChanges()},{"with-changes":t(()=>[u(y(e(a).saveMessage),1)]),_:1},8,["model","disabled"])]),key:"2"}:void 0]),1032,["loading","table","create","fields","live"])):m("",!0),e(a)?(d(),c(e(P),{key:1,open:e(a).isUpdating,title:"Update value",onCancel:l[1]||(l[1]=n=>{var f;return(f=e(a))==null?void 0:f.cancelUpdate()}),onOk:l[2]||(l[2]=()=>{var n;return(n=e(a))==null?void 0:n.confirmUpdate()})},{default:t(()=>[e(a).state.value.type==="updating"?(d(),c(e(L),{key:0,layout:"vertical"},{default:t(()=>[i(e(O),null,{default:t(()=>[i(e(M),null,{default:t(()=>[u(y(e(a).state.value.name),1)]),_:1}),i(e(N),{value:e(a).state.value.value,"onUpdate:value":l[0]||(l[0]=n=>e(a).state.value.value=n)},null,8,["value"])]),_:1})]),_:1})):m("",!0)]),_:1},8,["open"])):m("",!0)],64)}}});export{Q as _};
//# sourceMappingURL=View.vue_vue_type_script_setup_true_lang.dca8e8fa.js.map
