import{_ as x}from"./AbstraButton.vue_vue_type_script_setup_true_lang.d9ebb2bb.js";import{F as H}from"./PhKey.vue.e9cb45cf.js";import{G as T}from"./PhPencil.vue.9093cc18.js";import{f as v,c as k}from"./vue-flow-core.e9f8d1f7.js";import{d as $,c as f,j as z,o,a as d,b as l,f as i,u as t,A as D,g as h,t as p,h as c,dj as y,ac as V,ej as A,eh as b,df as _,aY as E,_ as L}from"./jwt-decode.esm.20a3af4b.js";import{C as F}from"./Card.42ab9cfd.js";(function(){try{var u=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},m=new Error().stack;m&&(u._sentryDebugIds=u._sentryDebugIds||{},u._sentryDebugIds[m]="c38c7852-5705-4c9b-b1a2-5811e6c26079",u._sentryDebugIdIdentifier="sentry-dbid-c38c7852-5705-4c9b-b1a2-5811e6c26079")}catch{}})();const K=$({__name:"TableCard",props:{table:{},projectId:{},showHandles:{type:Boolean},maxVisibleColumns:{},connectedColumns:{},highlightedColumns:{},isHighlighted:{type:Boolean},showEditButton:{type:Boolean,default:!0}},emits:["dblclick"],setup(u,{emit:m}){const n=u,g=f(()=>{var e;return(e=n.maxVisibleColumns)!=null?e:5}),w=f(()=>n.table.getColumns().slice(0,g.value)),I=f(()=>n.table.getColumns().length>g.value),j=f(()=>!n.highlightedColumns||n.highlightedColumns.length===0?!1:n.table.getColumns().slice(g.value).some(a=>{var r;return a.id&&((r=n.highlightedColumns)==null?void 0:r.includes(a.id))})),B=e=>{var a,r;return(r=(a=n.connectedColumns)==null?void 0:a.includes(e))!=null?r:!1};return(e,a)=>{const r=z("RouterLink");return o(),d(t(F),{hoverable:!0,class:b(["table-card",{"table-highlighted":e.isHighlighted}]),onDblclick:a[0]||(a[0]=s=>m("dblclick"))},{title:l(()=>[i(t(y),{align:"center",justify:"space-between"},{default:l(()=>[i(t(D),{level:5,style:{margin:"0"}},{default:l(()=>[h(p(e.table.name),1)]),_:1}),e.showEditButton?(o(),d(r,{key:0,to:`/projects/${e.projectId}/tables/${e.table.id}`},{default:l(()=>[i(x,{size:"small",type:"text"},{default:l(()=>[i(t(T),{size:16})]),_:1})]),_:1},8,["to"])):c("",!0)]),_:1})]),default:l(()=>[i(t(y),{vertical:"",gap:"small",class:"columns-list"},{default:l(()=>[(o(!0),V(E,null,A(w.value,s=>{var C;return o(),d(t(y),{key:s.id,align:"center",gap:"small",class:b(["column-row",{"column-highlighted":s.id&&((C=e.highlightedColumns)==null?void 0:C.includes(s.id))}])},{default:l(()=>[e.showHandles&&s.foreignKey?(o(),d(t(v),{key:0,id:`target-${s.id}`,type:"target",position:t(k).Left,connectable:!1},null,8,["id","position"])):c("",!0),s.primaryKey?(o(),d(t(H),{key:1,size:14,class:"key-icon"})):c("",!0),i(t(_),{strong:"",style:{flex:"1","font-size":"13px","line-height":"1"}},{default:l(()=>[h(p(s.name),1)]),_:2},1024),i(t(_),{type:"secondary",style:{"line-height":"1"}},{default:l(()=>[h(p(s.type),1)]),_:2},1024),e.showHandles&&(s.primaryKey||s.id&&B(s.id))?(o(),d(t(v),{key:2,id:`source-${s.id}`,type:"source",position:t(k).Right,connectable:!1},null,8,["id","position"])):c("",!0)]),_:2},1032,["class"])}),128)),I.value?(o(),d(t(y),{key:0,justify:"center",align:"center",style:{"padding-top":"8px"},class:b({"more-columns-highlighted":j.value})},{default:l(()=>[i(t(_),{type:"secondary",style:{"font-size":"12px"}},{default:l(()=>[h(" +"+p(e.table.getColumns().length-g.value)+" more columns ",1)]),_:1})]),_:1},8,["class"])):c("",!0)]),_:1})]),_:1},8,["class"])}}});const Y=L(K,[["__scopeId","data-v-e197befa"]]);export{Y as T};
//# sourceMappingURL=TableCard.335197ec.js.map
