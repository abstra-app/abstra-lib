var AB=Object.defineProperty;var _B=(n,e,t)=>e in n?AB(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ye=(n,e,t)=>(_B(n,typeof e!="symbol"?e+"":e,t),t),Oy=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var Y=(n,e,t)=>(Oy(n,e,"read from private field"),t?t.call(n):e.get(n)),Ee=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},de=(n,e,t,r)=>(Oy(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t);var Hp=(n,e,t)=>(Oy(n,e,"access private method"),t);import{a as Hh}from"./asyncComputed.49c1c9d0.js";import{dW as Vh,ed as TB,dZ as EB,ee as p_,ef as m_,eg as OB,eh as IB,ei as g_,ej as Sk,ek as DB,el as NB,em as LB,en as PB,eo as RB,ep as $B,e9 as BB,eq as Ck,er as FB,es as zB,et as HB,eu as VB,ev as qB,aP as i4,d as he,at as ke,c as W,o as x,ac as P,ae as tt,h as ue,ew as Xt,e as F,f as A,ex as s4,ey as WB,v as vs,r as V,a as U,b as T,u as g,t as X,i as z,dj as Me,ez as si,b0 as Ri,_ as bt,eA as y_,w as Et,aA as bo,X as On,ax as J1,eB as wt,aY as Ve,S as qh,g as te,df as Ht,W as or,bY as ft,bT as Wh,d9 as as,eC as u5,ad as ls,eD as rr,eE as jB,cQ as ao,K as oe,eF as Pf,eG as ZB,a0 as jh,Z as xe,eH as Ai,eI as c5,cS as y0,bQ as qt,eJ as ko,eK as Yc,cU as Mk,de as Zh,cy as Ak,bE as R6,bD as iu,cP as _k,eL as $6,bW as Tk,j as qa,eM as v_,b4 as o4,b5 as w_,cY as ml,cX as UB,aI as xo,T as _o,cW as GB,cV as Ek,dd as b_,eN as k_,A as uo,al as Xu,eO as x_,cE as yt,cD as li,cK as B6,eP as Ok,eQ as Ik,eR as Dk,M as mc,cA as KB,bG as Jc,c$ as YB,eS as JB,$ as Qu,db as Iy,cG as Zm,eT as Nk,z as le,D as qs,aR as v0,eU as XB,eV as h5,eW as QB,eX as eF,eY as tF,eZ as nF,e_ as rF,cJ as Um,cM as iF,ec as d5,e$ as sF,dy as oF,f0 as aF}from"./jwt-decode.esm.c4b98d7d.js";import{a as lF,b as uF,c as cF,d as hF,e as dF,f as fF,g as pF,h as mF,i as gF,j as yF,k as vF,l as wF,m as bF,n as kF,o as xF,p as SF,q as CF}from"./contracts.generated.6e3da51f.js";import{L as Gi}from"./linters.bbd106ab.js";import{D as MF,b as AF,c as _F,d as Lk,m as Xg,S as Pk,u as TF}from"./workspaceStore.ac65cda2.js";import{E as S_,A as EF}from"./record.881cee9d.js";import{i as OF}from"./colorHelpers.62708a7f.js";import{_ as IF,C as DF}from"./ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js";import{s as a4,i as NF,w as l4}from"./metadata.553a8faf.js";import{g as LF}from"./datetime.7aeed929.js";import{G as PF,F as RF,a as Qg,I as $F}from"./PhWarningCircle.vue.518a1749.js";import{L as BF,S as FF,a as zF,u as C_,H as HF,o as io}from"./omniChatStore.f6ab1295.js";import{T as f5,A as Rf,C as M_}from"./Card.4787206a.js";import{B as mu,j as p5,A as zu,C as X1,h as VF,T as qF,d as WF,f as A_,e as __,p as Rk,c as w0,b as jF,D as ZF}from"./router.27d1a8af.js";import{u as T_,E as UF,L as GF,a as KF}from"./ExecutionContext.977d721e.js";import{a as m5}from"./ant-design.ec0a9c25.js";import{c as E_,n as YF,a as O_,h as JF}from"./string.b7aef662.js";import{O as XF,G as QF,F as ez,I as tz}from"./OmniChat.70b1f8b6.js";import{_ as Xi}from"./AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js";import{_ as g5}from"./AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js";import{A as $k}from"./constants.3ee86283.js";import{F as Bk,G as nz,a as rz}from"./PhTranslate.vue.cc9bfd2e.js";import{u as ec,E as iz}from"./editor.8b127d48.js";import{F as Uh}from"./PhArrowSquareOut.vue.3ed55946.js";import{D as Dy,I as I_,G as sz,F as oz}from"./PhRocket.vue.3b76a734.js";import{F as Fk}from"./PhSignOut.vue.0a73e68d.js";import{u as b0}from"./useCodebaseEvents.a1a84614.js";import{G as az}from"./PhDownloadSimple.vue.30f3e176.js";import{A as Ds}from"./index.2bd3d989.js";import{G as D_}from"./PhFilePlus.vue.d58adf4f.js";import{G as y5}from"./PhPencilSimple.vue.025ed22a.js";import{L as lz}from"./LoadingOutlined.966f26ba.js";import{C as uz}from"./CloseCircleOutlined.0380d948.js";import{b as Gh}from"./index.ef071cd4.js";import{i as N_}from"./file.9f4cc830.js";import{G as L_}from"./PhFolderPlus.vue.c1ce0cf3.js";import{F as cz,G as hz,a as dz,I as fz}from"./PhWebhooksLogo.vue.f0a2107f.js";import{S as v5,J as w5,H as b5,F as P_,T as R_,L as $_}from"./tasksController.bedfbd7e.js";import{u as $i,M as k5,P as pz,_ as mz,g as B_,a as gz,b as yz,c as Sd,N as vz,d as wz,e as bz}from"./vue-flow-core.2202c352.js";import{O as F_,I as kz,F as xz}from"./os.7c146f35.js";import{C as u4}from"./ContentLayout.ff54a2ff.js";import{l as Sz}from"./fetch.bab26748.js";import{E as Cz}from"./repository.e701f36e.js";import{S as Mz,U as Az}from"./SaveButton.bb9b04ae.js";import{_ as _z,E as Tz}from"./View.vue_vue_type_script_setup_true_lang.c0cece8a.js";import{P as z_}from"./PlayerNavbar.99792806.js";import{W as H_,t as x5}from"./PlayerConfigProvider.f0ac04f3.js";import{L as Ez}from"./LoadingContainer.cb88d07d.js";import{I as Oz,F as Iz,S as Dz}from"./ImageViewer.aa3735c6.js";import{_ as Nz}from"./ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js";import{F as V_}from"./PhGear.vue.58da3f05.js";import{C as Lz}from"./CrudView.a6f989f4.js";import{u as ha}from"./uuid.f1a13970.js";import{l as Vp,R as Ny,e as rd,M as id}from"./toggleHighContrast.123dbc01.js";import"./Logo.7bd62155.js";import{d as zk}from"./index.c028aa69.js";import{_ as Pz}from"./vue-flow-background.f5ed1fb9.js";import{G as Rz}from"./PhArrowCounterClockwise.vue.7de5e082.js";import{u as $z}from"./userStore.a3792376.js";import{F as Bz,a as Gm,b as Fz,c as zz,d as Hz}from"./FormRunner.0eebf80b.js";import{r as Vz}from"./redirect.d6953c17.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[e]="8421d199-4de2-4e2e-8bdd-f2060dddae27",n._sentryDebugIdIdentifier="sentry-dbid-8421d199-4de2-4e2e-8bdd-f2060dddae27")}catch{}})();function qz(n,e,t){if(!Vh(t))return!1;var r=typeof e;return(r=="number"?TB(t)&&EB(e,t.length):r=="string"&&e in t)?p_(t[e],n):!1}function Wz(n){return m_(function(e,t){var r=-1,i=t.length,s=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(s=n.length>3&&typeof s=="function"?(i--,s):void 0,o&&qz(t[0],t[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=t[r];a&&n(e,a,r,s)}return e})}function F6(n,e,t){(t!==void 0&&!p_(n[e],t)||t===void 0&&!(e in n))&&OB(n,e,t)}function z6(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function jz(n){return IB(n,g_(n))}function Zz(n,e,t,r,i,s,o){var a=z6(n,t),l=z6(e,t),u=o.get(l);if(u){F6(n,t,u);return}var c=s?s(a,l,t+"",n,e,o):void 0,h=c===void 0;if(h){var d=Sk(l),f=!d&&DB(l),p=!d&&!f&&NB(l);c=l,d||f||p?Sk(a)?c=a:LB(a)?c=PB(a):f?(h=!1,c=RB(l,!0)):p?(h=!1,c=$B(l,!0)):c=[]:BB(l)||Ck(l)?(c=a,Ck(a)?c=jz(a):(!Vh(a)||FB(a))&&(c=zB(l))):h=!1}h&&(o.set(l,c),i(c,l,r,s,o),o.delete(l)),F6(n,t,c)}function S5(n,e,t,r,i){n!==e&&HB(e,function(s,o){if(i||(i=new VB),Vh(s))Zz(n,e,o,t,S5,r,i);else{var a=r?r(z6(n,o),s,o+"",n,e,i):void 0;a===void 0&&(a=s),F6(n,o,a)}},g_)}function q_(n,e,t,r,i,s){return Vh(n)&&Vh(e)&&(s.set(e,n),S5(n,e,void 0,q_,s),s.delete(e)),n}var Uz=Wz(function(n,e,t,r){S5(n,e,t,r)});const Gz=Uz;var Kz=m_(function(n){return n.push(void 0,q_),qB(Gz,void 0,n)});const Yz=Kz;var Jz="Expected a function";function c4(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(Jz);return Vh(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),i4(n,e,{leading:r,maxWait:e,trailing:i})}var Xz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm144.1 454.9L437.7 677.8a8.02 8.02 0 01-12.7-6.5V353.7a8 8 0 0112.7-6.5L656.1 506a7.9 7.9 0 010 12.9z"}}]},name:"play-circle",theme:"filled"};const Qz=Xz;var eH={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M865.3 244.7c-.3-.3-61.1 59.8-182.1 180.6l-84.9-84.9 180.9-180.9c-95.2-57.3-217.5-42.6-296.8 36.7A244.42 244.42 0 00419 432l1.8 6.7-283.5 283.4c-6.2 6.2-6.2 16.4 0 22.6l141.4 141.4c6.2 6.2 16.4 6.2 22.6 0l283.3-283.3 6.7 1.8c83.7 22.3 173.6-.9 236-63.3 79.4-79.3 94.1-201.6 38-296.6z"}}]},name:"tool",theme:"filled"};const tH=eH;var nH={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"};const rH=nH,iH=["width","height","fill","transform"],sH={key:0},oH=F("path",{d:"M244,56v48a12,12,0,0,1-12,12H184a12,12,0,1,1,0-24H201.1l-19-17.38c-.13-.12-.26-.24-.38-.37A76,76,0,1,0,127,204h1a75.53,75.53,0,0,0,52.15-20.72,12,12,0,0,1,16.49,17.45A99.45,99.45,0,0,1,128,228h-1.37A100,100,0,1,1,198.51,57.06L220,76.72V56a12,12,0,0,1,24,0Z"},null,-1),aH=[oH],lH={key:1},uH=F("path",{d:"M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z",opacity:"0.2"},null,-1),cH=F("path",{d:"M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"},null,-1),hH=[uH,cH],dH={key:2},fH=F("path",{d:"M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1-5.66-13.66l17-17-10.55-9.65-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,1,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60l10.93,10L226.34,50.3A8,8,0,0,1,240,56Z"},null,-1),pH=[fH],mH={key:3},gH=F("path",{d:"M238,56v48a6,6,0,0,1-6,6H184a6,6,0,0,1,0-12h32.55l-30.38-27.8c-.06-.06-.12-.13-.19-.19a82,82,0,1,0-1.7,117.65,6,6,0,0,1,8.24,8.73A93.46,93.46,0,0,1,128,222h-1.28A94,94,0,1,1,194.37,61.4L226,90.35V56a6,6,0,1,1,12,0Z"},null,-1),yH=[gH],vH={key:4},wH=F("path",{d:"M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"},null,-1),bH=[wH],kH={key:5},xH=F("path",{d:"M236,56v48a4,4,0,0,1-4,4H184a4,4,0,0,1,0-8h37.7L187.53,68.69l-.13-.12a84,84,0,1,0-1.75,120.51,4,4,0,0,1,5.5,5.82A91.43,91.43,0,0,1,128,220h-1.26A92,92,0,1,1,193,62.84l35,32.05V56a4,4,0,1,1,8,0Z"},null,-1),SH=[xH],CH={name:"PhArrowClockwise"},MH=he({...CH,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",sH,aH)):o.value==="duotone"?(x(),P("g",lH,hH)):o.value==="fill"?(x(),P("g",dH,pH)):o.value==="light"?(x(),P("g",mH,yH)):o.value==="regular"?(x(),P("g",vH,bH)):o.value==="thin"?(x(),P("g",kH,SH)):ue("",!0)],16,iH))}}),AH=["width","height","fill","transform"],_H={key:0},TH=F("path",{d:"M224.49,136.49l-72,72a12,12,0,0,1-17-17L187,140H40a12,12,0,0,1,0-24H187L135.51,64.48a12,12,0,0,1,17-17l72,72A12,12,0,0,1,224.49,136.49Z"},null,-1),EH=[TH],OH={key:1},IH=F("path",{d:"M216,128l-72,72V56Z",opacity:"0.2"},null,-1),DH=F("path",{d:"M221.66,122.34l-72-72A8,8,0,0,0,136,56v64H40a8,8,0,0,0,0,16h96v64a8,8,0,0,0,13.66,5.66l72-72A8,8,0,0,0,221.66,122.34ZM152,180.69V75.31L204.69,128Z"},null,-1),NH=[IH,DH],LH={key:2},PH=F("path",{d:"M221.66,133.66l-72,72A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,13.66-5.66l72,72A8,8,0,0,1,221.66,133.66Z"},null,-1),RH=[PH],$H={key:3},BH=F("path",{d:"M220.24,132.24l-72,72a6,6,0,0,1-8.48-8.48L201.51,134H40a6,6,0,0,1,0-12H201.51L139.76,60.24a6,6,0,0,1,8.48-8.48l72,72A6,6,0,0,1,220.24,132.24Z"},null,-1),FH=[BH],zH={key:4},HH=F("path",{d:"M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"},null,-1),VH=[HH],qH={key:5},WH=F("path",{d:"M218.83,130.83l-72,72a4,4,0,0,1-5.66-5.66L206.34,132H40a4,4,0,0,1,0-8H206.34L141.17,58.83a4,4,0,0,1,5.66-5.66l72,72A4,4,0,0,1,218.83,130.83Z"},null,-1),jH=[WH],ZH={name:"PhArrowRight"},W_=he({...ZH,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",_H,EH)):o.value==="duotone"?(x(),P("g",OH,NH)):o.value==="fill"?(x(),P("g",LH,RH)):o.value==="light"?(x(),P("g",$H,FH)):o.value==="regular"?(x(),P("g",zH,VH)):o.value==="thin"?(x(),P("g",qH,jH)):ue("",!0)],16,AH))}}),UH=["width","height","fill","transform"],GH={key:0},KH=F("path",{d:"M236,144a68.07,68.07,0,0,1-68,68H80a12,12,0,0,1,0-24h88a44,44,0,0,0,0-88H61l27.52,27.51a12,12,0,0,1-17,17l-48-48a12,12,0,0,1,0-17l48-48a12,12,0,1,1,17,17L61,76H168A68.08,68.08,0,0,1,236,144Z"},null,-1),YH=[KH],JH={key:1},XH=F("path",{d:"M80,40v96L32,88Z",opacity:"0.2"},null,-1),QH=F("path",{d:"M168,80H88V40a8,8,0,0,0-13.66-5.66l-48,48a8,8,0,0,0,0,11.32l48,48A8,8,0,0,0,88,136V96h80a48,48,0,0,1,0,96H80a8,8,0,0,0,0,16h88a64,64,0,0,0,0-128ZM72,116.69,43.31,88,72,59.31Z"},null,-1),eV=[XH,QH],tV={key:2},nV=F("path",{d:"M232,144a64.07,64.07,0,0,1-64,64H80a8,8,0,0,1,0-16h88a48,48,0,0,0,0-96H88v40a8,8,0,0,1-13.66,5.66l-48-48a8,8,0,0,1,0-11.32l48-48A8,8,0,0,1,88,40V80h80A64.07,64.07,0,0,1,232,144Z"},null,-1),rV=[nV],iV={key:3},sV=F("path",{d:"M230,144a62.07,62.07,0,0,1-62,62H80a6,6,0,0,1,0-12h88a50,50,0,0,0,0-100H46.49l37.75,37.76a6,6,0,1,1-8.48,8.48l-48-48a6,6,0,0,1,0-8.48l48-48a6,6,0,0,1,8.48,8.48L46.49,82H168A62.07,62.07,0,0,1,230,144Z"},null,-1),oV=[sV],aV={key:4},lV=F("path",{d:"M232,144a64.07,64.07,0,0,1-64,64H80a8,8,0,0,1,0-16h88a48,48,0,0,0,0-96H51.31l34.35,34.34a8,8,0,0,1-11.32,11.32l-48-48a8,8,0,0,1,0-11.32l48-48A8,8,0,0,1,85.66,45.66L51.31,80H168A64.07,64.07,0,0,1,232,144Z"},null,-1),uV=[lV],cV={key:5},hV=F("path",{d:"M228,144a60.07,60.07,0,0,1-60,60H80a4,4,0,0,1,0-8h88a52,52,0,0,0,0-104H41.66l41.17,41.17a4,4,0,0,1-5.66,5.66l-48-48a4,4,0,0,1,0-5.66l48-48a4,4,0,0,1,5.66,5.66L41.66,84H168A60.07,60.07,0,0,1,228,144Z"},null,-1),dV=[hV],fV={name:"PhArrowUUpLeft"},pV=he({...fV,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",GH,YH)):o.value==="duotone"?(x(),P("g",JH,eV)):o.value==="fill"?(x(),P("g",tV,rV)):o.value==="light"?(x(),P("g",iV,oV)):o.value==="regular"?(x(),P("g",aV,uV)):o.value==="thin"?(x(),P("g",cV,dV)):ue("",!0)],16,UH))}}),mV=["width","height","fill","transform"],gV={key:0},yV=F("path",{d:"M228,48V96a12,12,0,0,1-12,12H168a12,12,0,0,1,0-24h19l-7.8-7.8a75.55,75.55,0,0,0-53.32-22.26h-.43A75.49,75.49,0,0,0,72.39,75.57,12,12,0,1,1,55.61,58.41a99.38,99.38,0,0,1,69.87-28.47H126A99.42,99.42,0,0,1,196.2,59.23L204,67V48a12,12,0,0,1,24,0ZM183.61,180.43a75.49,75.49,0,0,1-53.09,21.63h-.43A75.55,75.55,0,0,1,76.77,179.8L69,172H88a12,12,0,0,0,0-24H40a12,12,0,0,0-12,12v48a12,12,0,0,0,24,0V189l7.8,7.8A99.42,99.42,0,0,0,130,226.06h.56a99.38,99.38,0,0,0,69.87-28.47,12,12,0,0,0-16.78-17.16Z"},null,-1),vV=[yV],wV={key:1},bV=F("path",{d:"M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z",opacity:"0.2"},null,-1),kV=F("path",{d:"M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"},null,-1),xV=[bV,kV],SV={key:2},CV=F("path",{d:"M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1-5.66-13.66L180.65,72a79.48,79.48,0,0,0-54.72-22.09h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27,96,96,0,0,1,192,60.7l18.36-18.36A8,8,0,0,1,224,48ZM186.41,183.29A80,80,0,0,1,75.35,184l18.31-18.31A8,8,0,0,0,88,152H40a8,8,0,0,0-8,8v48a8,8,0,0,0,13.66,5.66L64,195.3a95.42,95.42,0,0,0,66,26.76h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"},null,-1),MV=[CV],AV={key:3},_V=F("path",{d:"M222,48V96a6,6,0,0,1-6,6H168a6,6,0,0,1,0-12h33.52L183.47,72a81.51,81.51,0,0,0-57.53-24h-.46A81.5,81.5,0,0,0,68.19,71.28a6,6,0,1,1-8.38-8.58,93.38,93.38,0,0,1,65.67-26.76H126a93.45,93.45,0,0,1,66,27.53l18,18V48a6,6,0,0,1,12,0ZM187.81,184.72a81.5,81.5,0,0,1-57.29,23.34h-.46a81.51,81.51,0,0,1-57.53-24L54.48,166H88a6,6,0,0,0,0-12H40a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V174.48l18,18.05a93.45,93.45,0,0,0,66,27.53h.52a93.38,93.38,0,0,0,65.67-26.76,6,6,0,1,0-8.38-8.58Z"},null,-1),TV=[_V],EV={key:4},OV=F("path",{d:"M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"},null,-1),IV=[OV],DV={key:5},NV=F("path",{d:"M220,48V96a4,4,0,0,1-4,4H168a4,4,0,0,1,0-8h38.34L184.89,70.54A84,84,0,0,0,66.8,69.85a4,4,0,1,1-5.6-5.72,92,92,0,0,1,129.34.76L212,86.34V48a4,4,0,0,1,8,0ZM189.2,186.15a83.44,83.44,0,0,1-58.68,23.91h-.47a83.52,83.52,0,0,1-58.94-24.6L49.66,164H88a4,4,0,0,0,0-8H40a4,4,0,0,0-4,4v48a4,4,0,0,0,8,0V169.66l21.46,21.45A91.43,91.43,0,0,0,130,218.06h.51a91.45,91.45,0,0,0,64.28-26.19,4,4,0,1,0-5.6-5.72Z"},null,-1),LV=[NV],PV={name:"PhArrowsClockwise"},RV=he({...PV,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",gV,vV)):o.value==="duotone"?(x(),P("g",wV,xV)):o.value==="fill"?(x(),P("g",SV,MV)):o.value==="light"?(x(),P("g",AV,TV)):o.value==="regular"?(x(),P("g",EV,IV)):o.value==="thin"?(x(),P("g",DV,LV)):ue("",!0)],16,mV))}}),$V=["width","height","fill","transform"],BV={key:0},FV=F("path",{d:"M88,108H40A12,12,0,0,1,28,96V48a12,12,0,0,1,24,0V67l7.8-7.8A99.42,99.42,0,0,1,130,29.94h.56a99.38,99.38,0,0,1,69.87,28.47,12,12,0,0,1-16.78,17.16,76,76,0,0,0-106.84.63L69,84H88a12,12,0,0,1,0,24Zm128,40H168a12,12,0,0,0,0,24h19l-7.8,7.8a75.55,75.55,0,0,1-53.32,22.26h-.43a75.49,75.49,0,0,1-53.09-21.63,12,12,0,0,0-16.78,17.16,99.38,99.38,0,0,0,69.87,28.47H126a99.42,99.42,0,0,0,70.16-29.29L204,189v19a12,12,0,0,0,24,0V160A12,12,0,0,0,216,148Z"},null,-1),zV=[FV],HV={key:1},VV=F("path",{d:"M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z",opacity:"0.2"},null,-1),qV=F("path",{d:"M88,104H40a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0V76.69L62.63,62.06A95.43,95.43,0,0,1,130,33.94h.53a95.36,95.36,0,0,1,67.07,27.33,8,8,0,0,1-11.18,11.44,79.52,79.52,0,0,0-55.89-22.77h-.45A79.56,79.56,0,0,0,73.94,73.37L59.31,88H88a8,8,0,0,1,0,16Zm128,48H168a8,8,0,0,0,0,16h28.69l-14.63,14.63a79.56,79.56,0,0,1-56.13,23.43h-.45a79.52,79.52,0,0,1-55.89-22.77,8,8,0,1,0-11.18,11.44,95.36,95.36,0,0,0,67.07,27.33H126a95.43,95.43,0,0,0,67.36-28.12L208,179.31V208a8,8,0,0,0,16,0V160A8,8,0,0,0,216,152Z"},null,-1),WV=[VV,qV],jV={key:2},ZV=F("path",{d:"M88,104H40a8,8,0,0,1-8-8V48a8,8,0,0,1,13.66-5.66L64,60.7a95.42,95.42,0,0,1,66-26.76h.53a95.36,95.36,0,0,1,67.07,27.33,8,8,0,0,1-11.18,11.44,79.52,79.52,0,0,0-55.89-22.77h-.45A79.48,79.48,0,0,0,75.35,72L93.66,90.34A8,8,0,0,1,88,104Zm128,48H168a8,8,0,0,0-5.66,13.66L180.65,184a79.48,79.48,0,0,1-54.72,22.09h-.45a79.52,79.52,0,0,1-55.89-22.77,8,8,0,1,0-11.18,11.44,95.36,95.36,0,0,0,67.07,27.33H126a95.42,95.42,0,0,0,66-26.76l18.36,18.36A8,8,0,0,0,224,208V160A8,8,0,0,0,216,152Z"},null,-1),UV=[ZV],GV={key:3},KV=F("path",{d:"M88,102H40a6,6,0,0,1-6-6V48a6,6,0,0,1,12,0V81.52l18-18a93.45,93.45,0,0,1,66-27.53h.52A93.39,93.39,0,0,1,196.19,62.7a6,6,0,0,1-8.38,8.58A82,82,0,0,0,72.53,72L54.48,90H88a6,6,0,0,1,0,12Zm128,52H168a6,6,0,0,0,0,12h33.52l-18.05,18a81.51,81.51,0,0,1-57.53,24h-.46a81.5,81.5,0,0,1-57.29-23.34,6,6,0,0,0-8.38,8.58,93.39,93.39,0,0,0,65.67,26.76H126a93.45,93.45,0,0,0,66-27.53l18-18.05V208a6,6,0,0,0,12,0V160A6,6,0,0,0,216,154Z"},null,-1),YV=[KV],JV={key:4},XV=F("path",{d:"M88,104H40a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0V76.69L62.63,62.06A95.43,95.43,0,0,1,130,33.94h.53a95.36,95.36,0,0,1,67.07,27.33,8,8,0,0,1-11.18,11.44,79.52,79.52,0,0,0-55.89-22.77h-.45A79.56,79.56,0,0,0,73.94,73.37L59.31,88H88a8,8,0,0,1,0,16Zm128,48H168a8,8,0,0,0,0,16h28.69l-14.63,14.63a79.56,79.56,0,0,1-56.13,23.43h-.45a79.52,79.52,0,0,1-55.89-22.77,8,8,0,1,0-11.18,11.44,95.36,95.36,0,0,0,67.07,27.33H126a95.43,95.43,0,0,0,67.36-28.12L208,179.31V208a8,8,0,0,0,16,0V160A8,8,0,0,0,216,152Z"},null,-1),QV=[XV],eq={key:5},tq=F("path",{d:"M88,100H40a4,4,0,0,1-4-4V48a4,4,0,0,1,8,0V86.34L65.46,64.89A91.39,91.39,0,0,1,130,37.94h.51A91.43,91.43,0,0,1,194.8,64.13a4,4,0,0,1-5.6,5.72,83.44,83.44,0,0,0-58.68-23.91h-.47a83.52,83.52,0,0,0-58.94,24.6L49.66,92H88a4,4,0,0,1,0,8Zm128,56H168a4,4,0,0,0,0,8h38.34l-21.45,21.46A83.52,83.52,0,0,1,126,210.06h-.47A83.44,83.44,0,0,1,66.8,186.15a4,4,0,0,0-5.6,5.72,91.43,91.43,0,0,0,64.28,26.19H126a91.39,91.39,0,0,0,64.55-26.95L212,169.66V208a4,4,0,0,0,8,0V160A4,4,0,0,0,216,156Z"},null,-1),nq=[tq],rq={name:"PhArrowsCounterClockwise"},iq=he({...rq,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",BV,zV)):o.value==="duotone"?(x(),P("g",HV,WV)):o.value==="fill"?(x(),P("g",jV,UV)):o.value==="light"?(x(),P("g",GV,YV)):o.value==="regular"?(x(),P("g",JV,QV)):o.value==="thin"?(x(),P("g",eq,nq)):ue("",!0)],16,$V))}}),sq=["width","height","fill","transform"],oq={key:0},aq=F("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Z"},null,-1),lq=[aq],uq={key:1},cq=F("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"},null,-1),hq=F("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Z"},null,-1),dq=[cq,hq],fq={key:2},pq=F("path",{d:"M232,128A104,104,0,1,1,128,24,104.13,104.13,0,0,1,232,128Z"},null,-1),mq=[pq],gq={key:3},yq=F("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Z"},null,-1),vq=[yq],wq={key:4},bq=F("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Z"},null,-1),kq=[bq],xq={key:5},Sq=F("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Z"},null,-1),Cq=[Sq],Mq={name:"PhCircle"},Aq=he({...Mq,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",oq,lq)):o.value==="duotone"?(x(),P("g",uq,dq)):o.value==="fill"?(x(),P("g",fq,mq)):o.value==="light"?(x(),P("g",gq,vq)):o.value==="regular"?(x(),P("g",wq,kq)):o.value==="thin"?(x(),P("g",xq,Cq)):ue("",!0)],16,sq))}}),_q=["width","height","fill","transform"],Tq={key:0},Eq=F("path",{d:"M144,128a16,16,0,1,1-16-16A16,16,0,0,1,144,128ZM60,112a16,16,0,1,0,16,16A16,16,0,0,0,60,112Zm136,0a16,16,0,1,0,16,16A16,16,0,0,0,196,112Z"},null,-1),Oq=[Eq],Iq={key:1},Dq=F("path",{d:"M240,96v64a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V96A16,16,0,0,1,32,80H224A16,16,0,0,1,240,96Z",opacity:"0.2"},null,-1),Nq=F("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"},null,-1),Lq=[Dq,Nq],Pq={key:2},Rq=F("path",{d:"M224,80H32A16,16,0,0,0,16,96v64a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V96A16,16,0,0,0,224,80ZM60,140a12,12,0,1,1,12-12A12,12,0,0,1,60,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,128,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,196,140Z"},null,-1),$q=[Rq],Bq={key:3},Fq=F("path",{d:"M138,128a10,10,0,1,1-10-10A10,10,0,0,1,138,128ZM60,118a10,10,0,1,0,10,10A10,10,0,0,0,60,118Zm136,0a10,10,0,1,0,10,10A10,10,0,0,0,196,118Z"},null,-1),zq=[Fq],Hq={key:4},Vq=F("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"},null,-1),qq=[Vq],Wq={key:5},jq=F("path",{d:"M136,128a8,8,0,1,1-8-8A8,8,0,0,1,136,128Zm-76-8a8,8,0,1,0,8,8A8,8,0,0,0,60,120Zm136,0a8,8,0,1,0,8,8A8,8,0,0,0,196,120Z"},null,-1),Zq=[jq],Uq={name:"PhDotsThree"},Hk=he({...Uq,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",Tq,Oq)):o.value==="duotone"?(x(),P("g",Iq,Lq)):o.value==="fill"?(x(),P("g",Pq,$q)):o.value==="light"?(x(),P("g",Bq,zq)):o.value==="regular"?(x(),P("g",Hq,qq)):o.value==="thin"?(x(),P("g",Wq,Zq)):ue("",!0)],16,_q))}}),Gq=["width","height","fill","transform"],Kq={key:0},Yq=F("path",{d:"M148,200a20,20,0,1,1-20-20A20,20,0,0,1,148,200Zm-20-40a12,12,0,0,0,12-12V48a12,12,0,0,0-24,0V148A12,12,0,0,0,128,160Z"},null,-1),Jq=[Yq],Xq={key:1},Qq=F("path",{d:"M216,40V216a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V40A16,16,0,0,1,56,24H200A16,16,0,0,1,216,40Z",opacity:"0.2"},null,-1),eW=F("path",{d:"M144,200a16,16,0,1,1-16-16A16,16,0,0,1,144,200Zm-16-40a8,8,0,0,0,8-8V48a8,8,0,0,0-16,0V152A8,8,0,0,0,128,160Z"},null,-1),tW=[Qq,eW],nW={key:2},rW=F("path",{d:"M200,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24ZM128,160a12,12,0,1,1-12,12A12,12,0,0,1,128,160Zm-8-24V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Z"},null,-1),iW=[rW],sW={key:3},oW=F("path",{d:"M142,200a14,14,0,1,1-14-14A14,14,0,0,1,142,200Zm-14-42a6,6,0,0,0,6-6V48a6,6,0,0,0-12,0V152A6,6,0,0,0,128,158Z"},null,-1),aW=[oW],lW={key:4},uW=F("path",{d:"M144,200a16,16,0,1,1-16-16A16,16,0,0,1,144,200Zm-16-40a8,8,0,0,0,8-8V48a8,8,0,0,0-16,0V152A8,8,0,0,0,128,160Z"},null,-1),cW=[uW],hW={key:5},dW=F("path",{d:"M140,200a12,12,0,1,1-12-12A12,12,0,0,1,140,200Zm-12-44a4,4,0,0,0,4-4V48a4,4,0,0,0-8,0V152A4,4,0,0,0,128,156Z"},null,-1),fW=[dW],pW={name:"PhExclamationMark"},mW=he({...pW,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",Kq,Jq)):o.value==="duotone"?(x(),P("g",Xq,tW)):o.value==="fill"?(x(),P("g",nW,iW)):o.value==="light"?(x(),P("g",sW,aW)):o.value==="regular"?(x(),P("g",lW,cW)):o.value==="thin"?(x(),P("g",hW,fW)):ue("",!0)],16,Gq))}}),gW=["width","height","fill","transform"],yW={key:0},vW=F("path",{d:"M251,123.13c-.37-.81-9.13-20.26-28.48-39.61C196.63,57.67,164,44,128,44S59.37,57.67,33.51,83.52C14.16,102.87,5.4,122.32,5,123.13a12.08,12.08,0,0,0,0,9.75c.37.82,9.13,20.26,28.49,39.61C59.37,198.34,92,212,128,212s68.63-13.66,94.48-39.51c19.36-19.35,28.12-38.79,28.49-39.61A12.08,12.08,0,0,0,251,123.13Zm-46.06,33C183.47,177.27,157.59,188,128,188s-55.47-10.73-76.91-31.88A130.36,130.36,0,0,1,29.52,128,130.45,130.45,0,0,1,51.09,99.89C72.54,78.73,98.41,68,128,68s55.46,10.73,76.91,31.89A130.36,130.36,0,0,1,226.48,128,130.45,130.45,0,0,1,204.91,156.12ZM128,84a44,44,0,1,0,44,44A44.05,44.05,0,0,0,128,84Zm0,64a20,20,0,1,1,20-20A20,20,0,0,1,128,148Z"},null,-1),wW=[vW],bW={key:1},kW=F("path",{d:"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Zm0,112a40,40,0,1,1,40-40A40,40,0,0,1,128,168Z",opacity:"0.2"},null,-1),xW=F("path",{d:"M247.31,124.76c-.35-.79-8.82-19.58-27.65-38.41C194.57,61.26,162.88,48,128,48S61.43,61.26,36.34,86.35C17.51,105.18,9,124,8.69,124.76a8,8,0,0,0,0,6.5c.35.79,8.82,19.57,27.65,38.4C61.43,194.74,93.12,208,128,208s66.57-13.26,91.66-38.34c18.83-18.83,27.3-37.61,27.65-38.4A8,8,0,0,0,247.31,124.76ZM128,192c-30.78,0-57.67-11.19-79.93-33.25A133.47,133.47,0,0,1,25,128,133.33,133.33,0,0,1,48.07,97.25C70.33,75.19,97.22,64,128,64s57.67,11.19,79.93,33.25A133.46,133.46,0,0,1,231.05,128C223.84,141.46,192.43,192,128,192Zm0-112a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160Z"},null,-1),SW=[kW,xW],CW={key:2},MW=F("path",{d:"M247.31,124.76c-.35-.79-8.82-19.58-27.65-38.41C194.57,61.26,162.88,48,128,48S61.43,61.26,36.34,86.35C17.51,105.18,9,124,8.69,124.76a8,8,0,0,0,0,6.5c.35.79,8.82,19.57,27.65,38.4C61.43,194.74,93.12,208,128,208s66.57-13.26,91.66-38.34c18.83-18.83,27.3-37.61,27.65-38.4A8,8,0,0,0,247.31,124.76ZM128,168a40,40,0,1,1,40-40A40,40,0,0,1,128,168Z"},null,-1),AW=[MW],_W={key:3},TW=F("path",{d:"M245.48,125.57c-.34-.78-8.66-19.23-27.24-37.81C201,70.54,171.38,50,128,50S55,70.54,37.76,87.76c-18.58,18.58-26.9,37-27.24,37.81a6,6,0,0,0,0,4.88c.34.77,8.66,19.22,27.24,37.8C55,185.47,84.62,206,128,206s73-20.53,90.24-37.75c18.58-18.58,26.9-37,27.24-37.8A6,6,0,0,0,245.48,125.57ZM128,194c-31.38,0-58.78-11.42-81.45-33.93A134.77,134.77,0,0,1,22.69,128,134.56,134.56,0,0,1,46.55,95.94C69.22,73.42,96.62,62,128,62s58.78,11.42,81.45,33.94A134.56,134.56,0,0,1,233.31,128C226.94,140.21,195,194,128,194Zm0-112a46,46,0,1,0,46,46A46.06,46.06,0,0,0,128,82Zm0,80a34,34,0,1,1,34-34A34,34,0,0,1,128,162Z"},null,-1),EW=[TW],OW={key:4},IW=F("path",{d:"M247.31,124.76c-.35-.79-8.82-19.58-27.65-38.41C194.57,61.26,162.88,48,128,48S61.43,61.26,36.34,86.35C17.51,105.18,9,124,8.69,124.76a8,8,0,0,0,0,6.5c.35.79,8.82,19.57,27.65,38.4C61.43,194.74,93.12,208,128,208s66.57-13.26,91.66-38.34c18.83-18.83,27.3-37.61,27.65-38.4A8,8,0,0,0,247.31,124.76ZM128,192c-30.78,0-57.67-11.19-79.93-33.25A133.47,133.47,0,0,1,25,128,133.33,133.33,0,0,1,48.07,97.25C70.33,75.19,97.22,64,128,64s57.67,11.19,79.93,33.25A133.46,133.46,0,0,1,231.05,128C223.84,141.46,192.43,192,128,192Zm0-112a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160Z"},null,-1),DW=[IW],NW={key:5},LW=F("path",{d:"M243.66,126.38c-.34-.76-8.52-18.89-26.83-37.2C199.87,72.22,170.7,52,128,52S56.13,72.22,39.17,89.18c-18.31,18.31-26.49,36.44-26.83,37.2a4.08,4.08,0,0,0,0,3.25c.34.77,8.52,18.89,26.83,37.2,17,17,46.14,37.17,88.83,37.17s71.87-20.21,88.83-37.17c18.31-18.31,26.49-36.43,26.83-37.2A4.08,4.08,0,0,0,243.66,126.38Zm-32.7,35c-23.07,23-51,34.62-83,34.62s-59.89-11.65-83-34.62A135.71,135.71,0,0,1,20.44,128,135.69,135.69,0,0,1,45,94.62C68.11,71.65,96,60,128,60s59.89,11.65,83,34.62A135.79,135.79,0,0,1,235.56,128,135.71,135.71,0,0,1,211,161.38ZM128,84a44,44,0,1,0,44,44A44.05,44.05,0,0,0,128,84Zm0,80a36,36,0,1,1,36-36A36,36,0,0,1,128,164Z"},null,-1),PW=[LW],RW={name:"PhEye"},Vk=he({...RW,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",yW,wW)):o.value==="duotone"?(x(),P("g",bW,SW)):o.value==="fill"?(x(),P("g",CW,AW)):o.value==="light"?(x(),P("g",_W,EW)):o.value==="regular"?(x(),P("g",OW,DW)):o.value==="thin"?(x(),P("g",NW,PW)):ue("",!0)],16,gW))}}),$W=["width","height","fill","transform"],BW={key:0},FW=F("path",{d:"M84,224a12,12,0,0,1-12,12H56a20,20,0,0,1-20-20V184a12,12,0,0,1,24,0v28H72A12,12,0,0,1,84,224ZM220,88v48a12,12,0,0,1-24,0V104H148a12,12,0,0,1-12-12V44H120a12,12,0,0,1,0-24h32a12,12,0,0,1,8.49,3.51l56,56A12,12,0,0,1,220,88Zm-60-8h23L160,57ZM80,20H56A20,20,0,0,0,36,40V64a12,12,0,0,0,24,0V44H80a12,12,0,0,0,0-24ZM208,164a12,12,0,0,0-12,12v36h-4a12,12,0,0,0,0,24h8a20,20,0,0,0,20-20V176A12,12,0,0,0,208,164ZM48,156a12,12,0,0,0,12-12V104a12,12,0,0,0-24,0v40A12,12,0,0,0,48,156Zm104,56H112a12,12,0,0,0,0,24h40a12,12,0,0,0,0-24Z"},null,-1),zW=[FW],HW={key:1},VW=F("path",{d:"M208,88H152V32Z",opacity:"0.2"},null,-1),qW=F("path",{d:"M80,224a8,8,0,0,1-8,8H56a16,16,0,0,1-16-16V184a8,8,0,0,1,16,0v32H72A8,8,0,0,1,80,224ZM216,88v48a8,8,0,0,1-16,0V96H152a8,8,0,0,1-8-8V40H120a8,8,0,0,1,0-16h32a8,8,0,0,1,5.66,2.34l56,56A8,8,0,0,1,216,88Zm-56-8h28.69L160,51.31ZM80,24H56A16,16,0,0,0,40,40V64a8,8,0,0,0,16,0V40H80a8,8,0,0,0,0-16ZM208,168a8,8,0,0,0-8,8v40h-8a8,8,0,0,0,0,16h8a16,16,0,0,0,16-16V176A8,8,0,0,0,208,168ZM48,152a8,8,0,0,0,8-8V104a8,8,0,0,0-16,0v40A8,8,0,0,0,48,152Zm104,64H112a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Z"},null,-1),WW=[VW,qW],jW={key:2},ZW=F("path",{d:"M80,224a8,8,0,0,1-8,8H56a16,16,0,0,1-16-16V184a8,8,0,0,1,16,0v32H72A8,8,0,0,1,80,224ZM213.66,82.34l-56-56A8,8,0,0,0,152,24H120a8,8,0,0,0,0,16h24V88a8,8,0,0,0,8,8h48v40a8,8,0,0,0,16,0V88A8,8,0,0,0,213.66,82.34ZM80,24H56A16,16,0,0,0,40,40V64a8,8,0,0,0,16,0V40H80a8,8,0,0,0,0-16ZM208,168a8,8,0,0,0-8,8v40h-8a8,8,0,0,0,0,16h8a16,16,0,0,0,16-16V176A8,8,0,0,0,208,168ZM48,152a8,8,0,0,0,8-8V104a8,8,0,0,0-16,0v40A8,8,0,0,0,48,152Zm104,64H112a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Z"},null,-1),UW=[ZW],GW={key:3},KW=F("path",{d:"M78,224a6,6,0,0,1-6,6H56a14,14,0,0,1-14-14V184a6,6,0,0,1,12,0v32a2,2,0,0,0,2,2H72A6,6,0,0,1,78,224ZM214,88v48a6,6,0,0,1-12,0V94H152a6,6,0,0,1-6-6V38H120a6,6,0,0,1,0-12h32a6,6,0,0,1,4.24,1.76l56,56A6,6,0,0,1,214,88Zm-56-6h35.51L158,46.49ZM80,26H56A14,14,0,0,0,42,40V64a6,6,0,0,0,12,0V40a2,2,0,0,1,2-2H80a6,6,0,0,0,0-12ZM208,170a6,6,0,0,0-6,6v40a2,2,0,0,1-2,2h-8a6,6,0,0,0,0,12h8a14,14,0,0,0,14-14V176A6,6,0,0,0,208,170ZM48,150a6,6,0,0,0,6-6V104a6,6,0,0,0-12,0v40A6,6,0,0,0,48,150Zm104,68H112a6,6,0,0,0,0,12h40a6,6,0,0,0,0-12Z"},null,-1),YW=[KW],JW={key:4},XW=F("path",{d:"M80,224a8,8,0,0,1-8,8H56a16,16,0,0,1-16-16V184a8,8,0,0,1,16,0v32H72A8,8,0,0,1,80,224ZM216,88v48a8,8,0,0,1-16,0V96H152a8,8,0,0,1-8-8V40H120a8,8,0,0,1,0-16h32a8,8,0,0,1,5.66,2.34l56,56A8,8,0,0,1,216,88Zm-56-8h28.69L160,51.31ZM80,24H56A16,16,0,0,0,40,40V64a8,8,0,0,0,16,0V40H80a8,8,0,0,0,0-16ZM208,168a8,8,0,0,0-8,8v40h-8a8,8,0,0,0,0,16h8a16,16,0,0,0,16-16V176A8,8,0,0,0,208,168ZM48,152a8,8,0,0,0,8-8V104a8,8,0,0,0-16,0v40A8,8,0,0,0,48,152Zm104,64H112a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Z"},null,-1),QW=[XW],ej={key:5},tj=F("path",{d:"M76,224a4,4,0,0,1-4,4H56a12,12,0,0,1-12-12V184a4,4,0,0,1,8,0v32a4,4,0,0,0,4,4H72A4,4,0,0,1,76,224ZM212,88v48a4,4,0,0,1-8,0V92H152a4,4,0,0,1-4-4V36H120a4,4,0,0,1,0-8h32a4,4,0,0,1,2.83,1.17l56,56A4,4,0,0,1,212,88Zm-56-4h42.34L156,41.66ZM80,28H56A12,12,0,0,0,44,40V64a4,4,0,0,0,8,0V40a4,4,0,0,1,4-4H80a4,4,0,0,0,0-8ZM208,172a4,4,0,0,0-4,4v40a4,4,0,0,1-4,4h-8a4,4,0,0,0,0,8h8a12,12,0,0,0,12-12V176A4,4,0,0,0,208,172ZM48,148a4,4,0,0,0,4-4V104a4,4,0,0,0-8,0v40A4,4,0,0,0,48,148Zm104,72H112a4,4,0,0,0,0,8h40a4,4,0,0,0,0-8Z"},null,-1),nj=[tj],rj={name:"PhFileDashed"},ij=he({...rj,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",BW,zW)):o.value==="duotone"?(x(),P("g",HW,WW)):o.value==="fill"?(x(),P("g",jW,UW)):o.value==="light"?(x(),P("g",GW,YW)):o.value==="regular"?(x(),P("g",JW,QW)):o.value==="thin"?(x(),P("g",ej,nj)):ue("",!0)],16,$W))}}),sj=["width","height","fill","transform"],oj={key:0},aj=F("path",{d:"M216.49,79.52l-56-56A12,12,0,0,0,152,20H56A20,20,0,0,0,36,40v68a12,12,0,0,0,24,0V44h76V92a12,12,0,0,0,12,12h48V212H172a12,12,0,0,0,0,24h28a20,20,0,0,0,20-20V88A12,12,0,0,0,216.49,79.52ZM160,57l23,23H160ZM64,140H48a12,12,0,0,0-12,12v56a12,12,0,0,0,24,0v-4h4a32,32,0,0,0,0-64Zm0,40H60V164h4a8,8,0,0,1,0,16Zm80,7.44V208a12,12,0,0,1-24,0V187.44l-18.18-29.08a12,12,0,0,1,20.36-12.72L132,161.36l9.82-15.72a12,12,0,0,1,20.36,12.72Z"},null,-1),lj=[aj],uj={key:1},cj=F("path",{d:"M208,88H152V32Z",opacity:"0.2"},null,-1),hj=F("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40v72a8,8,0,0,0,16,0V40h88V88a8,8,0,0,0,8,8h48V216H168a8,8,0,0,0,0,16h32a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM64,144H48a8,8,0,0,0-8,8v56a8,8,0,0,0,16,0v-8h8a28,28,0,0,0,0-56Zm0,40H56V160h8a12,12,0,0,1,0,24Zm90.78-27.76-18.78,30V208a8,8,0,0,1-16,0V186.29l-18.78-30a8,8,0,1,1,13.56-8.48L128,168.91l13.22-21.15a8,8,0,1,1,13.56,8.48Z"},null,-1),dj=[cj,hj],fj={key:2},pj=F("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40v76a4,4,0,0,0,4,4H172a4,4,0,0,1,4,4V228a4,4,0,0,0,4,4h20a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM152,88V44l44,44ZM64,144H48a8,8,0,0,0-8,8v55.73A8.17,8.17,0,0,0,47.47,216,8,8,0,0,0,56,208v-8h7.4c15.24,0,28.14-11.92,28.59-27.15A28,28,0,0,0,64,144Zm-.35,40H56V160h8a12,12,0,0,1,12,13.16A12.25,12.25,0,0,1,63.65,184Zm91-27.48L136,186.29v21.44a8.17,8.17,0,0,1-7.47,8.25,8,8,0,0,1-8.53-8V186.29l-18.61-29.77a8.22,8.22,0,0,1,2.16-11.17,8,8,0,0,1,11.23,2.41L128,168.91l13.22-21.15a8,8,0,0,1,11.23-2.41A8.22,8.22,0,0,1,154.61,156.52Z"},null,-1),mj=[pj],gj={key:3},yj=F("path",{d:"M212.24,83.76l-56-56A6,6,0,0,0,152,26H56A14,14,0,0,0,42,40v72a6,6,0,0,0,12,0V40a2,2,0,0,1,2-2h90V88a6,6,0,0,0,6,6h50V216a2,2,0,0,1-2,2H168a6,6,0,0,0,0,12h32a14,14,0,0,0,14-14V88A6,6,0,0,0,212.24,83.76ZM158,46.48,193.52,82H158ZM64,146H48a6,6,0,0,0-6,6v56a6,6,0,0,0,12,0V198H64a26,26,0,0,0,0-52Zm0,40H54V158H64a14,14,0,0,1,0,28Zm89.09-30.82L134,185.72V208a6,6,0,0,1-12,0V185.72l-19.09-30.54a6,6,0,0,1,10.18-6.36L128,172.68l14.91-23.86a6,6,0,0,1,10.18,6.36Z"},null,-1),vj=[yj],wj={key:4},bj=F("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40v72a8,8,0,0,0,16,0V40h88V88a8,8,0,0,0,8,8h48V216H168a8,8,0,0,0,0,16h32a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM64,144H48a8,8,0,0,0-8,8v56a8,8,0,0,0,16,0v-8h8a28,28,0,0,0,0-56Zm0,40H56V160h8a12,12,0,0,1,0,24Zm90.78-27.76-18.78,30V208a8,8,0,0,1-16,0V186.29l-18.78-30a8,8,0,1,1,13.56-8.48L128,168.91l13.22-21.15a8,8,0,1,1,13.56,8.48Z"},null,-1),kj=[bj],xj={key:5},Sj=F("path",{d:"M210.83,85.17l-56-56A4,4,0,0,0,152,28H56A12,12,0,0,0,44,40v72a4,4,0,0,0,8,0V40a4,4,0,0,1,4-4h92V88a4,4,0,0,0,4,4h52V216a4,4,0,0,1-4,4H168a4,4,0,0,0,0,8h32a12,12,0,0,0,12-12V88A4,4,0,0,0,210.83,85.17ZM156,41.65,198.34,84H156ZM64,148H48a4,4,0,0,0-4,4v56a4,4,0,0,0,8,0V196H64a24,24,0,0,0,0-48Zm0,40H52V156H64a16,16,0,0,1,0,32Zm87.39-33.88-19.39,31V208a4,4,0,0,1-8,0V185.15l-19.39-31a4,4,0,0,1,6.78-4.24L128,176.45l16.61-26.57a4,4,0,1,1,6.78,4.24Z"},null,-1),Cj=[Sj],Mj={name:"PhFilePy"},Aj=he({...Mj,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",oj,lj)):o.value==="duotone"?(x(),P("g",uj,dj)):o.value==="fill"?(x(),P("g",fj,mj)):o.value==="light"?(x(),P("g",gj,vj)):o.value==="regular"?(x(),P("g",wj,kj)):o.value==="thin"?(x(),P("g",xj,Cj)):ue("",!0)],16,sj))}}),_j=["width","height","fill","transform"],Tj={key:0},Ej=F("path",{d:"M140,88a12,12,0,0,1,12-12h32a12,12,0,0,1,12,12v32a12,12,0,0,1-24,0V100H152A12,12,0,0,1,140,88ZM72,180h32a12,12,0,0,0,0-24H84V136a12,12,0,0,0-24,0v32A12,12,0,0,0,72,180ZM236,56V200a20,20,0,0,1-20,20H40a20,20,0,0,1-20-20V56A20,20,0,0,1,40,36H216A20,20,0,0,1,236,56Zm-24,4H44V196H212Z"},null,-1),Oj=[Ej],Ij={key:1},Dj=F("path",{d:"M224,56V200a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V56a8,8,0,0,1,8-8H216A8,8,0,0,1,224,56Z",opacity:"0.2"},null,-1),Nj=F("path",{d:"M200,80v32a8,8,0,0,1-16,0V88H160a8,8,0,0,1,0-16h32A8,8,0,0,1,200,80ZM96,168H72V144a8,8,0,0,0-16,0v32a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16ZM232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,200V56H40V200H216Z"},null,-1),Lj=[Dj,Nj],Pj={key:2},Rj=F("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM88,192H56a8,8,0,0,1-8-8V152a8,8,0,0,1,16,0v24H88a8,8,0,0,1,0,16Zm120-88a8,8,0,0,1-16,0V80H168a8,8,0,0,1,0-16h32a8,8,0,0,1,8,8Z"},null,-1),$j=[Rj],Bj={key:3},Fj=F("path",{d:"M198,80v32a6,6,0,0,1-12,0V86H160a6,6,0,0,1,0-12h32A6,6,0,0,1,198,80ZM96,170H70V144a6,6,0,0,0-12,0v32a6,6,0,0,0,6,6H96a6,6,0,0,0,0-12ZM230,56V200a14,14,0,0,1-14,14H40a14,14,0,0,1-14-14V56A14,14,0,0,1,40,42H216A14,14,0,0,1,230,56Zm-12,0a2,2,0,0,0-2-2H40a2,2,0,0,0-2,2V200a2,2,0,0,0,2,2H216a2,2,0,0,0,2-2Z"},null,-1),zj=[Fj],Hj={key:4},Vj=F("path",{d:"M200,80v32a8,8,0,0,1-16,0V88H160a8,8,0,0,1,0-16h32A8,8,0,0,1,200,80ZM96,168H72V144a8,8,0,0,0-16,0v32a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16ZM232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,200V56H40V200H216Z"},null,-1),qj=[Vj],Wj={key:5},jj=F("path",{d:"M196,80v32a4,4,0,0,1-8,0V84H160a4,4,0,0,1,0-8h32A4,4,0,0,1,196,80ZM96,172H68V144a4,4,0,0,0-8,0v32a4,4,0,0,0,4,4H96a4,4,0,0,0,0-8ZM228,56V200a12,12,0,0,1-12,12H40a12,12,0,0,1-12-12V56A12,12,0,0,1,40,44H216A12,12,0,0,1,228,56Zm-8,0a4,4,0,0,0-4-4H40a4,4,0,0,0-4,4V200a4,4,0,0,0,4,4H216a4,4,0,0,0,4-4Z"},null,-1),Zj=[jj],Uj={name:"PhFrameCorners"},Gj=he({...Uj,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",Tj,Oj)):o.value==="duotone"?(x(),P("g",Ij,Lj)):o.value==="fill"?(x(),P("g",Pj,$j)):o.value==="light"?(x(),P("g",Bj,zj)):o.value==="regular"?(x(),P("g",Hj,qj)):o.value==="thin"?(x(),P("g",Wj,Zj)):ue("",!0)],16,_j))}}),Kj=["width","height","fill","transform"],Yj={key:0},Jj=F("path",{d:"M234.29,47.91A20,20,0,0,0,216,36H40A20,20,0,0,0,25.2,69.45l.12.14L92,140.75V216a20,20,0,0,0,31.1,16.64l32-21.33A20,20,0,0,0,164,194.66V140.75l66.67-71.16.12-.14A20,20,0,0,0,234.29,47.91Zm-91,79.89A12,12,0,0,0,140,136v56.52l-24,16V136a12,12,0,0,0-3.25-8.2L49.23,60H206.77Z"},null,-1),Xj=[Jj],Qj={key:1},eZ=F("path",{d:"M221.9,61.38,152,136v58.65a8,8,0,0,1-3.56,6.66l-32,21.33A8,8,0,0,1,104,216V136L34.1,61.38A8,8,0,0,1,40,48H216A8,8,0,0,1,221.9,61.38Z",opacity:"0.2"},null,-1),tZ=F("path",{d:"M230.6,49.53A15.81,15.81,0,0,0,216,40H40A16,16,0,0,0,28.19,66.76l.08.09L96,139.17V216a16,16,0,0,0,24.87,13.32l32-21.34A16,16,0,0,0,160,194.66V139.17l67.74-72.32.08-.09A15.8,15.8,0,0,0,230.6,49.53ZM40,56h0Zm106.18,74.58A8,8,0,0,0,144,136v58.66L112,216V136a8,8,0,0,0-2.16-5.47L40,56H216Z"},null,-1),nZ=[eZ,tZ],rZ={key:2},iZ=F("path",{d:"M227.81,66.76l-.08.09L160,139.17v55.49A16,16,0,0,1,152.87,208l-32,21.34A16,16,0,0,1,96,216V139.17L28.27,66.85l-.08-.09A16,16,0,0,1,40,40H216a16,16,0,0,1,11.84,26.76Z"},null,-1),sZ=[iZ],oZ={key:3},aZ=F("path",{d:"M228.77,50.34A13.8,13.8,0,0,0,216,42H40A14,14,0,0,0,29.67,65.42l.06.07L98,138.38V216a14,14,0,0,0,21.77,11.64l32-21.33A14,14,0,0,0,158,194.66V138.38l68.33-73A13.82,13.82,0,0,0,228.77,50.34Zm-11.26,6.94L147.62,131.9A6,6,0,0,0,146,136v58.66a2,2,0,0,1-.89,1.67l-32,21.33A2,2,0,0,1,110,216V136a6,6,0,0,0-1.62-4.1L38.53,57.32A2,2,0,0,1,40,54H216a1.9,1.9,0,0,1,1.83,1.19A1.86,1.86,0,0,1,217.51,57.28Z"},null,-1),lZ=[aZ],uZ={key:4},cZ=F("path",{d:"M230.6,49.53A15.81,15.81,0,0,0,216,40H40A16,16,0,0,0,28.19,66.76l.08.09L96,139.17V216a16,16,0,0,0,24.87,13.32l32-21.34A16,16,0,0,0,160,194.66V139.17l67.74-72.32.08-.09A15.8,15.8,0,0,0,230.6,49.53ZM40,56h0Zm106.18,74.58A8,8,0,0,0,144,136v58.66L112,216V136a8,8,0,0,0-2.16-5.47L40,56H216Z"},null,-1),hZ=[cZ],dZ={key:5},fZ=F("path",{d:"M227,51.15A11.85,11.85,0,0,0,216,44H40a12,12,0,0,0-8.88,20.07l.05.05L100,137.59V216a12,12,0,0,0,18.66,10l32-21.33a12,12,0,0,0,5.35-10V137.59l68.86-73.52A11.85,11.85,0,0,0,227,51.15Zm-8,7.5-69.9,74.62A4,4,0,0,0,148,136v58.65a4,4,0,0,1-1.78,3.33l-32,21.33A4,4,0,0,1,108,216V136a4,4,0,0,0-1.08-2.74L37.05,58.67A4,4,0,0,1,40,52H216a4,4,0,0,1,3,6.65Z"},null,-1),pZ=[fZ],mZ={name:"PhFunnel"},gZ=he({...mZ,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",Yj,Xj)):o.value==="duotone"?(x(),P("g",Qj,nZ)):o.value==="fill"?(x(),P("g",rZ,sZ)):o.value==="light"?(x(),P("g",oZ,lZ)):o.value==="regular"?(x(),P("g",uZ,hZ)):o.value==="thin"?(x(),P("g",dZ,pZ)):ue("",!0)],16,Kj))}}),yZ=["width","height","fill","transform"],vZ={key:0},wZ=F("path",{d:"M236,64a36,36,0,1,0-48,33.94V112a4,4,0,0,1-4,4H96a27.8,27.8,0,0,0-4,.29V97.94a36,36,0,1,0-24,0v60.12a36,36,0,1,0,24,0V144a4,4,0,0,1,4-4h88a28,28,0,0,0,28-28V97.94A36.07,36.07,0,0,0,236,64ZM80,52A12,12,0,1,1,68,64,12,12,0,0,1,80,52Zm0,152a12,12,0,1,1,12-12A12,12,0,0,1,80,204ZM200,76a12,12,0,1,1,12-12A12,12,0,0,1,200,76Z"},null,-1),bZ=[wZ],kZ={key:1},xZ=F("path",{d:"M224,64a24,24,0,1,1-24-24A24,24,0,0,1,224,64Z",opacity:"0.2"},null,-1),SZ=F("path",{d:"M232,64a32,32,0,1,0-40,31v17a8,8,0,0,1-8,8H96a23.84,23.84,0,0,0-8,1.38V95a32,32,0,1,0-16,0v66a32,32,0,1,0,16,0V144a8,8,0,0,1,8-8h88a24,24,0,0,0,24-24V95A32.06,32.06,0,0,0,232,64ZM64,64A16,16,0,1,1,80,80,16,16,0,0,1,64,64ZM96,192a16,16,0,1,1-16-16A16,16,0,0,1,96,192ZM200,80a16,16,0,1,1,16-16A16,16,0,0,1,200,80Z"},null,-1),CZ=[xZ,SZ],MZ={key:2},AZ=F("path",{d:"M232,64a32,32,0,1,0-40,31v17a8,8,0,0,1-8,8H96a23.84,23.84,0,0,0-8,1.38V95a32,32,0,1,0-16,0v66a32,32,0,1,0,16,0V144a8,8,0,0,1,8-8h88a24,24,0,0,0,24-24V95A32.06,32.06,0,0,0,232,64ZM64,64A16,16,0,1,1,80,80,16,16,0,0,1,64,64ZM96,192a16,16,0,1,1-16-16A16,16,0,0,1,96,192Z"},null,-1),_Z=[AZ],TZ={key:3},EZ=F("path",{d:"M230,64a30,30,0,1,0-36,29.4V112a10,10,0,0,1-10,10H96a21.84,21.84,0,0,0-10,2.42v-31a30,30,0,1,0-12,0v69.2a30,30,0,1,0,12,0V144a10,10,0,0,1,10-10h88a22,22,0,0,0,22-22V93.4A30.05,30.05,0,0,0,230,64ZM62,64A18,18,0,1,1,80,82,18,18,0,0,1,62,64ZM98,192a18,18,0,1,1-18-18A18,18,0,0,1,98,192ZM200,82a18,18,0,1,1,18-18A18,18,0,0,1,200,82Z"},null,-1),OZ=[EZ],IZ={key:4},DZ=F("path",{d:"M232,64a32,32,0,1,0-40,31v17a8,8,0,0,1-8,8H96a23.84,23.84,0,0,0-8,1.38V95a32,32,0,1,0-16,0v66a32,32,0,1,0,16,0V144a8,8,0,0,1,8-8h88a24,24,0,0,0,24-24V95A32.06,32.06,0,0,0,232,64ZM64,64A16,16,0,1,1,80,80,16,16,0,0,1,64,64ZM96,192a16,16,0,1,1-16-16A16,16,0,0,1,96,192ZM200,80a16,16,0,1,1,16-16A16,16,0,0,1,200,80Z"},null,-1),NZ=[DZ],LZ={key:5},PZ=F("path",{d:"M228,64a28,28,0,1,0-32,27.71V112a12,12,0,0,1-12,12H96a19.91,19.91,0,0,0-12,4V91.71a28,28,0,1,0-8,0v72.58a28,28,0,1,0,8,0V144a12,12,0,0,1,12-12h88a20,20,0,0,0,20-20V91.71A28,28,0,0,0,228,64ZM60,64A20,20,0,1,1,80,84,20,20,0,0,1,60,64Zm40,128a20,20,0,1,1-20-20A20,20,0,0,1,100,192ZM200,84a20,20,0,1,1,20-20A20,20,0,0,1,200,84Z"},null,-1),RZ=[PZ],$Z={name:"PhGitBranch"},BZ=he({...$Z,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",vZ,bZ)):o.value==="duotone"?(x(),P("g",kZ,CZ)):o.value==="fill"?(x(),P("g",MZ,_Z)):o.value==="light"?(x(),P("g",TZ,OZ)):o.value==="regular"?(x(),P("g",IZ,NZ)):o.value==="thin"?(x(),P("g",LZ,RZ)):ue("",!0)],16,yZ))}}),FZ=["width","height","fill","transform"],zZ={key:0},HZ=F("path",{d:"M212.62,75.17A63.7,63.7,0,0,0,206.39,26,12,12,0,0,0,196,20a63.71,63.71,0,0,0-50,24H126A63.71,63.71,0,0,0,76,20a12,12,0,0,0-10.39,6,63.7,63.7,0,0,0-6.23,49.17A61.5,61.5,0,0,0,52,104v8a60.1,60.1,0,0,0,45.76,58.28A43.66,43.66,0,0,0,92,192v4H76a20,20,0,0,1-20-20,44.05,44.05,0,0,0-44-44,12,12,0,0,0,0,24,20,20,0,0,1,20,20,44.05,44.05,0,0,0,44,44H92v12a12,12,0,0,0,24,0V192a20,20,0,0,1,40,0v40a12,12,0,0,0,24,0V192a43.66,43.66,0,0,0-5.76-21.72A60.1,60.1,0,0,0,220,112v-8A61.5,61.5,0,0,0,212.62,75.17ZM196,112a36,36,0,0,1-36,36H112a36,36,0,0,1-36-36v-8a37.87,37.87,0,0,1,6.13-20.12,11.65,11.65,0,0,0,1.58-11.49,39.9,39.9,0,0,1-.4-27.72,39.87,39.87,0,0,1,26.41,17.8A12,12,0,0,0,119.82,68h32.35a12,12,0,0,0,10.11-5.53,39.84,39.84,0,0,1,26.41-17.8,39.9,39.9,0,0,1-.4,27.72,12,12,0,0,0,1.61,11.53A37.85,37.85,0,0,1,196,104Z"},null,-1),VZ=[HZ],qZ={key:1},WZ=F("path",{d:"M208,104v8a48,48,0,0,1-48,48H136a32,32,0,0,1,32,32v40H104V192a32,32,0,0,1,32-32H112a48,48,0,0,1-48-48v-8a49.28,49.28,0,0,1,8.51-27.3A51.92,51.92,0,0,1,76,32a52,52,0,0,1,43.83,24h32.34A52,52,0,0,1,196,32a51.92,51.92,0,0,1,3.49,44.7A49.28,49.28,0,0,1,208,104Z",opacity:"0.2"},null,-1),jZ=F("path",{d:"M208.3,75.68A59.74,59.74,0,0,0,202.93,28,8,8,0,0,0,196,24a59.75,59.75,0,0,0-48,24H124A59.75,59.75,0,0,0,76,24a8,8,0,0,0-6.93,4,59.78,59.78,0,0,0-5.38,47.68A58.14,58.14,0,0,0,56,104v8a56.06,56.06,0,0,0,48.44,55.47A39.8,39.8,0,0,0,96,192v8H72a24,24,0,0,1-24-24A40,40,0,0,0,8,136a8,8,0,0,0,0,16,24,24,0,0,1,24,24,40,40,0,0,0,40,40H96v16a8,8,0,0,0,16,0V192a24,24,0,0,1,48,0v40a8,8,0,0,0,16,0V192a39.8,39.8,0,0,0-8.44-24.53A56.06,56.06,0,0,0,216,112v-8A58,58,0,0,0,208.3,75.68ZM200,112a40,40,0,0,1-40,40H112a40,40,0,0,1-40-40v-8a41.74,41.74,0,0,1,6.9-22.48A8,8,0,0,0,80,73.83a43.81,43.81,0,0,1,.79-33.58,43.88,43.88,0,0,1,32.32,20.06A8,8,0,0,0,119.82,64h32.35a8,8,0,0,0,6.74-3.69,43.87,43.87,0,0,1,32.32-20.06A43.81,43.81,0,0,1,192,73.83a8.09,8.09,0,0,0,1,7.65A41.76,41.76,0,0,1,200,104Z"},null,-1),ZZ=[WZ,jZ],UZ={key:2},GZ=F("path",{d:"M216,104v8a56.06,56.06,0,0,1-48.44,55.47A39.8,39.8,0,0,1,176,192v40a8,8,0,0,1-8,8H104a8,8,0,0,1-8-8V216H72a40,40,0,0,1-40-40A24,24,0,0,0,8,152a8,8,0,0,1,0-16,40,40,0,0,1,40,40,24,24,0,0,0,24,24H96v-8a39.8,39.8,0,0,1,8.44-24.53A56.06,56.06,0,0,1,56,112v-8a58.14,58.14,0,0,1,7.69-28.32A59.78,59.78,0,0,1,69.07,28,8,8,0,0,1,76,24a59.75,59.75,0,0,1,48,24h24a59.75,59.75,0,0,1,48-24,8,8,0,0,1,6.93,4,59.74,59.74,0,0,1,5.37,47.68A58,58,0,0,1,216,104Z"},null,-1),KZ=[GZ],YZ={key:3},JZ=F("path",{d:"M206.13,75.92A57.79,57.79,0,0,0,201.2,29a6,6,0,0,0-5.2-3,57.77,57.77,0,0,0-47,24H123A57.77,57.77,0,0,0,76,26a6,6,0,0,0-5.2,3,57.79,57.79,0,0,0-4.93,46.92A55.88,55.88,0,0,0,58,104v8a54.06,54.06,0,0,0,50.45,53.87A37.85,37.85,0,0,0,98,192v10H72a26,26,0,0,1-26-26A38,38,0,0,0,8,138a6,6,0,0,0,0,12,26,26,0,0,1,26,26,38,38,0,0,0,38,38H98v18a6,6,0,0,0,12,0V192a26,26,0,0,1,52,0v40a6,6,0,0,0,12,0V192a37.85,37.85,0,0,0-10.45-26.13A54.06,54.06,0,0,0,214,112v-8A55.88,55.88,0,0,0,206.13,75.92ZM202,112a42,42,0,0,1-42,42H112a42,42,0,0,1-42-42v-8a43.86,43.86,0,0,1,7.3-23.69,6,6,0,0,0,.81-5.76,45.85,45.85,0,0,1,1.43-36.42,45.85,45.85,0,0,1,35.23,21.1A6,6,0,0,0,119.83,62h32.34a6,6,0,0,0,5.06-2.76,45.83,45.83,0,0,1,35.23-21.11,45.85,45.85,0,0,1,1.43,36.42,6,6,0,0,0,.79,5.74A43.78,43.78,0,0,1,202,104Z"},null,-1),XZ=[JZ],QZ={key:4},eU=F("path",{d:"M208.31,75.68A59.78,59.78,0,0,0,202.93,28,8,8,0,0,0,196,24a59.75,59.75,0,0,0-48,24H124A59.75,59.75,0,0,0,76,24a8,8,0,0,0-6.93,4,59.78,59.78,0,0,0-5.38,47.68A58.14,58.14,0,0,0,56,104v8a56.06,56.06,0,0,0,48.44,55.47A39.8,39.8,0,0,0,96,192v8H72a24,24,0,0,1-24-24A40,40,0,0,0,8,136a8,8,0,0,0,0,16,24,24,0,0,1,24,24,40,40,0,0,0,40,40H96v16a8,8,0,0,0,16,0V192a24,24,0,0,1,48,0v40a8,8,0,0,0,16,0V192a39.8,39.8,0,0,0-8.44-24.53A56.06,56.06,0,0,0,216,112v-8A58.14,58.14,0,0,0,208.31,75.68ZM200,112a40,40,0,0,1-40,40H112a40,40,0,0,1-40-40v-8a41.74,41.74,0,0,1,6.9-22.48A8,8,0,0,0,80,73.83a43.81,43.81,0,0,1,.79-33.58,43.88,43.88,0,0,1,32.32,20.06A8,8,0,0,0,119.82,64h32.35a8,8,0,0,0,6.74-3.69,43.87,43.87,0,0,1,32.32-20.06A43.81,43.81,0,0,1,192,73.83a8.09,8.09,0,0,0,1,7.65A41.72,41.72,0,0,1,200,104Z"},null,-1),tU=[eU],nU={key:5},rU=F("path",{d:"M203.94,76.16A55.73,55.73,0,0,0,199.46,30,4,4,0,0,0,196,28a55.78,55.78,0,0,0-46,24H122A55.78,55.78,0,0,0,76,28a4,4,0,0,0-3.46,2,55.73,55.73,0,0,0-4.48,46.16A53.78,53.78,0,0,0,60,104v8a52.06,52.06,0,0,0,52,52h1.41A36,36,0,0,0,100,192v12H72a28,28,0,0,1-28-28A36,36,0,0,0,8,140a4,4,0,0,0,0,8,28,28,0,0,1,28,28,36,36,0,0,0,36,36h28v20a4,4,0,0,0,8,0V192a28,28,0,0,1,56,0v40a4,4,0,0,0,8,0V192a36,36,0,0,0-13.41-28H160a52.06,52.06,0,0,0,52-52v-8A53.78,53.78,0,0,0,203.94,76.16ZM204,112a44.05,44.05,0,0,1-44,44H112a44.05,44.05,0,0,1-44-44v-8a45.76,45.76,0,0,1,7.71-24.89,4,4,0,0,0,.53-3.84,47.82,47.82,0,0,1,2.1-39.21,47.8,47.8,0,0,1,38.12,22.1A4,4,0,0,0,119.83,60h32.34a4,4,0,0,0,3.37-1.84,47.8,47.8,0,0,1,38.12-22.1,47.82,47.82,0,0,1,2.1,39.21,4,4,0,0,0,.53,3.83A45.85,45.85,0,0,1,204,104Z"},null,-1),iU=[rU],sU={name:"PhGithubLogo"},j_=he({...sU,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",zZ,VZ)):o.value==="duotone"?(x(),P("g",qZ,ZZ)):o.value==="fill"?(x(),P("g",UZ,KZ)):o.value==="light"?(x(),P("g",YZ,XZ)):o.value==="regular"?(x(),P("g",QZ,tU)):o.value==="thin"?(x(),P("g",nU,iU)):ue("",!0)],16,FZ))}}),oU=["width","height","fill","transform"],aU={key:0},lU=F("path",{d:"M180,232a12,12,0,0,1-12,12H88a12,12,0,0,1,0-24h80A12,12,0,0,1,180,232Zm40-128a91.51,91.51,0,0,1-35.17,72.35A12.26,12.26,0,0,0,180,186v2a20,20,0,0,1-20,20H96a20,20,0,0,1-20-20v-2a12,12,0,0,0-4.7-9.51A91.57,91.57,0,0,1,36,104.52C35.73,54.69,76,13.2,125.79,12A92,92,0,0,1,220,104Zm-24,0a68,68,0,0,0-69.65-68C89.56,36.88,59.8,67.55,60,104.38a67.71,67.71,0,0,0,26.1,53.19A35.87,35.87,0,0,1,100,184h56.1A36.13,36.13,0,0,1,170,157.49,67.68,67.68,0,0,0,196,104Zm-20.07-5.32a48.5,48.5,0,0,0-31.91-40,12,12,0,0,0-8,22.62,24.31,24.31,0,0,1,16.09,20,12,12,0,0,0,23.86-2.64Z"},null,-1),uU=[lU],cU={key:1},hU=F("path",{d:"M208,104a79.86,79.86,0,0,1-30.59,62.92A24.29,24.29,0,0,0,168,186v6a8,8,0,0,1-8,8H96a8,8,0,0,1-8-8v-6a24.11,24.11,0,0,0-9.3-19A79.87,79.87,0,0,1,48,104.45C47.76,61.09,82.72,25,126.07,24A80,80,0,0,1,208,104Z",opacity:"0.2"},null,-1),dU=F("path",{d:"M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-16,0a72,72,0,0,0-73.74-72c-39,.92-70.47,33.39-70.26,72.39a71.65,71.65,0,0,0,27.64,56.3A32,32,0,0,1,96,186v6h64v-6a32.15,32.15,0,0,1,12.47-25.35A71.65,71.65,0,0,0,200,104Zm-16.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"},null,-1),fU=[hU,dU],pU={key:2},mU=F("path",{d:"M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-32.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"},null,-1),gU=[mU],yU={key:3},vU=F("path",{d:"M174,232a6,6,0,0,1-6,6H88a6,6,0,0,1,0-12h80A6,6,0,0,1,174,232Zm40-128a85.56,85.56,0,0,1-32.88,67.64A18.23,18.23,0,0,0,174,186v6a14,14,0,0,1-14,14H96a14,14,0,0,1-14-14v-6a18,18,0,0,0-7-14.23h0a85.59,85.59,0,0,1-33-67.24C41.74,57.91,79.39,19.12,125.93,18A86,86,0,0,1,214,104Zm-12,0a74,74,0,0,0-75.79-74C86.17,31,53.78,64.34,54,104.42a73.67,73.67,0,0,0,28.4,57.87A29.92,29.92,0,0,1,94,186v6a2,2,0,0,0,2,2h64a2,2,0,0,0,2-2v-6a30.18,30.18,0,0,1,11.7-23.78A73.59,73.59,0,0,0,202,104Zm-20.08-9A55.58,55.58,0,0,0,137,50.08a6,6,0,1,0-2,11.84C152.38,64.84,167.13,79.6,170.08,97a6,6,0,0,0,5.91,5,6.87,6.87,0,0,0,1-.08A6,6,0,0,0,181.92,95Z"},null,-1),wU=[vU],bU={key:4},kU=F("path",{d:"M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-16,0a72,72,0,0,0-73.74-72c-39,.92-70.47,33.39-70.26,72.39a71.65,71.65,0,0,0,27.64,56.3A32,32,0,0,1,96,186v6h64v-6a32.15,32.15,0,0,1,12.47-25.35A71.65,71.65,0,0,0,200,104Zm-16.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"},null,-1),xU=[kU],SU={key:5},CU=F("path",{d:"M172,232a4,4,0,0,1-4,4H88a4,4,0,0,1,0-8h80A4,4,0,0,1,172,232Zm40-128a83.59,83.59,0,0,1-32.11,66.06A20.2,20.2,0,0,0,172,186v6a12,12,0,0,1-12,12H96a12,12,0,0,1-12-12v-6a20,20,0,0,0-7.76-15.81A83.58,83.58,0,0,1,44,104.47C43.75,59,80.52,21.09,126,20a84,84,0,0,1,86,84Zm-8,0a76,76,0,0,0-77.83-76C85,29,51.77,63.27,52,104.43a75.62,75.62,0,0,0,29.17,59.43A28,28,0,0,1,92,186v6a4,4,0,0,0,4,4h64a4,4,0,0,0,4-4v-6a28.14,28.14,0,0,1,10.94-22.2A75.62,75.62,0,0,0,204,104ZM136.66,52.06a4,4,0,0,0-1.32,7.88C153.53,63,169,78.45,172.06,96.67A4,4,0,0,0,176,100a3.88,3.88,0,0,0,.67-.06,4,4,0,0,0,3.27-4.61A53.51,53.51,0,0,0,136.66,52.06Z"},null,-1),MU=[CU],AU={name:"PhLightbulb"},_U=he({...AU,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",aU,uU)):o.value==="duotone"?(x(),P("g",cU,fU)):o.value==="fill"?(x(),P("g",pU,gU)):o.value==="light"?(x(),P("g",yU,wU)):o.value==="regular"?(x(),P("g",bU,xU)):o.value==="thin"?(x(),P("g",SU,MU)):ue("",!0)],16,oU))}}),TU=["width","height","fill","transform"],EU={key:0},OU=F("path",{d:"M28,64A12,12,0,0,1,40,52H216a12,12,0,0,1,0,24H40A12,12,0,0,1,28,64Zm12,76h64a12,12,0,0,0,0-24H40a12,12,0,0,0,0,24Zm80,40H40a12,12,0,0,0,0,24h80a12,12,0,0,0,0-24Zm120.49,20.49a12,12,0,0,1-17,0l-18.08-18.08a44,44,0,1,1,17-17l18.08,18.07A12,12,0,0,1,240.49,200.49ZM184,164a20,20,0,1,0-20-20A20,20,0,0,0,184,164Z"},null,-1),IU=[OU],DU={key:1},NU=F("path",{d:"M216,144a32,32,0,1,1-32-32A32,32,0,0,1,216,144Z",opacity:"0.2"},null,-1),LU=F("path",{d:"M32,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H40A8,8,0,0,1,32,64Zm8,72h72a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Zm88,48H40a8,8,0,0,0,0,16h88a8,8,0,0,0,0-16Zm109.66,13.66a8,8,0,0,1-11.32,0L206,177.36A40,40,0,1,1,217.36,166l20.3,20.3A8,8,0,0,1,237.66,197.66ZM184,168a24,24,0,1,0-24-24A24,24,0,0,0,184,168Z"},null,-1),PU=[NU,LU],RU={key:2},$U=F("path",{d:"M32,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H40A8,8,0,0,1,32,64Zm8,72h72a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Zm88,48H40a8,8,0,0,0,0,16h88a8,8,0,0,0,0-16Zm109.66,2.34L217.36,166A40,40,0,1,0,206,177.36l20.3,20.3a8,8,0,0,0,11.32-11.32Z"},null,-1),BU=[$U],FU={key:3},zU=F("path",{d:"M34,64a6,6,0,0,1,6-6H216a6,6,0,0,1,0,12H40A6,6,0,0,1,34,64Zm6,70h72a6,6,0,0,0,0-12H40a6,6,0,0,0,0,12Zm88,52H40a6,6,0,0,0,0,12h88a6,6,0,0,0,0-12Zm108.24,10.24a6,6,0,0,1-8.48,0l-21.49-21.48a38.06,38.06,0,1,1,8.49-8.49l21.48,21.49A6,6,0,0,1,236.24,196.24ZM184,170a26,26,0,1,0-26-26A26,26,0,0,0,184,170Z"},null,-1),HU=[zU],VU={key:4},qU=F("path",{d:"M32,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H40A8,8,0,0,1,32,64Zm8,72h72a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Zm88,48H40a8,8,0,0,0,0,16h88a8,8,0,0,0,0-16Zm109.66,13.66a8,8,0,0,1-11.32,0L206,177.36A40,40,0,1,1,217.36,166l20.3,20.3A8,8,0,0,1,237.66,197.66ZM184,168a24,24,0,1,0-24-24A24,24,0,0,0,184,168Z"},null,-1),WU=[qU],jU={key:5},ZU=F("path",{d:"M36,64a4,4,0,0,1,4-4H216a4,4,0,0,1,0,8H40A4,4,0,0,1,36,64Zm4,68h72a4,4,0,0,0,0-8H40a4,4,0,0,0,0,8Zm88,56H40a4,4,0,0,0,0,8h88a4,4,0,0,0,0-8Zm106.83,6.83a4,4,0,0,1-5.66,0l-22.72-22.72a36.06,36.06,0,1,1,5.66-5.66l22.72,22.72A4,4,0,0,1,234.83,194.83ZM184,172a28,28,0,1,0-28-28A28,28,0,0,0,184,172Z"},null,-1),UU=[ZU],GU={name:"PhListMagnifyingGlass"},KU=he({...GU,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",EU,IU)):o.value==="duotone"?(x(),P("g",DU,PU)):o.value==="fill"?(x(),P("g",RU,BU)):o.value==="light"?(x(),P("g",FU,HU)):o.value==="regular"?(x(),P("g",VU,WU)):o.value==="thin"?(x(),P("g",jU,UU)):ue("",!0)],16,TU))}}),YU=["width","height","fill","transform"],JU={key:0},XU=F("path",{d:"M208,76H180V56A52,52,0,0,0,76,56V76H48A20,20,0,0,0,28,96V208a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V96A20,20,0,0,0,208,76ZM100,56a28,28,0,0,1,56,0V76H100ZM204,204H52V100H204Z"},null,-1),QU=[XU],eG={key:1},tG=F("path",{d:"M216,96V208a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V96a8,8,0,0,1,8-8H208A8,8,0,0,1,216,96Z",opacity:"0.2"},null,-1),nG=F("path",{d:"M208,80H176V56a48,48,0,0,0-96,0V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80ZM96,56a32,32,0,0,1,64,0V80H96ZM208,208H48V96H208V208Z"},null,-1),rG=[tG,nG],iG={key:2},sG=F("path",{d:"M208,80H176V56a48,48,0,0,0-96,0V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80ZM96,56a32,32,0,0,1,64,0V80H96Z"},null,-1),oG=[sG],aG={key:3},lG=F("path",{d:"M208,82H174V56a46,46,0,0,0-92,0V82H48A14,14,0,0,0,34,96V208a14,14,0,0,0,14,14H208a14,14,0,0,0,14-14V96A14,14,0,0,0,208,82ZM94,56a34,34,0,0,1,68,0V82H94ZM210,208a2,2,0,0,1-2,2H48a2,2,0,0,1-2-2V96a2,2,0,0,1,2-2H208a2,2,0,0,1,2,2Z"},null,-1),uG=[lG],cG={key:4},hG=F("path",{d:"M208,80H176V56a48,48,0,0,0-96,0V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80ZM96,56a32,32,0,0,1,64,0V80H96ZM208,208H48V96H208V208Z"},null,-1),dG=[hG],fG={key:5},pG=F("path",{d:"M208,84H172V56a44,44,0,0,0-88,0V84H48A12,12,0,0,0,36,96V208a12,12,0,0,0,12,12H208a12,12,0,0,0,12-12V96A12,12,0,0,0,208,84ZM92,56a36,36,0,0,1,72,0V84H92ZM212,208a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V96a4,4,0,0,1,4-4H208a4,4,0,0,1,4,4Z"},null,-1),mG=[pG],gG={name:"PhLockSimple"},yG=he({...gG,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",JU,QU)):o.value==="duotone"?(x(),P("g",eG,rG)):o.value==="fill"?(x(),P("g",iG,oG)):o.value==="light"?(x(),P("g",aG,uG)):o.value==="regular"?(x(),P("g",cG,dG)):o.value==="thin"?(x(),P("g",fG,mG)):ue("",!0)],16,YU))}}),vG=["width","height","fill","transform"],wG={key:0},bG=F("path",{d:"M252,152a12,12,0,0,1-12,12H228v12a12,12,0,0,1-24,0V164H192a12,12,0,0,1,0-24h12V128a12,12,0,0,1,24,0v12h12A12,12,0,0,1,252,152ZM56,76H68V88a12,12,0,0,0,24,0V76h12a12,12,0,1,0,0-24H92V40a12,12,0,0,0-24,0V52H56a12,12,0,0,0,0,24ZM184,188h-4v-4a12,12,0,0,0-24,0v4h-4a12,12,0,0,0,0,24h4v4a12,12,0,0,0,24,0v-4h4a12,12,0,0,0,0-24ZM222.14,82.83,82.82,222.14a20,20,0,0,1-28.28,0L33.85,201.46a20,20,0,0,1,0-28.29L173.17,33.86a20,20,0,0,1,28.28,0l20.69,20.68A20,20,0,0,1,222.14,82.83ZM159,112,144,97,53.65,187.31l15,15Zm43.31-43.31-15-15L161,80l15,15Z"},null,-1),kG=[bG],xG={key:1},SG=F("path",{d:"M176,112,74.34,213.66a8,8,0,0,1-11.31,0L42.34,193a8,8,0,0,1,0-11.31L144,80Z",opacity:"0.2"},null,-1),CG=F("path",{d:"M248,152a8,8,0,0,1-8,8H224v16a8,8,0,0,1-16,0V160H192a8,8,0,0,1,0-16h16V128a8,8,0,0,1,16,0v16h16A8,8,0,0,1,248,152ZM56,72H72V88a8,8,0,0,0,16,0V72h16a8,8,0,0,0,0-16H88V40a8,8,0,0,0-16,0V56H56a8,8,0,0,0,0,16ZM184,192h-8v-8a8,8,0,0,0-16,0v8h-8a8,8,0,0,0,0,16h8v8a8,8,0,0,0,16,0v-8h8a8,8,0,0,0,0-16ZM219.31,80,80,219.31a16,16,0,0,1-22.62,0L36.68,198.63a16,16,0,0,1,0-22.63L176,36.69a16,16,0,0,1,22.63,0l20.68,20.68A16,16,0,0,1,219.31,80Zm-54.63,32L144,91.31l-96,96L68.68,208ZM208,68.69,187.31,48l-32,32L176,100.69Z"},null,-1),MG=[SG,CG],AG={key:2},_G=F("path",{d:"M248,152a8,8,0,0,1-8,8H224v16a8,8,0,0,1-16,0V160H192a8,8,0,0,1,0-16h16V128a8,8,0,0,1,16,0v16h16A8,8,0,0,1,248,152ZM56,72H72V88a8,8,0,0,0,16,0V72h16a8,8,0,0,0,0-16H88V40a8,8,0,0,0-16,0V56H56a8,8,0,0,0,0,16ZM184,192h-8v-8a8,8,0,0,0-16,0v8h-8a8,8,0,0,0,0,16h8v8a8,8,0,0,0,16,0v-8h8a8,8,0,0,0,0-16ZM219.31,80,80,219.31a16,16,0,0,1-22.62,0L36.68,198.63a16,16,0,0,1,0-22.63L176,36.69a16,16,0,0,1,22.63,0l20.68,20.68A16,16,0,0,1,219.31,80ZM208,68.69,187.31,48l-32,32L176,100.69Z"},null,-1),TG=[_G],EG={key:3},OG=F("path",{d:"M246,152a6,6,0,0,1-6,6H222v18a6,6,0,0,1-12,0V158H192a6,6,0,0,1,0-12h18V128a6,6,0,0,1,12,0v18h18A6,6,0,0,1,246,152ZM56,70H74V88a6,6,0,0,0,12,0V70h18a6,6,0,0,0,0-12H86V40a6,6,0,0,0-12,0V58H56a6,6,0,0,0,0,12ZM184,194H174V184a6,6,0,0,0-12,0v10H152a6,6,0,0,0,0,12h10v10a6,6,0,0,0,12,0V206h10a6,6,0,0,0,0-12ZM217.9,78.59,78.58,217.9a14,14,0,0,1-19.8,0L38.09,197.21a14,14,0,0,1,0-19.8L177.41,38.1a14,14,0,0,1,19.8,0L217.9,58.79A14,14,0,0,1,217.9,78.59ZM167.51,112,144,88.49,46.58,185.9a2,2,0,0,0,0,2.83l20.69,20.68a2,2,0,0,0,2.82,0h0Zm41.9-44.73L188.73,46.59a2,2,0,0,0-2.83,0L152.48,80,176,103.52,209.41,70.1A2,2,0,0,0,209.41,67.27Z"},null,-1),IG=[OG],DG={key:4},NG=F("path",{d:"M48,64a8,8,0,0,1,8-8H72V40a8,8,0,0,1,16,0V56h16a8,8,0,0,1,0,16H88V88a8,8,0,0,1-16,0V72H56A8,8,0,0,1,48,64ZM184,192h-8v-8a8,8,0,0,0-16,0v8h-8a8,8,0,0,0,0,16h8v8a8,8,0,0,0,16,0v-8h8a8,8,0,0,0,0-16Zm56-48H224V128a8,8,0,0,0-16,0v16H192a8,8,0,0,0,0,16h16v16a8,8,0,0,0,16,0V160h16a8,8,0,0,0,0-16ZM219.31,80,80,219.31a16,16,0,0,1-22.62,0L36.68,198.63a16,16,0,0,1,0-22.63L176,36.69a16,16,0,0,1,22.63,0l20.68,20.68A16,16,0,0,1,219.31,80Zm-54.63,32L144,91.31l-96,96L68.68,208ZM208,68.69,187.31,48l-32,32L176,100.69Z"},null,-1),LG=[NG],PG={key:5},RG=F("path",{d:"M244,152a4,4,0,0,1-4,4H220v20a4,4,0,0,1-8,0V156H192a4,4,0,0,1,0-8h20V128a4,4,0,0,1,8,0v20h20A4,4,0,0,1,244,152ZM56,68H76V88a4,4,0,0,0,8,0V68h20a4,4,0,0,0,0-8H84V40a4,4,0,0,0-8,0V60H56a4,4,0,0,0,0,8ZM184,196H172V184a4,4,0,0,0-8,0v12H152a4,4,0,0,0,0,8h12v12a4,4,0,0,0,8,0V204h12a4,4,0,0,0,0-8ZM216.48,77.17,77.17,216.49a12,12,0,0,1-17,0L39.51,195.8a12,12,0,0,1,0-17L178.83,39.51a12,12,0,0,1,17,0L216.48,60.2A12,12,0,0,1,216.48,77.17ZM170.34,112,144,85.66,45.17,184.49a4,4,0,0,0,0,5.65l20.68,20.69a4,4,0,0,0,5.66,0Zm40.49-46.14L190.14,45.17a4,4,0,0,0-5.66,0L149.65,80,176,106.34l34.83-34.83A4,4,0,0,0,210.83,65.86Z"},null,-1),$G=[RG],BG={name:"PhMagicWand"},FG=he({...BG,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",wG,kG)):o.value==="duotone"?(x(),P("g",xG,MG)):o.value==="fill"?(x(),P("g",AG,TG)):o.value==="light"?(x(),P("g",EG,IG)):o.value==="regular"?(x(),P("g",DG,LG)):o.value==="thin"?(x(),P("g",PG,$G)):ue("",!0)],16,vG))}}),zG=["width","height","fill","transform"],HG={key:0},VG=F("path",{d:"M225.6,62.64l-88-48.17a19.91,19.91,0,0,0-19.2,0l-88,48.17A20,20,0,0,0,20,80.19v95.62a20,20,0,0,0,10.4,17.55l88,48.17a19.89,19.89,0,0,0,19.2,0l88-48.17A20,20,0,0,0,236,175.81V80.19A20,20,0,0,0,225.6,62.64ZM128,36.57,200,76,178.57,87.73l-72-39.42Zm0,78.83L56,76,81.56,62l72,39.41ZM44,96.79l72,39.4v76.67L44,173.44Zm96,116.07V136.19l24-13.13V152a12,12,0,0,0,24,0V109.92l24-13.13v76.65Z"},null,-1),qG=[VG],WG={key:1},jG=F("path",{d:"M128,129.09V232a8,8,0,0,1-3.84-1l-88-48.18a8,8,0,0,1-4.16-7V80.18a8,8,0,0,1,.7-3.25Z",opacity:"0.2"},null,-1),ZG=F("path",{d:"M223.68,66.15,135.68,18a15.88,15.88,0,0,0-15.36,0l-88,48.17a16,16,0,0,0-8.32,14v95.64a16,16,0,0,0,8.32,14l88,48.17a15.88,15.88,0,0,0,15.36,0l88-48.17a16,16,0,0,0,8.32-14V80.18A16,16,0,0,0,223.68,66.15ZM128,32l80.34,44-29.77,16.3-80.35-44ZM128,120,47.66,76l33.9-18.56,80.34,44ZM40,90l80,43.78v85.79L40,175.82Zm176,85.78h0l-80,43.79V133.82l32-17.51V152a8,8,0,0,0,16,0V107.55L216,90v85.77Z"},null,-1),UG=[jG,ZG],GG={key:2},KG=F("path",{d:"M223.68,66.15,135.68,18a15.88,15.88,0,0,0-15.36,0l-88,48.17a16,16,0,0,0-8.32,14v95.64a16,16,0,0,0,8.32,14l88,48.17a15.88,15.88,0,0,0,15.36,0l88-48.17a16,16,0,0,0,8.32-14V80.18A16,16,0,0,0,223.68,66.15ZM128,32l80.35,44L178.57,92.29l-80.35-44Zm0,88L47.65,76,81.56,57.43l80.35,44Zm88,55.85h0l-80,43.79V133.83l32-17.51V152a8,8,0,0,0,16,0V107.56l32-17.51v85.76Z"},null,-1),YG=[KG],JG={key:3},XG=F("path",{d:"M222.72,67.91l-88-48.18a13.9,13.9,0,0,0-13.44,0l-88,48.18A14,14,0,0,0,26,80.18v95.64a14,14,0,0,0,7.28,12.27l88,48.18a13.92,13.92,0,0,0,13.44,0l88-48.18A14,14,0,0,0,230,175.82V80.18A14,14,0,0,0,222.72,67.91ZM127,30.25a2,2,0,0,1,1.92,0L212.51,76,178.57,94.57,94.05,48.31ZM122,223,39,177.57a2,2,0,0,1-1-1.75V86.66l84,46ZM43.49,76,81.56,55.15l84.51,46.26L128,122.24ZM218,175.82a2,2,0,0,1-1,1.75h0L134,223V132.64l36-19.71V152a6,6,0,0,0,12,0V106.37l36-19.71Z"},null,-1),QG=[XG],eK={key:4},tK=F("path",{d:"M223.68,66.15,135.68,18a15.88,15.88,0,0,0-15.36,0l-88,48.17a16,16,0,0,0-8.32,14v95.64a16,16,0,0,0,8.32,14l88,48.17a15.88,15.88,0,0,0,15.36,0l88-48.17a16,16,0,0,0,8.32-14V80.18A16,16,0,0,0,223.68,66.15ZM128,32l80.34,44-29.77,16.3-80.35-44ZM128,120,47.66,76l33.9-18.56,80.34,44ZM40,90l80,43.78v85.79L40,175.82Zm176,85.78h0l-80,43.79V133.82l32-17.51V152a8,8,0,0,0,16,0V107.55L216,90v85.77Z"},null,-1),nK=[tK],rK={key:5},iK=F("path",{d:"M221.76,69.66l-88-48.18a12,12,0,0,0-11.52,0l-88,48.18A12,12,0,0,0,28,80.18v95.64a12,12,0,0,0,6.24,10.52l88,48.18a11.95,11.95,0,0,0,11.52,0l88-48.18A12,12,0,0,0,228,175.82V80.18A12,12,0,0,0,221.76,69.66ZM126.08,28.5a3.94,3.94,0,0,1,3.84,0L216.67,76,178.5,96.89a4,4,0,0,0-.58-.4l-88-48.18Zm1.92,96L39.33,76,81.56,52.87l88.67,48.54Zm-89.92,54.8a4,4,0,0,1-2.08-3.5V83.29l88,48.16v94.91Zm179.84,0h0l-85.92,47V131.45l40-21.89V152a4,4,0,0,0,8,0V105.18l40-21.89v92.53A4,4,0,0,1,217.92,179.32Z"},null,-1),sK=[iK],oK={name:"PhPackage"},Z_=he({...oK,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",HG,qG)):o.value==="duotone"?(x(),P("g",WG,UG)):o.value==="fill"?(x(),P("g",GG,YG)):o.value==="light"?(x(),P("g",JG,QG)):o.value==="regular"?(x(),P("g",eK,nK)):o.value==="thin"?(x(),P("g",rK,sK)):ue("",!0)],16,zG))}}),aK=["width","height","fill","transform"],lK={key:0},uK=F("path",{d:"M203.57,51A107.9,107.9,0,0,0,20,128c0,44.72,27.6,82.25,72,97.94A36,36,0,0,0,140,192a12,12,0,0,1,12-12h46.21a35.79,35.79,0,0,0,35.1-28A108.6,108.6,0,0,0,236,127.09,107.23,107.23,0,0,0,203.57,51Zm6.34,95.67a11.91,11.91,0,0,1-11.7,9.3H152a36,36,0,0,0-36,36,12,12,0,0,1-16,11.3c-16.65-5.88-30.65-15.76-40.48-28.56A76,76,0,0,1,44,128a84,84,0,0,1,83.13-84H128a84.35,84.35,0,0,1,84,83.29A84.72,84.72,0,0,1,209.91,146.71ZM144,76a16,16,0,1,1-16-16A16,16,0,0,1,144,76Zm-44,24A16,16,0,1,1,84,84,16,16,0,0,1,100,100Zm0,56a16,16,0,1,1-16-16A16,16,0,0,1,100,156Zm88-56a16,16,0,1,1-16-16A16,16,0,0,1,188,100Z"},null,-1),cK=[uK],hK={key:1},dK=F("path",{d:"M224,127.17a96.48,96.48,0,0,1-2.39,22.18A24,24,0,0,1,198.21,168H152a24,24,0,0,0-24,24,24,24,0,0,1-32,22.61C58.73,201.44,32,169.81,32,128a96,96,0,0,1,95-96C179.84,31.47,223.55,74.35,224,127.17Z",opacity:"0.2"},null,-1),fK=F("path",{d:"M200.77,53.89A103.27,103.27,0,0,0,128,24h-1.07A104,104,0,0,0,24,128c0,43,26.58,79.06,69.36,94.17A32,32,0,0,0,136,192a16,16,0,0,1,16-16h46.21a31.81,31.81,0,0,0,31.2-24.88,104.43,104.43,0,0,0,2.59-24A103.28,103.28,0,0,0,200.77,53.89Zm13,93.71A15.89,15.89,0,0,1,198.21,160H152a32,32,0,0,0-32,32,16,16,0,0,1-21.31,15.07C62.49,194.3,40,164,40,128a88,88,0,0,1,87.09-88h.9a88.35,88.35,0,0,1,88,87.25A88.86,88.86,0,0,1,213.81,147.6ZM140,76a12,12,0,1,1-12-12A12,12,0,0,1,140,76ZM96,100A12,12,0,1,1,84,88,12,12,0,0,1,96,100Zm0,56a12,12,0,1,1-12-12A12,12,0,0,1,96,156Zm88-56a12,12,0,1,1-12-12A12,12,0,0,1,184,100Z"},null,-1),pK=[dK,fK],mK={key:2},gK=F("path",{d:"M200.77,53.89A103.27,103.27,0,0,0,128,24h-1.07A104,104,0,0,0,24,128c0,43,26.58,79.06,69.36,94.17A32,32,0,0,0,136,192a16,16,0,0,1,16-16h46.21a31.81,31.81,0,0,0,31.2-24.88,104.43,104.43,0,0,0,2.59-24A103.28,103.28,0,0,0,200.77,53.89ZM84,168a12,12,0,1,1,12-12A12,12,0,0,1,84,168Zm0-56a12,12,0,1,1,12-12A12,12,0,0,1,84,112Zm44-24a12,12,0,1,1,12-12A12,12,0,0,1,128,88Zm44,24a12,12,0,1,1,12-12A12,12,0,0,1,172,112Z"},null,-1),yK=[gK],vK={key:3},wK=F("path",{d:"M199.37,55.31A101.32,101.32,0,0,0,128,26h-1A102,102,0,0,0,26,128c0,42.09,26.07,77.44,68,92.26A30.21,30.21,0,0,0,104.11,222,30.06,30.06,0,0,0,134,192a18,18,0,0,1,18-18h46.21a29.82,29.82,0,0,0,29.25-23.31A102.71,102.71,0,0,0,230,127.11,101.25,101.25,0,0,0,199.37,55.31ZM215.76,148a17.89,17.89,0,0,1-17.55,14H152a30,30,0,0,0-30,30,18,18,0,0,1-24,17C61,195.86,38,164.85,38,128a90,90,0,0,1,89.07-90H128a90.34,90.34,0,0,1,90,89.22A90.46,90.46,0,0,1,215.76,148ZM138,76a10,10,0,1,1-10-10A10,10,0,0,1,138,76ZM94,100A10,10,0,1,1,84,90,10,10,0,0,1,94,100Zm0,56a10,10,0,1,1-10-10A10,10,0,0,1,94,156Zm88-56a10,10,0,1,1-10-10A10,10,0,0,1,182,100Z"},null,-1),bK=[wK],kK={key:4},xK=F("path",{d:"M200.77,53.89A103.27,103.27,0,0,0,128,24h-1.07A104,104,0,0,0,24,128c0,43,26.58,79.06,69.36,94.17A32,32,0,0,0,136,192a16,16,0,0,1,16-16h46.21a31.81,31.81,0,0,0,31.2-24.88,104.43,104.43,0,0,0,2.59-24A103.28,103.28,0,0,0,200.77,53.89Zm13,93.71A15.89,15.89,0,0,1,198.21,160H152a32,32,0,0,0-32,32,16,16,0,0,1-21.31,15.07C62.49,194.3,40,164,40,128a88,88,0,0,1,87.09-88h.9a88.35,88.35,0,0,1,88,87.25A88.86,88.86,0,0,1,213.81,147.6ZM140,76a12,12,0,1,1-12-12A12,12,0,0,1,140,76ZM96,100A12,12,0,1,1,84,88,12,12,0,0,1,96,100Zm0,56a12,12,0,1,1-12-12A12,12,0,0,1,96,156Zm88-56a12,12,0,1,1-12-12A12,12,0,0,1,184,100Z"},null,-1),SK=[xK],CK={key:5},MK=F("path",{d:"M198,56.74A99.31,99.31,0,0,0,128,28h-1A100,100,0,0,0,28,128c0,41.22,25.55,75.85,66.69,90.38a28.34,28.34,0,0,0,9.42,1.63A28,28,0,0,0,132,192a20,20,0,0,1,20-20h46.21a27.84,27.84,0,0,0,27.3-21.76,100.37,100.37,0,0,0,2.49-23.1A99.26,99.26,0,0,0,198,56.74Zm19.74,91.72A19.89,19.89,0,0,1,198.21,164H152a28,28,0,0,0-28,28,20,20,0,0,1-26.64,18.83C59.51,197.46,36,165.72,36,128a92,92,0,0,1,91.05-92H128a92,92,0,0,1,89.72,112.46ZM136,76a8,8,0,1,1-8-8A8,8,0,0,1,136,76ZM92,100a8,8,0,1,1-8-8A8,8,0,0,1,92,100Zm0,56a8,8,0,1,1-8-8A8,8,0,0,1,92,156Zm88-56a8,8,0,1,1-8-8A8,8,0,0,1,180,100Z"},null,-1),AK=[MK],_K={name:"PhPalette"},TK=he({..._K,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",lK,cK)):o.value==="duotone"?(x(),P("g",hK,pK)):o.value==="fill"?(x(),P("g",mK,yK)):o.value==="light"?(x(),P("g",vK,bK)):o.value==="regular"?(x(),P("g",kK,SK)):o.value==="thin"?(x(),P("g",CK,AK)):ue("",!0)],16,aK))}}),EK=["width","height","fill","transform"],OK={key:0},IK=F("path",{d:"M196,96c0,29.47-24.21,54.05-56,59.06V156a12,12,0,0,1-24,0V144a12,12,0,0,1,12-12c24.26,0,44-16.15,44-36s-19.74-36-44-36S84,76.15,84,96a12,12,0,0,1-24,0c0-33.08,30.5-60,68-60S196,62.92,196,96Zm-68,92a20,20,0,1,0,20,20A20,20,0,0,0,128,188Z"},null,-1),DK=[IK],NK={key:1},LK=F("path",{d:"M216,40V216a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V40A16,16,0,0,1,56,24H200A16,16,0,0,1,216,40Z",opacity:"0.2"},null,-1),PK=F("path",{d:"M192,96c0,28.51-24.47,52.11-56,55.56V160a8,8,0,0,1-16,0V144a8,8,0,0,1,8-8c26.47,0,48-17.94,48-40s-21.53-40-48-40S80,73.94,80,96a8,8,0,0,1-16,0c0-30.88,28.71-56,64-56S192,65.12,192,96Zm-64,96a16,16,0,1,0,16,16A16,16,0,0,0,128,192Z"},null,-1),RK=[LK,PK],$K={key:2},BK=F("path",{d:"M200,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24ZM136,143.28V144a8,8,0,0,1-16,0v-8a8,8,0,0,1,8-8c13.23,0,24-9,24-20s-10.77-20-24-20-24,9-24,20v4a8,8,0,0,1-16,0v-4c0-19.85,17.94-36,40-36s40,16.15,40,36C168,125.38,154.23,139.93,136,143.28ZM140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"},null,-1),FK=[BK],zK={key:3},HK=F("path",{d:"M190,96c0,28-24.62,51.11-56,53.75V160a6,6,0,0,1-12,0V144a6,6,0,0,1,6-6c27.57,0,50-18.84,50-42s-22.43-42-50-42S78,72.84,78,96a6,6,0,0,1-12,0c0-29.78,27.81-54,62-54S190,66.22,190,96Zm-62,98a14,14,0,1,0,14,14A14,14,0,0,0,128,194Z"},null,-1),VK=[HK],qK={key:4},WK=F("path",{d:"M192,96c0,28.51-24.47,52.11-56,55.56V160a8,8,0,0,1-16,0V144a8,8,0,0,1,8-8c26.47,0,48-17.94,48-40s-21.53-40-48-40S80,73.94,80,96a8,8,0,0,1-16,0c0-30.88,28.71-56,64-56S192,65.12,192,96Zm-64,96a16,16,0,1,0,16,16A16,16,0,0,0,128,192Z"},null,-1),jK=[WK],ZK={key:5},UK=F("path",{d:"M188,96c0,27.51-24.77,50.09-56,51.89V160a4,4,0,0,1-8,0V144a4,4,0,0,1,4-4c28.67,0,52-19.74,52-44s-23.33-44-52-44S76,71.74,76,96a4,4,0,0,1-8,0c0-28.67,26.92-52,60-52S188,67.33,188,96ZM128,196a12,12,0,1,0,12,12A12,12,0,0,0,128,196Z"},null,-1),GK=[UK],KK={name:"PhQuestionMark"},YK=he({...KK,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",OK,DK)):o.value==="duotone"?(x(),P("g",NK,RK)):o.value==="fill"?(x(),P("g",$K,FK)):o.value==="light"?(x(),P("g",zK,VK)):o.value==="regular"?(x(),P("g",qK,jK)):o.value==="thin"?(x(),P("g",ZK,GK)):ue("",!0)],16,EK))}}),JK=["width","height","fill","transform"],XK={key:0},QK=F("path",{d:"M116,20V12a12,12,0,0,1,24,0v8a12,12,0,0,1-24,0Zm84,36a12,12,0,0,0,8.49-3.51l8-8a12,12,0,1,0-17-17l-8,8A12,12,0,0,0,200,56ZM47.51,52.49a12,12,0,0,0,17-17l-8-8a12,12,0,0,0-17,17ZM236,176v24a20,20,0,0,1-20,20H40a20,20,0,0,1-20-20V176a20,20,0,0,1,16-19.6V140a92,92,0,0,1,92-92h.71C179,48.38,220,90.1,220,141v15.4A20,20,0,0,1,236,176ZM60,140v16H196V141c0-37.77-30.27-68.72-67.48-69H128a68,68,0,0,0-68,68Zm152,40H44v16H212Zm-75.6-66.72a28,28,0,0,1,18.32,18.32,12,12,0,0,0,22.9-7.2,52,52,0,0,0-34-34,12,12,0,0,0-7.2,22.9Z"},null,-1),eY=[QK],tY={key:1},nY=F("path",{d:"M208,129v39H48V128a80,80,0,0,1,80.61-80C172.72,48.33,208,84.89,208,129Z",opacity:"0.2"},null,-1),rY=F("path",{d:"M120,16V8a8,8,0,0,1,16,0v8a8,8,0,0,1-16,0Zm80,32a8,8,0,0,0,5.66-2.34l8-8a8,8,0,0,0-11.32-11.32l-8,8A8,8,0,0,0,200,48ZM50.34,45.66A8,8,0,0,0,61.66,34.34l-8-8A8,8,0,0,0,42.34,37.66Zm87,26.45a8,8,0,1,0-2.64,15.78C153.67,91.08,168,108.32,168,128a8,8,0,0,0,16,0C184,100.6,163.93,76.57,137.32,72.11ZM232,176v24a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V176a16,16,0,0,1,16-16V128a88,88,0,0,1,88-88h.68c48.15.36,87.33,40.29,87.33,89v31A16,16,0,0,1,232,176ZM56,160H200V129c0-40-32.05-72.71-71.45-73H128a72,72,0,0,0-72,72Zm160,40V176H40v24H216Z"},null,-1),iY=[nY,rY],sY={key:2},oY=F("path",{d:"M120,16V8a8,8,0,0,1,16,0v8a8,8,0,0,1-16,0Zm80,32a8,8,0,0,0,5.66-2.34l8-8a8,8,0,0,0-11.32-11.32l-8,8A8,8,0,0,0,200,48ZM50.34,45.66A8,8,0,0,0,61.66,34.34l-8-8A8,8,0,0,0,42.34,37.66ZM232,176v24a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V176a16,16,0,0,1,16-16V128a88,88,0,0,1,88.67-88c48.15.36,87.33,40.29,87.33,89v31A16,16,0,0,1,232,176ZM134.68,87.89C153.67,91.08,168,108.32,168,128a8,8,0,0,0,16,0c0-27.4-20.07-51.43-46.68-55.89a8,8,0,1,0-2.64,15.78ZM216,200V176H40v24H216Z"},null,-1),aY=[oY],lY={key:3},uY=F("path",{d:"M122,16V8a6,6,0,0,1,12,0v8a6,6,0,0,1-12,0Zm78,30a6,6,0,0,0,4.24-1.76l8-8a6,6,0,1,0-8.48-8.48l-8,8A6,6,0,0,0,200,46ZM51.76,44.24a6,6,0,0,0,8.48-8.48l-8-8a6,6,0,0,0-8.48,8.48ZM137,74.08a6,6,0,1,0-2,11.84c20,3.34,35,21.44,35,42.08a6,6,0,0,0,12,0C182,101.57,162.65,78.39,137,74.08ZM230,176v24a14,14,0,0,1-14,14H40a14,14,0,0,1-14-14V176a14,14,0,0,1,14-14h2V128a86,86,0,0,1,86-86h.65c47.06.35,85.35,39.38,85.35,87v33h2A14,14,0,0,1,230,176ZM54,162H202V129c0-41-32.94-74.7-73.44-75H128a74,74,0,0,0-74,74Zm164,14a2,2,0,0,0-2-2H40a2,2,0,0,0-2,2v24a2,2,0,0,0,2,2H216a2,2,0,0,0,2-2Z"},null,-1),cY=[uY],hY={key:4},dY=F("path",{d:"M120,16V8a8,8,0,0,1,16,0v8a8,8,0,0,1-16,0Zm80,32a8,8,0,0,0,5.66-2.34l8-8a8,8,0,0,0-11.32-11.32l-8,8A8,8,0,0,0,200,48ZM50.34,45.66A8,8,0,0,0,61.66,34.34l-8-8A8,8,0,0,0,42.34,37.66Zm87,26.45a8,8,0,1,0-2.64,15.78C153.67,91.08,168,108.32,168,128a8,8,0,0,0,16,0C184,100.6,163.93,76.57,137.32,72.11ZM232,176v24a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V176a16,16,0,0,1,16-16V128a88,88,0,0,1,88.67-88c48.15.36,87.33,40.29,87.33,89v31A16,16,0,0,1,232,176ZM56,160H200V129c0-40-32.05-72.71-71.45-73H128a72,72,0,0,0-72,72Zm160,40V176H40v24H216Z"},null,-1),fY=[dY],pY={key:5},mY=F("path",{d:"M124,16V8a4,4,0,0,1,8,0v8a4,4,0,0,1-8,0Zm76,28a4,4,0,0,0,2.83-1.17l8-8a4,4,0,1,0-5.66-5.66l-8,8A4,4,0,0,0,200,44ZM53.17,42.83a4,4,0,0,0,5.66-5.66l-8-8a4,4,0,0,0-5.66,5.66Zm83.49,33.22a4,4,0,0,0-1.32,7.9C156.24,87.45,172,106.39,172,128a4,4,0,0,0,8,0C180,102.53,161.37,80.2,136.66,76.05ZM228,176v24a12,12,0,0,1-12,12H40a12,12,0,0,1-12-12V176a12,12,0,0,1,12-12h4V128a84,84,0,0,1,84-84h.64c46,.34,83.36,38.47,83.36,85v35h4A12,12,0,0,1,228,176ZM52,164H204V129c0-42.15-33.83-76.69-75.42-77A76,76,0,0,0,52,128Zm168,12a4,4,0,0,0-4-4H40a4,4,0,0,0-4,4v24a4,4,0,0,0,4,4H216a4,4,0,0,0,4-4Z"},null,-1),gY=[mY],yY={name:"PhSiren"},vY=he({...yY,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",XK,eY)):o.value==="duotone"?(x(),P("g",tY,iY)):o.value==="fill"?(x(),P("g",sY,aY)):o.value==="light"?(x(),P("g",lY,cY)):o.value==="regular"?(x(),P("g",hY,fY)):o.value==="thin"?(x(),P("g",pY,gY)):ue("",!0)],16,JK))}}),wY=["width","height","fill","transform"],bY={key:0},kY=F("path",{d:"M246.15,133.18,146.83,33.86A19.85,19.85,0,0,0,132.69,28H40A12,12,0,0,0,28,40v92.69a19.85,19.85,0,0,0,5.86,14.14l99.32,99.32a20,20,0,0,0,28.28,0l84.69-84.69A20,20,0,0,0,246.15,133.18Zm-98.83,93.17L52,131V52h79l95.32,95.32ZM104,88A16,16,0,1,1,88,72,16,16,0,0,1,104,88Z"},null,-1),xY=[kY],SY={key:1},CY=F("path",{d:"M237.66,153,153,237.66a8,8,0,0,1-11.31,0L42.34,138.34A8,8,0,0,1,40,132.69V40h92.69a8,8,0,0,1,5.65,2.34l99.32,99.32A8,8,0,0,1,237.66,153Z",opacity:"0.2"},null,-1),MY=F("path",{d:"M243.31,136,144,36.69A15.86,15.86,0,0,0,132.69,32H40a8,8,0,0,0-8,8v92.69A15.86,15.86,0,0,0,36.69,144L136,243.31a16,16,0,0,0,22.63,0l84.68-84.68a16,16,0,0,0,0-22.63Zm-96,96L48,132.69V48h84.69L232,147.31ZM96,84A12,12,0,1,1,84,72,12,12,0,0,1,96,84Z"},null,-1),AY=[CY,MY],_Y={key:2},TY=F("path",{d:"M243.31,136,144,36.69A15.86,15.86,0,0,0,132.69,32H40a8,8,0,0,0-8,8v92.69A15.86,15.86,0,0,0,36.69,144L136,243.31a16,16,0,0,0,22.63,0l84.68-84.68a16,16,0,0,0,0-22.63ZM84,96A12,12,0,1,1,96,84,12,12,0,0,1,84,96Z"},null,-1),EY=[TY],OY={key:3},IY=F("path",{d:"M241.91,137.42,142.59,38.1a13.94,13.94,0,0,0-9.9-4.1H40a6,6,0,0,0-6,6v92.69a13.94,13.94,0,0,0,4.1,9.9l99.32,99.32a14,14,0,0,0,19.8,0l84.69-84.69A14,14,0,0,0,241.91,137.42Zm-8.49,11.31-84.69,84.69a2,2,0,0,1-2.83,0L46.59,134.1a2,2,0,0,1-.59-1.41V46h86.69a2,2,0,0,1,1.41.59l99.32,99.31A2,2,0,0,1,233.42,148.73ZM94,84A10,10,0,1,1,84,74,10,10,0,0,1,94,84Z"},null,-1),DY=[IY],NY={key:4},LY=F("path",{d:"M243.31,136,144,36.69A15.86,15.86,0,0,0,132.69,32H40a8,8,0,0,0-8,8v92.69A15.86,15.86,0,0,0,36.69,144L136,243.31a16,16,0,0,0,22.63,0l84.68-84.68a16,16,0,0,0,0-22.63Zm-96,96L48,132.69V48h84.69L232,147.31ZM96,84A12,12,0,1,1,84,72,12,12,0,0,1,96,84Z"},null,-1),PY=[LY],RY={key:5},$Y=F("path",{d:"M240.49,138.83,141.17,39.51A11.93,11.93,0,0,0,132.69,36H40a4,4,0,0,0-4,4v92.69a11.93,11.93,0,0,0,3.51,8.48l99.32,99.32a12,12,0,0,0,17,0l84.69-84.69a12,12,0,0,0,0-17Zm-5.66,11.31-84.69,84.69a4,4,0,0,1-5.65,0L45.17,135.51A4,4,0,0,1,44,132.69V44h88.69a4,4,0,0,1,2.82,1.17l99.32,99.32A4,4,0,0,1,234.83,150.14ZM92,84a8,8,0,1,1-8-8A8,8,0,0,1,92,84Z"},null,-1),BY=[$Y],FY={name:"PhTag"},U_=he({...FY,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",bY,xY)):o.value==="duotone"?(x(),P("g",SY,AY)):o.value==="fill"?(x(),P("g",_Y,EY)):o.value==="light"?(x(),P("g",OY,DY)):o.value==="regular"?(x(),P("g",NY,PY)):o.value==="thin"?(x(),P("g",RY,BY)):ue("",!0)],16,wY))}}),zY=["width","height","fill","transform"],HY={key:0},VY=F("path",{d:"M72.5,150.63,100.79,128,72.5,105.37a12,12,0,1,1,15-18.74l40,32a12,12,0,0,1,0,18.74l-40,32a12,12,0,0,1-15-18.74ZM144,172h32a12,12,0,0,0,0-24H144a12,12,0,0,0,0,24ZM236,56V200a20,20,0,0,1-20,20H40a20,20,0,0,1-20-20V56A20,20,0,0,1,40,36H216A20,20,0,0,1,236,56Zm-24,4H44V196H212Z"},null,-1),qY=[VY],WY={key:1},jY=F("path",{d:"M224,56V200a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V56a8,8,0,0,1,8-8H216A8,8,0,0,1,224,56Z",opacity:"0.2"},null,-1),ZY=F("path",{d:"M128,128a8,8,0,0,1-3,6.25l-40,32a8,8,0,1,1-10-12.5L107.19,128,75,102.25a8,8,0,1,1,10-12.5l40,32A8,8,0,0,1,128,128Zm48,24H136a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Zm56-96V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,200V56H40V200H216Z"},null,-1),UY=[jY,ZY],GY={key:2},KY=F("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm-91,94.25-40,32a8,8,0,1,1-10-12.5L107.19,128,75,102.25a8,8,0,1,1,10-12.5l40,32a8,8,0,0,1,0,12.5ZM176,168H136a8,8,0,0,1,0-16h40a8,8,0,0,1,0,16Z"},null,-1),YY=[KY],JY={key:3},XY=F("path",{d:"M126,128a6,6,0,0,1-2.25,4.69l-40,32a6,6,0,0,1-7.5-9.38L110.4,128,76.25,100.69a6,6,0,1,1,7.5-9.38l40,32A6,6,0,0,1,126,128Zm50,26H136a6,6,0,0,0,0,12h40a6,6,0,0,0,0-12Zm54-98V200a14,14,0,0,1-14,14H40a14,14,0,0,1-14-14V56A14,14,0,0,1,40,42H216A14,14,0,0,1,230,56Zm-12,0a2,2,0,0,0-2-2H40a2,2,0,0,0-2,2V200a2,2,0,0,0,2,2H216a2,2,0,0,0,2-2Z"},null,-1),QY=[XY],eJ={key:4},tJ=F("path",{d:"M128,128a8,8,0,0,1-3,6.25l-40,32a8,8,0,1,1-10-12.5L107.19,128,75,102.25a8,8,0,1,1,10-12.5l40,32A8,8,0,0,1,128,128Zm48,24H136a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Zm56-96V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,200V56H40V200H216Z"},null,-1),nJ=[tJ],rJ={key:5},iJ=F("path",{d:"M122.5,124.88a4,4,0,0,1,0,6.24l-40,32a4,4,0,0,1-5-6.24L113.6,128,77.5,99.12a4,4,0,0,1,5-6.24ZM176,156H136a4,4,0,0,0,0,8h40a4,4,0,0,0,0-8ZM228,56V200a12,12,0,0,1-12,12H40a12,12,0,0,1-12-12V56A12,12,0,0,1,40,44H216A12,12,0,0,1,228,56Zm-8,0a4,4,0,0,0-4-4H40a4,4,0,0,0-4,4V200a4,4,0,0,0,4,4H216a4,4,0,0,0,4-4Z"},null,-1),sJ=[iJ],oJ={name:"PhTerminalWindow"},aJ=he({...oJ,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",HY,qY)):o.value==="duotone"?(x(),P("g",WY,UY)):o.value==="fill"?(x(),P("g",GY,YY)):o.value==="light"?(x(),P("g",JY,QY)):o.value==="regular"?(x(),P("g",eJ,nJ)):o.value==="thin"?(x(),P("g",rJ,sJ)):ue("",!0)],16,zY))}}),lJ=["width","height","fill","transform"],uJ={key:0},cJ=F("path",{d:"M168.49,104.49,145,128l23.52,23.51a12,12,0,0,1-17,17L128,145l-23.51,23.52a12,12,0,0,1-17-17L111,128,87.51,104.49a12,12,0,0,1,17-17L128,111l23.51-23.52a12,12,0,0,1,17,17ZM236,128A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128Z"},null,-1),hJ=[cJ],dJ={key:1},fJ=F("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"},null,-1),pJ=F("path",{d:"M165.66,101.66,139.31,128l26.35,26.34a8,8,0,0,1-11.32,11.32L128,139.31l-26.34,26.35a8,8,0,0,1-11.32-11.32L116.69,128,90.34,101.66a8,8,0,0,1,11.32-11.32L128,116.69l26.34-26.35a8,8,0,0,1,11.32,11.32ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"},null,-1),mJ=[fJ,pJ],gJ={key:2},yJ=F("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm37.66,130.34a8,8,0,0,1-11.32,11.32L128,139.31l-26.34,26.35a8,8,0,0,1-11.32-11.32L116.69,128,90.34,101.66a8,8,0,0,1,11.32-11.32L128,116.69l26.34-26.35a8,8,0,0,1,11.32,11.32L139.31,128Z"},null,-1),vJ=[yJ],wJ={key:3},bJ=F("path",{d:"M164.24,100.24,136.48,128l27.76,27.76a6,6,0,1,1-8.48,8.48L128,136.48l-27.76,27.76a6,6,0,0,1-8.48-8.48L119.52,128,91.76,100.24a6,6,0,0,1,8.48-8.48L128,119.52l27.76-27.76a6,6,0,0,1,8.48,8.48ZM230,128A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"},null,-1),kJ=[bJ],xJ={key:4},SJ=F("path",{d:"M165.66,101.66,139.31,128l26.35,26.34a8,8,0,0,1-11.32,11.32L128,139.31l-26.34,26.35a8,8,0,0,1-11.32-11.32L116.69,128,90.34,101.66a8,8,0,0,1,11.32-11.32L128,116.69l26.34-26.35a8,8,0,0,1,11.32,11.32ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"},null,-1),CJ=[SJ],MJ={key:5},AJ=F("path",{d:"M162.83,98.83,133.66,128l29.17,29.17a4,4,0,0,1-5.66,5.66L128,133.66,98.83,162.83a4,4,0,0,1-5.66-5.66L122.34,128,93.17,98.83a4,4,0,0,1,5.66-5.66L128,122.34l29.17-29.17a4,4,0,1,1,5.66,5.66ZM228,128A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"},null,-1),_J=[AJ],TJ={name:"PhXCircle"},EJ=he({...TJ,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const e=n,t=ke("weight","regular"),r=ke("size","1em"),i=ke("color","currentColor"),s=ke("mirrored",!1),o=W(()=>{var c;return(c=e.weight)!=null?c:t}),a=W(()=>{var c;return(c=e.size)!=null?c:r}),l=W(()=>{var c;return(c=e.color)!=null?c:i}),u=W(()=>e.mirrored!==void 0?e.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(c,h)=>(x(),P("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:a.value,height:a.value,fill:l.value,transform:u.value},c.$attrs),[tt(c.$slots,"default"),o.value==="bold"?(x(),P("g",uJ,hJ)):o.value==="duotone"?(x(),P("g",dJ,mJ)):o.value==="fill"?(x(),P("g",gJ,vJ)):o.value==="light"?(x(),P("g",wJ,kJ)):o.value==="regular"?(x(),P("g",xJ,CJ)):o.value==="thin"?(x(),P("g",MJ,_J)):ue("",!0)],16,lJ))}});function qk(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){OJ(n,i,t[i])})}return n}function OJ(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var C5=function(e,t){var r=qk({},e,t.attrs);return A(s4,qk({},r,{icon:WB}),null)};C5.displayName="InfoCircleOutlined";C5.inheritAttrs=!1;const IJ=C5;function Wk(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){DJ(n,i,t[i])})}return n}function DJ(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var M5=function(e,t){var r=Wk({},e,t.attrs);return A(s4,Wk({},r,{icon:Qz}),null)};M5.displayName="PlayCircleFilled";M5.inheritAttrs=!1;const NJ=M5;function jk(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){LJ(n,i,t[i])})}return n}function LJ(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var A5=function(e,t){var r=jk({},e,t.attrs);return A(s4,jk({},r,{icon:tH}),null)};A5.displayName="ToolFilled";A5.inheritAttrs=!1;const PJ=A5;function Zk(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){RJ(n,i,t[i])})}return n}function RJ(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var _5=function(e,t){var r=Zk({},e,t.attrs);return A(s4,Zk({},r,{icon:rH}),null)};_5.displayName="WarningOutlined";_5.inheritAttrs=!1;const $J=_5;class T5{async list(e){const t=new URLSearchParams;e&&t.append("path",e);const i=await(await fetch(`/_editor/api/codebase/files?${t.toString()}`)).json();return lF.parse(i)}async create(e,t,r){const i=new URLSearchParams;r&&i.append("overwrite","true");const s=i.toString(),o=s?`/_editor/api/codebase/files/${e}?${s}`:`/_editor/api/codebase/files/${e}`,a=await fetch(o,{method:"POST",body:t?new Uint8Array(t).buffer:void 0});if(!a.ok){const u=await a.text();throw new Error(`Failed to create file: ${u} (status: ${a.status})`)}const l=await a.json();return uF.parse(l)}async delete(e){const t=await fetch(`/_editor/api/codebase/files/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!t.ok){const i=await t.text();throw new Error(`Failed to delete file: ${i} (status: ${t.status})`)}const r=await t.json();return cF.parse(r)}async safeEdit(e,t){const i=await(await fetch(`/_editor/api/codebase/files/safe/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();return hF.parse(i)}async retrieve(e){const r=await(await fetch(`/_editor/api/codebase/files/${e}`)).arrayBuffer();return new Uint8Array(r)}async rename(e,t){const r=dF.parse({pathParts:e,newPathParts:t}),i=await fetch("/_editor/api/codebase/files",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!i.ok){const o=await i.text();throw new Error(`Failed to rename file: ${o} (status: ${i.status})`)}const s=await i.json();return fF.parse(s)}async mkdir(e){const t=await fetch(`/_editor/api/codebase/dir/${e}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok){const i=await t.text();throw new Error(`Failed to create directory: ${i} (status: ${t.status})`)}const r=await t.json();return pF.parse(r)}async settings(){const t=await(await fetch("/_editor/api/codebase/settings")).json();return mF.parse(t)}}const Uk="__ABSTRA_STREAM_ERROR__";class BJ{async list(){return(await fetch("/_editor/api/requirements")).json()}async recommendations(){return(await fetch("/_editor/api/requirements/recommendations")).json()}async update(e,t){if(!(await fetch(`/_editor/api/requirements/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw new Error("Failed to update requirements")}async create(e){const t=await fetch("/_editor/api/requirements",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create requirements");return t.json()}async delete(e){if(!(await fetch(`/_editor/api/requirements/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete requirements")}async*install(){var r;const t=(r=(await fetch("/_editor/api/requirements/install",{method:"POST",headers:{"Content-Type":"application/json"}})).body)==null?void 0:r.getReader();if(!t)throw new Error("No response body");for(;;){const i=await t.read();if(i.done)break;const s=new TextDecoder().decode(i.value);if(s===Uk)throw new Error("Failed to install requirements");yield s}}async*uninstall(e){var i;const r=(i=(await fetch(`/_editor/api/requirements/${e}/uninstall`,{method:"POST",headers:{"Content-Type":"application/json"}})).body)==null?void 0:i.getReader();if(!r)throw new Error("No response body");for(;;){const s=await r.read();if(s.done)break;const o=new TextDecoder().decode(s.value);if(o===Uk)throw new Error("Failed to uninstall requirements");yield o}}}const Tc=new BJ;class el{constructor(e){Ye(this,"record");this.record=S_.from(e)}static async list(){return(await Tc.list()).map(t=>new el(t))}static async create(e,t){const r=t?`${e}==${t}`:e,i=await Tc.create({name:e,specifiers:t?[{operator:"==",version:t}]:[],extras:[],marker:null,url:null,raw_requirement:r,installed_version:null});return new el(i)}get name(){return this.record.get("name")}get specifiers(){return this.record.get("specifiers")}get extras(){return this.record.get("extras")}get marker(){return this.record.get("marker")}get url(){return this.record.get("url")}get rawRequirement(){return this.record.get("raw_requirement")}get installedVersion(){return this.record.get("installed_version")}getExactVersion(){var t;const e=this.specifiers.find(r=>r.operator==="==");return(t=e==null?void 0:e.version)!=null?t:null}hasVersionConstraint(){return this.specifiers.length>0}async delete(){await Tc.delete(this.name)}async uninstall(e){for await(const t of Tc.uninstall(this.name))e(t)}static async recommendations(){return Tc.recommendations()}static async install(e){for await(const t of Tc.install())e(t)}}class FJ{async get(){return await(await fetch("/_editor/api/workspace",{method:"GET",headers:{"Content-Type":"application/json"}})).json()}async update(e,t){return await(await fetch("/_editor/api/workspace",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}async create(e){throw new Error("Not implemented")}async initFile(e,t){await fetch("/_editor/api/workspace/init-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e,type:t})})}async checkFile(e){const t=await fetch(`/_editor/api/workspace/check-file?path=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to check file");return await t.json()}async checkFiles(e){const t=await fetch("/_editor/api/workspace/check-files",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paths:e})});if(!t.ok)throw new Error("Failed to check files");return await t.json()}async readFile(e){const t=await fetch(`/_editor/api/workspace/read-file?file=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});return t.status===404?null:await t.text()}async readTestData(){return await(await fetch("/_editor/api/workspace/read-test-data",{method:"GET",headers:{"Content-Type":"application/json"}})).text()}async writeTestData(e){if(!(await fetch("/_editor/api/workspace/write-test-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({test_data:e})})).ok)throw new Error("Failed to write test data");return{success:!0}}async deploy(){if(!(await fetch("/_editor/api/workspace/deploy",{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to deploy")}}const Wo=new FJ,Q2=class{constructor(e){Ye(this,"record");this.record=EF.create(Wo,e)}static async get(){const e=await Wo.get();return new Q2(e)}static from(e){return new Q2(e)}get brandName(){var e;return(e=this.record.get("brand_name"))!=null?e:""}set brandName(e){this.record.set("brand_name",e)}get fontColor(){var e;return(e=this.record.get("font_color"))!=null?e:"#000000"}set fontColor(e){this.record.set("font_color",e)}get logoUrl(){var e;return(e=this.record.get("logo_url"))!=null?e:""}set logoUrl(e){this.record.set("logo_url",e)}get faviconUrl(){var e;return(e=this.record.get("favicon_url"))!=null?e:""}set faviconUrl(e){this.record.set("favicon_url",e)}get mainColor(){var e;return(e=this.record.get("main_color"))!=null?e:MF}set mainColor(e){this.record.set("main_color",e)}get fontFamily(){var e;return(e=this.record.get("font_family"))!=null?e:AF}set fontFamily(e){this.record.set("font_family",e)}get language(){var e;return(e=this.record.get("language"))!=null?e:_F.value}set language(e){this.record.set("language",e)}get theme(){var e;return(e=this.record.get("theme"))!=null?e:Lk}set theme(e){this.record.set("theme",e)}async save(){return this.record.save()}hasChanges(){return this.record.hasChanges()}static async initFile(e,t){await Wo.initFile(e,t)}static async checkFile(e){return Wo.checkFile(e)}static async checkFiles(e){return Wo.checkFiles(e)}async readFile(e){return Wo.readFile(e)}static async readTestData(){return Wo.readTestData()}static async writeTestData(e){return Wo.writeTestData(e)}static async deploy(){return Wo.deploy()}get sidebar(){var e;return(e=this.record.get("sidebar"))!=null?e:[]}set sidebar(e){this.record.set("sidebar",e)}makeRunnerData(){var e;return{sidebar:this.sidebar,name:this.brandName,fontColor:this.fontColor,brandName:this.brandName,fontFamily:this.fontFamily,logoUrl:this.logoUrl?Xg("logo",this.logoUrl,"editor"):null,mainColor:this.mainColor,theme:OF(this.theme)?this.theme:(e=Xg("background",this.theme,"editor"))!=null?e:Lk,language:this.language}}};let Gn=Q2;Ye(Gn,"instance");const G_=vs("logServices",()=>{const n=V({}),e=V(0),t=V(!1),r=W(()=>n.value),i=W(()=>({unseenLogsCount:e.value,hasErrorLogs:t.value})),s=m=>{if(!n.value[m])throw new Error(`Logger not found for stage ${m}`);return n.value[m]},o=m=>{if(n.value[m])return n.value[m];const y=BF.create();return n.value[m]=y,y},a=(m,y)=>{const v=n.value[m];if(!v)throw new Error(`Logger not found for stage ${m}`);v.listen(async b=>{e.value+=1,await y(b)})},l=m=>{const y=n.value[m];y&&y.clear()},u=()=>{e.value=0,t.value=!1},c=m=>{t.value=m},h=()=>{e.value+=1},d=m=>{n.value[m]&&delete n.value[m]},f=()=>{n.value={},e.value=0,t.value=!1};return{logServices:n,unseenLogsCount:e,hasErrorLogs:t,allLogServices:r,unseenLogs:i,getLogService:s,createLogService:o,setupLogServiceListener:a,clearLogs:l,resetUnseenLogs:u,setHasErrorLogs:c,incrementUnseenLogs:h,removeLogService:d,clearAll:f,reset:()=>{f()}}}),zJ={class:"toggle-button"},HJ=he({__name:"BottomPaneHeader",props:{open:{type:Boolean},tab:{}},emits:["toggle-console","open-console","update:tab"],setup(n,{emit:e}){const t=G_(),r=e;return(i,s)=>(x(),U(g(Me),{class:"header",justify:"space-between",align:"center"},{default:T(()=>[A(g(Me),{align:"center",gap:"middle"},{default:T(()=>[A(g(aJ),{size:"20",color:"000"}),A(g(f5),{"active-key":n.tab,size:"small",class:"tabs","tab-bar-style":{margin:0,padding:0},onChange:s[3]||(s[3]=o=>r("update:tab",o))},{default:T(()=>[A(g(Rf),{key:"logs"},{tab:T(()=>[g(t).unseenLogsCount>0?(x(),U(g(mu),{key:0,color:g(t).hasErrorLogs?"red":"#B0B0B0",count:g(t).unseenLogsCount,"overflow-count":9,size:"small"},{default:T(()=>[F("span",{onClick:s[0]||(s[0]=o=>r("open-console"))},X(g(z).translate("i18n_editor_bottom_pane_execution_logs")),1)]),_:1},8,["color","count"])):(x(),P("span",{key:1,onClick:s[1]||(s[1]=o=>r("open-console"))},X(g(z).translate("i18n_editor_bottom_pane_execution_logs")),1))]),_:1}),A(g(Rf),{key:"tasks"},{tab:T(()=>[F("span",{onClick:s[2]||(s[2]=o=>r("open-console"))},X(g(z).translate("i18n_editor_bottom_pane_tasks")),1)]),_:1})]),_:1},8,["active-key"])]),_:1}),A(g(Ri),{placement:"left","mouse-enter-delay":.5,title:n.open?g(z).translate("i18n_editor_bottom_pane_hide_logs"):g(z).translate("i18n_editor_bottom_pane_show_logs")},{default:T(()=>[F("div",zJ,[(x(),U(g(PF),{key:1,class:si(["icon",{open:n.open}]),onClick:s[5]||(s[5]=o=>r("toggle-console"))},null,8,["class"]))])]),_:1},8,["title"])]),_:1}))}});const VJ=bt(HJ,[["__scopeId","data-v-cd3871df"]]),qJ={key:0,class:"entry ai-output"},WJ={key:0,class:"local-entry"},jJ={key:0},ZJ=he({__name:"Terminal",props:{logService:{},visible:{type:Boolean}},setup(n){const e=n,t=y_(),r=V(null),i=new FF(new zF,e.logService),s=V(!0),o=()=>{if(!r.value)return;const{scrollTop:a,scrollHeight:l,clientHeight:u}=r.value;a+u>=l?s.value=!0:s.value=!1};return Et(t,()=>e.logService.clear()),e.logService.listen(async a=>{e.visible||i.setUnseen(a),a.type!=="restart"&&(await bo(),!!r.value&&s.value&&(r.value.scrollTop=r.value.scrollHeight))}),On(async()=>{r.value&&r.value.addEventListener("wheel",o)}),J1(async()=>{r.value&&r.value.removeEventListener("wheel",o)}),(a,l)=>(x(),U(g(Me),{class:"cli"},{default:T(()=>[F("div",{ref_key:"entriesContainer",ref:r,class:"entries"},[n.logService.logs.length===0?(x(),P("div",qJ,X(g(z).translate("i18n_editor_terminal_output_message")),1)):ue("",!0),(x(!0),P(Ve,null,wt(n.logService.logs,(u,c)=>(x(),P("div",{key:c,class:si([u.type,"entry"])},[u.type==="stdout"||u.type==="stderr"||u.type==="restart"?(x(),P("div",WJ,[u.type==="restart"?(x(),P("div",jJ,X(g(z).translate("i18n_editor_terminal_restarted")),1)):(x(!0),P(Ve,{key:1},wt(u.log.split(`
`),(h,d)=>(x(),P("div",{key:d},X(h),1))),128))])):ue("",!0)],2))),128))],512)]),_:1}))}});const UJ=bt(ZJ,[["__scopeId","data-v-193f0bf4"]]),GJ={key:0,class:"execution-container"},KJ={key:0,style:{display:"flex",width:"100%","justify-content":"center"}},YJ=he({__name:"Logs",props:{controller:{},isSmartChatIdle:{type:Boolean}},emits:["ask-ai"],setup(n,{emit:e}){const t=n,r=T_(),i=e;function s(a,l){let u={...a};return u.sentTasks=l.sentTasks,delete u.mockExecution,l.triggerTask&&(u.triggerTask=l.triggerTask,delete u.taskId),u}const o=W(()=>r.currentPage.executions.find(a=>a.id===t.controller.logs.selectedExecutionId)||null);return(a,l)=>o.value?(x(),P("span",GJ,[g(r).currentPage.executionData[o.value.id]?(x(),U(g(Me),{key:1,vertical:"",gap:"4"},{default:T(()=>[A(UF,{data:s(o.value.context,g(r).currentPage.executionData[o.value.id].tasks),"show-fix-with-ai":o.value.status==="failed","is-smart-chat-idle":n.isSmartChatIdle,onAskAi:l[0]||(l[0]=u=>i("ask-ai",g(r).currentPage.executionData[o.value.id].logs,o.value.stageId))},null,8,["data","show-fix-with-ai","is-smart-chat-idle"]),o.value.status!=="running"?(x(),U(GF,{key:0,logs:g(r).currentPage.executionData[o.value.id].logs},null,8,["logs"])):(x(),U(UJ,{key:1,"log-service":n.controller.getLogService(o.value.stageId),visible:!0},null,8,["log-service"]))]),_:1})):(x(),P("div",KJ,[A(g(qh))]))])):(x(),U(g(Me),{key:1,justify:"center",align:"center",style:{width:"100%",height:"100%"}},{default:T(()=>[A(g(Ht),{type:"secondary"},{default:T(()=>[te(X(g(z).translate("i18n_editor_logs_select_execution")),1)]),_:1})]),_:1}))}});const JJ=bt(YJ,[["__scopeId","data-v-cf927146"]]),XJ=he({__name:"Tasks",props:{controller:{}},setup(n){const e=n;async function t(){await m5(z.translate("i18n_editor_tasks_clear_confirmation"))&&await e.controller.tasks.clearAllTasks()}const r=W(()=>[{label:z.translate("i18n_editor_tasks_filter_all"),value:"All"},{label:z.translate("i18n_editor_tasks_filter_pending"),value:"Pending"},{label:z.translate("i18n_editor_tasks_filter_completed"),value:"Completed"}]);return On(()=>{e.controller.tasks.setup()}),or(()=>e.controller.tasks.teardown()),(i,s)=>(x(),P(Ve,null,[A(g(Me),{justify:"space-between",align:"center",style:{"margin-bottom":"16px",width:"100%",padding:"10px 16px"}},{default:T(()=>[A(g(Me),{gap:"small"},{default:T(()=>[A(g(p5),{value:n.controller.tasks.selectedFilter,"onUpdate:value":s[0]||(s[0]=o=>n.controller.tasks.selectedFilter=o),options:r.value,onChange:s[1]||(s[1]=o=>n.controller.tasks.updateSelectedFilter(o))},null,8,["value","options"]),A(g(ft),{type:"link",onClick:n.controller.tasks.selectAll},{default:T(()=>[te(X(g(z).translate("i18n_editor_tasks_select_all")),1)]),_:1},8,["onClick"]),A(g(ft),{type:"link",onClick:t},{default:T(()=>[te(X(g(z).translate("i18n_editor_tasks_clear_all")),1)]),_:1})]),_:1}),A(g(Me),{gap:"small"},{default:T(()=>[(x(!0),P(Ve,null,wt(n.controller.tasks.actions,o=>(x(),U(g(ft),{key:o.name,onClick:o.handler},{default:T(()=>[te(X(o.label),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),n.controller.tasks.tasks.length===0?(x(),U(g(Me),{key:0,justify:"center",align:"center",style:{width:"100",height:"100%"}},{default:T(()=>[A(g(Ht),{type:"secondary"},{default:T(()=>[te(X(g(z).translate("i18n_editor_tasks_no_tasks")),1)]),_:1})]),_:1})):ue("",!0),A(g(X1),{bordered:!1,style:{"background-color":"transparent",width:"100%",padding:"0 16px"}},{default:T(()=>[(x(!0),P(Ve,null,wt(n.controller.tasks.tasks,o=>(x(),U(g(zu),{key:o.id,style:{"border-radius":"4px","margin-bottom":"8px",border:"0",overflow:"hidden","background-color":"#fff"}},{header:T(()=>[A(g(Wh),{checked:o.checked,style:{"margin-right":"12px"},onChange:a=>n.controller.tasks.selectTask(a,o.id)},null,8,["checked","onChange"]),A(g(as),{color:"default",style:{"margin-right":"10px"},bordered:!1},{default:T(()=>[te(X(o.type),1)]),_:2},1024),A(g(as),{color:"default",style:{"margin-right":"10px"},bordered:!1},{default:T(()=>[te(X(o.sourceStageTitle?`${g(z).translate("i18n_editor_tasks_sent_by")} ${o.sourceStageTitle}`:g(z).translate("i18n_editor_tasks_created_manually")),1)]),_:2},1024),A(g(as),{color:"default",style:{"margin-right":"10px"},bordered:!1},{default:T(()=>[te(X(g(E_)(o.status)),1)]),_:2},1024)]),extra:T(()=>[te(X(g(u5)(new Date(o.created.at))),1)]),default:T(()=>[A(g(Me),{vertical:"",gap:"middle"},{default:T(()=>[te(X(JSON.stringify(o.payload,null,2)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})],64))}}),QJ=["onClick"],eX=["onClick"],tX=he({__name:"BottomPane",props:{workspace:{},controller:{},isSmartChatIdle:{type:Boolean}},emits:["ask-ai"],setup(n,{expose:e,emit:t}){const r=n,i=t,s=W({get:()=>r.controller.bottomPane.tab,set:d=>{r.controller.bottomPane.tab=d}}),o=()=>{r.controller.bottomPane.handleExecutionsScroll(r.controller.logs.loadMore)},a=()=>{r.controller.bottomPane.handleRightScroll(()=>r.controller.tasks.loadMore())},l=async d=>{const f=await r.controller.logs.logsStore.getNewestExecutionId(d);f&&r.controller.logs.setExecutionFilter(f,"logs")};Et(()=>r.controller.bottomPane.open,async d=>{if(d){const f=r.controller.workflowSelectedStageId.value;await l(f)}}),Et(()=>r.controller.workflowSelectedStageId.value,async d=>{d&&!r.controller.bottomPane.open&&await l(d)}),Et(()=>r.controller.logServices.unseenLogsCount,()=>{r.controller.bottomPane.open&&r.controller.logServices.resetUnseenLogs()});const u=async()=>{await r.controller.bottomPane.toggleConsole(()=>r.controller.logServices.resetUnseenLogs(),()=>r.controller.bottomPane.addEventListeners(o,a),()=>r.controller.bottomPane.removeEventListeners(o,a))},c=async()=>{await r.controller.bottomPane.openConsole(()=>r.controller.logServices.resetUnseenLogs(),()=>r.controller.bottomPane.addEventListeners(o,a))},h=async d=>{await r.controller.bottomPane.openTasks(d,r.controller.setStageFilter,()=>r.controller.logServices.resetUnseenLogs(),()=>r.controller.bottomPane.addEventListeners(o,a))};return e({closeTerminal:r.controller.bottomPane.closeTerminal,openTasks:h,fixJson:r.controller.bottomPane.fixJson}),On(async()=>{r.controller.bottomPane.setupResizeListeners()}),J1(async()=>{r.controller.bottomPane.removeEventListeners(o,a)}),or(async()=>{r.controller.bottomPane.cleanupResizeListeners(),r.controller.logs.logsStore.teardown()}),(d,f)=>(x(),U(g(Me),{vertical:"",style:{position:"relative"}},{default:T(()=>[F("div",{class:"resize-handler",onMousedown:f[0]||(f[0]=p=>n.controller.bottomPane.startResize())},null,32),A(VJ,{tab:s.value,"onUpdate:tab":f[1]||(f[1]=p=>s.value=p),open:n.controller.bottomPane.open,onToggleConsole:u,onOpenConsole:c},null,8,["tab","open"]),n.controller.bottomPane.open?(x(),U(g(Me),{key:0,class:"terminal",style:ls(n.controller.bottomPane.style),vertical:""},{default:T(()=>[A(g(Me),{class:"terminal-content"},{default:T(()=>[A(g(Me),{class:"left",vertical:""},{default:T(()=>[F("span",{class:si(["stage-label",{"stage-selected":n.controller.bottomPane.logsSelectedStageId===null}]),onClick:f[2]||(f[2]=p=>n.controller.setStageFilter(null))},X(g(z).translate("i18n_editor_bottom_pane_all_stages")),3),(x(!0),P(Ve,null,wt(n.controller.stages.allStages,p=>(x(),P("span",{key:p.id,class:si(["stage-label",{"stage-selected":n.controller.bottomPane.logsSelectedStageId===p.id}]),onClick:m=>n.controller.setStageFilter(p.id)},[(x(),U(rr(g(a4)(p.type)),{size:16})),te(" "+X(p.title),1)],10,QJ))),128))]),_:1}),s.value==="logs"?(x(),P("div",{key:0,ref:p=>n.controller.bottomPane.setExecutionsContainer(p),class:"left-executions",vertical:""},[n.controller.logs.logsStore.currentPage.executions.length===0?(x(),U(g(Me),{key:0,justify:"center",align:"center",style:{width:"100%",height:"100%"}},{default:T(()=>[A(g(Ht),{type:"secondary"},{default:T(()=>[te(X(g(z).translate("i18n_editor_bottom_pane_no_executions")),1)]),_:1})]),_:1})):ue("",!0),(x(!0),P(Ve,null,wt(n.controller.logs.logsStore.currentPage.executions,p=>(x(),P("span",{key:p.id,class:si(["stage-label",{"stage-selected":n.controller.bottomPane.logsSelectedStageId===p.id}]),onClick:m=>n.controller.logs.setExecutionFilter(p.id,s.value)},[A(g(Me),{justify:"space-between",style:{width:"100%"}},{default:T(()=>[A(g(Me),null,{default:T(()=>[A(g(as),{color:"default",style:{"margin-right":"10px"},bordered:!1},{default:T(()=>[te(X(g(LF)(p.createdAt,{weekday:void 0,timeZoneName:void 0})),1)]),_:2},1024),A(g(as),{color:"default",style:{"margin-right":"10px"},bordered:!1},{default:T(()=>[te(X(p.duration_seconds),1)]),_:2},1024),A(g(as),{color:n.controller.logs.getStageStatus(p)==="deleted"?"red":"default",style:{"margin-right":"10px"},bordered:!1},{default:T(()=>[te(X(n.controller.logs.computeStageLabel(p)),1)]),_:2},1032,["color"])]),_:2},1024),A(IF,{status:p.status},null,8,["status"])]),_:2},1024)],10,eX))),128))],512)):ue("",!0),F("div",{ref:p=>n.controller.bottomPane.setRightRef(p),class:"right"},[s.value==="logs"?(x(),U(JJ,{key:0,controller:n.controller,"is-smart-chat-idle":n.isSmartChatIdle,onAskAi:f[3]||(f[3]=(p,m)=>i("ask-ai",p,m))},null,8,["controller","is-smart-chat-idle"])):s.value==="tasks"?(x(),U(XJ,{key:1,ref:p=>n.controller.bottomPane.setTasksRef(p),controller:n.controller},null,8,["controller"])):ue("",!0)],512)]),_:1})]),_:1},8,["style"])):ue("",!0)]),_:1}))}});const nX=bt(tX,[["__scopeId","data-v-6be7bd1a"]]),rX=he({__name:"EditorOmniChat",props:{stageEditorInfo:{},panesInfo:{},hideClose:{type:Boolean}},emits:["answer"],setup(n,{expose:e,emit:t}){const r=t,i=C_();return i.init("editor"),e({controller:i.controller}),(s,o)=>g(i).controller&&g(i).repository?(x(),U(XF,{key:0,"ai-chat-repository":g(i).repository,"stage-editor-info":n.stageEditorInfo,"panes-info":n.panesInfo,controller:g(i).controller,environment:{origin:"editor"},"hide-close":n.hideClose,onAnswer:o[0]||(o[0]=a=>r("answer",a))},null,8,["ai-chat-repository","stage-editor-info","panes-info","controller","hide-close"])):ue("",!0)}});class iX{constructor(){Ye(this,"baseUrl");this.baseUrl="/_editor/api/git"}async getStatus(){const t=await(await fetch(`${this.baseUrl}/status`)).json();return gF.parse(t)}async checkout(e){const t={};e.type==="branch"?t.branch=e.branch:t.commitHash=e.commit;const i=await(await fetch(`${this.baseUrl}/checkout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();return yF.parse(i)}async pull(e){const r=await(await fetch(`${this.baseUrl}/pull`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();return vF.parse(r)}async commit(e){const t={message:e},i=await(await fetch(`${this.baseUrl}/commit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();return wF.parse(i)}async stash(){const t=await(await fetch(`${this.baseUrl}/stash`,{method:"POST"})).json();return bF.parse(t)}async deploy(e){const r=await(await fetch(`${this.baseUrl}/deploy`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branch:e})})).json();return kF.parse(r)}async remotes(){const t=await(await fetch(`${this.baseUrl}/remotes`)).json();return xF.parse(t)}async revert(e){const t={commitHash:e},i=await(await fetch(`${this.baseUrl}/revert`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();return SF.parse(i)}async getCommitHistory(e){const r=await(await fetch(`${this.baseUrl}/commits?branch=${e}`)).json();return CF.parse(r)}}const sX=new iX,oX={key:0,class:"timeline-container"},aX=["onMouseenter"],lX={class:"commit-message"},uX={class:"commit-meta"},cX={class:"commit-author"},hX={class:"commit-date"},dX={key:0,class:"commit-actions"},fX=["onClick"],pX={key:1,class:"empty-state"},mX={key:2,class:"loading-state"},gX=he({__name:"GitTimeline",props:{gitData:{},commits:{},revertingCommit:{},getCommitColor:{type:Function}},emits:["revert"],setup(n,{emit:e}){const t=e,r=V(!1),i=V(null),s=V(null);function o(){i.value=null}return(a,l)=>(x(),P(Ve,null,[!r.value&&n.commits.length?(x(),P("div",oX,[A(g(qF),{mode:"left"},{default:T(()=>[A(jB,{name:"timeline-group"},{default:T(()=>[(x(!0),P(Ve,null,wt(n.commits,u=>(x(),U(g(VF),{key:u.hash,color:n.getCommitColor(u.hash)},{dot:T(()=>{var c,h,d,f;return[F("div",{class:si(["commit-dot",{current:u.hash===((h=(c=n.gitData)==null?void 0:c.lastCommit)==null?void 0:h.hash),live:((f=(d=n.gitData)==null?void 0:d.remoteStatus)==null?void 0:f.remoteCommit)===u.hash}])},[A(g(U_),{size:12})],2)]}),default:T(()=>{var c,h,d,f;return[F("div",{class:si(["commit-info",{disabled:n.revertingCommit===u.hash}]),onMouseenter:p=>s.value=u.hash,onMouseleave:l[0]||(l[0]=p=>s.value=null)},[A(g(Ri),{title:u.message.length>70?u.message:"",placement:"topLeft"},{default:T(()=>[F("div",lX,X(u.message),1)]),_:2},1032,["title"]),F("div",uX,[F("span",cX,X(u.author),1),F("span",hX,X(g(u5)(new Date(u.date))),1),((h=(c=n.gitData)==null?void 0:c.remoteStatus)==null?void 0:h.remoteCommit)===u.hash?(x(),U(g(as),{key:0,color:"green",class:"live-tag"},{default:T(()=>[te(X(g(z).translate("i18n_editor_git_timeline_live")),1)]),_:1})):ue("",!0)]),s.value===u.hash?(x(),P("div",dX,[u.hash!==((f=(d=n.gitData)==null?void 0:d.lastCommit)==null?void 0:f.hash)?(x(),P("span",{key:0,class:"action-link",onClick:p=>t("revert",u.hash)},[te(X(g(z).translate("i18n_editor_git_timeline_restore"))+" ",1),A(g(pV))],8,fX)):ue("",!0)])):ue("",!0)],42,aX)]}),_:2},1032,["color"]))),128))]),_:1})]),_:1})])):ue("",!0),!n.commits.length&&!r.value?(x(),P("div",pX,[A(g(BZ),{size:48}),F("h3",null,X(g(z).translate("i18n_editor_git_timeline_no_version_history")),1),F("p",null,X(g(z).translate("i18n_editor_git_timeline_initialize_repo")),1)])):ue("",!0),r.value?(x(),P("div",mX,[A(g(qh),{size:"large"}),F("p",null,X(g(z).translate("i18n_editor_git_timeline_loading")),1)])):ue("",!0),i.value?(x(),U(g(Ds),{key:3,type:"error",message:i.value,"show-icon":"",closable:"",class:"error-alert",onClose:o},null,8,["message"])):ue("",!0)],64))}});const yX=bt(gX,[["__scopeId","data-v-3bf245b3"]]),K_=vs("git",()=>{let n=null;const e=V(null),t=V(!1),r=V(!1),i=V(!1),s=V(""),o=V(!1),a=V(["changes"]),l=V(null),u=V([]),c=V(!1),h=V(0),d=V(null),f=W(()=>{var ae;if(!e.value)return"loading";if(!t.value)return"no-repo";const{hasChanges:K,remoteStatus:ne}=e.value;if(!ne||!ne.success)return"unknown";const B=(((ae=ne.aheadBehind)==null?void 0:ae.behind)||0)>0,Ce=ne.hasConflicts||!1;return K&&B?"draft-behind":K?"draft":B&&Ce?"behind-conflicts":B?"behind":"synced"}),p=W(()=>e.value?t.value?f.value==="unknown"?"Unknown status":f.value==="loading"?"Loading...":f.value==="no-repo"?"No Git found":f.value==="synced"?"Synced":f.value==="draft"||f.value==="draft-behind"?"Local changes":f.value==="behind"?"Updates available":f.value==="behind-conflicts"?"Conflicting updates":"Loading...":"No Git":"Loading..."),m=W(()=>{var K,ne;return(ne=(K=e.value)==null?void 0:K.changedFilesWithStatus)!=null&&ne.length?e.value.changedFilesWithStatus.map(pe=>({path:pe.path,name:pe.path.split("/").pop()||pe.path,isDirectory:!1,gitStatus:pe.status,gitStatusCode:pe.statusCode})):[]}),y=W(()=>{var K;return((K=e.value)==null?void 0:K.hasChanges)||!1}),v=W(()=>{var pe,B,Ce;const K=(pe=e.value)==null?void 0:pe.lastCommit,ne=(Ce=(B=e.value)==null?void 0:B.remoteStatus)==null?void 0:Ce.remoteCommit;return K&&ne?K.hash===ne:!1}),b=K=>{n=K},k=async()=>{await _(),t.value&&await C()},_=async()=>{if(!n){console.error("Git API not initialized");return}try{const K=await n.getStatus();e.value=K,t.value=K.available,r.value=K.gitInstalled,i.value=K.isMonorepo}catch{t.value=!1,e.value=null}},C=async()=>{var K;if(!n){console.error("Git API not initialized");return}try{const ne=((K=e.value)==null?void 0:K.branch)||"main",pe=await n.getCommitHistory(ne);h.value===0?u.value=pe.commits||[]:u.value.push(...pe.commits),c.value=pe.hasMore}catch(ne){console.warn("Failed to fetch commit history:",ne)}},M=async()=>{await _(),await C()};return{gitData:e,gitAvailable:t,gitInstalled:r,isMonorepo:i,commitMessage:s,modalOpen:o,changesCollapseKey:a,state:l,commits:u,hasMoreCommits:c,currentCommitOffset:h,revertingCommit:d,gitStatus:f,gitStatusTitle:p,changedFilesWithStatus:m,hasChanges:y,currentLive:v,initialize:b,setup:k,fetchGitStatus:_,fetchCommitHistory:C,refetchGitState:M,pull:async()=>{if(!(!n||!e.value||e.value.hasChanges)){l.value="syncing";try{const K=await n.pull({});K.success||ao.error({message:K.message}),await _()}catch(K){console.warn("Failed to download changes:",K)}finally{l.value=null,o.value=!1}}},push:async()=>{if(!n||!e.value)return;const K=e.value.branch;l.value="syncing";try{const ne=await n.deploy(K);ne.success||ao.error({message:ne.message}),await _()}catch(ne){console.warn("Failed to upload changes:",ne)}finally{l.value=null}},commit:async()=>{if(!(!n||!s.value.trim())){l.value="committing";try{const K=await n.commit(s.value.trim());K.success||ao.error({message:K.message}),s.value=""}catch(K){console.warn("Failed to commit:",K)}finally{await M(),l.value=null}}},stash:async()=>{if(!(!n||!await m5("Are you sure? Undoing discarded changes may require Git knowledge."))){l.value="stashing";try{const ne=await n.stash();ne.success||ao.error({message:ne.message}),s.value=""}catch(ne){console.warn("Failed to stash changes:",ne)}finally{await M(),l.value=null}}},useTheirs:async()=>{if(!!n){l.value="syncing";try{const K=await n.pull({conflictResolution:"theirs"});K.success||ao.error({message:K.message}),await _()}catch(K){console.warn("Failed to resolve conflicts using theirs:",K)}finally{l.value=null,o.value=!1}}},useMine:async()=>{if(!!n){l.value="syncing";try{const K=await n.pull({conflictResolution:"ours"});K.success||ao.error({message:K.message}),await _()}catch(K){console.warn("Failed to resolve conflicts using mine:",K)}finally{l.value=null,o.value=!1}}},revert:async K=>{if(!!n){d.value=K;try{const ne=await n.revert(K);ne.success||ao.error({message:ne.message})}catch(ne){console.warn(`Failed to revert commit: ${ne}`)}finally{d.value=null,await M()}}},openModal:async()=>{o.value=!0,await bo(),u.value.length===0&&await C()},getGitFileIcon:K=>()=>{switch(K.gitStatus){case"added":case"untracked":return oe(D_,{size:16,style:{color:"#52c41a"}});case"deleted":return oe(ZB,{size:16,style:{color:"#ff4d4f"}});case"modified":return oe(y5,{size:16,style:{color:"#faad14"}});case"renamed":return oe(Pf,{size:16,style:{color:"#1890ff"}});default:return oe(Pf,{size:16})}},getCommitColor:K=>{var ne,pe;return e.value?((ne=e.value.remoteStatus)==null?void 0:ne.remoteCommit)===K?"#52c41a":((pe=e.value.lastCommit)==null?void 0:pe.hash)===K?"#d14056":"gray":"gray"}}}),vX={style:{"font-weight":"500"}},wX={key:3,class:"no-git-message"},bX=he({__name:"GitDrawer",props:{saving:{type:Boolean},hasBlockingIssues:{type:Boolean}},emits:["git-pull"],setup(n,{expose:e,emit:t}){const r=t,i=K_();i.initialize(sX);const s=new jh(xe.record(xe.boolean()),"discarded-sync-popover"),o=V(0),a=W(()=>{if(l.value&&!i.modalOpen)return!0;if(!!i.gitInstalled)return!1}),l=W(()=>{var _;if(o.value,!i.commits||i.commits.length===0)return!1;const m=i.commits[i.commits.length-1].hash,y=s.get();if(y&&y[m])return!1;const v=i.commits.length===1,b=!((_=i.gitData)!=null&&_.changedFiles.length),k=i.gitStatus==="behind"||i.gitStatus==="behind-conflicts";return v&&b&&k}),u=()=>{const m=s.get()||{};m[i.commits[i.commits.length-1].hash]=!0,s.set(m),o.value+=1},c=async()=>{await h(),u()},h=async m=>{m?m==="theirs"?await i.useTheirs():await i.useMine():await i.pull(),r("git-pull")},d=b0(),f=V("theirs"),p=Ai.exports.debounce(()=>{i.refetchGitState()},1e3);return Et(d.lastEvent,m=>{m&&!m.filepath.includes(".git")&&p()}),On(()=>{i.setup()}),e({push:i.push,commit:i.commit,commitMessage:i.commitMessage,gitAvailable:i.gitAvailable,hasChanges:i.hasChanges,currentLive:i.currentLive}),(m,y)=>(x(),P(Ve,null,[A(g(y0),{placement:"bottom",open:a.value},c5({default:T(()=>[g(i).isMonorepo?ue("",!0):(x(),U(g(ft),{key:0,type:"text",disabled:!g(i).gitAvailable,style:{display:"flex","align-items":"center",gap:"6px"},loading:g(i).gitStatus==="loading",onClick:g(i).openModal},{default:T(()=>[n.saving?(x(),U(g(lz),{key:0,style:{"margin-right":"-5px","font-size":"12px"}})):g(i).gitStatus==="behind"?(x(),U(g(az),{key:1})):g(i).gitStatus==="behind-conflicts"?(x(),U(g(mW),{key:2})):g(i).gitStatus==="synced"?(x(),U(g(HF),{key:3,color:"#52c41a"})):g(i).gitStatus==="unknown"?(x(),U(g(YK),{key:4})):g(i).gitStatus==="draft"?(x(),U(g(ij),{key:5})):g(i).gitStatus==="draft-behind"?(x(),U(g(RF),{key:6})):ue("",!0),te(" "+X(g(z).translate("i18n_editor_git_drawer_version_control")),1)]),_:1},8,["disabled","loading","onClick"]))]),_:2},[g(i).gitInstalled?{name:"title",fn:T(()=>[te(X(g(z).translate("i18n_editor_git_drawer_live_version_title")),1)]),key:"0"}:{name:"title",fn:T(()=>[te(X(g(z).translate("i18n_editor_git_drawer_git_not_installed_title")),1)]),key:"1"},g(i).gitInstalled?{name:"content",fn:T(()=>[te(X(g(z).translate("i18n_editor_git_drawer_sync_description"))+" ",1),y[10]||(y[10]=F("br",null,null,-1)),A(g(Me),{gap:"small"},{default:T(()=>[A(g(ft),{size:"small",type:"primary",style:{"margin-top":"10px"},loading:g(i).state==="syncing",onClick:c},{default:T(()=>[te(X(g(z).translate("i18n_editor_git_drawer_sync_now")),1)]),_:1},8,["loading"]),A(g(ft),{size:"small",style:{"margin-top":"10px"},onClick:u},{default:T(()=>[te(X(g(z).translate("i18n_editor_git_drawer_keep_local")),1)]),_:1})]),_:1})]),key:"2"}:{name:"content",fn:T(()=>[te(X(g(z).translate("i18n_editor_git_drawer_git_install_recommendation"))+" ",1),y[11]||(y[11]=F("br",null,null,-1)),A(g(ft),{size:"small",type:"primary",style:{"margin-top":"10px"},href:"https://www.abstra.io/docs/#git-installation-recommended",target:"_blank"},{default:T(()=>[A(g(Me),{align:"center",gap:4},{default:T(()=>[te(X(g(z).translate("i18n_editor_git_drawer_go_to_docs"))+" ",1),A(g(Uh),{size:16})]),_:1})]),_:1})]),key:"3"}]),1032,["open"]),A(g(WF),{trigger:[],open:g(i).modalOpen,width:"480",onClose:y[9]||(y[9]=v=>g(i).modalOpen=!1)},{title:T(()=>[A(g(Me),{align:"center",gap:8},{default:T(()=>[A(g(Ht),null,{default:T(()=>[te(X(g(z).translate("i18n_editor_git_drawer_version_control")),1)]),_:1})]),_:1})]),default:T(()=>[g(i).gitData?(x(),P(Ve,{key:0},[g(i).gitData.hasChanges?(x(),P(Ve,{key:0},[A(g(Me),{vertical:"",gap:8},{default:T(()=>[A(g(X1),{activeKey:g(i).changesCollapseKey,"onUpdate:activeKey":y[0]||(y[0]=v=>g(i).changesCollapseKey=v),ghost:""},{default:T(()=>[A(g(zu),{key:"changes"},{header:T(()=>[A(g(Me),{align:"center",gap:8},{default:T(()=>[F("span",vX,X(g(z).translate("i18n_editor_git_drawer_changes")),1),A(g(Ri),{placement:"right"},{title:T(()=>[te(X(g(i).gitData.changedFiles.length)+" "+X(g(i).gitData.changedFiles.length>1?g(z).translate("i18n_editor_git_drawer_file_changed_plural"):g(z).translate("i18n_editor_git_drawer_file_changed_singular")),1)]),default:T(()=>[A(g(mu),{count:g(i).gitData.changedFiles.length,color:"#C8C8C8"},null,8,["count"])]),_:1})]),_:1})]),default:T(()=>[g(i).changedFilesWithStatus.length>0?(x(),U(g(Me),{key:0,vertical:"",gap:"2",style:{maxHeight:"200px",overflow:"auto",marginLeft:"6px"}},{default:T(()=>[(x(!0),P(Ve,null,wt(g(i).changedFilesWithStatus,v=>(x(),U(g(Me),{key:v.path,align:"center",gap:"6",style:{fontSize:"12px"}},{default:T(()=>[(x(),U(rr(g(i).getGitFileIcon(v)))),te(" "+X(v.name),1)]),_:2},1024))),128))]),_:1})):ue("",!0)]),_:1})]),_:1},8,["activeKey"])]),_:1}),g(i).gitStatus==="draft-behind"?(x(),U(g(Ds),{key:0,type:"warning","show-icon":"",style:{"margin-top":"16px","margin-bottom":"8px"}},{message:T(()=>[te(X(g(z).translate("i18n_editor_git_drawer_newer_versions_warning")),1)]),_:1})):ue("",!0),n.hasBlockingIssues?(x(),U(g(Ds),{key:1,type:"error","show-icon":"",style:{"margin-top":"16px","margin-bottom":"8px"}},{message:T(()=>[te(X(g(z).translate("i18n_editor_git_drawer_blocking_issues")),1)]),_:1})):ue("",!0),A(g(qt),{value:g(i).commitMessage,"onUpdate:value":y[1]||(y[1]=v=>g(i).commitMessage=v),style:{margin:"16px 0px"},placeholder:g(z).translate("i18n_editor_git_drawer_version_name_placeholder"),rows:2,maxlength:100,size:"small",onKeydown:y[2]||(y[2]=ko(()=>{},["stop"])),onKeyup:y[3]||(y[3]=ko(()=>{},["stop"])),onKeypress:y[4]||(y[4]=ko(()=>{},["stop"]))},null,8,["value","placeholder"]),A(g(Me),{gap:"middle"},{default:T(()=>[A(Xi,{size:"small",loading:g(i).state==="stashing",danger:"",onClick:g(i).stash},{default:T(()=>[A(g(Yc),{size:14}),te(" "+X(g(z).translate("i18n_editor_git_drawer_discard_changes")),1)]),_:1},8,["loading","onClick"]),A(g(Ri),{title:n.hasBlockingIssues?g(z).translate("i18n_editor_git_drawer_blocking_issues"):g(i).commitMessage.trim()?void 0:g(z).translate("i18n_editor_git_drawer_save_version_tooltip")},{default:T(()=>[A(Xi,{size:"small",type:"primary",loading:g(i).state==="committing",disabled:!g(i).commitMessage.trim()||n.hasBlockingIssues,onClick:g(i).commit},{default:T(()=>[A(g(U_),{size:14}),te(" "+X(g(z).translate("i18n_editor_git_drawer_save_version")),1)]),_:1},8,["loading","disabled","onClick"])]),_:1},8,["title"])]),_:1})],64)):(x(),U(g(Me),{key:1,vertical:"",gap:16,style:{"margin-bottom":"16px"}},{default:T(()=>[g(i).gitStatus==="behind"?(x(),P(Ve,{key:0},[A(g(Ds),{type:"info","show-icon":"",message:g(z).translate("i18n_editor_git_drawer_newer_versions_info"),style:{"font-size":"12px"}},null,8,["message"]),A(Xi,{size:"small",type:"primary",loading:g(i).state==="syncing",block:"",style:{"margin-top":"8px"},onClick:y[5]||(y[5]=v=>h())},{default:T(()=>[A(g(Qg),{size:14}),te(" "+X(g(z).translate("i18n_editor_git_drawer_sync")),1)]),_:1},8,["loading"])],64)):g(i).gitStatus==="behind-conflicts"?(x(),P(Ve,{key:1},[A(g(Ds),{type:"warning","show-icon":""},{message:T(()=>[te(X(g(z).translate("i18n_editor_git_drawer_conflicts_detected")),1)]),_:1}),A(g(Ht),{type:"secondary",style:{"font-size":"12px","margin-bottom":"-8px"}},{default:T(()=>[te(X(g(z).translate("i18n_editor_git_drawer_conflict_strategy_question")),1)]),_:1}),A(g(Mk),{checked:f.value==="ours",onChange:y[6]||(y[6]=v=>f.value="ours")},{default:T(()=>[te(X(g(z).translate("i18n_editor_git_drawer_conflict_keep_yours")),1)]),_:1},8,["checked"]),A(g(Mk),{checked:f.value==="theirs",onChange:y[7]||(y[7]=v=>f.value="theirs")},{default:T(()=>[te(X(g(z).translate("i18n_editor_git_drawer_conflict_keep_incoming")),1)]),_:1},8,["checked"]),A(Xi,{size:"small",type:"primary",loading:g(i).state==="syncing",block:"",style:{"margin-top":"8px"},onClick:y[8]||(y[8]=v=>h(f.value))},{default:T(()=>[A(g(Qg),{size:14}),te(" "+X(g(z).translate("i18n_editor_git_drawer_sync_changes")),1)]),_:1},8,["loading"])],64)):g(i).gitStatus==="unknown"?(x(),U(g(Ds),{key:2,type:"info","show-icon":"",message:g(z).translate("i18n_editor_git_drawer_unable_check_remote"),style:{"font-size":"12px"}},null,8,["message"])):ue("",!0)]),_:1})),g(i).gitData?(x(),U(yX,{key:2,"git-data":g(i).gitData,"reverting-commit":g(i).revertingCommit,commits:g(i).commits,"get-commit-color":g(i).getCommitColor,onRevert:g(i).revert},null,8,["git-data","reverting-commit","commits","get-commit-color","onRevert"])):(x(),P("div",wX,[A(g($F),{size:24}),F("p",null,X(g(z).translate("i18n_editor_git_drawer_no_git_repo")),1)]))],64)):(x(),U(g(qh),{key:1}))]),_:1},8,["open"])],64))}});const kX=bt(bX,[["__scopeId","data-v-a1e15163"]]),Y_=vs("linters",()=>{const n=V(!1),e=W(()=>{var d,f;return(f=(d=Gi.asyncComputed.result.value)==null?void 0:d.flatMap(p=>p.issues))!=null?f:[]}),t=W(()=>{const d=e.value.map(f=>u(Gi.fromName(f.ruleName)));return d.includes("danger")?"error":d.includes("warning")?"warning":d.includes("secondary")?"info":null}),r=W(()=>e.value.length===0?z.translate("i18n_editor_linter_no_issues"):e.value.length===1?`1 ${z.translate("i18n_editor_linter_issue_count_singular")}`:`${e.value.length} ${z.translate("i18n_editor_linter_issue_count_plural")}`),i=W(()=>e.value.length>0),s=W(()=>{var d;return(d=Gi.asyncComputed.result.value)!=null?d:[]}),o=W(()=>Gi.asyncComputed.loading.value),a=async d=>{n.value=!0;try{await d.fix()}finally{n.value=!1}},l=()=>{Gi.asyncComputed.refetch()},u=d=>d.type==="bug"?"warning":d.type==="security"?"danger":"secondary";return{applyingFix:n,issues:e,highestPriorityAlertType:t,message:r,hasIssues:i,rules:s,isLoading:o,fixProblem:a,refetch:l,alertType:u,alertColor:d=>d.type==="bug"?"#f3b644":d.type==="security"?"#ff4d4f":"#1890ff",alertIcon:d=>d.type==="bug"?QF:d.type==="security"?vY:_U}}),xX=he({__name:"Linter",emits:["issueFixed","fix-issue-with-ai"],setup(n,{emit:e}){const t=Y_(),r=e;function i(o){const a=Gi.fromName(o.ruleName);r("fix-issue-with-ai",a,o)}async function s(o){await t.fixProblem(o),r("issueFixed",o)}return(o,a)=>g(t).issues.length===0?(x(),U(g(Me),{key:0,align:"center",gap:10},{default:T(()=>[A(g(Aq),{weight:"fill",color:"#57f283",size:"16"}),A(g(Ht),{type:"secondary",ellipsis:""},{default:T(()=>[te(X(g(z).translate("i18n_editor_linter_no_issues")),1)]),_:1})]),_:1})):(x(),U(g(y0),{key:1,placement:"bottomRight"},{content:T(()=>[A(g(__),{direction:"vertical",style:{"max-height":"300px",overflow:"auto"}},{default:T(()=>[(x(!0),P(Ve,null,wt(g(t).issues,(l,u)=>(x(),U(g(A_),{key:u+l.ruleName,type:g(t).alertType(g(Gi).fromName(l.ruleName)),style:{width:"400px"},message:g(Gi).fromName(l.ruleName).label},{default:T(()=>[A(g(Gh),{direction:"vertical",style:{width:"100%"}},{default:T(()=>[A(g(Me),{align:"center",gap:5},{default:T(()=>[(x(),U(rr(g(t).alertIcon(g(Gi).fromName(l.ruleName))),{color:g(t).alertColor(g(Gi).fromName(l.ruleName)),weight:"bold"},null,8,["color"])),A(g(Ht),{strong:""},{default:T(()=>[te(X(g(Gi).fromName(l.ruleName).label),1)]),_:2},1024)]),_:2},1024),A(g(Zh),null,{default:T(()=>[te(X(l.label),1)]),_:2},1024),A(g(Me),{gap:5},{default:T(()=>[(x(!0),P(Ve,null,wt(l.fixes,c=>(x(),U(Xi,{key:c.name,loading:g(t).applyingFix,disabled:g(t).applyingFix,size:"small",onClick:h=>s(c)},{icon:T(()=>[A(g(PJ))]),default:T(()=>[te(" "+X(c.label),1)]),_:2},1032,["loading","disabled","onClick"]))),128)),A(Xi,{loading:g(t).applyingFix,disabled:g(t).applyingFix,size:"small",onClick:c=>i(l)},{default:T(()=>[A(g(FG),{weight:"fill"}),te(" "+X(g(z).translate("i18n_editor_linter_fix_with_ai")),1)]),_:1},8,["loading","disabled","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["type","message"]))),128))]),_:1})]),default:T(()=>[A(g(Gh),{class:si(["linter-btn",g(t).highestPriorityAlertType])},{default:T(()=>[g(t).highestPriorityAlertType==="info"?(x(),U(g(IJ),{key:0})):g(t).highestPriorityAlertType==="error"?(x(),U(g(uz),{key:1})):g(t).highestPriorityAlertType=="warning"?(x(),U(g($J),{key:2})):g(t).highestPriorityAlertType=="success"?(x(),U(g(DF),{key:3})):ue("",!0),te(" "+X(g(t).message),1)]),_:1},8,["class"])]),_:1}))}});const SX=bt(xX,[["__scopeId","data-v-d7a895d9"]]),CX=["href"],MX=["href"],AX=he({__name:"NavbarRight",props:{saving:{type:Boolean},editingModel:{}},emits:["fix-issue-with-ai","git-pull"],setup(n,{emit:e}){var M,O;const t=ec(),r=(M=Pk.instance)==null?void 0:M.showLogout,i=n,s=ec(),o=(O=Pk.instance)==null?void 0:O.isStagingRelease,{result:a,refetch:l}=Gi.asyncComputed,u=b0();Et(u.lastEvent,()=>{l()});const c=W(()=>{var $,R;return((R=($=a.value)==null?void 0:$.flatMap(G=>["error","security","bug"].includes(G.type)?G.issues:[]))!=null?R:[]).length>0}),h=W(()=>{var D;return c.value?"issues-found":(D=i.editingModel)!=null&&D.hasChanges()?"unsaved":o?"is-staging":m.value&&m.value.gitAvailable&&m.value.hasChanges?"uncommitted-changes":m.value&&m.value.currentLive?"current-live":"ready"}),d=W(()=>{switch(h.value){case"issues-found":return z.translate("i18n_editor_navbar_right_tooltip_issues_found");case"unsaved":return z.translate("i18n_editor_navbar_right_tooltip_unsaved");case"is-staging":return z.translate("i18n_editor_navbar_right_tooltip_staging");case"current-live":return z.translate("i18n_editor_navbar_right_tooltip_current_live");default:return}}),f=e;function p(D,$){f("fix-issue-with-ai",D,$)}const m=V(null),y=V(!1),v=V("deploy"),b=async()=>{if(!!m.value){y.value=!0;try{m.value.commitMessage=`v${new Date().toISOString()}`,await m.value.commit(),await k()}catch(D){Rk("Save and Publish failed",String(D))}finally{y.value=!1,m.value.commitMessage=""}}};async function k(){var D;if(!!((D=s.cloudProject)!=null&&D.id)){y.value=!0;try{!m.value||!m.value.gitAvailable?await Gn.deploy():await m.value.push();const $=_();if(!$)throw new Error("Builds URL is not available");v.value="open-cloud",setTimeout(()=>{v.value="deploy"},1e4),window.open($,"_blank")}catch($){Rk("Deploy failed",String($))}finally{y.value=!1}}}function _(){var D,$;if(!!((D=s.cloudProject)!=null&&D.id))return`${iz.consoleUrl}/projects/${($=s.cloudProject)==null?void 0:$.id}/builds`}function C(D){localStorage.setItem("locale",D),window.location.reload()}return(D,$)=>(x(),U(g(Me),{align:"center",gap:10,class:"navbar-right"},{default:T(()=>[tt(D.$slots,"extra",{},void 0,!0),A(SX,{onFixIssueWithAi:p}),A(kX,{ref_key:"gitDrawerRef",ref:m,saving:n.saving,"has-blocking-issues":c.value,onGitPull:$[0]||($[0]=R=>f("git-pull"))},null,8,["saving","has-blocking-issues"]),y.value?(x(),U(Xi,{key:0,disabled:""},{default:T(()=>[A(g(Dy),{class:"deploying-animation"}),te(" "+X(g(z).translate("i18n_editor_navbar_right_publishing")),1)]),_:1})):v.value==="deploy"?(x(),U(g(Ak),{key:1},{default:T(()=>[h.value==="uncommitted-changes"?(x(),U(g(y0),{key:0,title:g(z).translate("i18n_editor_navbar_right_popover_uncommitted_changes_title")},{content:T(()=>[A(g(Me),{vertical:"",gap:"small",style:{width:"250px"}},{default:T(()=>[te(X(g(z).translate("i18n_editor_navbar_right_popover_uncommitted_changes_description")),1)]),_:1})]),default:T(()=>[A(g(ft),{onClick:b},{default:T(()=>[A(g(Me),{align:"center",gap:5},{default:T(()=>[A(g(Dy)),te(" "+X(g(z).translate("i18n_editor_navbar_right_save_and_publish")),1)]),_:1})]),_:1})]),_:1},8,["title"])):(x(),U(g(Ri),{key:1,title:d.value},{default:T(()=>[A(g(ft),{disabled:h.value!=="ready",onClick:k},{default:T(()=>[A(g(Me),{align:"center",gap:5},{default:T(()=>[A(g(Dy)),te(" "+X(g(z).translate("i18n_editor_navbar_right_publish")),1)]),_:1})]),_:1},8,["disabled"])]),_:1},8,["title"])),A(g(Tk),null,{overlay:T(()=>[A(g(R6),null,{default:T(()=>[F("a",{href:_(),target:"_blank"},[A(g(iu),null,{default:T(()=>[A(g(Me),{align:"center",gap:"small"},{default:T(()=>[A(g(Uh)),te(" "+X(g(z).translate("i18n_editor_navbar_right_open_cloud")),1)]),_:1})]),_:1})],8,CX),A(g(_k),null,{title:T(()=>[A(g(Me),{align:"center",gap:"small"},{default:T(()=>[A(g(Bk)),te(" "+X(g(z).translate("i18n_editor_navbar_right_language")),1)]),_:1})]),default:T(()=>[(x(!0),P(Ve,null,wt(g($6),R=>(x(),U(g(iu),{key:R.key,onClick:G=>C(R.key)},{default:T(()=>[te(X(R.value),1)]),_:2},1032,["onClick"]))),128))]),_:1}),g(r)?(x(),U(g(iu),{key:0,danger:"",onClick:$[1]||($[1]=R=>g(t).deleteLogin())},{default:T(()=>[A(g(Me),{align:"center",gap:"small"},{default:T(()=>[A(g(Fk)),te(" "+X(g(z).translate("i18n_editor_navbar_right_disconnect")),1)]),_:1})]),_:1})):ue("",!0)]),_:1})]),default:T(()=>[A(g(ft),{class:"dots-button"},{default:T(()=>[A(g(Hk),{size:"18"})]),_:1})]),_:1})]),_:1})):v.value==="open-cloud"?(x(),U(g(Ak),{key:2},{default:T(()=>[A(g(ft),null,{default:T(()=>[F("a",{href:_(),target:"_blank"},[A(g(Me),{align:"center",gap:"small"},{default:T(()=>[A(g(Uh)),te(" "+X(g(z).translate("i18n_editor_navbar_right_open_cloud")),1)]),_:1})],8,MX)]),_:1}),A(g(Tk),null,{overlay:T(()=>[A(g(R6),null,{default:T(()=>[A(g(Ri),{title:d.value},{default:T(()=>[A(g(iu),{disabled:h.value!=="ready",onClick:k},{default:T(()=>[A(g(Me),{align:"center",gap:"small"},{default:T(()=>[A(g(ez)),te(" "+X(g(z).translate("i18n_editor_navbar_right_publish")),1)]),_:1})]),_:1},8,["disabled"])]),_:1},8,["title"]),A(g(_k),null,{title:T(()=>[A(g(Me),{align:"center",gap:"small"},{default:T(()=>[A(g(Bk)),te(" "+X(g(z).translate("i18n_editor_navbar_right_language")),1)]),_:1})]),default:T(()=>[(x(!0),P(Ve,null,wt(g($6),R=>(x(),U(g(iu),{key:R.key,onClick:G=>C(R.key)},{default:T(()=>[te(X(R.value),1)]),_:2},1032,["onClick"]))),128))]),_:1}),g(r)?(x(),U(g(iu),{key:0,danger:"",onClick:$[2]||($[2]=R=>g(t).deleteLogin())},{default:T(()=>[A(g(Me),{align:"center",gap:"small"},{default:T(()=>[A(g(Fk)),te(" "+X(g(z).translate("i18n_editor_navbar_right_disconnect")),1)]),_:1})]),_:1})):ue("",!0)]),_:1})]),default:T(()=>[A(g(ft),{class:"dots-button"},{default:T(()=>[A(g(Hk),{size:"18"})]),_:1})]),_:1})]),_:1})):ue("",!0)]),_:3}))}});const _X=bt(AX,[["__scopeId","data-v-08cea903"]]),TX={class:"navbar"},EX=he({__name:"Navbar",props:{pageTitle:{},saving:{type:Boolean}},emits:["fix-issue-with-ai","git-pull"],setup(n,{emit:e}){const t=e;function r(i,s){t("fix-issue-with-ai",i,s)}return(i,s)=>{const o=qa("RouterLink");return x(),P("div",TX,[A(g(Me),{align:"center",justify:"flex-start",gap:10},{default:T(()=>[A(o,{to:"/_editor"},{default:T(()=>[A(g5,{"hide-text":""})]),_:1}),A(g(Ht),{strong:"",ellipsis:""},{default:T(()=>[te(X(n.pageTitle),1)]),_:1}),tt(i.$slots,"extra-left",{},void 0,!0)]),_:3}),A(g(Me),null,{default:T(()=>[A(Xi,{type:"text",class:"intercom-launcher",target:"_blank",style:{display:"flex","align-items":"center",gap:"6px"}},{default:T(()=>[A(g(nz)),te(" "+X(g(z).translate("i18n_editor_navbar_support")),1)]),_:1}),A(Xi,{href:g($k).DOCS,target:"_blank",type:"text"},{default:T(()=>[A(g(rz)),te(" "+X(g(z).translate("i18n_editor_navbar_docs")),1)]),_:1},8,["href"]),A(Xi,{href:g($k).GITHUB,target:"_blank",type:"text"},{default:T(()=>[A(g(j_)),te(" "+X(g(z).translate("i18n_editor_navbar_github")),1)]),_:1},8,["href"])]),_:1}),A(_X,{"show-github-stars":"",saving:n.saving,onFixIssueWithAi:r,onGitPull:s[0]||(s[0]=a=>t("git-pull"))},{extra:T(()=>[tt(i.$slots,"extra-right",{},void 0,!0)]),_:3},8,["saving"])])}}});const OX=bt(EX,[["__scopeId","data-v-f8899f2a"]]),IX=n=>{switch(n){case"abap":return"abap";case"apex":return"apex";case"azcli":return"azcli";case"bat":return"bat";case"bicep":return"bicep";case"c":return"c";case"cameligo":return"cameligo";case"clojure":return"clojure";case"coffeescript":return"coffeescript";case"cpp":return"cpp";case"csharp":return"csharp";case"csp":return"csp";case"css":return"css";case"cypher":return"cypher";case"dart":return"dart";case"dockerfile":return"dockerfile";case"ecl":return"ecl";case"elixir":return"elixir";case"flow9":return"flow9";case"freemarker2":return"freemarker2";case"freemarker2.tag-angle.interpolation-bracket":return"freemarker2.tag-angle.interpolation-bracket";case"freemarker2.tag-angle.interpolation-dollar":return"freemarker2.tag-angle.interpolation-dollar";case"freemarker2.tag-auto.interpolation-bracket":return"freemarker2.tag-auto.interpolation-bracket";case"freemarker2.tag-auto.interpolation-dollar":return"freemarker2.tag-auto.interpolation-dollar";case"freemarker2.tag-bracket.interpolation-bracket":return"freemarker2.tag-bracket.interpolation-bracket";case"freemarker2.tag-bracket.interpolation-dollar":return"freemarker2.tag-bracket.interpolation-dollar";case"fsharp":return"fsharp";case"go":return"go";case"graphql":return"graphql";case"handlebars":return"handlebars";case"hcl":return"hcl";case"html":return"html";case"ini":return"ini";case"java":return"java";case"javascript":return"javascript";case"json":return"json";case"julia":return"julia";case"kotlin":return"kotlin";case"less":return"less";case"lexon":return"lexon";case"liquid":return"liquid";case"lua":return"lua";case"m3":return"m3";case"markdown":return"markdown";case"mdx":return"mdx";case"mips":return"mips";case"msdax":return"msdax";case"mysql":return"mysql";case"objective-c":return"objective-c";case"pascal":return"pascal";case"pascaligo":return"pascaligo";case"perl":return"perl";case"pgsql":return"pgsql";case"php":return"php";case"pla":return"pla";case"plaintext":return"plaintext";case"postiats":return"postiats";case"powerquery":return"powerquery";case"powershell":return"powershell";case"proto":return"proto";case"pug":return"pug";case"python":return"python";case"qsharp":return"qsharp";case"r":return"r";case"razor":return"razor";case"redis":return"redis";case"redshift":return"redshift";case"restructuredtext":return"restructuredtext";case"ruby":return"ruby";case"rust":return"rust";case"sb":return"sb";case"scala":return"scala";case"scheme":return"scheme";case"scss":return"scss";case"shell":return"shell";case"sol":return"sol";case"sparql":return"sparql";case"sql":return"sql";case"st":return"st";case"swift":return"swift";case"systemverilog":return"systemverilog";case"tcl":return"tcl";case"twig":return"twig";case"typescript":return"typescript";case"typespec":return"typespec";case"vb":return"vb";case"verilog":return"verilog";case"xml":return"xml";case"yaml":return"yaml";default:return"plaintext"}};class J_{constructor(e,t){Ye(this,"uploadFile",async(e,t,r)=>{const i=e.join(this.settings.separator);await this.api.create(i,t,r)});Ye(this,"deleteFile",async e=>{const t=e.join(this.settings.separator);await this.api.delete(t)});Ye(this,"renameFile",async(e,t)=>{await this.api.rename(e,t)});Ye(this,"safeEditFile",async(e,t)=>{const r=e.join(this.settings.separator);await this.api.safeEdit(r,t)});Ye(this,"getFile",async e=>{const t=e.join(this.settings.separator);return this.api.retrieve(t)});Ye(this,"mkdir",async e=>{const t=e.join(this.settings.separator);await this.api.mkdir(t)});this.api=e,this.settings=t}}class DX{constructor(e,t,r){Ye(this,"file");Ye(this,"codeContent");this.fileNode=e,this.content=t,this.sep=r,this.codeContent=new TextDecoder().decode(t),this.file=this.fileNode.pathParts.join(this.sep)}}const X_=n=>{const e=V([]),t=V(!1),r=V(null),i=V({separator:"/"}),s=new J_(n.api,i.value),o=async(M=[])=>{t.value=!0;try{const O=await n.api.list(M.join(i.value.separator)),D=O.filter(j=>j.file.pathParts.length>M.length);if(M.length===0){e.value=D;return}const $=e.value.find(j=>j.file.pathParts.join(i.value.separator)===M.join(i.value.separator));if(!$){const j=O.find(Z=>Z.file.pathParts.join(i.value.separator)===M.join(i.value.separator));if(j){e.value=[...e.value,j,...D];return}throw new Error(`Current directory not found in the list: ${M.join(i.value.separator)}`)}if($.file.type!=="directory")throw new Error(`Current path is not a directory: ${M.join(i.value.separator)}`);const R={...$.file,children:D.map(j=>j.file.pathParts)},G=j=>j.type==="directory"?j.pathParts:j.pathParts.slice(0,-1),N=e.value.filter(j=>G(j.file).join(i.value.separator)!==M.join(i.value.separator));e.value=[...N,{file:R,stages:[]},...D]}finally{t.value=!1}},a=async M=>(await n.api.list(M.join(i.value.separator))).filter(D=>D.file.pathParts.slice(M.length).length===1).map(D=>D.file),l=async(M,O,D)=>{await s.uploadFile(M,O,D),await o(M.slice(0,-1))},u=async M=>{await s.deleteFile(M),await o(M.slice(0,-1))},c=async(M,O)=>{await s.renameFile(M,O),await o(O.slice(0,-1))},h=async(M,O)=>{await s.safeEditFile(M,O)},d=async M=>await s.getFile(M),f=async M=>{await s.mkdir(M),await o()},p=async M=>{var $;const O=M.join(i.value.separator);await o(M.slice(0,-1));const D=e.value.find(R=>R.file.pathParts.join(i.value.separator)===O);if(!D)throw new Error(`File not found: ${O}. The file may have been renamed or deleted.`);if(D.file.type==="directory")return await o(M),null;if(D.file.pathParts.length===1&&D.file.pathParts[0]==="requirements.txt")return{type:"requirements"};if(D.file.pathParts.length===1&&D.file.pathParts[0]===".env")return{type:"env-vars"};if(!D.stages||D.stages.length===0)return r.value=new DX(D.file,await d(M),($=i.value.separator)!=null?$:i.value.separator),{type:"general",filename:M[M.length-1],content:r.value};if(D.stages.length===1){const R=D.stages[0].id,N=await m(D.stages[0].type).get(R);return N?{type:"stage",stage:N}:null}return null},m=M=>{switch(M){case"form":return P_;case"hook":return b5;case"job":return w5;case"script":return v5;default:throw new Error(`Unknown stage type: ${M}`)}},y=M=>{var $,R;const O=G=>M.type==="file"&&M.pathParts.length===1&&M.pathParts[0]===G,D=G=>e.value.some(N=>N.stages.some(j=>j.type===G)&&N.file.pathParts.join(i.value.separator)===M.pathParts.join(i.value.separator));return M.type==="directory"?L_:D("form")?cz:D("hook")?hz:D("job")?dz:D("script")?fz:M.type==="file"&&(($=M.pathParts.at(-1))==null?void 0:$.endsWith(".py"))?Aj:O("abstra.json")?g5:O("requirements.txt")?Z_:O(".env")?I_:O(".gitignore")?j_:M.type==="file"&&N_((R=M.pathParts.at(-1))!=null?R:"")?v_:Pf},v=(M,O)=>{if(M.pathParts.length===0)return".";if(M.pathParts[M.pathParts.length-1]==="requirements.txt")return"Requirements";if(M.pathParts[M.pathParts.length-1]===".env")return"Environment Variables";if(M.pathParts[M.pathParts.length-1]==="abstra.json")return"Project Settings";const D=e.value.find($=>$.file.pathParts.join(i.value.separator)===M.pathParts.join(i.value.separator));if(D&&D.stages.length>0){const $=O.find(R=>R.id===D.stages[0].id);if($)return $.title}return M.pathParts[M.pathParts.length-1]},b=W(()=>[...e.value].sort((M,O)=>M.file.type===O.file.type?M.file.pathParts.join(i.value.separator).localeCompare(O.file.pathParts.join(i.value.separator)):M.file.type==="directory"?-1:1).map(({file:M})=>M)),k=W(()=>{var O;const M=(O=r.value)==null?void 0:O.file.split(".").pop();return M?IX(M):"plaintext"}),_=W(()=>r.value?r.value:null),C=V(null);return Gn.get().then(M=>{C.value=M}),{files:b,loading:t,editing:r,language:k,settings:i,mkdir:f,fetchFiles:o,uploadFile:l,deleteFile:u,renameFile:c,safeEditFile:h,open:p,getFile:d,getFileIcon:y,getFileTitle:v,sourceCodeEditable:_,workspaceModel:C,filesListResponse:e,loadDirectoryChildren:a}},NX=["onMousedown"],LX=["onClick"],PX={class:"panel-content"},Gk=100,RX=4,$X=he({__name:"EditorLayout",props:{hasStages:{type:Boolean},fullWidth:{type:Boolean}},setup(n,{expose:e}){const t=n,{fitView:r}=$i(),i=V(),s=["left","center","right"],o=V({left:{open:!0,width:350,minWidth:200},center:{open:t.hasStages,width:400,minWidth:300},right:{open:!0,width:350,minWidth:250}}),a=V(null),l=xe.object({left:xe.object({open:xe.boolean(),width:xe.number(),minWidth:xe.number()}),center:xe.object({open:xe.boolean(),width:xe.number(),minWidth:xe.number()}),right:xe.object({open:xe.boolean(),width:xe.number(),minWidth:xe.number()})}),u=new jh(l,"editor-layout-panels");function c(){return s.reduce((N,j)=>(N[j]={open:o.value[j].open,width:o.value[j].width,minWidth:o.value[j].minWidth},N),{})}function h(){u.set(c())}function d(){const N=u.get();if(!!N){for(const j of s)N[j]&&(o.value[j].open=N[j].open,o.value[j].width=N[j].width,o.value[j].minWidth=N[j].minWidth);return N}}Et(()=>t.hasStages,(N,j)=>{N&&j!==void 0&&(o.value.center.open=N,bo(()=>{_()}),setTimeout(()=>r(),10))},{immediate:!0});const f={left:.25,center:.35,right:.4},p=W(()=>s.filter(N=>o.value[N].open)),m=W(()=>p.value.length>1),y=V({active:!1,handleIndex:-1,startX:0,startWidths:[]});function v(N){o.value[N].open=!0,bo(()=>{_(),h()})}function b(N){!m.value||(o.value[N].open=!1,_(),h())}function k(N){o.value[N].open?b(N):v(N)}function _(){var K;const N=((K=i.value)==null?void 0:K.clientWidth)||1200,j=p.value;if(j.length===0)return;const Z=Math.max(0,j.length-1)*RX,re=N-Z,J={left:re*f.left,center:re*f.center,right:re*f.right};if(j.length===3)o.value.left.width=J.left,o.value.center.width=J.center,o.value.right.width=J.right;else if(j.length===2){const[ne,pe]=j,B=f[ne]+f[pe];o.value[ne].width=re*(f[ne]/B),o.value[pe].width=re*(f[pe]/B)}else j.length===1&&(o.value[j[0]].width=re);h()}function C(N){const j=p.value;N<0||N>=j.length-1||(y.value.active=!0,y.value.handleIndex=N,y.value.startX=0,y.value.startWidths=j.map(Z=>o.value[Z].width),document.addEventListener("mousemove",M),document.addEventListener("mouseup",O),document.body.style.cursor="col-resize",document.body.style.userSelect="none")}function M(N){if(!y.value.active)return;if(y.value.startX===0){y.value.startX=N.clientX;return}const j=N.clientX-y.value.startX,Z=p.value,re=y.value.handleIndex,J=Z[re],K=Z[re+1],ne=y.value.startWidths[re]+j,pe=y.value.startWidths[re+1]-j;if(ne<Gk&&m.value){b(J),O();return}if(pe<Gk&&m.value){b(K),O();return}const B=o.value[J].minWidth,Ce=o.value[K].minWidth,ae=y.value.startWidths[re]+y.value.startWidths[re+1];let L=Math.max(B,Math.min(ne,ae-Ce)),we=ae-L;we<Ce&&(we=Ce,L=ae-we),o.value[J].width=L,o.value[K].width=we,h()}function O(){y.value.active=!1,document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",O),document.body.style.cursor="",document.body.style.userSelect=""}function D(N){!N.altKey||(N.key==="ArrowLeft"?k("left"):N.key==="ArrowRight"?k("right"):(N.key==="ArrowDown"||N.key==="ArrowUp")&&k("center"))}function $(){o.value.center.open||v("center")}function R(N){if(N===0)return!1;const j=s[N];if(!o.value[j].open)return!1;for(let Z=0;Z<N;Z++)if(o.value[s[Z]].open)return!0;return!1}function G(N){let j=0;for(let Z=0;Z<N;Z++)o.value[s[Z]].open&&j++;return j-1}return e({openPanel:v,closePanel:b,panels:o,visiblePanels:p,activePanel:a}),On(()=>{d(),bo(()=>_()),window.addEventListener("resize",_),window.addEventListener("keydown",D)}),or(()=>{window.removeEventListener("resize",_),window.removeEventListener("mousemove",M),window.removeEventListener("mouseup",O),window.removeEventListener("keydown",D)}),(N,j)=>(x(),P("div",{ref_key:"layoutRef",ref:i,class:"editor-layout"},[(x(),P(Ve,null,wt(s,(Z,re)=>(x(),P(Ve,{key:Z},[R(re)?(x(),P("div",{key:0,class:"resize-handle",onMousedown:J=>C(G(re)),onDblclick:j[0]||(j[0]=J=>$())},null,40,NX)):ue("",!0),o4(F("section",{class:si(["layout-panel",`layout-${Z}`]),style:ls({width:o.value[Z].width+"px"}),onClick:J=>a.value=Z},[F("div",PX,[tt(N.$slots,Z,{},void 0,!0)])],14,LX),[[w_,o.value[Z].open]])],64))),64))],512))}});const BX=bt($X,[["__scopeId","data-v-d8a714ad"]]);const FX={},zX={class:"base-layout"},HX={class:"base-middle"},VX={class:"content"},qX={key:0},WX={class:"right"},jX={key:0,class:"base-footer"};function ZX(n,e){return x(),P("div",zX,[tt(n.$slots,"sidebar",{},void 0,!0),F("section",HX,[tt(n.$slots,"navbar",{},void 0,!0),F("section",VX,[n.$slots.chat?(x(),P("section",qX,[tt(n.$slots,"chat",{},void 0,!0)])):ue("",!0),F("section",WX,[tt(n.$slots,"content",{},void 0,!0),n.$slots.footer?(x(),P("section",jX,[tt(n.$slots,"footer",{},void 0,!0)])):ue("",!0)])])])])}const UX=bt(FX,[["render",ZX],["__scopeId","data-v-9c6eb151"]]),Is=n=>F_.isMac?n.metaKey:n.ctrlKey,GX=n=>n.shiftKey;class KX{constructor(e,t,r,i,s,o,a="/"){this.loadDirectoryChildren=e,this.uploadFile=t,this.deleteFile=r,this.downloadFile=i,this.createDirectory=s,this.renameFile=o,this.separator=a}async list(e){const t=e.path?e.path.split(this.separator).filter(Boolean):[];let i=(await this.loadDirectoryChildren(t)).map(s=>this.mapToFileItem(s));if(e.search&&e.search.trim()){const s=e.search.toLowerCase();i=i.filter(o=>o.name.toLowerCase().includes(s))}return{items:i,totalCount:i.length}}async upload(e,t,r){const i=e.split(this.separator).filter(Boolean);await this.uploadFile(i,t,r)}async delete(e){const t=e.split(this.separator).filter(Boolean);await this.deleteFile(t)}async download(e){const t=e.split(this.separator).filter(Boolean);return await this.downloadFile(t)}async createFolder(e){const t=e.split(this.separator).filter(Boolean);await this.createDirectory(t)}async rename(e,t){if(!this.renameFile)throw new Error("Rename is not supported");const r=e.split(this.separator).filter(Boolean),i=t.split(this.separator).filter(Boolean);await this.renameFile(r,i)}mapToFileItem(e){const t=Array.isArray(e.pathParts)?e.pathParts:[],r=t[t.length-1]||"",i=t.join(this.separator);return{name:r,path:i,type:e.type,size:e.size,pathParts:t,_original:e}}}class E5{constructor(e){Ye(this,"record");this.record=S_.from(e)}get id(){return this.record.get("id")}get type(){return this.record.get("type")}get title(){return this.record.get("title")}get isPublic(){return this.record.get("is_public")}set isPublic(e){e&&this.record.set("required_roles",[]),this.record.set("is_public",e)}get requiredRoles(){return this.record.get("required_roles")}set requiredRoles(e){e.length!==0&&this.record.set("is_public",!1),this.record.set("required_roles",e)}makePublic(){this.isPublic=!0}makeProtected(){this.isPublic=!1,this.requiredRoles=[]}require(e){e.length!==0&&(this.isPublic=!1),this.requiredRoles=e}get visibility(){return this.isPublic?"public":"private"}hasChanges(){return this.record.hasChanges("is_public")||this.record.hasChangesDeep("required_roles")}get changes(){return this.record.changes}get initialState(){return this.record.initialState}toUpdateDTO(){return{id:this.id,is_public:this.isPublic,required_roles:this.requiredRoles}}commit(){this.record.commit()}static from(e){return new E5(e)}}class YX{constructor(e=Sz){this.fetch=e}async list(){return(await(await this.fetch("/_editor/api/access-control",{method:"GET",headers:{"Content-Type":"application/json"}})).json()).map(E5.from)}async update(e){const t=e.reduce((i,s)=>(s.hasChanges()&&i.push({id:s.id,...s.changes}),i),[]);return await(await fetch("/_editor/api/access-control",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}}const JX=he({__name:"RoleSelector",props:{value:{},roleOptions:{},disabled:{type:Boolean}},emits:["update:value"],setup(n,{emit:e}){const t=ec(),r=n,i=e,s=a=>{i("update:value",a)},o=he({props:{vnodes:{type:Object,required:!0}},render(){return this.vnodes}});return(a,l)=>(x(),U(g(xo),{value:n.value,mode:"multiple",disabled:n.disabled,"show-arrow":"","onUpdate:value":s},c5({dropdownRender:T(({menuNode:u})=>[A(g(o),{vnodes:u},null,8,["vnodes"]),A(g(w0),{style:{margin:"4px 0"}}),g(t).links?(x(),U(g(ft),{key:0,type:"default",style:{display:"flex","align-items":"center","justify-content":"center",width:"100%",gap:"4px"},href:g(t).links.roles,target:"abstra_project"},{default:T(()=>[A(g(Uh),{size:"16"}),te(" "+X(g(z).translate("i18n_roleselector_manage_roles_in_cloud")),1)]),_:1},8,["href"])):ue("",!0)]),default:T(()=>[A(g(UB),null,{label:T(()=>[F("span",null,X(g(z).translate("i18n_roleselector_project_roles")),1)]),default:T(()=>[(x(!0),P(Ve,null,wt(n.roleOptions,u=>(x(),U(g(ml),{key:u,value:u},{default:T(()=>[te(X(u),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:2},[r.disabled?void 0:{name:"placeholder",fn:T(()=>[te(X(g(z).translate("i18n_roleselector_leave_empty_placeholder")),1)]),key:"0"}]),1032,["value","disabled"]))}}),XX=he({__name:"AccessControlItem",props:{accessControl:{},roles:{}},emits:["update:access-control"],setup(n,{emit:e}){const t=e,r=n,i=W(()=>r.roles.map(a=>a.name)),s=a=>{a?r.accessControl.makePublic():r.accessControl.makeProtected(),t("update:access-control",r.accessControl)},o=a=>{r.accessControl.require(a),a.length!==0&&(r.accessControl.isPublic=!1),t("update:access-control",r.accessControl)};return(a,l)=>(x(),U(g(Me),{gap:"4",vertical:""},{default:T(()=>[A(g(Me),{align:"center",gap:"small"},{default:T(()=>[(x(),U(rr(g(NF)(n.accessControl.type)),{style:{"flex-shrink":"0",width:"22px",height:"18px"}})),A(g(_o),{style:{width:"300px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"}},{default:T(()=>[A(g(Ri),{title:n.accessControl.title,placement:"left",open:n.accessControl.title.length>36?void 0:!1},{default:T(()=>[te(X(n.accessControl.title),1)]),_:1},8,["title","open"])]),_:1})]),_:1}),A(g(Me),{gap:"middle",align:"center"},{default:T(()=>[A(JX,{disabled:n.accessControl.visibility==="public",style:{width:"275px"},value:n.accessControl.requiredRoles||[],"role-options":i.value||[],"onUpdate:value":l[0]||(l[0]=u=>o(u))},null,8,["disabled","value","role-options"]),A(g(GB),{value:n.accessControl.visibility},{default:T(()=>[A(g(Ek),{value:"public",onChange:l[1]||(l[1]=u=>s(!0))},{default:T(()=>[A(g(Me),{align:"center",gap:"small"},{default:T(()=>[te(X(g(z).translate("i18n_accesscontrolitem_public"))+" ",1),A(g(kz),{size:14})]),_:1})]),_:1}),A(g(Ek),{value:"private",onChange:l[2]||(l[2]=u=>s(!1))},{default:T(()=>[A(g(Me),{align:"center",gap:"small"},{default:T(()=>[te(X(g(z).translate("i18n_accesscontrolitem_private"))+" ",1),A(g(yG),{size:14})]),_:1})]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}))}}),QX=he({__name:"DanglingRolesAlert",props:{danglingRoles:{}},setup(n){return(e,t)=>(x(),U(g(Ds),{type:"warning","show-icon":"",closable:"",style:{"margin-bottom":"12px"}},{message:T(()=>[A(g(Ht),null,{default:T(()=>[te(X(g(z).translate("i18n_danglingrolesalert_dangling_roles_message")),1)]),_:1}),(x(!0),P(Ve,null,wt(n.danglingRoles,r=>(x(),U(g(as),{key:r,style:{margin:"2px"},color:"red"},{default:T(()=>[te(X(r),1)]),_:2},1024))),128))]),_:1}))}}),eQ=he({__name:"View",props:{accessControls:{},roles:{},loading:{type:Boolean}},emits:["update:access-controls","save"],setup(n,{expose:e,emit:t}){const r=n,i=t,s=h=>{const d=r.accessControls.findIndex(f=>f.id===h.id);d!==-1&&(r.accessControls[d]=h,i("update:access-controls",[...r.accessControls]))},o=W(()=>{var h;return((h=r.accessControls)==null?void 0:h.filter(d=>d.hasChanges()))||[]}),a=W(()=>o.value.length>0);e({controller:{save:async()=>{i("save")},hasChanges:()=>a.value}});const c=W(()=>{const h=[...new Set(r.accessControls.flatMap(f=>f.requiredRoles)||[])],d=r.roles.map(f=>f.name)||[];return(h==null?void 0:h.filter(f=>!d.includes(f)))||[]});return(h,d)=>(x(),P(Ve,null,[!n.loading&&c.value.length>0?(x(),U(QX,{key:0,"dangling-roles":c.value},null,8,["dangling-roles"])):ue("",!0),A(g(Me),{vertical:"",gap:"middle",style:{"margin-top":"24px"}},{default:T(()=>[(x(!0),P(Ve,null,wt(n.accessControls,f=>(x(),U(g(Me),{key:f.id},{default:T(()=>[A(XX,{"access-control":f,roles:n.roles,"onUpdate:accessControl":s},null,8,["access-control","roles"])]),_:2},1024))),128))]),_:1})],64))}}),tQ=he({__name:"AccessControlEditor",setup(n){const e=ec(),t=V(null),r=new YX,{result:i,refetch:s}=Hh(async()=>await r.list()),o=W(()=>{var h;return((h=i.value)==null?void 0:h.filter(d=>d.hasChanges()))||[]}),a=async()=>{await r.update(o.value),await s()},l=new Cz,{result:u,loading:c}=Hh(()=>l.list(100,0));return(h,d)=>(x(),U(u4,{"no-padding":"",style:{padding:"12px"}},{default:T(()=>[A(g(Me),{justify:"space-between",align:"center",style:{"margin-bottom":"16px"}},{default:T(()=>[A(g(Me),{style:{"font-weight":"600"}},{default:T(()=>[te(X(g(z).translate("i18n_accesscontroleditor_access_control")),1)]),_:1}),t.value?(x(),U(Mz,{key:0,model:t.value.controller},null,8,["model"])):ue("",!0)]),_:1}),A(g(Zh),null,{default:T(()=>[te(X(g(z).translate("i18n_accesscontroleditor_access_control_description")),1)]),_:1}),A(g(Zh),null,{default:T(()=>{var f;return[te(X(g(z).translate("i18n_accesscontroleditor_access_control_cloud_note").split("Access Control tab")[0])+" ",1),A(g(b_),{href:(f=g(e).links)==null?void 0:f.users,target:"abstra_project"},{default:T(()=>[te(X(g(z).translate("i18n_accesscontroleditor_access_control"))+" tab",1)]),_:1},8,["href"]),te(X(g(z).translate("i18n_accesscontroleditor_access_control_cloud_note").split("Access Control tab")[1]),1)]}),_:1}),A(g(Ds),{style:{width:"fit-content","margin-bottom":"12px"}},{message:T(()=>[te(X(g(z).translate("i18n_accesscontroleditor_refresh_roles_note")),1)]),_:1}),g(i)?(x(),U(eQ,{key:0,ref_key:"enforcementRef",ref:t,"access-controls":g(i),"onUpdate:accessControls":d[0]||(d[0]=f=>k_(i)?i.value=f:null),roles:g(u)||[],loading:g(c),onSave:a},null,8,["access-controls","roles","loading"])):ue("",!0)]),_:1}))}}),nQ=he({__name:"EnvVarsEditor",setup(n){const e=new Tz;return(t,r)=>(x(),U(u4,{"no-padding":"",style:{padding:"12px"}},{default:T(()=>[A(_z,{"env-var-repository":g(e),mode:"editor","file-opener":g(Gn),"hide-title":""},null,8,["env-var-repository","file-opener"])]),_:1}))}}),rQ=[{type:"text-input",key:null,label:"Insert your text here!",value:"",placeholder:"",required:!0,hint:null,fullWidth:!1,mask:null,disabled:!1,errors:[]},{type:"email-input",key:null,label:"Insert your email",value:"",placeholder:"",required:!0,hint:null,fullWidth:!1,invalidEmailMessage:"i18n_error_invalid_email",disabled:!1,errors:[]},{type:"phone-input",key:null,label:"Insert a phone number.",value:{countryCode:"",nationalNumber:""},placeholder:"",required:!0,hint:null,fullWidth:!1,disabled:!1,errors:[],invalidMessage:"i18n_error_invalid_phone_number"},{type:"number-input",key:null,label:"Number",value:null,placeholder:"",required:!0,hint:null,fullWidth:!1,min:null,max:null,disabled:!1,errors:[]},{type:"date-input",key:null,hint:null,label:"Pick a date of your preference.",value:"",required:!0,fullWidth:!1,disabled:!1,errors:[]},{type:"time-input",key:null,label:"Choose the desired time.",format:"24hs",hint:null,value:{hour:0,minute:0},required:!0,fullWidth:!1,disabled:!1,errors:[]},{type:"cnpj-input",key:null,label:"Insert your CNPJ here!",value:"",placeholder:"00.000.000/0001-00",required:!0,hint:null,fullWidth:!1,disabled:!1,invalidMessage:"i18n_error_invalid_cnpj",errors:[]},{type:"cpf-input",key:null,label:"Insert your CPF here!",value:"",placeholder:"000.000.000-00",required:!0,hint:null,fullWidth:!1,disabled:!1,invalidMessage:"i18n_error_invalid_cpf",errors:[]},{type:"tag-input",key:null,label:"Insert the desired tags.",value:[],placeholder:"",required:!0,hint:null,fullWidth:!1,disabled:!1,errors:[]},{type:"dropdown-input",key:null,label:"",options:[{label:"Option 1",value:1},{label:"Option 2",value:2}],hint:null,multiple:!1,placeholder:"",value:[],required:!0,fullWidth:!1,disabled:!1,errors:[]},{type:"currency-input",key:null,label:"Insert the proper amount.",value:null,placeholder:"",required:!0,hint:null,fullWidth:!1,min:null,max:null,currency:"USD",disabled:!1,errors:[]},{type:"textarea-input",key:null,label:"Insert your text here!",value:"",placeholder:"",required:!0,hint:null,fullWidth:!1,disabled:!1,errors:[]},{type:"rich-text-input",key:null,label:"Insert your rich text here!",value:"",placeholder:"",required:!0,hint:null,fullWidth:!1,disabled:!1,errors:[]},{type:"code-input",key:null,label:"Send your code here!",value:"",language:null,required:!0,hint:null,fullWidth:!1,disabled:!1,errors:[]},{type:"click-input",key:null,label:"Click here!",hint:null,disabled:!1,fullWidth:!1,errors:[]},{type:"progress-output",current:50,total:100,text:"",fullWidth:!1},{type:"file-input",key:null,hint:null,label:"Upload a file.",value:[],required:!0,multiple:!1,fullWidth:!1,disabled:!1,maxFileSize:null,errors:[]},{type:"image-input",key:null,hint:null,label:"Upload",value:[],required:!0,multiple:!1,fullWidth:!1,disabled:!1,maxFileSize:null,errors:[]},{type:"video-input",key:null,hint:null,label:"Upload your video",value:[],required:!0,multiple:!1,fullWidth:!1,disabled:!1,maxFileSize:null,errors:[]},{type:"pandas-row-selection-input",key:null,hint:null,table:{schema:{fields:[{name:"index",type:"integer"},{name:"change the",type:"integer"},{name:"df property",type:"integer"}],primaryKey:["index"],pandas_version:"0.20.0"},data:[{index:0,"change the":1,"df property":4},{index:1,"change the":2,"df property":5},{index:2,"change the":3,"df property":6}]},required:!0,fullWidth:!1,displayIndex:!1,disabled:!1,label:"",multiple:!1,filterable:!1,value:[],errors:[]},{type:"plotly-output",figure:{data:[{coloraxis:"coloraxis",hovertemplate:"total_bill=%{x}<br>tip=%{y}<br>count=%{z}<extra></extra>",name:"",x:[16.99,10.34,21.01,23.68,24.59,25.29,8.77,26.88,15.04,14.78,10.27,35.26,15.42,18.43,14.83,21.58,10.33,16.29,16.97,20.65,17.92,20.29,15.77,39.42,19.82,17.81,13.37,12.69,21.7,19.65,9.55,18.35,15.06,20.69,17.78,24.06,16.31,16.93,18.69,31.27,16.04,17.46,13.94,9.68,30.4,18.29,22.23,32.4,28.55,18.04,12.54,10.29,34.81,9.94,25.56,19.49,38.01,26.41,11.24,48.27,20.29,13.81,11.02,18.29,17.59,20.08,16.45,3.07,20.23,15.01,12.02,17.07,26.86,25.28,14.73,10.51,17.92,27.2,22.76,17.29,19.44,16.66,10.07,32.68,15.98,34.83,13.03,18.28,24.71,21.16,28.97,22.49,5.75,16.32,22.75,40.17,27.28,12.03,21.01,12.46,11.35,15.38,44.3,22.42,20.92,15.36,20.49,25.21,18.24,14.31,14,7.25,38.07,23.95,25.71,17.31,29.93,10.65,12.43,24.08,11.69,13.42,14.26,15.95,12.48,29.8,8.52,14.52,11.38,22.82,19.08,20.27,11.17,12.26,18.26,8.51,10.33,14.15,16,13.16,17.47,34.3,41.19,27.05,16.43,8.35,18.64,11.87,9.78,7.51,14.07,13.13,17.26,24.55,19.77,29.85,48.17,25,13.39,16.49,21.5,12.66,16.21,13.81,17.51,24.52,20.76,31.71,10.59,10.63,50.81,15.81,7.25,31.85,16.82,32.9,17.89,14.48,9.6,34.63,34.65,23.33,45.35,23.17,40.55,20.69,20.9,30.46,18.15,23.1,15.69,19.81,28.44,15.48,16.58,7.56,10.34,43.11,13,13.51,18.71,12.74,13,16.4,20.53,16.47,26.59,38.73,24.27,12.76,30.06,25.89,48.33,13.27,28.17,12.9,28.15,11.59,7.74,30.14,12.16,13.42,8.58,15.98,13.42,16.27,10.09,20.45,13.28,22.12,24.01,15.69,11.61,10.77,15.53,10.07,12.6,32.83,35.83,29.03,27.18,22.67,17.82,18.78],xaxis:"x",xbingroup:"x",y:[1.01,1.66,3.5,3.31,3.61,4.71,2,3.12,1.96,3.23,1.71,5,1.57,3,3.02,3.92,1.67,3.71,3.5,3.35,4.08,2.75,2.23,7.58,3.18,2.34,2,2,4.3,3,1.45,2.5,3,2.45,3.27,3.6,2,3.07,2.31,5,2.24,2.54,3.06,1.32,5.6,3,5,6,2.05,3,2.5,2.6,5.2,1.56,4.34,3.51,3,1.5,1.76,6.73,3.21,2,1.98,3.76,2.64,3.15,2.47,1,2.01,2.09,1.97,3,3.14,5,2.2,1.25,3.08,4,3,2.71,3,3.4,1.83,5,2.03,5.17,2,4,5.85,3,3,3.5,1,4.3,3.25,4.73,4,1.5,3,1.5,2.5,3,2.5,3.48,4.08,1.64,4.06,4.29,3.76,4,3,1,4,2.55,4,3.5,5.07,1.5,1.8,2.92,2.31,1.68,2.5,2,2.52,4.2,1.48,2,2,2.18,1.5,2.83,1.5,2,3.25,1.25,2,2,2,2.75,3.5,6.7,5,5,2.3,1.5,1.36,1.63,1.73,2,2.5,2,2.74,2,2,5.14,5,3.75,2.61,2,3.5,2.5,2,2,3,3.48,2.24,4.5,1.61,2,10,3.16,5.15,3.18,4,3.11,2,2,4,3.55,3.68,5.65,3.5,6.5,3,5,3.5,2,3.5,4,1.5,4.19,2.56,2.02,4,1.44,2,5,2,2,4,2.01,2,2.5,4,3.23,3.41,3,2.03,2.23,2,5.16,9,2.5,6.5,1.1,3,1.5,1.44,3.09,2.2,3.48,1.92,3,1.58,2.5,2,3,2.72,2.88,2,3,3.39,1.47,3,1.25,1,1.17,4.67,5.92,2,2,1.75,3],yaxis:"y",ybingroup:"y",type:"histogram2d"}],layout:{template:{data:{histogram2dcontour:[{type:"histogram2dcontour",colorbar:{outlinewidth:0,ticks:""},colorscale:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],choropleth:[{type:"choropleth",colorbar:{outlinewidth:0,ticks:""}}],histogram2d:[{type:"histogram2d",colorbar:{outlinewidth:0,ticks:""},colorscale:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],heatmap:[{type:"heatmap",colorbar:{outlinewidth:0,ticks:""},colorscale:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],heatmapgl:[{type:"heatmapgl",colorbar:{outlinewidth:0,ticks:""},colorscale:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],contourcarpet:[{type:"contourcarpet",colorbar:{outlinewidth:0,ticks:""}}],contour:[{type:"contour",colorbar:{outlinewidth:0,ticks:""},colorscale:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],surface:[{type:"surface",colorbar:{outlinewidth:0,ticks:""},colorscale:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],mesh3d:[{type:"mesh3d",colorbar:{outlinewidth:0,ticks:""}}],scatter:[{fillpattern:{fillmode:"overlay",size:10,solidity:.2},type:"scatter"}],parcoords:[{type:"parcoords",line:{colorbar:{outlinewidth:0,ticks:""}}}],scatterpolargl:[{type:"scatterpolargl",marker:{colorbar:{outlinewidth:0,ticks:""}}}],bar:[{error_x:{color:"#2a3f5f"},error_y:{color:"#2a3f5f"},marker:{line:{color:"#E5ECF6",width:.5},pattern:{fillmode:"overlay",size:10,solidity:.2}},type:"bar"}],scattergeo:[{type:"scattergeo",marker:{colorbar:{outlinewidth:0,ticks:""}}}],scatterpolar:[{type:"scatterpolar",marker:{colorbar:{outlinewidth:0,ticks:""}}}],histogram:[{marker:{pattern:{fillmode:"overlay",size:10,solidity:.2}},type:"histogram"}],scattergl:[{type:"scattergl",marker:{colorbar:{outlinewidth:0,ticks:""}}}],scatter3d:[{type:"scatter3d",line:{colorbar:{outlinewidth:0,ticks:""}},marker:{colorbar:{outlinewidth:0,ticks:""}}}],scattermapbox:[{type:"scattermapbox",marker:{colorbar:{outlinewidth:0,ticks:""}}}],scatterternary:[{type:"scatterternary",marker:{colorbar:{outlinewidth:0,ticks:""}}}],scattercarpet:[{type:"scattercarpet",marker:{colorbar:{outlinewidth:0,ticks:""}}}],carpet:[{aaxis:{endlinecolor:"#2a3f5f",gridcolor:"white",linecolor:"white",minorgridcolor:"white",startlinecolor:"#2a3f5f"},baxis:{endlinecolor:"#2a3f5f",gridcolor:"white",linecolor:"white",minorgridcolor:"white",startlinecolor:"#2a3f5f"},type:"carpet"}],table:[{cells:{fill:{color:"#EBF0F8"},line:{color:"white"}},header:{fill:{color:"#C8D4E3"},line:{color:"white"}},type:"table"}],barpolar:[{marker:{line:{color:"#E5ECF6",width:.5},pattern:{fillmode:"overlay",size:10,solidity:.2}},type:"barpolar"}],pie:[{automargin:!0,type:"pie"}]},layout:{autotypenumbers:"strict",colorway:["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],font:{color:"#2a3f5f"},hovermode:"closest",hoverlabel:{align:"left"},paper_bgcolor:"white",plot_bgcolor:"#E5ECF6",polar:{bgcolor:"#E5ECF6",angularaxis:{gridcolor:"white",linecolor:"white",ticks:""},radialaxis:{gridcolor:"white",linecolor:"white",ticks:""}},ternary:{bgcolor:"#E5ECF6",aaxis:{gridcolor:"white",linecolor:"white",ticks:""},baxis:{gridcolor:"white",linecolor:"white",ticks:""},caxis:{gridcolor:"white",linecolor:"white",ticks:""}},coloraxis:{colorbar:{outlinewidth:0,ticks:""}},colorscale:{sequential:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]],sequentialminus:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]],diverging:[[0,"#8e0152"],[.1,"#c51b7d"],[.2,"#de77ae"],[.3,"#f1b6da"],[.4,"#fde0ef"],[.5,"#f7f7f7"],[.6,"#e6f5d0"],[.7,"#b8e186"],[.8,"#7fbc41"],[.9,"#4d9221"],[1,"#276419"]]},xaxis:{gridcolor:"white",linecolor:"white",ticks:"",title:{standoff:15},zerolinecolor:"white",automargin:!0,zerolinewidth:2},yaxis:{gridcolor:"white",linecolor:"white",ticks:"",title:{standoff:15},zerolinecolor:"white",automargin:!0,zerolinewidth:2},scene:{xaxis:{backgroundcolor:"#E5ECF6",gridcolor:"white",linecolor:"white",showbackground:!0,ticks:"",zerolinecolor:"white",gridwidth:2},yaxis:{backgroundcolor:"#E5ECF6",gridcolor:"white",linecolor:"white",showbackground:!0,ticks:"",zerolinecolor:"white",gridwidth:2},zaxis:{backgroundcolor:"#E5ECF6",gridcolor:"white",linecolor:"white",showbackground:!0,ticks:"",zerolinecolor:"white",gridwidth:2}},shapedefaults:{line:{color:"#2a3f5f"}},annotationdefaults:{arrowcolor:"#2a3f5f",arrowhead:0,arrowwidth:1},geo:{bgcolor:"white",landcolor:"#E5ECF6",subunitcolor:"white",showland:!0,showlakes:!0,lakecolor:"white"},title:{x:.05},mapbox:{style:"light"}}},xaxis:{anchor:"y",domain:[0,1],title:{text:"total_bill"}},yaxis:{anchor:"x",domain:[0,1],title:{text:"tip"}},coloraxis:{colorbar:{title:{text:"count"}},colorscale:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]]},legend:{tracegroupgap:0},margin:{t:60}}},fullWidth:!1,label:""},{type:"toggle-input",key:null,label:"Click to confirm the following options",onText:"Yes",offText:"No",value:!1,required:!0,hint:null,fullWidth:!1,disabled:!1,errors:[]},{type:"nps-input",key:null,label:"Rate us!",min:0,max:10,minHint:"Not at all likely",maxHint:"Extremely likely",value:null,required:!0,hint:null,fullWidth:!1,disabled:!1,errors:[]},{type:"checkbox-input",key:null,label:"Choose your option",value:!1,required:!0,hint:null,fullWidth:!1,disabled:!1,errors:[]},{type:"cards-input",key:null,label:"Card Title",hint:null,options:[{title:"Option 1",subtitle:"Subtitle 1",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/Mona_Lisa.jpg/396px-Mona_Lisa.jpg",description:"option 1 description",topLeftExtra:"Left 1",topRightExtra:"Right 1"}],multiple:!1,searchable:!1,value:[],required:!0,columns:2,fullWidth:!1,layout:"list",disabled:!1,errors:[]},{type:"checklist-input",key:null,options:[{label:"Option 1",value:1},{label:"Option 2",value:2}],label:"Choose your option",value:[],required:!0,hint:null,fullWidth:!1,disabled:!1,errors:[]},{type:"multiple-choice-input",key:null,label:"Select your choices",options:[{label:"Option 1",value:1},{label:"Option 2",value:2}],hint:null,multiple:!1,value:[],required:!0,fullWidth:!1,min:null,max:null,disabled:!1,errors:[]},{type:"rating-input",key:null,label:"Rate us!",value:0,required:!0,hint:null,fullWidth:!1,max:null,char:"\u2B50\uFE0F",disabled:!1,errors:[]},{type:"number-slider-input",key:null,label:"Select a value!",value:0,required:!0,hint:null,fullWidth:!1,min:null,max:null,disabled:!1,errors:[]},{type:"text-output",text:"Your text here!",size:"medium",fullWidth:!1},{type:"latex-output",text:"\\(x^2 + y^2 = z^2\\)",fullWidth:!1},{type:"link-output",linkText:"Click here",linkUrl:"https://www.abstracloud.com",sameTab:!1,fullWidth:!1},{type:"html-output",html:"<div>Hello World</div>",fullWidth:!1},{type:"custom-input",key:null,label:"",value:null,htmlBody:"<h1>Hello World</h1>",htmlHead:"",css:"",js:"",fullWidth:!1},{type:"markdown-output",text:"### Hello World",fullWidth:!1},{type:"image-output",imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/Mona_Lisa.jpg/396px-Mona_Lisa.jpg",subtitle:"",fullWidth:!1,label:""},{type:"file-output",fileUrl:"https://gist.github.com/armgilles/194bcff35001e7eb53a2a8b441e8b2c6/archive/92200bc0a673d5ce2110aaad4544ed6c4010f687.zip",downloadText:"Download",fullWidth:!1},{type:"kanban-board-input",key:null,label:"",value:[],stages:[{key:"To-Do",label:"To-Do"},{key:"Doing",label:"Doing"},{key:"Done",label:"Done"}],disabled:!1,errors:[]},{type:"appointment-input",label:"",slots:[["2024-10-01T:09:00:00Z","2024-10-01T:09:45:00Z"],["2024-10-01T:14:30:00Z","2024-10-01T:15:30:00Z"],["2024-10-02T:09:00:00Z","2024-10-01T:10:00:00Z"]],value:1,key:null,disabled:!1}],iQ={class:"sidebar-preview"},sQ={class:"form widgets"},oQ={class:"form-wrapper"},aQ=he({__name:"WorkspacePreview",props:{workspace:{}},setup(n){const e=n,t=W(()=>e.workspace.makeRunnerData());return(r,i)=>(x(),P("div",iQ,[A(g(uo),{level:4},{default:T(()=>[...i[0]||(i[0]=[te("Preview",-1)])]),_:1}),A(H_,{background:t.value.theme,"main-color":t.value.mainColor,"font-family":t.value.fontFamily,locale:t.value.language,class:"sidebar-frame"},{default:T(()=>[A(z_,{"runner-data":t.value,"current-path":"mock-path","email-placeholder":"user@example.com"},null,8,["runner-data"]),F("div",sQ,[F("div",oQ,[(x(!0),P(Ve,null,wt(g(rQ),s=>(x(),P("div",{key:s.type,class:"widget"},[(x(),U(rr(s.type),{"user-props":s,value:s.value,errors:[]},null,8,["user-props","value"]))]))),128))])])]),_:1},8,["background","main-color","font-family","locale"])]))}});const lQ=bt(aQ,[["__scopeId","data-v-6e53d5ce"]]),uQ={class:"header-content"},cQ={class:"body"},hQ={class:"body-content"},dQ=he({__name:"PopOver",emits:["open","hide"],setup(n,{expose:e,emit:t}){const r=V(null),i=Xu({visible:!1,originX:0,originY:0,dragging:null}),s=W(()=>({visibility:i.visible?"visible":"hidden",top:`${i.originY}px`,left:`${i.originX}px`}));On(()=>{document.addEventListener("mousemove",h),document.addEventListener("mouseup",d)}),or(()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mousemove",d)});const o=t,a=()=>{i.visible=!1,o("hide")},l=f=>f>window.innerWidth/2,u=f=>{var m;if(i.visible=!0,!r.value)return;const p=(m=r==null?void 0:r.value)==null?void 0:m.getBoundingClientRect();if(f)if(l(f.clientX)?i.originX=f.clientX-p.width-32:i.originX=f.clientX+p.width+32,f.clientY+p.height>window.innerHeight){const v=f.clientY+p.height-window.innerHeight;i.originY=f.clientY-v-32}else i.originY=f.clientY;else i.originX=(window.innerWidth-p.width)/2,i.originY=(window.innerHeight-p.height)/2},c=f=>{i.dragging={initialX:i.originX,initialY:i.originY,clientX:f.clientX,clientY:f.clientY}},h=f=>{i.dragging&&(i.originX=i.dragging.initialX+f.clientX-i.dragging.clientX,i.originY=i.dragging.initialY+f.clientY-i.dragging.clientY)},d=()=>{i.dragging=null};return e({open:u}),(f,p)=>(x(),P("div",{ref_key:"popover",ref:r,class:"pop-over",style:ls(s.value)},[F("div",{class:"header",onMousedown:c},[F("span",uQ,[tt(f.$slots,"header",{},void 0,!0)]),A(g(EJ),{class:"icon",onClick:a})],32),F("div",cQ,[F("div",hQ,[tt(f.$slots,"body",{},void 0,!0)])])],4))}});const fQ=bt(dQ,[["__scopeId","data-v-d5a71854"]]);/*!
  * vue-color-kit v1.0.4
  * (c) 2021 
  * @license MIT
  */function Wl(n){let e={r:0,g:0,b:0,a:1};/#/.test(n)?e=mQ(n):/rgb/.test(n)?e=Kk(n):typeof n=="string"?e=Kk(`rgba(${n})`):Object.prototype.toString.call(n)==="[object Object]"&&(e=n);const{r:t,g:r,b:i,a:s}=e,{h:o,s:a,v:l}=gQ(e);return{r:t,g:r,b:i,a:s===void 0?1:s,h:o,s:a,v:l}}function O5(n){const e=document.createElement("canvas"),t=e.getContext("2d"),r=n*2;return e.width=r,e.height=r,t.fillStyle="#ffffff",t.fillRect(0,0,r,r),t.fillStyle="#ccd5db",t.fillRect(0,0,n,n),t.fillRect(n,n,n,n),e}function H6(n,e,t,r,i,s){const o=n==="l",a=e.createLinearGradient(0,0,o?t:0,o?0:r);a.addColorStop(.01,i),a.addColorStop(.99,s),e.fillStyle=a,e.fillRect(0,0,t,r)}function pQ({r:n,g:e,b:t},r){const i=o=>("0"+Number(o).toString(16)).slice(-2),s=`#${i(n)}${i(e)}${i(t)}`;return r?s.toUpperCase():s}function mQ(n){n=n.slice(1);const e=t=>parseInt(t,16)||0;return{r:e(n.slice(0,2)),g:e(n.slice(2,4)),b:e(n.slice(4,6))}}function Kk(n){return typeof n=="string"?(n=(/rgba?\((.*?)\)/.exec(n)||["","0,0,0,1"])[1].split(","),{r:Number(n[0])||0,g:Number(n[1])||0,b:Number(n[2])||0,a:Number(n[3]?n[3]:1)}):n}function gQ({r:n,g:e,b:t}){n=n/255,e=e/255,t=t/255;const r=Math.max(n,e,t),i=Math.min(n,e,t),s=r-i;let o=0;r===i?o=0:r===n?e>=t?o=60*(e-t)/s:o=60*(e-t)/s+360:r===e?o=60*(t-n)/s+120:r===t&&(o=60*(n-e)/s+240),o=Math.floor(o);let a=parseFloat((r===0?0:1-i/r).toFixed(2)),l=parseFloat(r.toFixed(2));return{h:o,s:a,v:l}}var I5=he({props:{color:{type:String,default:"#000000"},hsv:{type:Object,default:null},size:{type:Number,default:152}},emits:["selectSaturation"],data(){return{slideSaturationStyle:{}}},mounted(){this.renderColor(),this.renderSlide()},methods:{renderColor(){const n=this.$refs.canvasSaturation,e=this.size,t=n.getContext("2d");n.width=e,n.height=e,t.fillStyle=this.color,t.fillRect(0,0,e,e),H6("l",t,e,e,"#FFFFFF","rgba(255,255,255,0)"),H6("p",t,e,e,"rgba(0,0,0,0)","#000000")},renderSlide(){this.slideSaturationStyle={left:this.hsv.s*this.size-5+"px",top:(1-this.hsv.v)*this.size-5+"px"}},selectSaturation(n){const{top:e,left:t}=this.$el.getBoundingClientRect(),r=n.target.getContext("2d"),i=o=>{let a=o.clientX-t,l=o.clientY-e;a<0&&(a=0),l<0&&(l=0),a>this.size&&(a=this.size),l>this.size&&(l=this.size),this.slideSaturationStyle={left:a-5+"px",top:l-5+"px"};const u=r.getImageData(Math.min(a,this.size-1),Math.min(l,this.size-1),1,1),[c,h,d]=u.data;this.$emit("selectSaturation",{r:c,g:h,b:d})};i(n);const s=()=>{document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",s)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",s)}}});const yQ={ref:"canvasSaturation"};function vQ(n,e,t,r,i,s){return x(),U("div",{class:"saturation",onMousedown:e[1]||(e[1]=ko((...o)=>n.selectSaturation&&n.selectSaturation(...o),["prevent","stop"]))},[A("canvas",yQ,null,512),A("div",{style:n.slideSaturationStyle,class:"slide"},null,4)],32)}I5.render=vQ;I5.__file="src/color/Saturation.vue";var D5=he({props:{hsv:{type:Object,default:null},width:{type:Number,default:15},height:{type:Number,default:152}},emits:["selectHue"],data(){return{slideHueStyle:{}}},mounted(){this.renderColor(),this.renderSlide()},methods:{renderColor(){const n=this.$refs.canvasHue,e=this.width,t=this.height,r=n.getContext("2d");n.width=e,n.height=t;const i=r.createLinearGradient(0,0,0,t);i.addColorStop(0,"#FF0000"),i.addColorStop(.17*1,"#FF00FF"),i.addColorStop(.17*2,"#0000FF"),i.addColorStop(.17*3,"#00FFFF"),i.addColorStop(.17*4,"#00FF00"),i.addColorStop(.17*5,"#FFFF00"),i.addColorStop(1,"#FF0000"),r.fillStyle=i,r.fillRect(0,0,e,t)},renderSlide(){this.slideHueStyle={top:(1-this.hsv.h/360)*this.height-2+"px"}},selectHue(n){const{top:e}=this.$el.getBoundingClientRect(),t=n.target.getContext("2d"),r=s=>{let o=s.clientY-e;o<0&&(o=0),o>this.height&&(o=this.height),this.slideHueStyle={top:o-2+"px"};const a=t.getImageData(0,Math.min(o,this.height-1),1,1),[l,u,c]=a.data;this.$emit("selectHue",{r:l,g:u,b:c})};r(n);const i=()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",i)}}});const wQ={ref:"canvasHue"};function bQ(n,e,t,r,i,s){return x(),U("div",{class:"hue",onMousedown:e[1]||(e[1]=ko((...o)=>n.selectHue&&n.selectHue(...o),["prevent","stop"]))},[A("canvas",wQ,null,512),A("div",{style:n.slideHueStyle,class:"slide"},null,4)],32)}D5.render=bQ;D5.__file="src/color/Hue.vue";var N5=he({props:{color:{type:String,default:"#000000"},rgba:{type:Object,default:null},width:{type:Number,default:15},height:{type:Number,default:152}},emits:["selectAlpha"],data(){return{slideAlphaStyle:{},alphaSize:5}},watch:{color(){this.renderColor()},"rgba.a"(){this.renderSlide()}},mounted(){this.renderColor(),this.renderSlide()},methods:{renderColor(){const n=this.$refs.canvasAlpha,e=this.width,t=this.height,r=this.alphaSize,i=O5(r),s=n.getContext("2d");n.width=e,n.height=t,s.fillStyle=s.createPattern(i,"repeat"),s.fillRect(0,0,e,t),H6("p",s,e,t,"rgba(255,255,255,0)",this.color)},renderSlide(){this.slideAlphaStyle={top:this.rgba.a*this.height-2+"px"}},selectAlpha(n){const{top:e}=this.$el.getBoundingClientRect(),t=i=>{let s=i.clientY-e;s<0&&(s=0),s>this.height&&(s=this.height);let o=parseFloat((s/this.height).toFixed(2));this.$emit("selectAlpha",o)};t(n);const r=()=>{document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",r)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",r)}}});const kQ={ref:"canvasAlpha"};function xQ(n,e,t,r,i,s){return x(),U("div",{class:"color-alpha",onMousedown:e[1]||(e[1]=ko((...o)=>n.selectAlpha&&n.selectAlpha(...o),["prevent","stop"]))},[A("canvas",kQ,null,512),A("div",{style:n.slideAlphaStyle,class:"slide"},null,4)],32)}N5.render=xQ;N5.__file="src/color/Alpha.vue";var L5=he({props:{color:{type:String,default:"#000000"},width:{type:Number,default:100},height:{type:Number,default:30}},data(){return{alphaSize:5}},watch:{color(){this.renderColor()}},mounted(){this.renderColor()},methods:{renderColor(){const n=this.$el,e=this.width,t=this.height,r=this.alphaSize,i=O5(r),s=n.getContext("2d");n.width=e,n.height=t,s.fillStyle=s.createPattern(i,"repeat"),s.fillRect(0,0,e,t),s.fillStyle=this.color,s.fillRect(0,0,e,t)}}});function SQ(n,e,t,r,i,s){return x(),U("canvas")}L5.render=SQ;L5.__file="src/color/Preview.vue";var P5=he({props:{suckerCanvas:{type:Object,default:null},suckerArea:{type:Array,default:()=>[]}},data(){return{isOpenSucker:!1,suckerPreview:null,isSucking:!1}},watch:{suckerCanvas(n){this.isSucking=!1,this.suckColor(n)}},methods:{openSucker(){this.isOpenSucker?this.keydownHandler({keyCode:27}):(this.isOpenSucker=!0,this.isSucking=!0,this.$emit("openSucker",!0),document.addEventListener("keydown",this.keydownHandler))},keydownHandler(n){n.keyCode===27&&(this.isOpenSucker=!1,this.isSucking=!1,this.$emit("openSucker",!1),document.removeEventListener("keydown",this.keydownHandler),document.removeEventListener("mousemove",this.mousemoveHandler),document.removeEventListener("mouseup",this.mousemoveHandler),this.suckerPreview&&(document.body.removeChild(this.suckerPreview),this.suckerPreview=null))},mousemoveHandler(n){const{clientX:e,clientY:t}=n,{top:r,left:i,width:s,height:o}=this.suckerCanvas.getBoundingClientRect(),a=e-i,l=t-r,c=this.suckerCanvas.getContext("2d").getImageData(Math.min(a,s-1),Math.min(l,o-1),1,1);let[h,d,f,p]=c.data;p=parseFloat((p/255).toFixed(2));const m=this.suckerPreview.style;Object.assign(m,{position:"absolute",left:e+20+"px",top:t-36+"px",width:"24px",height:"24px",borderRadius:"50%",border:"2px solid #fff",boxShadow:"0 0 8px 0 rgba(0, 0, 0, 0.16)",background:`rgba(${h}, ${d}, ${f}, ${p})`,zIndex:95}),this.suckerArea.length&&e>=this.suckerArea[0]&&t>=this.suckerArea[1]&&e<=this.suckerArea[2]&&t<=this.suckerArea[3]?m.display="":m.display="none"},suckColor(n){n&&n.tagName!=="CANVAS"||(this.suckerPreview=document.createElement("div"),this.suckerPreview&&document.body.appendChild(this.suckerPreview),document.addEventListener("mousemove",this.mousemoveHandler),document.addEventListener("mouseup",this.mousemoveHandler),n.addEventListener("click",e=>{const{clientX:t,clientY:r}=e,{top:i,left:s,width:o,height:a}=n.getBoundingClientRect(),l=t-s,u=r-i,h=n.getContext("2d").getImageData(Math.min(l,o-1),Math.min(u,a-1),1,1);let[d,f,p,m]=h.data;m=parseFloat((m/255).toFixed(2)),this.$emit("selectSucker",{r:d,g:f,b:p,a:m})}))}}});const CQ=A("path",{d:"M13.1,8.2l5.6,5.6c0.4,0.4,0.5,1.1,0.1,1.5s-1.1,0.5-1.5,0.1c0,0-0.1,0-0.1-0.1l-1.4-1.4l-7.7,7.7C7.9,21.9,7.6,22,7.3,22H3.1C2.5,22,2,21.5,2,20.9l0,0v-4.2c0-0.3,0.1-0.6,0.3-0.8l5.8-5.8C8.5,9.7,9.2,9.6,9.7,10s0.5,1.1,0.1,1.5c0,0,0,0.1-0.1,0.1l-5.5,5.5v2.7h2.7l7.4-7.4L8.7,6.8c-0.5-0.4-0.5-1-0.1-1.5s1.1-0.5,1.5-0.1c0,0,0.1,0,0.1,0.1l1.4,1.4l3.5-3.5c1.6-1.6,4.1-1.6,5.8-0.1c1.6,1.6,1.6,4.1,0.1,5.8L20.9,9l-3.6,3.6c-0.4,0.4-1.1,0.5-1.5,0.1"},null,-1),MQ={key:1,class:"sucker",viewBox:"-16 -16 68 68",xmlns:"http://www.w3.org/2000/svg",stroke:"#9099a4"},AQ=A("g",{fill:"none","fill-rule":"evenodd"},[A("g",{transform:"translate(1 1)","stroke-width":"4"},[A("circle",{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}),A("path",{d:"M36 18c0-9.94-8.06-18-18-18"},[A("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})])])],-1);function _Q(n,e,t,r,i,s){return x(),U("div",null,[n.isSucking?ue("v-if",!0):(x(),U("svg",{key:0,class:[{active:n.isOpenSucker},"sucker"],xmlns:"http://www.w3.org/2000/svg",viewBox:"-12 -12 48 48",onClick:e[1]||(e[1]=(...o)=>n.openSucker&&n.openSucker(...o))},[CQ],2)),n.isSucking?(x(),U("svg",MQ,[AQ])):ue("v-if",!0)])}P5.render=_Q;P5.__file="src/color/Sucker.vue";var R5=he({props:{name:{type:String,default:""},color:{type:String,default:""}},emits:["inputColor"],setup(n,{emit:e}){return{modelColor:W({get(){return n.color||""},set(r){e("inputColor",r)}})}}});const TQ={class:"color-type"},EQ={class:"name"};function OQ(n,e,t,r,i,s){return x(),U("div",TQ,[A("span",EQ,X(n.name),1),o4(A("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>n.modelColor=o),class:"value"},null,512),[[x_,n.modelColor]])])}R5.render=OQ;R5.__file="src/color/Box.vue";var $5=he({name:"ColorPicker",props:{color:{type:String,default:"#000000"},colorsDefault:{type:Array,default:()=>[]},colorsHistoryKey:{type:String,default:""}},emits:["selectColor"],setup(n,{emit:e}){const t=V(),r=V([]),i=V();n.colorsHistoryKey&&localStorage&&(r.value=JSON.parse(localStorage.getItem(n.colorsHistoryKey))||[]),i.value=O5(4).toDataURL(),or(()=>{s(t.value)});function s(a){if(!a)return;const l=r.value||[],u=l.indexOf(a);u>=0&&l.splice(u,1),l.length>=8&&(l.length=7),l.unshift(a),r.value=l||[],localStorage&&n.colorsHistoryKey&&localStorage.setItem(n.colorsHistoryKey,JSON.stringify(l))}function o(a){e("selectColor",a)}return{setColorsHistory:s,colorsHistory:r,color:t,imgAlphaBase64:i,selectColor:o}}});const IQ={class:"colors"},DQ={key:0,class:"colors history"};function NQ(n,e,t,r,i,s){return x(),U("div",null,[A("ul",IQ,[(x(!0),U(Ve,null,wt(n.colorsDefault,o=>(x(),U("li",{key:o,class:"item",onClick:a=>n.selectColor(o)},[A("div",{style:{background:`url(${n.imgAlphaBase64})`},class:"alpha"},null,4),A("div",{style:{background:o},class:"color"},null,4)],8,["onClick"]))),128))]),n.colorsHistory.length?(x(),U("ul",DQ,[(x(!0),U(Ve,null,wt(n.colorsHistory,o=>(x(),U("li",{key:o,class:"item",onClick:a=>n.selectColor(o)},[A("div",{style:{background:`url(${n.imgAlphaBase64})`},class:"alpha"},null,4),A("div",{style:{background:o},class:"color"},null,4)],8,["onClick"]))),128))])):ue("v-if",!0)])}$5.render=NQ;$5.__file="src/color/Colors.vue";var Xc=he({components:{Saturation:I5,Hue:D5,Alpha:N5,Preview:L5,Sucker:P5,Box:R5,Colors:$5},emits:["changeColor","openSucker"],props:{color:{type:String,default:"#000000"},theme:{type:String,default:"dark"},suckerHide:{type:Boolean,default:!0},suckerCanvas:{type:null,default:null},suckerArea:{type:Array,default:()=>[]},colorsDefault:{type:Array,default:()=>["#000000","#FFFFFF","#FF1900","#F47365","#FFB243","#FFE623","#6EFF2A","#1BC7B1","#00BEFF","#2E81FF","#5D61FF","#FF89CF","#FC3CAD","#BF3DCE","#8E00A7","rgba(0,0,0,0)"]},colorsHistoryKey:{type:String,default:"vue-colorpicker-history"}},data(){return{hueWidth:15,hueHeight:152,previewHeight:30,modelRgba:"",modelHex:"",r:0,g:0,b:0,a:1,h:0,s:0,v:0}},computed:{isLightTheme(){return this.theme==="light"},totalWidth(){return this.hueHeight+(this.hueWidth+8)*2},previewWidth(){return this.totalWidth-(this.suckerHide?0:this.previewHeight)},rgba(){return{r:this.r,g:this.g,b:this.b,a:this.a}},hsv(){return{h:this.h,s:this.s,v:this.v}},rgbString(){return`rgb(${this.r}, ${this.g}, ${this.b})`},rgbaStringShort(){return`${this.r}, ${this.g}, ${this.b}, ${this.a}`},rgbaString(){return`rgba(${this.rgbaStringShort})`},hexString(){return pQ(this.rgba,!0)}},created(){Object.assign(this,Wl(this.color)),this.setText(),this.$watch("rgba",()=>{this.$emit("changeColor",{rgba:this.rgba,hsv:this.hsv,hex:this.modelHex})})},methods:{selectSaturation(n){const{r:e,g:t,b:r,h:i,s,v:o}=Wl(n);Object.assign(this,{r:e,g:t,b:r,h:i,s,v:o}),this.setText()},selectHue(n){const{r:e,g:t,b:r,h:i,s,v:o}=Wl(n);Object.assign(this,{r:e,g:t,b:r,h:i,s,v:o}),this.setText(),this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide()})},selectAlpha(n){this.a=n,this.setText()},inputHex(n){const{r:e,g:t,b:r,a:i,h:s,s:o,v:a}=Wl(n);Object.assign(this,{r:e,g:t,b:r,a:i,h:s,s:o,v:a}),this.modelHex=n,this.modelRgba=this.rgbaStringShort,this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})},inputRgba(n){const{r:e,g:t,b:r,a:i,h:s,s:o,v:a}=Wl(n);Object.assign(this,{r:e,g:t,b:r,a:i,h:s,s:o,v:a}),this.modelHex=this.hexString,this.modelRgba=n,this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})},setText(){this.modelHex=this.hexString,this.modelRgba=this.rgbaStringShort},openSucker(n){this.$emit("openSucker",n)},selectSucker(n){const{r:e,g:t,b:r,a:i,h:s,s:o,v:a}=Wl(n);Object.assign(this,{r:e,g:t,b:r,a:i,h:s,s:o,v:a}),this.setText(),this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})},selectColor(n){const{r:e,g:t,b:r,a:i,h:s,s:o,v:a}=Wl(n);Object.assign(this,{r:e,g:t,b:r,a:i,h:s,s:o,v:a}),this.setText(),this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})}}});const LQ={class:"color-set"};function PQ(n,e,t,r,i,s){const o=qa("Saturation"),a=qa("Hue"),l=qa("Alpha"),u=qa("Preview"),c=qa("Sucker"),h=qa("Box"),d=qa("Colors");return x(),U("div",{class:["hu-color-picker",{light:n.isLightTheme}],style:{width:n.totalWidth+"px"}},[A("div",LQ,[A(o,{ref:"saturation",color:n.rgbString,hsv:n.hsv,size:n.hueHeight,onSelectSaturation:n.selectSaturation},null,8,["color","hsv","size","onSelectSaturation"]),A(a,{ref:"hue",hsv:n.hsv,width:n.hueWidth,height:n.hueHeight,onSelectHue:n.selectHue},null,8,["hsv","width","height","onSelectHue"]),A(l,{ref:"alpha",color:n.rgbString,rgba:n.rgba,width:n.hueWidth,height:n.hueHeight,onSelectAlpha:n.selectAlpha},null,8,["color","rgba","width","height","onSelectAlpha"])]),A("div",{style:{height:n.previewHeight+"px"},class:"color-show"},[A(u,{color:n.rgbaString,width:n.previewWidth,height:n.previewHeight},null,8,["color","width","height"]),n.suckerHide?ue("v-if",!0):(x(),U(c,{key:0,"sucker-canvas":n.suckerCanvas,"sucker-area":n.suckerArea,onOpenSucker:n.openSucker,onSelectSucker:n.selectSucker},null,8,["sucker-canvas","sucker-area","onOpenSucker","onSelectSucker"]))],4),A(h,{name:"HEX",color:n.modelHex,onInputColor:n.inputHex},null,8,["color","onInputColor"]),A(h,{name:"RGBA",color:n.modelRgba,onInputColor:n.inputRgba},null,8,["color","onInputColor"]),A(d,{color:n.rgbaString,"colors-default":n.colorsDefault,"colors-history-key":n.colorsHistoryKey,onSelectColor:n.selectColor},null,8,["color","colors-default","colors-history-key","onSelectColor"]),ue(" custom options "),tt(n.$slots,"default")],6)}Xc.render=PQ;Xc.__file="src/color/ColorPicker.vue";Xc.install=n=>{n.component(Xc.name,Xc)};const RQ={class:"color-input"},$Q={class:"color-picker-wrapper"},BQ=he({__name:"ColorInput",props:{value:{}},emits:["input","change"],setup(n,{emit:e}){const t=V(null),r=e,i=o=>{var a;return(a=t.value)==null?void 0:a.open(o)},s=({hex:o})=>{r("input",o),r("change",o)};return(o,a)=>(x(),P("div",RQ,[F("div",{class:"color-input-container",style:ls({backgroundColor:n.value}),onClick:i},null,4),A(fQ,{ref_key:"popover",ref:t},{header:T(()=>[te(X(g(z).translate("i18n_editor_color_input_pick_color")),1)]),body:T(()=>[F("div",$Q,[A(g(Xc),{color:n.value,theme:"light",onChangeColor:s},null,8,["color"])])]),_:1},512)]))}});const Q_=bt(BQ,[["__scopeId","data-v-59c06388"]]),FQ=["ABeeZee","Abel","Abhaya Libre","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akaya Kanadaka","Akaya Telivigala","Akronim","Aladin","Alata","Alatsi","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Aleo","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allison","Allura","Almarai","Almendra","Almendra Display","Almendra SC","Alumni Sans","Amarante","Amaranth","Amatic SC","Amethysta","Amiko","Amiri","Amita","Anaheim","Andada Pro","Andika","Andika New Basic","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Antonio","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo","Archivo Black","Archivo Narrow","Are You Serious","Aref Ruqaa","Arima Madurai","Arimo","Arizonia","Armata","Arsenal","Artifika","Arvo","Arya","Asap","Asap Condensed","Asar","Asset","Assistant","Astloch","Asul","Athiti","Atkinson Hyperlegible","Atma","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","Azeret Mono","B612","B612 Mono","Bad Script","Bahiana","Bahianita","Bai Jamjuree","Ballet","Baloo 2","Baloo Bhai 2","Baloo Bhaina 2","Baloo Chettan 2","Baloo Da 2","Baloo Paaji 2","Baloo Tamma 2","Baloo Tammudu 2","Baloo Thambi 2","Balsamiq Sans","Balthazar","Bangers","Barlow","Barlow Condensed","Barlow Semi Condensed","Barriecito","Barrio","Basic","Baskervville","Battambang","Baumans","Bayon","Be Vietnam","Be Vietnam Pro","Bebas Neue","Belgrano","Bellefair","Belleza","Bellota","Bellota Text","BenchNine","Benne","Bentham","Berkshire Swash","Besley","Beth Ellen","Bevan","Big Shoulders Display","Big Shoulders Inline Display","Big Shoulders Inline Text","Big Shoulders Stencil Display","Big Shoulders Stencil Text","Big Shoulders Text","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","BioRhyme","BioRhyme Expanded","Birthstone","Birthstone Bounce","Biryani","Bitter","Black And White Picture","Black Han Sans","Black Ops One","Blinker","Bodoni Moda","Bokor","Bona Nova","Bonbon","Bonheur Royale","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Brygada 1918","Bubblegum Sans","Bubbler One","Buenard","Bungee","Bungee Hairline","Bungee Inline","Bungee Outline","Bungee Shade","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Cairo","Caladea","Calistoga","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Caramel","Carattere","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Castoro","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Chakra Petch","Changa","Changa One","Chango","Charm","Charmonman","Chathura","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherish","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chilanka","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Coiny","Combo","Comfortaa","Comic Neue","Coming Soon","Commissioner","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Cormorant","Cormorant Garamond","Cormorant Infant","Cormorant SC","Cormorant Unicase","Cormorant Upright","Courgette","Courier Prime","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Pro","Crimson Text","Croissant One","Crushed","Cuprum","Cute Font","Cutive","Cutive Mono","DM Mono","DM Sans","DM Serif Display","DM Serif Text","Damion","Dancing Script","Dangrek","Darker Grotesque","David Libre","Dawning of a New Day","Days One","Dekko","Dela Gothic One","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Do Hyeon","Dokdo","Domine","Donegal One","Doppio One","Dorsa","Dosis","DotGothic16","Dr Sugiyama","Duru Sans","Dynalight","EB Garamond","Eagle Lake","East Sea Dokdo","Eater","Economica","Eczar","El Messiri","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Encode Sans","Encode Sans Condensed","Encode Sans Expanded","Encode Sans SC","Encode Sans Semi Condensed","Encode Sans Semi Expanded","Engagement","Englebert","Enriqueta","Ephesis","Epilogue","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Explora","Fahkwang","Fanwood Text","Farro","Farsan","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Faustina","Federant","Federo","Felipa","Fenix","Festive","Finger Paint","Fira Code","Fira Mono","Fira Sans","Fira Sans Condensed","Fira Sans Extra Condensed","Fjalla One","Fjord One","Flamenco","Flavors","Fleur De Leah","Fondamento","Fontdiner Swanky","Forum","Francois One","Frank Ruhl Libre","Fraunces","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","Fuggles","GFS Didot","GFS Neohellenic","Gabriela","Gaegu","Gafata","Galada","Galdeano","Galindo","Gamja Flower","Gayathri","Gelasio","Gemunu Libre","Gentium Basic","Gentium Book Basic","Geo","Georama","Geostar","Geostar Fill","Germania One","Gideon Roman","Gidugu","Gilda Display","Girassol","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Glory","Gluten","Goblin One","Gochi Hand","Goldman","Gorditas","Gothic A1","Gotu","Goudy Bookletter 1911","Gowun Batang","Gowun Dodum","Graduate","Grand Hotel","Grandstander","Gravitas One","Great Vibes","Grechen Fuemen","Grenze","Grenze Gotisch","Grey Qo","Griffy","Gruppo","Gudea","Gugi","Gupter","Gurajada","Habibi","Hachi Maru Pop","Hahmlet","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Harmattan","Headland One","Heebo","Henny Penny","Hepta Slab","Herr Von Muellerhoff","Hi Melody","Hina Mincho","Hind","Hind Guntur","Hind Madurai","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IBM Plex Mono","IBM Plex Sans","IBM Plex Sans Arabic","IBM Plex Sans Condensed","IBM Plex Sans Devanagari","IBM Plex Sans Hebrew","IBM Plex Sans KR","IBM Plex Sans Thai","IBM Plex Sans Thai Looped","IBM Plex Serif","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Ibarra Real Nova","Iceberg","Iceland","Imbue","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Inria Sans","Inria Serif","Inter","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","JetBrains Mono","Jim Nightshade","Jockey One","Jolly Lodger","Jomhuria","Jomolhari","Josefin Sans","Josefin Slab","Jost","Joti One","Jua","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","K2D","Kadwa","Kaisei Decol","Kaisei HarunoUmi","Kaisei Opti","Kaisei Tokumin","Kalam","Kameron","Kanit","Kantumruy","Karantina","Karla","Karma","Katibeh","Kaushan Script","Kavivanar","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kirang Haerang","Kite One","Kiwi Maru","Klee One","Knewave","KoHo","Kodchasan","Koh Santepheap","Kosugi","Kosugi Maru","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Krub","Kufam","Kulim Park","Kumar One","Kumar One Outline","Kumbh Sans","Kurale","La Belle Aurore","Lacquer","Laila","Lakki Reddy","Lalezar","Lancelot","Langar","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Lemonada","Lexend","Lexend Deca","Lexend Exa","Lexend Giga","Lexend Mega","Lexend Peta","Lexend Tera","Lexend Zetta","Libre Barcode 128","Libre Barcode 128 Text","Libre Barcode 39","Libre Barcode 39 Extended","Libre Barcode 39 Extended Text","Libre Barcode 39 Text","Libre Barcode EAN13 Text","Libre Baskerville","Libre Caslon Display","Libre Caslon Text","Libre Franklin","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Literata","Liu Jian Mao Cao","Livvic","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Long Cang","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","M PLUS 1p","M PLUS Rounded 1c","Ma Shan Zheng","Macondo","Macondo Swash Caps","Mada","Magra","Maiden Orange","Maitree","Major Mono Display","Mako","Mali","Mallanna","Mandali","Manjari","Manrope","Mansalva","Manuale","Marcellus","Marcellus SC","Marck Script","Margarine","Markazi Text","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Material Icons","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Meera Inimai","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Mina","Miniver","Miriam Libre","Mirza","Miss Fajardose","Mitr","Modak","Modern Antiqua","Mogra","Molengo","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","MonteCarlo","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Mukta","Mukta Mahee","Mukta Malar","Mukta Vaani","Mulish","MuseoModerno","Mystery Quest","NTR","Nanum Brush Script","Nanum Gothic","Nanum Gothic Coding","Nanum Myeongjo","Nanum Pen Script","Nerko One","Neucha","Neuton","New Rocker","New Tegomin","News Cycle","Newsreader","Niconne","Niramit","Nixie One","Nobile","Nokora","Norican","Nosifer","Notable","Nothing You Could Do","Noticia Text","Noto Kufi Arabic","Noto Music","Noto Naskh Arabic","Noto Nastaliq Urdu","Noto Rashi Hebrew","Noto Sans","Noto Sans Adlam","Noto Sans Adlam Unjoined","Noto Sans Anatolian Hieroglyphs","Noto Sans Arabic","Noto Sans Armenian","Noto Sans Avestan","Noto Sans Balinese","Noto Sans Bamum","Noto Sans Bassa Vah","Noto Sans Batak","Noto Sans Bengali","Noto Sans Bhaiksuki","Noto Sans Brahmi","Noto Sans Buginese","Noto Sans Buhid","Noto Sans Canadian Aboriginal","Noto Sans Carian","Noto Sans Caucasian Albanian","Noto Sans Chakma","Noto Sans Cham","Noto Sans Cherokee","Noto Sans Coptic","Noto Sans Cuneiform","Noto Sans Cypriot","Noto Sans Deseret","Noto Sans Devanagari","Noto Sans Display","Noto Sans Duployan","Noto Sans Egyptian Hieroglyphs","Noto Sans Elbasan","Noto Sans Elymaic","Noto Sans Georgian","Noto Sans Glagolitic","Noto Sans Gothic","Noto Sans Grantha","Noto Sans Gujarati","Noto Sans Gunjala Gondi","Noto Sans Gurmukhi","Noto Sans HK","Noto Sans Hanifi Rohingya","Noto Sans Hanunoo","Noto Sans Hatran","Noto Sans Hebrew","Noto Sans Imperial Aramaic","Noto Sans Indic Siyaq Numbers","Noto Sans Inscriptional Pahlavi","Noto Sans Inscriptional Parthian","Noto Sans JP","Noto Sans Javanese","Noto Sans KR","Noto Sans Kaithi","Noto Sans Kannada","Noto Sans Kayah Li","Noto Sans Kharoshthi","Noto Sans Khmer","Noto Sans Khojki","Noto Sans Khudawadi","Noto Sans Lao","Noto Sans Lepcha","Noto Sans Limbu","Noto Sans Linear A","Noto Sans Linear B","Noto Sans Lisu","Noto Sans Lycian","Noto Sans Lydian","Noto Sans Mahajani","Noto Sans Malayalam","Noto Sans Mandaic","Noto Sans Manichaean","Noto Sans Marchen","Noto Sans Masaram Gondi","Noto Sans Math","Noto Sans Mayan Numerals","Noto Sans Medefaidrin","Noto Sans Meroitic","Noto Sans Miao","Noto Sans Modi","Noto Sans Mongolian","Noto Sans Mono","Noto Sans Mro","Noto Sans Multani","Noto Sans Myanmar","Noto Sans N Ko","Noto Sans Nabataean","Noto Sans New Tai Lue","Noto Sans Newa","Noto Sans Nushu","Noto Sans Ogham","Noto Sans Ol Chiki","Noto Sans Old Hungarian","Noto Sans Old Italic","Noto Sans Old North Arabian","Noto Sans Old Permic","Noto Sans Old Persian","Noto Sans Old Sogdian","Noto Sans Old South Arabian","Noto Sans Old Turkic","Noto Sans Oriya","Noto Sans Osage","Noto Sans Osmanya","Noto Sans Pahawh Hmong","Noto Sans Palmyrene","Noto Sans Pau Cin Hau","Noto Sans Phags Pa","Noto Sans Phoenician","Noto Sans Psalter Pahlavi","Noto Sans Rejang","Noto Sans Runic","Noto Sans SC","Noto Sans Samaritan","Noto Sans Saurashtra","Noto Sans Sharada","Noto Sans Shavian","Noto Sans Siddham","Noto Sans Sinhala","Noto Sans Sogdian","Noto Sans Sora Sompeng","Noto Sans Soyombo","Noto Sans Sundanese","Noto Sans Syloti Nagri","Noto Sans Symbols","Noto Sans Symbols 2","Noto Sans Syriac","Noto Sans TC","Noto Sans Tagalog","Noto Sans Tagbanwa","Noto Sans Tai Le","Noto Sans Tai Tham","Noto Sans Tai Viet","Noto Sans Takri","Noto Sans Tamil","Noto Sans Tamil Supplement","Noto Sans Telugu","Noto Sans Thaana","Noto Sans Thai","Noto Sans Thai Looped","Noto Sans Tifinagh","Noto Sans Tirhuta","Noto Sans Ugaritic","Noto Sans Vai","Noto Sans Wancho","Noto Sans Warang Citi","Noto Sans Yi","Noto Sans Zanabazar Square","Noto Serif","Noto Serif Ahom","Noto Serif Armenian","Noto Serif Balinese","Noto Serif Bengali","Noto Serif Devanagari","Noto Serif Display","Noto Serif Dogra","Noto Serif Ethiopic","Noto Serif Georgian","Noto Serif Grantha","Noto Serif Gujarati","Noto Serif Gurmukhi","Noto Serif Hebrew","Noto Serif JP","Noto Serif KR","Noto Serif Kannada","Noto Serif Khmer","Noto Serif Lao","Noto Serif Malayalam","Noto Serif Myanmar","Noto Serif Nyiakeng Puachue Hmong","Noto Serif SC","Noto Serif Sinhala","Noto Serif TC","Noto Serif Tamil","Noto Serif Tangut","Noto Serif Telugu","Noto Serif Thai","Noto Serif Tibetan","Noto Serif Yezidi","Noto Traditional Nushu","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Nunito Sans","Odibee Sans","Odor Mean Chey","Offside","Oi","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orelega One","Orienta","Original Surfer","Oswald","Otomanopee One","Over the Rainbow","Overlock","Overlock SC","Overpass","Overpass Mono","Ovo","Oxanium","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Padauk","Palanquin","Palanquin Dark","Palette Mosaic","Pangolin","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Pattaya","Patua One","Pavanam","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piazzolla","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poor Story","Poppins","Port Lligat Sans","Port Lligat Slab","Potta One","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Pridi","Princess Sofia","Prociono","Prompt","Prosto One","Proza Libre","Public Sans","Puritan","Purple Purse","Qahiri","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Rakkas","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Rampart One","Ranchers","Rancho","Ranga","Rasa","Rationale","Ravi Prakash","Recursive","Red Hat Display","Red Hat Text","Red Rose","Redressed","Reem Kufi","Reenie Beanie","Reggae One","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","RocknRoll One","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rowdies","Rozha One","Rubik","Rubik Beastly","Rubik Mono One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","STIX Two Text","Sacramento","Sahitya","Sail","Saira","Saira Condensed","Saira Extra Condensed","Saira Semi Condensed","Saira Stencil One","Salsa","Sanchez","Sancreek","Sansita","Sansita Swashed","Sarabun","Sarala","Sarina","Sarpanch","Satisfy","Sawarabi Gothic","Sawarabi Mincho","Scada","Scheherazade","Scheherazade New","Schoolbell","Scope One","Seaweed Script","Secular One","Sedgwick Ave","Sedgwick Ave Display","Sen","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shippori Mincho","Shippori Mincho B1","Shojumaru","Short Stack","Shrikhand","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Single Day","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Solway","Song Myung","Sonsie One","Sora","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Space Grotesk","Space Mono","Spartan","Special Elite","Spectral","Spectral SC","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Sriracha","Srisakdi","Staatliches","Stalemate","Stalinist One","Stardos Stencil","Stick","Stick No Bills","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Style Script","Stylish","Sue Ellen Francisco","Suez One","Sulphur Point","Sumana","Sunflower","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Syne","Syne Mono","Syne Tactile","Tajawal","Tangerine","Taprom","Tauri","Taviraj","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","Texturina","Thasadith","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Tomorrow","Tourney","Trade Winds","Train One","Trirong","Trispace","Trocchi","Trochut","Truculenta","Trykker","Tulpen One","Turret Road","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Uchen","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","Urbanist","VT323","Vampiro One","Varela","Varela Round","Varta","Vast Shadow","Vesper Libre","Viaoda Libre","Vibes","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Vollkorn SC","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","WindSong","Wire One","Work Sans","Xanh Mono","Yaldevi","Yanone Kaffeesatz","Yantramanav","Yatra One","Yellowtail","Yeon Sung","Yeseva One","Yesteryear","Yomogi","Yrsa","Yusei Magic","ZCOOL KuaiLe","ZCOOL QingKe HuangYou","ZCOOL XiaoWei","Zen Antique","Zen Antique Soft","Zen Dots","Zen Kaku Gothic Antique","Zen Kaku Gothic New","Zen Kurenaido","Zen Loop","Zen Maru Gothic","Zen Old Mincho","Zen Tokyo Zoo","Zeyada","Zhi Mang Xing","Zilla Slab","Zilla Slab Highlight"],zQ=he({__name:"FontInput",props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(n,{emit:e}){const r=V(n.modelValue),i=e,s=FQ,o=()=>i("update:modelValue",r.value);return(a,l)=>(x(),U(g(xo),{value:r.value,"onUpdate:value":l[0]||(l[0]=u=>r.value=u),"show-search":"",onChange:o},{default:T(()=>[(x(!0),P(Ve,null,wt(g(s),u=>(x(),U(g(ml),{key:u,value:u},{default:T(()=>[te(X(u),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"]))}}),HQ=he({__name:"LanguageInput",props:{language:{}},emits:["update:language"],setup(n,{emit:e}){const t=e;return(r,i)=>(x(),U(g(xo),{value:n.language,onChange:i[0]||(i[0]=s=>t("update:language",s))},{default:T(()=>[(x(!0),P(Ve,null,wt(g($6),s=>(x(),U(g(ml),{key:s.key,value:s.key},{default:T(()=>[te(X(s.value),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"]))}});function VQ(n){return n.startsWith("#")||n.match(/^(rgb|hsl)/)}function qQ(n){return n.startsWith("http://")||n.startsWith("https://")}function jl(n){return qQ(n)?"external-image":VQ(n)?"color":"hosted-image"}const WQ=he({__name:"BackgroundSelector",props:{modelValue:{}},emits:["update:modelValue"],setup(n,{emit:e}){const t=n,r=e,i=l=>r("update:modelValue",l),s=l=>{i(l==="color"?"#ffffff":"")},o=W(()=>jl(t.modelValue)==="color"?t.modelValue:""),a=W(()=>t.modelValue);return(l,u)=>(x(),P(Ve,null,[A(g(yt),{label:g(z).translate("i18n_backgroundselector_background_type")},{default:T(()=>[A(g(xo),{value:g(jl)(n.modelValue),onChange:u[0]||(u[0]=c=>s(c))},{default:T(()=>[A(g(ml),{value:"color",selected:g(jl)(n.modelValue)==="color"},{default:T(()=>[te(X(g(z).translate("i18n_backgroundselector_color")),1)]),_:1},8,["selected"]),A(g(ml),{value:"image",selected:g(jl)(n.modelValue)==="hosted-image"||g(jl)(n.modelValue)==="external-image"},{default:T(()=>[te(X(g(z).translate("i18n_backgroundselector_image")),1)]),_:1},8,["selected"])]),_:1},8,["value"])]),_:1},8,["label"]),A(g(yt),{label:g(jl)(n.modelValue)==="color"?g(z).translate("i18n_backgroundselector_background_color"):g(z).translate("i18n_backgroundselector_background_image_path")},{default:T(()=>[g(jl)(n.modelValue)==="color"?(x(),U(Q_,{key:0,value:o.value,onChange:i},null,8,["value"])):(x(),U(g(qt),{key:1,value:a.value,type:"text",onInput:u[1]||(u[1]=c=>i(c.target.value))},null,8,["value"]))]),_:1},8,["label"])],64))}}),Yk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAMAAADnYz6mAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA5UExURfX19aCgoOLi4rS0tKenp+/v75OTk4yMjMLCwtvb25qams/Pz7u7u8jIyOjo6KioqNXV1a6urrW1ta1OqBIAAAExSURBVHja7dnZbsIwFEDBrCYLa///Y0tZQqoiAZWgvnTm0fIDB3CcOEUBAAAAAAAAAAAAAAAAAEBUVfewPq+CdvG4lFdC/4uERS9BggQJr0goU/CE1X5kvYuc0B13uyFwwumjLQMnnMY6v8Lfr4Ui8lpI26/V/BF7Xxg2m7fbndMQPqFvy+AJ4/7JNIVOqA9P19ES5v+b5jhnjJXQFZeGsi2u73VZJ9Szu7y0nmbt4iQcvvfz+q1mRzVlmN25nY2N346bUoyEdP7ex8v90nTol0IkbKfR+ng5nRsjJKxmw8v2x8xV/gn1ral17gnN7bll3glle3vudGnNMiFV90w+X5ayTOifMfu1Cfe+4HGmKkGChCd6g5e2RbVsHlRn9uocAAAAAAAAAAAAAAAAAID/5RP7aTTGpnHwKwAAAABJRU5ErkJggg==",jQ=he({__name:"PreferencesEditor",emits:["save"],setup(n,{emit:e}){const t=e,{result:r,loading:i}=Hh(()=>Gn.get()),s=W(()=>{var c,h;return(c=r.value)!=null&&c.logoUrl?Xg("logo",(h=r.value)==null?void 0:h.logoUrl,"editor"):""}),o=W(()=>{var c,h;return(c=r.value)!=null&&c.faviconUrl?Xg("favicon",(h=r.value)==null?void 0:h.faviconUrl,"editor"):""}),a=Xu({logoUrl:!1,faviconUrl:!1}),l=(c,h)=>{a[c]=h},u=Ai.exports.debounce(async()=>{r.value&&(await r.value.save(),t("save"))},500);return Et(()=>{var c,h,d,f,p,m;return((c=r.value)==null?void 0:c.brandName)||((h=r.value)==null?void 0:h.language)||((d=r.value)==null?void 0:d.mainColor)||((f=r.value)==null?void 0:f.fontFamily)||((p=r.value)==null?void 0:p.logoUrl)||((m=r.value)==null?void 0:m.faviconUrl)},()=>{u()},{immediate:!0,deep:!0}),(c,h)=>(x(),U(u4,{"no-padding":"",style:{padding:"12px"}},{default:T(()=>[A(g(Zh),{strong:""},{default:T(()=>[te(X(g(z).translate("i18n_preferenceseditor_theme_settings")),1)]),_:1}),g(i)||!g(r)?(x(),U(Ez,{key:0})):(x(),U(g(li),{key:1,layout:"vertical",style:{width:"100%"}},{default:T(()=>[A(g(yt),{label:g(z).translate("i18n_preferenceseditor_project_name")},{default:T(()=>[A(g(qt),{value:g(r).brandName,"onUpdate:value":h[0]||(h[0]=d=>g(r).brandName=d)},null,8,["value"])]),_:1},8,["label"]),A(g(yt),{label:g(z).translate("i18n_preferenceseditor_language")},{default:T(()=>[A(HQ,{language:g(r).language,"onUpdate:language":h[1]||(h[1]=d=>g(r).language=d)},null,8,["language"])]),_:1},8,["label"]),A(g(Me),{vertical:""},{default:T(()=>[F("div",null,[A(g(uo),{level:4},{default:T(()=>[te(X(g(z).translate("i18n_preferenceseditor_style")),1)]),_:1}),A(g(yt),{label:g(z).translate("i18n_preferenceseditor_main_color")},{default:T(()=>[A(Q_,{value:g(r).mainColor,onInput:h[2]||(h[2]=d=>g(r).mainColor=d),onChange:h[3]||(h[3]=d=>g(r).mainColor=g(r).mainColor)},null,8,["value"])]),_:1},8,["label"]),A(g(yt),{label:g(z).translate("i18n_preferenceseditor_font_family")},{default:T(()=>[A(zQ,{modelValue:g(r).fontFamily,"onUpdate:modelValue":h[4]||(h[4]=d=>g(r).fontFamily=d)},null,8,["modelValue"])]),_:1},8,["label"]),A(WQ,{modelValue:g(r).theme,"onUpdate:modelValue":h[5]||(h[5]=d=>g(r).theme=d)},null,8,["modelValue"]),A(g(yt),{label:g(z).translate("i18n_preferenceseditor_logo_path"),tooltip:g(z).translate("i18n_preferenceseditor_logo_path_tooltip")},{default:T(()=>[A(g(Me),{gap:"5"},{default:T(()=>[A(g(qt),{value:g(r).logoUrl,"onUpdate:value":h[6]||(h[6]=d=>g(r).logoUrl=d)},null,8,["value"]),g(r).logoUrl?(x(),U(Xi,{key:0,onClick:h[7]||(h[7]=()=>l("logoUrl",!0))},{default:T(()=>[A(g(Vk))]),_:1})):ue("",!0)]),_:1}),s.value?(x(),U(g(B6),{key:0,src:s.value,fallback:Yk,style:{display:"none",visibility:"hidden"},preview:{visible:a.logoUrl,onVisibleChange:d=>l("logoUrl",d)}},null,8,["src","preview"])):ue("",!0)]),_:1},8,["label","tooltip"]),A(g(yt),{label:g(z).translate("i18n_preferenceseditor_favicon_path"),tooltip:g(z).translate("i18n_preferenceseditor_favicon_path_tooltip")},{default:T(()=>[A(g(Me),{gap:"5"},{default:T(()=>[A(g(qt),{value:g(r).faviconUrl,"onUpdate:value":h[8]||(h[8]=d=>g(r).faviconUrl=d)},null,8,["value"]),g(r).faviconUrl?(x(),U(Xi,{key:0,onClick:h[9]||(h[9]=()=>l("faviconUrl",!0))},{default:T(()=>[A(g(Vk))]),_:1})):ue("",!0)]),_:1}),o.value?(x(),U(g(B6),{key:0,src:o.value,fallback:Yk,style:{display:"none",visibility:"hidden"},preview:{visible:a.faviconUrl,onVisibleChange:d=>l("faviconUrl",d)}},null,8,["src","preview"])):ue("",!0)]),_:1},8,["label","tooltip"])]),F("div",null,[A(lQ,{workspace:g(r),"widgets-visible":!0,style:{"margin-bottom":"20px"}},null,8,["workspace"])])]),_:1})]),_:1}))]),_:1}))}});function ZQ(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function UQ(n,e){const t=[];for(let s=0;s<e.length;s++){const{oldContext:o,newContext:a,maxOccurrences:l}=e[s];if(l===0)continue;const u=ZQ(o),c=new RegExp(u,"g");let h,d=0;for(;(h=c.exec(n))!==null&&!(l!==void 0&&l>0&&d>=l);)t.push({start:h.index,end:h.index+h[0].length,replacement:a,priority:s}),d++,h[0].length===0&&c.lastIndex++}t.sort((s,o)=>s.start!==o.start?s.start-o.start:s.priority-o.priority);const r=[];for(const s of t)r.some(a=>s.start<a.end&&s.end>a.start)||r.push(s);r.sort((s,o)=>o.start-s.start);let i=n;for(const s of r)i=i.slice(0,s.start)+s.replacement+i.slice(s.end);return i}const GQ=n=>["__future__","__main__","_thread","abc","aifc","argparse","array","ast","asynchat","asyncio","asyncore","atexit","audioop","base64","bdb","binascii","binhex","bisect","builtins","bz2","calendar","cgi","cgitb","chunk","cmath","cmd","code","codecs","codeop","collections","collections.abc","colorsys","compileall","concurrent","concurrent.futures","configparser","contextlib","contextvars","copy","copyreg","cProfile","crypt","csv","ctypes","curses","curses.ascii","curses.panel","curses.textpad","dataclasses","datetime","dbm","dbm.dumb","dbm.gnu","dbm.ndbm","decimal","difflib","dis","distutils","distutils.archive_util","distutils.bcppcompiler","distutils.ccompiler","distutils.cmd","distutils.command","distutils.command.bdist","distutils.command.bdist_dumb","distutils.command.bdist_msi","distutils.command.bdist_packager","distutils.command.bdist_rpm","distutils.command.build","distutils.command.build_clib","distutils.command.build_ext","distutils.command.build_py","distutils.command.build_scripts","distutils.command.check","distutils.command.clean","distutils.command.config","distutils.command.install","distutils.command.install_data","distutils.command.install_headers","distutils.command.install_lib","distutils.command.install_scripts","distutils.command.register","distutils.command.sdist","distutils.core","distutils.cygwinccompiler","distutils.debug","distutils.dep_util","distutils.dir_util","distutils.dist","distutils.errors","distutils.extension","distutils.fancy_getopt","distutils.file_util","distutils.filelist","distutils.log","distutils.msvccompiler","distutils.spawn","distutils.sysconfig","distutils.text_file","distutils.unixccompiler","distutils.util","distutils.version","doctest","email","email.charset","email.contentmanager","email.encoders","email.errors","email.generator","email.header","email.headerregistry","email.iterators","email.message","email.mime","email.parser","email.policy","email.utils","encodings","encodings.idna","encodings.mbcs","encodings.utf_8_sig","ensurepip","enum","errno","faulthandler","fcntl","filecmp","fileinput","fnmatch","fractions","ftplib","functools","gc","getopt","getpass","gettext","glob","graphlib","grp","gzip","hashlib","heapq","hmac","html","html.entities","html.parser","http","http.client","http.cookiejar","http.cookies","http.server","idlelib","imaplib","imghdr","imp","importlib","importlib.abc","importlib.machinery","importlib.metadata","importlib.resources","importlib.util","inspect","io","ipaddress","itertools","json","json.tool","keyword","lib2to3","linecache","locale","logging","logging.config","logging.handlers","lzma","mailbox","mailcap","marshal","math","mimetypes","mmap","modulefinder","msilib","msvcrt","multiprocessing","multiprocessing.connection","multiprocessing.dummy","multiprocessing.managers","multiprocessing.pool","multiprocessing.shared_memory","multiprocessing.sharedctypes","netrc","nis","nntplib","numbers","operator","optparse","os","os.path","ossaudiodev","pathlib","pdb","pickle","pickletools","pipes","pkgutil","platform","plistlib","poplib","posix","pprint","profile","pstats","pty","pwd","py_compile","pyclbr","pydoc","queue","quopri","random","re","readline","reprlib","resource","rlcompleter","runpy","sched","secrets","select","selectors","shelve","shlex","shutil","signal","site","smtpd","smtplib","sndhdr","socket","socketserver","spwd","sqlite3","ssl","stat","statistics","string","stringprep","struct","subprocess","sunau","symtable","sys","sysconfig","syslog","tabnanny","tarfile","telnetlib","tempfile","termios","test","test.support","test.support.bytecode_helper","test.support.import_helper","test.support.os_helper","test.support.script_helper","test.support.socket_helper","test.support.threading_helper","test.support.warnings_helper","textwrap","threading","time","timeit","tkinter","tkinter.colorchooser","tkinter.commondialog","tkinter.dnd","tkinter.filedialog","tkinter.font","tkinter.messagebox","tkinter.scrolledtext","tkinter.simpledialog","tkinter.tix","tkinter.ttk","token","tokenize","trace","traceback","tracemalloc","tty","turtle","turtledemo","types","typing","unicodedata","unittest","unittest.mock","urllib","urllib.error","urllib.parse","urllib.request","urllib.response","urllib.robotparser","uu","uuid","venv","warnings","wave","weakref","webbrowser","winreg","winsound","wsgiref","wsgiref.handlers","wsgiref.headers","wsgiref.simple_server","wsgiref.util","wsgiref.validate","xdrlib","xml","xml.dom","xml.dom.minidom","xml.dom.pulldom","xml.etree.ElementTree","xml.parsers.expat","xml.parsers.expat.errors","xml.parsers.expat.model","xml.sax","xml.sax.handler","xml.sax.saxutils","xml.sax.xmlreader","xmlrpc","xmlrpc.client","xmlrpc.server","zipapp","zipfile","zipimport","zlib","zoneinfo"].includes(n),KQ=n=>/^(\d+!)?(\d+)(\.\d+)+([\\.\-\\_])?((a(lpha)?|b(eta)?|c|r(c|ev)?|pre(view)?)\d*)?(\.?(post|dev)\d*)?$/.test(n),YQ={key:2},JQ={key:0,class:"logs-output"},XQ=["textContent"],QQ=he({__name:"RequirementsEditor",setup(n){function e(_,C){return!_||_.length===0?C||"any":_.map(M=>`${M.operator}${M.version}`).join(", ")}const{loading:t,result:r,refetch:i}=Hh(()=>Promise.all([el.list(),el.recommendations()]).then(([_,C])=>({requirements:_,recommendations:C}))),s=b0();Et(s.lastEvent,async _=>{_&&_.filepath&&_.filepath.endsWith("requirements.txt")&&await i()});const o=Xu({}),a=Xu(new Set);function l(_){return C=>{o[_.name]?o[_.name]=[...o[_.name],C]:o[_.name]=[C]}}function u(_){o[_.name]=[]}async function c(_){u(_),h.value="installing",f(_),a.add(_.name);try{await el.install(l(_)),h.value="install-success"}catch{h.value="install-error"}finally{a.delete(_.name),await i()}}const h=V("idle"),d=V(null);function f(_){d.value=_.name}async function p(_){a.add(_.name);try{await _.delete()}finally{a.delete(_.name),await i()}}async function m(_){u(_),h.value="uninstalling",f(_),a.add(_.name);try{await _.uninstall(l(_)),h.value="uninstall-success"}catch{h.value="uninstall-error"}finally{a.delete(_.name),await i()}}async function y(_,C){await el.create(_,C).then(i),i()}const v=[{label:z.translate("i18n_requirementseditor_name"),key:"name",hint:_=>GQ(_)?z.translate("i18n_requirementseditor_built_in_hint"):void 0},{label:z.translate("i18n_requirementseditor_required_version"),key:"version",placeholder:z.translate("i18n_requirementseditor_latest"),hint:_=>!_||KQ(_)?void 0:z.translate("i18n_requirementseditor_invalid_version")}];async function b({name:_,version:C}){await el.create(_,C),i()}const k=W(()=>{var _,C;return{columns:[{title:z.translate("i18n_requirementseditor_name")},{title:z.translate("i18n_requirementseditor_version")},{title:z.translate("i18n_requirementseditor_installed")},{title:"",align:"right"}],rows:(C=(_=r.value)==null?void 0:_.requirements.map(M=>{var O;return{key:M.name,cells:[{type:"text",text:M.name},{type:"text",text:e(M.specifiers,M.url)},{type:"slot",key:"status",payload:M},{type:"actions",actions:[{icon:xz,label:z.translate("i18n_requirementseditor_logs"),onClick:()=>f(M),hide:!((O=o[M.name])!=null&&O.length)},M.installedVersion?{icon:Yc,label:z.translate("i18n_requirementseditor_remove"),onClick:()=>p(M),dangerous:!0}:{icon:Ok,label:z.translate("i18n_requirementseditor_install"),onClick:()=>c(M)},M.installedVersion?{icon:Yc,label:z.translate("i18n_requirementseditor_remove_and_uninstall"),onClick:()=>m(M),dangerous:!0}:{icon:Yc,label:z.translate("i18n_requirementseditor_remove"),onClick:()=>p(M),dangerous:!0}]}]}}))!=null?C:[]}});return On(()=>{const _=io.subscribe("packageInstalled",()=>{i()});J1(()=>{io.unsubscribe(_)})}),(_,C)=>(x(),U(u4,{"no-padding":"",style:{padding:"12px"}},{default:T(()=>{var M,O,D;return[A(Lz,{"entity-name":g(z).translate("i18n_requirementseditor_requirements"),loading:g(t),title:"",description:"","empty-title":g(z).translate("i18n_requirementseditor_empty_title"),table:k.value,"create-button-text":g(z).translate("i18n_requirementseditor_add_requirement"),fields:v,live:"",create:b},{status:T(({payload:$})=>[A(g(Me),{gap:"small",align:"center",justify:"center"},{default:T(()=>[$.installedVersion?(x(),U(g(Ok),{key:0})):ue("",!0),$.installedVersion?(x(),U(g(Ht),{key:1,type:"secondary"},{default:T(()=>[te(X($.installedVersion),1)]),_:2},1024)):(x(),U(g(Ht),{key:2,type:"secondary"},{default:T(()=>[te(X(g(z).translate("i18n_requirementseditor_not_installed")),1)]),_:1}))]),_:2},1024)]),_:1},8,["entity-name","loading","empty-title","table","create-button-text"]),(M=g(r))!=null&&M.recommendations.length?(x(),U(g(uo),{key:0},{default:T(()=>[te(X(g(z).translate("i18n_requirementseditor_suggested_requirements")),1)]),_:1})):ue("",!0),(O=g(r))!=null&&O.recommendations.length?(x(),U(g(Zh),{key:1},{default:T(()=>[te(X(g(z).translate("i18n_requirementseditor_suggested_requirements_description")),1)]),_:1})):ue("",!0),(D=g(r))!=null&&D.recommendations.length?(x(),P("ul",YQ,[(x(!0),P(Ve,null,wt(g(r).recommendations,$=>(x(),P("li",{key:$.name},[te(X($.name)+" ("+X(e($.specifiers,$.url))+") ",1),A(g(ft),{onClick:R=>{var G;return y($.name,(G=$.specifiers.find(N=>N.operator==="=="))==null?void 0:G.version)}},{default:T(()=>[te(X(g(z).translate("i18n_requirementseditor_add_to_requirements")),1)]),_:1},8,["onClick"])]))),128))])):ue("",!0),A(g(mc),{open:!!d.value,onCancel:C[0]||(C[0]=$=>d.value=null)},{footer:T(()=>[...C[1]||(C[1]=[])]),title:T(()=>[te(X(g(z).translate("i18n_requirementseditor_logs")),1)]),default:T(()=>[A(g(Me),{vertical:"",gap:"small"},{default:T(()=>[d.value?(x(),P("div",JQ,[(x(!0),P(Ve,null,wt(o[d.value],($,R)=>(x(),P("pre",{key:R,textContent:X($)},null,8,XQ))),128))])):ue("",!0),h.value==="installing"?(x(),U(g(Me),{key:1,gap:"small",align:"center"},{default:T(()=>[A(g(qh),{style:{display:"flex"}}),A(g(Ht),{type:"secondary"},{default:T(()=>[te(X(g(z).translate("i18n_requirementseditor_installing_requirement")),1)]),_:1})]),_:1})):h.value==="uninstalling"?(x(),U(g(Me),{key:2,gap:"small",align:"center"},{default:T(()=>[A(g(qh),{style:{display:"flex"}}),A(g(Ht),{type:"secondary"},{default:T(()=>[te(X(g(z).translate("i18n_requirementseditor_uninstalling_requirement")),1)]),_:1})]),_:1})):h.value==="install-success"?(x(),U(g(Me),{key:3,gap:"small",align:"center"},{default:T(()=>[A(g(Ik),{style:{display:"flex"}}),A(g(Ht),{type:"success"},{default:T(()=>[te(X(g(z).translate("i18n_requirementseditor_requirement_installed_success")),1)]),_:1})]),_:1})):h.value==="install-error"?(x(),U(g(Me),{key:4,gap:"small",align:"center"},{default:T(()=>[A(g(Dk),{style:{display:"flex"}}),A(g(Ht),{type:"danger"},{default:T(()=>[te(X(g(z).translate("i18n_requirementseditor_requirement_installation_failed")),1)]),_:1})]),_:1})):h.value==="uninstall-success"?(x(),U(g(Me),{key:5,gap:"small",align:"center"},{default:T(()=>[A(g(Ik),{style:{display:"flex"}}),A(g(Ht),{type:"success"},{default:T(()=>[te(X(g(z).translate("i18n_requirementseditor_requirement_uninstalled_success")),1)]),_:1})]),_:1})):h.value==="uninstall-error"?(x(),U(g(Me),{key:6,gap:"small",align:"center"},{default:T(()=>[A(g(Dk),{style:{display:"flex"}}),A(g(Ht),{type:"danger"},{default:T(()=>[te(X(g(z).translate("i18n_requirementseditor_requirement_uninstallation_failed")),1)]),_:1})]),_:1})):ue("",!0)]),_:1})]),_:1},8,["open"])]}),_:1}))}});function B5(n){return n.replace(/\.py$/,"").trim().length===0?{valid:!1,reason:"File name cannot be empty"}:n.length>255?{valid:!1,reason:"File name cannot be longer than 255 characters"}:n.endsWith(".py")?{valid:!0}:{valid:!1,reason:"File name must end with .py"}}function eee(n){if(!B5(n).valid)throw new Error("Invalid filename");const e=n.slice(0,-3);return O_(e,!0,!0,!0,!0)+".py"}function eT(n){return n.trim().length===0?{valid:!1,reason:"Path cannot be empty"}:{valid:!0}}function lf(n){if(!eT(n).valid)throw new Error("Invalid path");return n.split("/").filter(Boolean).map(r=>YF(r)).join("/")}const tee=he({__name:"PathInput",props:{runtime:{}},setup(n){const{cloudProject:e}=ec(),t=n,r=()=>{const i=lf(t.runtime.path);i&&i!==t.runtime.path&&(t.runtime.path=i)};return(i,s)=>(x(),U(g(qt),{value:n.runtime.path,"onUpdate:value":s[0]||(s[0]=o=>n.runtime.path=o),type:"text",onBlur:r},c5({_:2},[n.runtime instanceof g(b5)?{name:"addonBefore",fn:T(()=>{var o,a;return[te(" https://"+X((a=(o=g(e))==null?void 0:o.subdomain)!=null?a:"your-project-domain")+".abstra.app/_hooks/ ",1)]}),key:"0"}:{name:"addonBefore",fn:T(()=>{var o,a;return[te(" https://"+X((a=(o=g(e))==null?void 0:o.subdomain)!=null?a:"your-project-domain")+".abstra.app/ ",1)]}),key:"1"}]),1032,["value"]))}}),nee={key:1},ree=he({__name:"RuntimeCommonSettings",props:{runtime:{}},setup(n){const e=n,t=V([]);e.runtime.input&&t.value.push("input"),e.runtime.output&&t.value.push("output"),Et(t,i=>{e.runtime.input=i.includes("input"),e.runtime.output=i.includes("output")});const r=Xu({pathError:null});return(i,s)=>(x(),P(Ve,null,[n.runtime instanceof g(w5)||n.runtime instanceof g(v5)?ue("",!0):(x(),U(g(yt),{key:0,label:g(z).translate("i18n_runtimecommonsettings_url_path")},{default:T(()=>[A(tee,{runtime:n.runtime},null,8,["runtime"])]),_:1},8,["label"])),A(g(yt),{label:g(z).translate("i18n_runtimecommonsettings_component_module_interface")},{default:T(()=>[A(g(KB),{value:t.value,"onUpdate:value":s[0]||(s[0]=o=>t.value=o)},{default:T(()=>[A(g(Wh),{value:"input"},{default:T(()=>[te(X(g(z).translate("i18n_runtimecommonsettings_component_module_interface_input")),1)]),_:1}),A(g(Wh),{value:"output"},{default:T(()=>[te(X(g(z).translate("i18n_runtimecommonsettings_component_module_interface_output")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),r.pathError?(x(),P("div",nee,X(r.pathError),1)):ue("",!0)],64))}});const h4=bt(ree,[["__scopeId","data-v-0d51b8ba"]]),iee=he({__name:"FormSettings",props:{form:{}},setup(n){const t=Jc(n,"form");return(r,i)=>(x(),U(g(li),{layout:"vertical",class:"form-settings"},{default:T(()=>[A(h4,{runtime:t.value},null,8,["runtime"]),A(g(yt),{label:g(z).translate("i18n_formsettings_form_name")},{default:T(()=>[A(g(qt),{value:t.value.title,"onUpdate:value":i[0]||(i[0]=s=>t.value.title=s),type:"text",onChange:i[1]||(i[1]=s=>{var o;return t.value.title=(o=s.target.value)!=null?o:""})},null,8,["value"])]),_:1},8,["label"]),A(g(uo),{level:3},{default:T(()=>[te(X(g(z).translate("i18n_formsettings_texts")),1)]),_:1}),A(g(uo),{level:4},{default:T(()=>[te(X(g(z).translate("i18n_formsettings_welcome_screen")),1)]),_:1}),A(g(yt),{label:g(z).translate("i18n_formsettings_description")},{default:T(()=>[A(g(qt),{value:t.value.startMessage,"onUpdate:value":i[2]||(i[2]=s=>t.value.startMessage=s),type:"text",disabled:t.value.autoStart},null,8,["value","disabled"])]),_:1},8,["label"]),A(g(yt),{label:g(z).translate("i18n_formsettings_start_button_label")},{default:T(()=>[A(g(qt),{value:t.value.startButtonText,"onUpdate:value":i[3]||(i[3]=s=>t.value.startButtonText=s),type:"text",placeholder:g(z).translate("i18n_formsettings_start_placeholder"),disabled:t.value.autoStart},null,8,["value","placeholder","disabled"])]),_:1},8,["label"]),A(g(yt),{help:g(z).translate("i18n_formsettings_skip_help")},{default:T(()=>[A(g(Wh),{checked:t.value.autoStart,"onUpdate:checked":i[4]||(i[4]=s=>t.value.autoStart=s)},{default:T(()=>[te(X(g(z).translate("i18n_formsettings_skip_welcome_screen")),1)]),_:1},8,["checked"])]),_:1},8,["help"]),A(g(uo),{level:4},{default:T(()=>[te(X(g(z).translate("i18n_formsettings_end_screen")),1)]),_:1}),A(g(yt),{label:g(z).translate("i18n_formsettings_end_text")},{default:T(()=>[A(g(qt),{value:t.value.endMessage,"onUpdate:value":i[5]||(i[5]=s=>t.value.endMessage=s),type:"text",placeholder:g(z).translate("i18n_formsettings_thank_you_placeholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),A(g(uo),{level:4},{default:T(()=>[te(X(g(z).translate("i18n_formsettings_alert_messages")),1)]),_:1}),A(g(yt),{label:g(z).translate("i18n_formsettings_error_message")},{default:T(()=>[A(g(qt),{value:t.value.errorMessage,"onUpdate:value":i[6]||(i[6]=s=>t.value.errorMessage=s),type:"text",placeholder:g(z).translate("i18n_formsettings_something_went_wrong")},null,8,["value","placeholder"])]),_:1},8,["label"]),A(g(uo),{level:4,style:{"justify-content":"space-between","align-items":"center",display:"flex"}},{default:T(()=>[te(X(g(z).translate("i18n_formsettings_notifications"))+" ",1),A(g(YB),{checked:t.value.notificationTrigger.enabled,"onUpdate:checked":i[7]||(i[7]=s=>t.value.notificationTrigger.enabled=s)},{default:T(()=>[te(X(g(z).translate("i18n_formsettings_enabled")),1)]),_:1},8,["checked"])]),_:1}),A(g(_o),{class:"description",style:{fontStyle:"italic",marginBottom:"20px"}},{default:T(()=>[te(X(g(z).translate("i18n_formsettings_send_emails_description")),1)]),_:1}),A(g(yt),{label:g(z).translate("i18n_formsettings_variable_name")},{default:T(()=>[A(g(qt),{value:t.value.notificationTrigger.variable_name,"onUpdate:value":i[8]||(i[8]=s=>t.value.notificationTrigger.variable_name=s),disabled:!t.value.notificationTrigger.enabled,type:"text",placeholder:g(z).translate("i18n_formsettings_variable_name_placeholder")},null,8,["value","disabled","placeholder"])]),_:1},8,["label"]),A(g(Ds),{type:"info"},{message:T(()=>[A(g(_o),null,{default:T(()=>[te(X(g(z).translate("i18n_formsettings_notifications_info"))+" ",1),F("i",null,X(g(z).translate("i18n_formsettings_string")),1),te(" "+X(g(z).translate("i18n_formsettings_string_list")?"or a":"")+" ",1),F("i",null,X(g(z).translate("i18n_formsettings_string_list")),1),i[9]||(i[9]=te(". ",-1))]),_:1})]),_:1})]),_:1}))}});const see=bt(iee,[["__scopeId","data-v-3bcd2b5a"]]),oee=he({__name:"HookSettings",props:{hook:{}},setup(n){const e=n,{publicUrl:t}=ec(),r=W(()=>!t||!e.hook.path?"":`${t}/_hooks/${e.hook.path}`);return(i,s)=>(x(),U(g(li),{layout:"vertical",style:{padding:"20px"}},{default:T(()=>[A(g(yt),{label:g(z).translate("i18n_hooksettings_name_label"),required:""},{default:T(()=>[A(g(qt),{value:n.hook.title,"onUpdate:value":s[0]||(s[0]=o=>n.hook.title=o)},null,8,["value"])]),_:1},8,["label"]),A(h4,{runtime:n.hook},null,8,["runtime"]),r.value?(x(),U(g(Zh),{key:0},{default:T(()=>[te(X(g(z).translate("i18n_hooksettings_test_message"))+" ",1),A(g(Ht),{code:"",copyable:""},{default:T(()=>[te(X(r.value),1)]),_:1})]),_:1})):ue("",!0)]),_:1}))}}),Ly={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},aee=["hourly","daily","weekly","monthly","custom"],lee={custom:{minute:"*",hour:"*",day:"*",month:"*",weekday:"*"},hourly:{minute:"0",hour:"*",day:"*",month:"*",weekday:"*"},daily:{minute:"0",hour:"6",day:"*",month:"*",weekday:"*"},weekly:{minute:"0",hour:"6",day:"*",month:"*",weekday:"1"},monthly:{minute:"0",hour:"6",day:"1",month:"*",weekday:"*"}};var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});class gc extends Error{}class uee extends gc{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class cee extends gc{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class hee extends gc{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Zc extends gc{}class tT extends gc{constructor(e){super(`Invalid unit ${e}`)}}class Qr extends gc{}class Ra extends gc{constructor(){super("Zone is an abstract class")}}const Re="numeric",$s="short",Di="long",e2={year:Re,month:Re,day:Re},nT={year:Re,month:$s,day:Re},dee={year:Re,month:$s,day:Re,weekday:$s},rT={year:Re,month:Di,day:Re},iT={year:Re,month:Di,day:Re,weekday:Di},sT={hour:Re,minute:Re},oT={hour:Re,minute:Re,second:Re},aT={hour:Re,minute:Re,second:Re,timeZoneName:$s},lT={hour:Re,minute:Re,second:Re,timeZoneName:Di},uT={hour:Re,minute:Re,hourCycle:"h23"},cT={hour:Re,minute:Re,second:Re,hourCycle:"h23"},hT={hour:Re,minute:Re,second:Re,hourCycle:"h23",timeZoneName:$s},dT={hour:Re,minute:Re,second:Re,hourCycle:"h23",timeZoneName:Di},fT={year:Re,month:Re,day:Re,hour:Re,minute:Re},pT={year:Re,month:Re,day:Re,hour:Re,minute:Re,second:Re},mT={year:Re,month:$s,day:Re,hour:Re,minute:Re},gT={year:Re,month:$s,day:Re,hour:Re,minute:Re,second:Re},fee={year:Re,month:$s,day:Re,weekday:$s,hour:Re,minute:Re},yT={year:Re,month:Di,day:Re,hour:Re,minute:Re,timeZoneName:$s},vT={year:Re,month:Di,day:Re,hour:Re,minute:Re,second:Re,timeZoneName:$s},wT={year:Re,month:Di,day:Re,weekday:Di,hour:Re,minute:Re,timeZoneName:Di},bT={year:Re,month:Di,day:Re,weekday:Di,hour:Re,minute:Re,second:Re,timeZoneName:Di};class k0{get type(){throw new Ra}get name(){throw new Ra}get ianaName(){return this.name}get isUniversal(){throw new Ra}offsetName(e,t){throw new Ra}formatOffset(e,t){throw new Ra}offset(e){throw new Ra}equals(e){throw new Ra}get isValid(){throw new Ra}}let Py=null;class Q1 extends k0{static get instance(){return Py===null&&(Py=new Q1),Py}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return OT(e,t,r)}formatOffset(e,t){return uf(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Km={};function pee(n){return Km[n]||(Km[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Km[n]}const mee={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function gee(n,e){const t=n.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,i,s,o,a,l,u,c]=r;return[o,i,s,a,l,u,c]}function yee(n,e){const t=n.formatToParts(e),r=[];for(let i=0;i<t.length;i++){const{type:s,value:o}=t[i],a=mee[s];s==="era"?r[a]=o:ct(a)||(r[a]=parseInt(o,10))}return r}let qp={};class To extends k0{static create(e){return qp[e]||(qp[e]=new To(e)),qp[e]}static resetCache(){qp={},Km={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=To.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return OT(e,t,r,this.name)}formatOffset(e,t){return uf(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const r=pee(this.name);let[i,s,o,a,l,u,c]=r.formatToParts?yee(r,t):gee(r,t);a==="BC"&&(i=-Math.abs(i)+1);const d=f4({year:i,month:s,day:o,hour:l===24?0:l,minute:u,second:c,millisecond:0});let f=+t;const p=f%1e3;return f-=p>=0?p:1e3+p,(d-f)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Jk={};function vee(n,e={}){const t=JSON.stringify([n,e]);let r=Jk[t];return r||(r=new Intl.ListFormat(n,e),Jk[t]=r),r}let V6={};function q6(n,e={}){const t=JSON.stringify([n,e]);let r=V6[t];return r||(r=new Intl.DateTimeFormat(n,e),V6[t]=r),r}let W6={};function wee(n,e={}){const t=JSON.stringify([n,e]);let r=W6[t];return r||(r=new Intl.NumberFormat(n,e),W6[t]=r),r}let j6={};function bee(n,e={}){const{base:t,...r}=e,i=JSON.stringify([n,r]);let s=j6[i];return s||(s=new Intl.RelativeTimeFormat(n,e),j6[i]=s),s}let Cd=null;function kee(){return Cd||(Cd=new Intl.DateTimeFormat().resolvedOptions().locale,Cd)}let Xk={};function xee(n){let e=Xk[n];if(!e){const t=new Intl.Locale(n);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,Xk[n]=e}return e}function See(n){const e=n.indexOf("-x-");e!==-1&&(n=n.substring(0,e));const t=n.indexOf("-u-");if(t===-1)return[n];{let r,i;try{r=q6(n).resolvedOptions(),i=n}catch{const l=n.substring(0,t);r=q6(l).resolvedOptions(),i=l}const{numberingSystem:s,calendar:o}=r;return[i,s,o]}}function Cee(n,e,t){return(t||e)&&(n.includes("-u-")||(n+="-u"),t&&(n+=`-ca-${t}`),e&&(n+=`-nu-${e}`)),n}function Mee(n){const e=[];for(let t=1;t<=12;t++){const r=pt.utc(2009,t,1);e.push(n(r))}return e}function Aee(n){const e=[];for(let t=1;t<=7;t++){const r=pt.utc(2016,11,13+t);e.push(n(r))}return e}function Wp(n,e,t,r){const i=n.listingMode();return i==="error"?null:i==="en"?t(e):r(e)}function _ee(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}class Tee{constructor(e,t,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:s,...o}=r;if(!t||Object.keys(o).length>0){const a={useGrouping:!1,...r};r.padTo>0&&(a.minimumIntegerDigits=r.padTo),this.inf=wee(e,a)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):V5(e,3);return Fn(t,this.padTo)}}}class Eee{constructor(e,t,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&To.create(a).valid?(i=a,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=q6(t,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:r}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Oee{constructor(e,t,r){this.opts={style:"long",...r},!t&&TT()&&(this.rtf=bee(e,r))}format(e,t){return this.rtf?this.rtf.format(e,t):Kee(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const Iee={firstDay:1,minimalDays:4,weekend:[6,7]};class Yt{static fromOpts(e){return Yt.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,r,i,s=!1){const o=e||Tn.defaultLocale,a=o||(s?"en-US":kee()),l=t||Tn.defaultNumberingSystem,u=r||Tn.defaultOutputCalendar,c=Z6(i)||Tn.defaultWeekSettings;return new Yt(a,l,u,c,o)}static resetCache(){Cd=null,V6={},W6={},j6={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:r,weekSettings:i}={}){return Yt.create(e,t,r,i)}constructor(e,t,r,i,s){const[o,a,l]=See(e);this.locale=o,this.numberingSystem=t||a||null,this.outputCalendar=r||l||null,this.weekSettings=i,this.intl=Cee(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=_ee(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Yt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Z6(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return Wp(this,e,NT,()=>{const r=t?{month:e,day:"numeric"}:{month:e},i=t?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=Mee(s=>this.extract(s,r,"month"))),this.monthsCache[i][e]})}weekdays(e,t=!1){return Wp(this,e,RT,()=>{const r=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=t?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=Aee(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return Wp(this,void 0,()=>$T,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[pt.utc(2016,11,13,9),pt.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Wp(this,e,BT,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[pt.utc(-40,1,1),pt.utc(2017,1,1)].map(r=>this.extract(r,t,"era"))),this.eraCache[e]})}extract(e,t,r){const i=this.dtFormatter(e,t),s=i.formatToParts(),o=s.find(a=>a.type.toLowerCase()===r);return o?o.value:null}numberFormatter(e={}){return new Tee(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new Eee(e,this.intl,t)}relFormatter(e={}){return new Oee(this.intl,this.isEnglish(),e)}listFormatter(e={}){return vee(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:ET()?xee(this.locale):Iee}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let Ry=null;class Cr extends k0{static get utcInstance(){return Ry===null&&(Ry=new Cr(0)),Ry}static instance(e){return e===0?Cr.utcInstance:new Cr(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Cr(p4(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${uf(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${uf(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return uf(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class kT extends k0{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function tl(n,e){if(ct(n)||n===null)return e;if(n instanceof k0)return n;if(Lee(n)){const t=n.toLowerCase();return t==="default"?e:t==="local"||t==="system"?Q1.instance:t==="utc"||t==="gmt"?Cr.utcInstance:Cr.parseSpecifier(t)||To.create(n)}else return Hu(n)?Cr.instance(n):typeof n=="object"&&"offset"in n&&typeof n.offset=="function"?n:new kT(n)}let Qk=()=>Date.now(),e9="system",t9=null,n9=null,r9=null,i9=60,s9,o9=null;class Tn{static get now(){return Qk}static set now(e){Qk=e}static set defaultZone(e){e9=e}static get defaultZone(){return tl(e9,Q1.instance)}static get defaultLocale(){return t9}static set defaultLocale(e){t9=e}static get defaultNumberingSystem(){return n9}static set defaultNumberingSystem(e){n9=e}static get defaultOutputCalendar(){return r9}static set defaultOutputCalendar(e){r9=e}static get defaultWeekSettings(){return o9}static set defaultWeekSettings(e){o9=Z6(e)}static get twoDigitCutoffYear(){return i9}static set twoDigitCutoffYear(e){i9=e%100}static get throwOnInvalid(){return s9}static set throwOnInvalid(e){s9=e}static resetCaches(){Yt.resetCache(),To.resetCache()}}class Ls{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const xT=[0,31,59,90,120,151,181,212,243,273,304,334],ST=[0,31,60,91,121,152,182,213,244,274,305,335];function Qi(n,e){return new Ls("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function F5(n,e,t){const r=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function CT(n,e,t){return t+(ep(n)?ST:xT)[e-1]}function MT(n,e){const t=ep(n)?ST:xT,r=t.findIndex(s=>s<e),i=e-t[r];return{month:r+1,day:i}}function z5(n,e){return(n-e+7)%7+1}function t2(n,e=4,t=1){const{year:r,month:i,day:s}=n,o=CT(r,i,s),a=z5(F5(r,i,s),t);let l=Math.floor((o-a+14-e)/7),u;return l<1?(u=r-1,l=$f(u,e,t)):l>$f(r,e,t)?(u=r+1,l=1):u=r,{weekYear:u,weekNumber:l,weekday:a,...m4(n)}}function a9(n,e=4,t=1){const{weekYear:r,weekNumber:i,weekday:s}=n,o=z5(F5(r,1,e),t),a=Qc(r);let l=i*7+s-o-7+e,u;l<1?(u=r-1,l+=Qc(u)):l>a?(u=r+1,l-=Qc(r)):u=r;const{month:c,day:h}=MT(u,l);return{year:u,month:c,day:h,...m4(n)}}function $y(n){const{year:e,month:t,day:r}=n,i=CT(e,t,r);return{year:e,ordinal:i,...m4(n)}}function l9(n){const{year:e,ordinal:t}=n,{month:r,day:i}=MT(e,t);return{year:e,month:r,day:i,...m4(n)}}function u9(n,e){if(!ct(n.localWeekday)||!ct(n.localWeekNumber)||!ct(n.localWeekYear)){if(!ct(n.weekday)||!ct(n.weekNumber)||!ct(n.weekYear))throw new Zc("Cannot mix locale-based week fields with ISO-based week fields");return ct(n.localWeekday)||(n.weekday=n.localWeekday),ct(n.localWeekNumber)||(n.weekNumber=n.localWeekNumber),ct(n.localWeekYear)||(n.weekYear=n.localWeekYear),delete n.localWeekday,delete n.localWeekNumber,delete n.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Dee(n,e=4,t=1){const r=d4(n.weekYear),i=es(n.weekNumber,1,$f(n.weekYear,e,t)),s=es(n.weekday,1,7);return r?i?s?!1:Qi("weekday",n.weekday):Qi("week",n.weekNumber):Qi("weekYear",n.weekYear)}function Nee(n){const e=d4(n.year),t=es(n.ordinal,1,Qc(n.year));return e?t?!1:Qi("ordinal",n.ordinal):Qi("year",n.year)}function AT(n){const e=d4(n.year),t=es(n.month,1,12),r=es(n.day,1,n2(n.year,n.month));return e?t?r?!1:Qi("day",n.day):Qi("month",n.month):Qi("year",n.year)}function _T(n){const{hour:e,minute:t,second:r,millisecond:i}=n,s=es(e,0,23)||e===24&&t===0&&r===0&&i===0,o=es(t,0,59),a=es(r,0,59),l=es(i,0,999);return s?o?a?l?!1:Qi("millisecond",i):Qi("second",r):Qi("minute",t):Qi("hour",e)}function ct(n){return typeof n>"u"}function Hu(n){return typeof n=="number"}function d4(n){return typeof n=="number"&&n%1===0}function Lee(n){return typeof n=="string"}function Pee(n){return Object.prototype.toString.call(n)==="[object Date]"}function TT(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function ET(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Ree(n){return Array.isArray(n)?n:[n]}function c9(n,e,t){if(n.length!==0)return n.reduce((r,i)=>{const s=[e(i),i];return r&&t(r[0],s[0])===r[0]?r:s},null)[1]}function $ee(n,e){return e.reduce((t,r)=>(t[r]=n[r],t),{})}function Kh(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Z6(n){if(n==null)return null;if(typeof n!="object")throw new Qr("Week settings must be an object");if(!es(n.firstDay,1,7)||!es(n.minimalDays,1,7)||!Array.isArray(n.weekend)||n.weekend.some(e=>!es(e,1,7)))throw new Qr("Invalid week settings");return{firstDay:n.firstDay,minimalDays:n.minimalDays,weekend:Array.from(n.weekend)}}function es(n,e,t){return d4(n)&&n>=e&&n<=t}function Bee(n,e){return n-e*Math.floor(n/e)}function Fn(n,e=2){const t=n<0;let r;return t?r="-"+(""+-n).padStart(e,"0"):r=(""+n).padStart(e,"0"),r}function Ga(n){if(!(ct(n)||n===null||n===""))return parseInt(n,10)}function Zl(n){if(!(ct(n)||n===null||n===""))return parseFloat(n)}function H5(n){if(!(ct(n)||n===null||n==="")){const e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function V5(n,e,t=!1){const r=10**e;return(t?Math.trunc:Math.round)(n*r)/r}function ep(n){return n%4===0&&(n%100!==0||n%400===0)}function Qc(n){return ep(n)?366:365}function n2(n,e){const t=Bee(e-1,12)+1,r=n+(e-t)/12;return t===2?ep(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function f4(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(n.year,n.month-1,n.day)),+e}function h9(n,e,t){return-z5(F5(n,1,e),t)+e-1}function $f(n,e=4,t=1){const r=h9(n,e,t),i=h9(n+1,e,t);return(Qc(n)-r+i)/7}function U6(n){return n>99?n:n>Tn.twoDigitCutoffYear?1900+n:2e3+n}function OT(n,e,t,r=null){const i=new Date(n),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const o={timeZoneName:e,...s},a=new Intl.DateTimeFormat(t,o).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function p4(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);const r=parseInt(e,10)||0,i=t<0||Object.is(t,-0)?-r:r;return t*60+i}function IT(n){const e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new Qr(`Invalid unit value ${n}`);return e}function r2(n,e){const t={};for(const r in n)if(Kh(n,r)){const i=n[r];if(i==null)continue;t[e(r)]=IT(i)}return t}function uf(n,e){const t=Math.trunc(Math.abs(n/60)),r=Math.trunc(Math.abs(n%60)),i=n>=0?"+":"-";switch(e){case"short":return`${i}${Fn(t,2)}:${Fn(r,2)}`;case"narrow":return`${i}${t}${r>0?`:${r}`:""}`;case"techie":return`${i}${Fn(t,2)}${Fn(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function m4(n){return $ee(n,["hour","minute","second","millisecond"])}const Fee=["January","February","March","April","May","June","July","August","September","October","November","December"],DT=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],zee=["J","F","M","A","M","J","J","A","S","O","N","D"];function NT(n){switch(n){case"narrow":return[...zee];case"short":return[...DT];case"long":return[...Fee];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const LT=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],PT=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Hee=["M","T","W","T","F","S","S"];function RT(n){switch(n){case"narrow":return[...Hee];case"short":return[...PT];case"long":return[...LT];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const $T=["AM","PM"],Vee=["Before Christ","Anno Domini"],qee=["BC","AD"],Wee=["B","A"];function BT(n){switch(n){case"narrow":return[...Wee];case"short":return[...qee];case"long":return[...Vee];default:return null}}function jee(n){return $T[n.hour<12?0:1]}function Zee(n,e){return RT(e)[n.weekday-1]}function Uee(n,e){return NT(e)[n.month-1]}function Gee(n,e){return BT(e)[n.year<0?0:1]}function Kee(n,e,t="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&s){const h=n==="days";switch(e){case 1:return h?"tomorrow":`next ${i[n][0]}`;case-1:return h?"yesterday":`last ${i[n][0]}`;case 0:return h?"today":`this ${i[n][0]}`}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,u=i[n],c=r?l?u[1]:u[2]||u[1]:l?i[n][0]:n;return o?`${a} ${c} ago`:`in ${a} ${c}`}function d9(n,e){let t="";for(const r of n)r.literal?t+=r.val:t+=e(r.val);return t}const Yee={D:e2,DD:nT,DDD:rT,DDDD:iT,t:sT,tt:oT,ttt:aT,tttt:lT,T:uT,TT:cT,TTT:hT,TTTT:dT,f:fT,ff:mT,fff:yT,ffff:wT,F:pT,FF:gT,FFF:vT,FFFF:bT};class xr{static create(e,t={}){return new xr(e,t)}static parseFormat(e){let t=null,r="",i=!1;const s=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="'"?(r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),t=null,r="",i=!i):i||a===t?r+=a:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=a,t=a)}return r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return Yee[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return Fn(e,t);const r={...this.opts};return t>0&&(r.padTo=t),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,t){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(f,p)=>this.loc.extract(e,f,p),o=f=>e.isOffsetFixed&&e.offset===0&&f.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,f.format):"",a=()=>r?jee(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(f,p)=>r?Uee(e,f):s(p?{month:f}:{month:f,day:"numeric"},"month"),u=(f,p)=>r?Zee(e,f):s(p?{weekday:f}:{weekday:f,month:"long",day:"numeric"},"weekday"),c=f=>{const p=xr.macroTokenToFormatOpts(f);return p?this.formatWithSystemDefault(e,p):f},h=f=>r?Gee(e,f):s({era:f},"era"),d=f=>{switch(f){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(f)}};return d9(xr.parseFormat(t),d)}formatDurationFromString(e,t){const r=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>u=>{const c=r(u);return c?this.num(l.get(c),u.length):u},s=xr.parseFormat(t),o=s.reduce((l,{literal:u,val:c})=>u?l:l.concat(c),[]),a=e.shiftTo(...o.map(r).filter(l=>l));return d9(s,i(a))}}const FT=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function x0(...n){const e=n.reduce((t,r)=>t+r.source,"");return RegExp(`^${e}$`)}function S0(...n){return e=>n.reduce(([t,r,i],s)=>{const[o,a,l]=s(e,i);return[{...t,...o},a||r,l]},[{},null,1]).slice(0,2)}function C0(n,...e){if(n==null)return[null,null];for(const[t,r]of e){const i=t.exec(n);if(i)return r(i)}return[null,null]}function zT(...n){return(e,t)=>{const r={};let i;for(i=0;i<n.length;i++)r[n[i]]=Ga(e[t+i]);return[r,null,t+i]}}const HT=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Jee=`(?:${HT.source}?(?:\\[(${FT.source})\\])?)?`,q5=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,VT=RegExp(`${q5.source}${Jee}`),W5=RegExp(`(?:T${VT.source})?`),Xee=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Qee=/(\d{4})-?W(\d\d)(?:-?(\d))?/,ete=/(\d{4})-?(\d{3})/,tte=zT("weekYear","weekNumber","weekDay"),nte=zT("year","ordinal"),rte=/(\d{4})-(\d\d)-(\d\d)/,qT=RegExp(`${q5.source} ?(?:${HT.source}|(${FT.source}))?`),ite=RegExp(`(?: ${qT.source})?`);function eh(n,e,t){const r=n[e];return ct(r)?t:Ga(r)}function ste(n,e){return[{year:eh(n,e),month:eh(n,e+1,1),day:eh(n,e+2,1)},null,e+3]}function M0(n,e){return[{hours:eh(n,e,0),minutes:eh(n,e+1,0),seconds:eh(n,e+2,0),milliseconds:H5(n[e+3])},null,e+4]}function tp(n,e){const t=!n[e]&&!n[e+1],r=p4(n[e+1],n[e+2]),i=t?null:Cr.instance(r);return[{},i,e+3]}function np(n,e){const t=n[e]?To.create(n[e]):null;return[{},t,e+1]}const ote=RegExp(`^T?${q5.source}$`),ate=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function lte(n){const[e,t,r,i,s,o,a,l,u]=n,c=e[0]==="-",h=l&&l[0]==="-",d=(f,p=!1)=>f!==void 0&&(p||f&&c)?-f:f;return[{years:d(Zl(t)),months:d(Zl(r)),weeks:d(Zl(i)),days:d(Zl(s)),hours:d(Zl(o)),minutes:d(Zl(a)),seconds:d(Zl(l),l==="-0"),milliseconds:d(H5(u),h)}]}const ute={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function j5(n,e,t,r,i,s,o){const a={year:e.length===2?U6(Ga(e)):Ga(e),month:DT.indexOf(t)+1,day:Ga(r),hour:Ga(i),minute:Ga(s)};return o&&(a.second=Ga(o)),n&&(a.weekday=n.length>3?LT.indexOf(n)+1:PT.indexOf(n)+1),a}const cte=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function hte(n){const[,e,t,r,i,s,o,a,l,u,c,h]=n,d=j5(e,i,r,t,s,o,a);let f;return l?f=ute[l]:u?f=0:f=p4(c,h),[d,new Cr(f)]}function dte(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const fte=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,pte=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,mte=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function f9(n){const[,e,t,r,i,s,o,a]=n;return[j5(e,i,r,t,s,o,a),Cr.utcInstance]}function gte(n){const[,e,t,r,i,s,o,a]=n;return[j5(e,a,t,r,i,s,o),Cr.utcInstance]}const yte=x0(Xee,W5),vte=x0(Qee,W5),wte=x0(ete,W5),bte=x0(VT),WT=S0(ste,M0,tp,np),kte=S0(tte,M0,tp,np),xte=S0(nte,M0,tp,np),Ste=S0(M0,tp,np);function Cte(n){return C0(n,[yte,WT],[vte,kte],[wte,xte],[bte,Ste])}function Mte(n){return C0(dte(n),[cte,hte])}function Ate(n){return C0(n,[fte,f9],[pte,f9],[mte,gte])}function _te(n){return C0(n,[ate,lte])}const Tte=S0(M0);function Ete(n){return C0(n,[ote,Tte])}const Ote=x0(rte,ite),Ite=x0(qT),Dte=S0(M0,tp,np);function Nte(n){return C0(n,[Ote,WT],[Ite,Dte])}const p9="Invalid Duration",jT={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Lte={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...jT},Wi=146097/400,Ec=146097/4800,Pte={years:{quarters:4,months:12,weeks:Wi/7,days:Wi,hours:Wi*24,minutes:Wi*24*60,seconds:Wi*24*60*60,milliseconds:Wi*24*60*60*1e3},quarters:{months:3,weeks:Wi/28,days:Wi/4,hours:Wi*24/4,minutes:Wi*24*60/4,seconds:Wi*24*60*60/4,milliseconds:Wi*24*60*60*1e3/4},months:{weeks:Ec/7,days:Ec,hours:Ec*24,minutes:Ec*24*60,seconds:Ec*24*60*60,milliseconds:Ec*24*60*60*1e3},...jT},gu=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Rte=gu.slice(0).reverse();function $a(n,e,t=!1){const r={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy,matrix:e.matrix||n.matrix};return new It(r)}function ZT(n,e){var t;let r=(t=e.milliseconds)!=null?t:0;for(const i of Rte.slice(1))e[i]&&(r+=e[i]*n[i].milliseconds);return r}function m9(n,e){const t=ZT(n,e)<0?-1:1;gu.reduceRight((r,i)=>{if(ct(e[i]))return r;if(r){const s=e[r]*t,o=n[i][r],a=Math.floor(s/o);e[i]+=a*t,e[r]-=a*o*t}return i},null),gu.reduce((r,i)=>{if(ct(e[i]))return r;if(r){const s=e[r]%1;e[r]-=s,e[i]+=s*n[r][i]}return i},null)}function $te(n){const e={};for(const[t,r]of Object.entries(n))r!==0&&(e[t]=r);return e}class It{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let r=t?Pte:Lte;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Yt.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,t){return It.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new Qr(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new It({values:r2(e,It.normalizeUnit),loc:Yt.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Hu(e))return It.fromMillis(e);if(It.isDuration(e))return e;if(typeof e=="object")return It.fromObject(e);throw new Qr(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[r]=_te(e);return r?It.fromObject(r,t):It.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[r]=Ete(e);return r?It.fromObject(r,t):It.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new Qr("need to specify a reason the Duration is invalid");const r=e instanceof Ls?e:new Ls(e,t);if(Tn.throwOnInvalid)throw new hee(r);return new It({invalid:r})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new tT(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const r={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?xr.create(this.loc,r).formatDurationFromString(this,e):p9}toHuman(e={}){if(!this.isValid)return p9;const t=gu.map(r=>{const i=this.values[r];return ct(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=V5(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},pt.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?ZT(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=It.fromDurationLike(e),r={};for(const i of gu)(Kh(t.values,i)||Kh(this.values,i))&&(r[i]=t.get(i)+this.get(i));return $a(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const t=It.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=IT(e(this.values[r],r));return $a(this,{values:t},!0)}get(e){return this[It.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...r2(e,It.normalizeUnit)};return $a(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:r,matrix:i}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:i,conversionAccuracy:r};return $a(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return m9(this.matrix,e),$a(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=$te(this.normalize().shiftToAll().toObject());return $a(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>It.normalizeUnit(o));const t={},r={},i=this.toObject();let s;for(const o of gu)if(e.indexOf(o)>=0){s=o;let a=0;for(const u in r)a+=this.matrix[u][o]*r[u],r[u]=0;Hu(i[o])&&(a+=i[o]);const l=Math.trunc(a);t[o]=l,r[o]=(a*1e3-l*1e3)/1e3}else Hu(i[o])&&(r[o]=i[o]);for(const o in r)r[o]!==0&&(t[s]+=o===s?r[o]:r[o]/this.matrix[s][o]);return m9(this.matrix,t),$a(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return $a(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of gu)if(!t(this.values[r],e.values[r]))return!1;return!0}}const Oc="Invalid Interval";function Bte(n,e){return!n||!n.isValid?Cn.invalid("missing or invalid start"):!e||!e.isValid?Cn.invalid("missing or invalid end"):e<n?Cn.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}class Cn{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new Qr("need to specify a reason the Interval is invalid");const r=e instanceof Ls?e:new Ls(e,t);if(Tn.throwOnInvalid)throw new cee(r);return new Cn({invalid:r})}static fromDateTimes(e,t){const r=od(e),i=od(t),s=Bte(r,i);return s==null?new Cn({start:r,end:i}):s}static after(e,t){const r=It.fromDurationLike(t),i=od(e);return Cn.fromDateTimes(i,i.plus(r))}static before(e,t){const r=It.fromDurationLike(t),i=od(e);return Cn.fromDateTimes(i.minus(r),i)}static fromISO(e,t){const[r,i]=(e||"").split("/",2);if(r&&i){let s,o;try{s=pt.fromISO(r,t),o=s.isValid}catch{o=!1}let a,l;try{a=pt.fromISO(i,t),l=a.isValid}catch{l=!1}if(o&&l)return Cn.fromDateTimes(s,a);if(o){const u=It.fromISO(i,t);if(u.isValid)return Cn.after(s,u)}else if(l){const u=It.fromISO(r,t);if(u.isValid)return Cn.before(a,u)}}return Cn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const r=this.start.startOf(e,t);let i;return t!=null&&t.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,t),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?Cn.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(od).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),r=[];let{s:i}=this,s=0;for(;i<this.e;){const o=t[s]||this.e,a=+o>+this.e?this.e:o;r.push(Cn.fromDateTimes(i,a)),i=a,s+=1}return r}splitBy(e){const t=It.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:r}=this,i=1,s;const o=[];for(;r<this.e;){const a=this.start.plus(t.mapUnits(l=>l*i));s=+a>+this.e?this.e:a,o.push(Cn.fromDateTimes(r,s)),r=s,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return t>=r?null:Cn.fromDateTimes(t,r)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return Cn.fromDateTimes(t,r)}static merge(e){const[t,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return r&&t.push(r),t}static xor(e){let t=null,r=0;const i=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,u)=>l.time-u.time);for(const l of a)r+=l.type==="s"?1:-1,r===1?t=l.time:(t&&+t!=+l.time&&i.push(Cn.fromDateTimes(t,l.time)),t=null);return Cn.merge(i)}difference(...e){return Cn.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Oc}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=e2,t={}){return this.isValid?xr.create(this.s.loc.clone(t),e).formatInterval(this):Oc}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Oc}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Oc}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Oc}toFormat(e,{separator:t=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Oc}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):It.invalid(this.invalidReason)}mapEndpoints(e){return Cn.fromDateTimes(e(this.s),e(this.e))}}class Md{static hasDST(e=Tn.defaultZone){const t=pt.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return To.isValidZone(e)}static normalizeZone(e){return tl(e,Tn.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||Yt.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||Yt.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||Yt.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Yt.create(t,r,s)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Yt.create(t,r,s)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Yt.create(t,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Yt.create(t,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Yt.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return Yt.create(t,null,"gregory").eras(e)}static features(){return{relative:TT(),localeWeek:ET()}}}function g9(n,e){const t=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=t(e)-t(n);return Math.floor(It.fromMillis(r).as("days"))}function Fte(n,e,t){const r=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{const c=g9(l,u);return(c-c%7)/7}],["days",g9]],i={},s=n;let o,a;for(const[l,u]of r)t.indexOf(l)>=0&&(o=l,i[l]=u(n,e),a=s.plus(i),a>e?(i[l]--,n=s.plus(i),n>e&&(a=n,i[l]--,n=s.plus(i))):n=a);return[n,i,a,o]}function zte(n,e,t,r){let[i,s,o,a]=Fte(n,e,t);const l=e-i,u=t.filter(h=>["hours","minutes","seconds","milliseconds"].indexOf(h)>=0);u.length===0&&(o<e&&(o=i.plus({[a]:1})),o!==i&&(s[a]=(s[a]||0)+l/(o-i)));const c=It.fromObject(s,r);return u.length>0?It.fromMillis(l,r).shiftTo(...u).plus(c):c}const Z5={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},y9={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Hte=Z5.hanidec.replace(/[\[|\]]/g,"").split("");function Vte(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);if(n[t].search(Z5.hanidec)!==-1)e+=Hte.indexOf(n[t]);else for(const i in y9){const[s,o]=y9[i];r>=s&&r<=o&&(e+=r-s)}}return parseInt(e,10)}else return e}function xs({numberingSystem:n},e=""){return new RegExp(`${Z5[n||"latn"]}${e}`)}const qte="missing Intl.DateTimeFormat.formatToParts support";function zt(n,e=t=>t){return{regex:n,deser:([t])=>e(Vte(t))}}const Wte=String.fromCharCode(160),UT=`[ ${Wte}]`,GT=new RegExp(UT,"g");function jte(n){return n.replace(/\./g,"\\.?").replace(GT,UT)}function v9(n){return n.replace(/\./g,"").replace(GT," ").toLowerCase()}function Ss(n,e){return n===null?null:{regex:RegExp(n.map(jte).join("|")),deser:([t])=>n.findIndex(r=>v9(t)===v9(r))+e}}function w9(n,e){return{regex:n,deser:([,t,r])=>p4(t,r),groups:e}}function jp(n){return{regex:n,deser:([e])=>e}}function Zte(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Ute(n,e){const t=xs(e),r=xs(e,"{2}"),i=xs(e,"{3}"),s=xs(e,"{4}"),o=xs(e,"{6}"),a=xs(e,"{1,2}"),l=xs(e,"{1,3}"),u=xs(e,"{1,6}"),c=xs(e,"{1,9}"),h=xs(e,"{2,4}"),d=xs(e,"{4,6}"),f=y=>({regex:RegExp(Zte(y.val)),deser:([v])=>v,literal:!0}),m=(y=>{if(n.literal)return f(y);switch(y.val){case"G":return Ss(e.eras("short"),0);case"GG":return Ss(e.eras("long"),0);case"y":return zt(u);case"yy":return zt(h,U6);case"yyyy":return zt(s);case"yyyyy":return zt(d);case"yyyyyy":return zt(o);case"M":return zt(a);case"MM":return zt(r);case"MMM":return Ss(e.months("short",!0),1);case"MMMM":return Ss(e.months("long",!0),1);case"L":return zt(a);case"LL":return zt(r);case"LLL":return Ss(e.months("short",!1),1);case"LLLL":return Ss(e.months("long",!1),1);case"d":return zt(a);case"dd":return zt(r);case"o":return zt(l);case"ooo":return zt(i);case"HH":return zt(r);case"H":return zt(a);case"hh":return zt(r);case"h":return zt(a);case"mm":return zt(r);case"m":return zt(a);case"q":return zt(a);case"qq":return zt(r);case"s":return zt(a);case"ss":return zt(r);case"S":return zt(l);case"SSS":return zt(i);case"u":return jp(c);case"uu":return jp(a);case"uuu":return zt(t);case"a":return Ss(e.meridiems(),0);case"kkkk":return zt(s);case"kk":return zt(h,U6);case"W":return zt(a);case"WW":return zt(r);case"E":case"c":return zt(t);case"EEE":return Ss(e.weekdays("short",!1),1);case"EEEE":return Ss(e.weekdays("long",!1),1);case"ccc":return Ss(e.weekdays("short",!0),1);case"cccc":return Ss(e.weekdays("long",!0),1);case"Z":case"ZZ":return w9(new RegExp(`([+-]${a.source})(?::(${r.source}))?`),2);case"ZZZ":return w9(new RegExp(`([+-]${a.source})(${r.source})?`),2);case"z":return jp(/[a-z_+-/]{1,256}?/i);case" ":return jp(/[^\S\n\r]/);default:return f(y)}})(n)||{invalidReason:qte};return m.token=n,m}const Gte={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Kte(n,e,t){const{type:r,value:i}=n;if(r==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const s=e[r];let o=r;r==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=t.hour12?"hour12":"hour24");let a=Gte[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function Yte(n){return[`^${n.map(t=>t.regex).reduce((t,r)=>`${t}(${r.source})`,"")}$`,n]}function Jte(n,e,t){const r=n.match(e);if(r){const i={};let s=1;for(const o in t)if(Kh(t,o)){const a=t[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(r.slice(s,s+l))),s+=l}return[r,i]}else return[r,{}]}function Xte(n){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,r;return ct(n.z)||(t=To.create(n.z)),ct(n.Z)||(t||(t=new Cr(n.Z)),r=n.Z),ct(n.q)||(n.M=(n.q-1)*3+1),ct(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),ct(n.u)||(n.S=H5(n.u)),[Object.keys(n).reduce((s,o)=>{const a=e(o);return a&&(s[a]=n[o]),s},{}),t,r]}let By=null;function Qte(){return By||(By=pt.fromMillis(1555555555555)),By}function ene(n,e){if(n.literal)return n;const t=xr.macroTokenToFormatOpts(n.val),r=JT(t,e);return r==null||r.includes(void 0)?n:r}function KT(n,e){return Array.prototype.concat(...n.map(t=>ene(t,e)))}function YT(n,e,t){const r=KT(xr.parseFormat(t),n),i=r.map(o=>Ute(o,n)),s=i.find(o=>o.invalidReason);if(s)return{input:e,tokens:r,invalidReason:s.invalidReason};{const[o,a]=Yte(i),l=RegExp(o,"i"),[u,c]=Jte(e,l,a),[h,d,f]=c?Xte(c):[null,null,void 0];if(Kh(c,"a")&&Kh(c,"H"))throw new Zc("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:l,rawMatches:u,matches:c,result:h,zone:d,specificOffset:f}}}function tne(n,e,t){const{result:r,zone:i,specificOffset:s,invalidReason:o}=YT(n,e,t);return[r,i,s,o]}function JT(n,e){if(!n)return null;const r=xr.create(e,n).dtFormatter(Qte()),i=r.formatToParts(),s=r.resolvedOptions();return i.map(o=>Kte(o,n,s))}const Fy="Invalid DateTime",b9=864e13;function Zp(n){return new Ls("unsupported zone",`the zone "${n.name}" is not supported`)}function zy(n){return n.weekData===null&&(n.weekData=t2(n.c)),n.weekData}function Hy(n){return n.localWeekData===null&&(n.localWeekData=t2(n.c,n.loc.getMinDaysInFirstWeek(),n.loc.getStartOfWeek())),n.localWeekData}function Ul(n,e){const t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new pt({...t,...e,old:t})}function XT(n,e,t){let r=n-e*60*1e3;const i=t.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const s=t.offset(r);return i===s?[r,i]:[n-Math.min(i,s)*60*1e3,Math.max(i,s)]}function Up(n,e){n+=e*60*1e3;const t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function Ym(n,e,t){return XT(f4(n),e,t)}function k9(n,e){const t=n.o,r=n.c.year+Math.trunc(e.years),i=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...n.c,year:r,month:i,day:Math.min(n.c.day,n2(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=It.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=f4(s);let[l,u]=XT(a,t,n.zone);return o!==0&&(l+=o,u=n.zone.offset(l)),{ts:l,o:u}}function sd(n,e,t,r,i,s){const{setZone:o,zone:a}=t;if(n&&Object.keys(n).length!==0||e){const l=e||a,u=pt.fromObject(n,{...t,zone:l,specificOffset:s});return o?u:u.setZone(a)}else return pt.invalid(new Ls("unparsable",`the input "${i}" can't be parsed as ${r}`))}function Gp(n,e,t=!0){return n.isValid?xr.create(Yt.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function Vy(n,e){const t=n.c.year>9999||n.c.year<0;let r="";return t&&n.c.year>=0&&(r+="+"),r+=Fn(n.c.year,t?6:4),e?(r+="-",r+=Fn(n.c.month),r+="-",r+=Fn(n.c.day)):(r+=Fn(n.c.month),r+=Fn(n.c.day)),r}function x9(n,e,t,r,i,s){let o=Fn(n.c.hour);return e?(o+=":",o+=Fn(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(o+=":")):o+=Fn(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(o+=Fn(n.c.second),(n.c.millisecond!==0||!r)&&(o+=".",o+=Fn(n.c.millisecond,3))),i&&(n.isOffsetFixed&&n.offset===0&&!s?o+="Z":n.o<0?(o+="-",o+=Fn(Math.trunc(-n.o/60)),o+=":",o+=Fn(Math.trunc(-n.o%60))):(o+="+",o+=Fn(Math.trunc(n.o/60)),o+=":",o+=Fn(Math.trunc(n.o%60)))),s&&(o+="["+n.zone.ianaName+"]"),o}const QT={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},nne={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},rne={ordinal:1,hour:0,minute:0,second:0,millisecond:0},eE=["year","month","day","hour","minute","second","millisecond"],ine=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],sne=["year","ordinal","hour","minute","second","millisecond"];function one(n){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new tT(n);return e}function S9(n){switch(n.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return one(n)}}function C9(n,e){const t=tl(e.zone,Tn.defaultZone),r=Yt.fromObject(e),i=Tn.now();let s,o;if(ct(n.year))s=i;else{for(const u of eE)ct(n[u])&&(n[u]=QT[u]);const a=AT(n)||_T(n);if(a)return pt.invalid(a);const l=t.offset(i);[s,o]=Ym(n,l,t)}return new pt({ts:s,zone:t,loc:r,o})}function M9(n,e,t){const r=ct(t.round)?!0:t.round,i=(o,a)=>(o=V5(o,r||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(o,a)),s=o=>t.calendary?e.hasSame(n,o)?0:e.startOf(o).diff(n.startOf(o),o).get(o):e.diff(n,o).get(o);if(t.unit)return i(s(t.unit),t.unit);for(const o of t.units){const a=s(o);if(Math.abs(a)>=1)return i(a,o)}return i(n>e?-0:0,t.units[t.units.length-1])}function A9(n){let e={},t;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}class pt{constructor(e){const t=e.zone||Tn.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new Ls("invalid input"):null)||(t.isValid?null:Zp(t));this.ts=ct(e.ts)?Tn.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[i,s]=[e.old.c,e.old.o];else{const a=t.offset(this.ts);i=Up(this.ts,a),r=Number.isNaN(i.year)?new Ls("invalid input"):null,i=r?null:i,s=r?null:a}this._zone=t,this.loc=e.loc||Yt.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new pt({})}static local(){const[e,t]=A9(arguments),[r,i,s,o,a,l,u]=t;return C9({year:r,month:i,day:s,hour:o,minute:a,second:l,millisecond:u},e)}static utc(){const[e,t]=A9(arguments),[r,i,s,o,a,l,u]=t;return e.zone=Cr.utcInstance,C9({year:r,month:i,day:s,hour:o,minute:a,second:l,millisecond:u},e)}static fromJSDate(e,t={}){const r=Pee(e)?e.valueOf():NaN;if(Number.isNaN(r))return pt.invalid("invalid input");const i=tl(t.zone,Tn.defaultZone);return i.isValid?new pt({ts:r,zone:i,loc:Yt.fromObject(t)}):pt.invalid(Zp(i))}static fromMillis(e,t={}){if(Hu(e))return e<-b9||e>b9?pt.invalid("Timestamp out of range"):new pt({ts:e,zone:tl(t.zone,Tn.defaultZone),loc:Yt.fromObject(t)});throw new Qr(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(Hu(e))return new pt({ts:e*1e3,zone:tl(t.zone,Tn.defaultZone),loc:Yt.fromObject(t)});throw new Qr("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const r=tl(t.zone,Tn.defaultZone);if(!r.isValid)return pt.invalid(Zp(r));const i=Yt.fromObject(t),s=r2(e,S9),{minDaysInFirstWeek:o,startOfWeek:a}=u9(s,i),l=Tn.now(),u=ct(t.specificOffset)?r.offset(l):t.specificOffset,c=!ct(s.ordinal),h=!ct(s.year),d=!ct(s.month)||!ct(s.day),f=h||d,p=s.weekYear||s.weekNumber;if((f||c)&&p)throw new Zc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&c)throw new Zc("Can't mix ordinal dates with month/day");const m=p||s.weekday&&!f;let y,v,b=Up(l,u);m?(y=ine,v=nne,b=t2(b,o,a)):c?(y=sne,v=rne,b=$y(b)):(y=eE,v=QT);let k=!1;for(const R of y){const G=s[R];ct(G)?k?s[R]=v[R]:s[R]=b[R]:k=!0}const _=m?Dee(s,o,a):c?Nee(s):AT(s),C=_||_T(s);if(C)return pt.invalid(C);const M=m?a9(s,o,a):c?l9(s):s,[O,D]=Ym(M,u,r),$=new pt({ts:O,zone:r,o:D,loc:i});return s.weekday&&f&&e.weekday!==$.weekday?pt.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${$.toISO()}`):$}static fromISO(e,t={}){const[r,i]=Cte(e);return sd(r,i,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[r,i]=Mte(e);return sd(r,i,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[r,i]=Ate(e);return sd(r,i,t,"HTTP",t)}static fromFormat(e,t,r={}){if(ct(e)||ct(t))throw new Qr("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=r,o=Yt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[a,l,u,c]=tne(o,e,t);return c?pt.invalid(c):sd(a,l,r,`format ${t}`,e,u)}static fromString(e,t,r={}){return pt.fromFormat(e,t,r)}static fromSQL(e,t={}){const[r,i]=Nte(e);return sd(r,i,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new Qr("need to specify a reason the DateTime is invalid");const r=e instanceof Ls?e:new Ls(e,t);if(Tn.throwOnInvalid)throw new uee(r);return new pt({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const r=JT(e,Yt.fromObject(t));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,t={}){return KT(xr.parseFormat(e),Yt.fromObject(t)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?zy(this).weekYear:NaN}get weekNumber(){return this.isValid?zy(this).weekNumber:NaN}get weekday(){return this.isValid?zy(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Hy(this).weekday:NaN}get localWeekNumber(){return this.isValid?Hy(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Hy(this).weekYear:NaN}get ordinal(){return this.isValid?$y(this.c).ordinal:NaN}get monthShort(){return this.isValid?Md.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Md.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Md.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Md.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,r=f4(this.c),i=this.zone.offset(r-e),s=this.zone.offset(r+e),o=this.zone.offset(r-i*t),a=this.zone.offset(r-s*t);if(o===a)return[this];const l=r-o*t,u=r-a*t,c=Up(l,o),h=Up(u,a);return c.hour===h.hour&&c.minute===h.minute&&c.second===h.second&&c.millisecond===h.millisecond?[Ul(this,{ts:l}),Ul(this,{ts:u})]:[this]}get isInLeapYear(){return ep(this.year)}get daysInMonth(){return n2(this.year,this.month)}get daysInYear(){return this.isValid?Qc(this.year):NaN}get weeksInWeekYear(){return this.isValid?$f(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?$f(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:r,calendar:i}=xr.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:r,outputCalendar:i}}toUTC(e=0,t={}){return this.setZone(Cr.instance(e),t)}toLocal(){return this.setZone(Tn.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:r=!1}={}){if(e=tl(e,Tn.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(t||r){const s=e.offset(this.ts),o=this.toObject();[i]=Ym(o,s,e)}return Ul(this,{ts:i,zone:e})}else return pt.invalid(Zp(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:r});return Ul(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=r2(e,S9),{minDaysInFirstWeek:r,startOfWeek:i}=u9(t,this.loc),s=!ct(t.weekYear)||!ct(t.weekNumber)||!ct(t.weekday),o=!ct(t.ordinal),a=!ct(t.year),l=!ct(t.month)||!ct(t.day),u=a||l,c=t.weekYear||t.weekNumber;if((u||o)&&c)throw new Zc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new Zc("Can't mix ordinal dates with month/day");let h;s?h=a9({...t2(this.c,r,i),...t},r,i):ct(t.ordinal)?(h={...this.toObject(),...t},ct(t.day)&&(h.day=Math.min(n2(h.year,h.month),h.day))):h=l9({...$y(this.c),...t});const[d,f]=Ym(h,this.o,this.zone);return Ul(this,{ts:d,o:f})}plus(e){if(!this.isValid)return this;const t=It.fromDurationLike(e);return Ul(this,k9(this,t))}minus(e){if(!this.isValid)return this;const t=It.fromDurationLike(e).negate();return Ul(this,k9(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const r={},i=It.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(t){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?xr.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Fy}toLocaleString(e=e2,t={}){return this.isValid?xr.create(this.loc.clone(t),e).formatDateTime(this):Fy}toLocaleParts(e={}){return this.isValid?xr.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=e==="extended";let a=Vy(this,o);return a+="T",a+=x9(this,o,t,r,i,s),a}toISODate({format:e="extended"}={}){return this.isValid?Vy(this,e==="extended"):null}toISOWeekDate(){return Gp(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+x9(this,o==="extended",t,e,r,s):null}toRFC2822(){return Gp(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Gp(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Vy(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(t||e)&&(r&&(i+=" "),t?i+="z":e&&(i+="ZZ")),Gp(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Fy}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",r={}){if(!this.isValid||!e.isValid)return It.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=Ree(t).map(It.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,u=zte(a,l,s,i);return o?u.negate():u}diffNow(e="milliseconds",t={}){return this.diff(pt.now(),e,t)}until(e){return this.isValid?Cn.fromDateTimes(this,e):this}hasSame(e,t,r){if(!this.isValid)return!1;const i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(t,r)<=i&&i<=s.endOf(t,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||pt.fromObject({},{zone:this.zone}),r=e.padding?this<t?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),M9(t,this.plus(r),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?M9(e.base||pt.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(pt.isDateTime))throw new Qr("min requires all arguments be DateTimes");return c9(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(pt.isDateTime))throw new Qr("max requires all arguments be DateTimes");return c9(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,r={}){const{locale:i=null,numberingSystem:s=null}=r,o=Yt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return YT(o,e,t)}static fromStringExplain(e,t,r={}){return pt.fromFormatExplain(e,t,r)}static get DATE_SHORT(){return e2}static get DATE_MED(){return nT}static get DATE_MED_WITH_WEEKDAY(){return dee}static get DATE_FULL(){return rT}static get DATE_HUGE(){return iT}static get TIME_SIMPLE(){return sT}static get TIME_WITH_SECONDS(){return oT}static get TIME_WITH_SHORT_OFFSET(){return aT}static get TIME_WITH_LONG_OFFSET(){return lT}static get TIME_24_SIMPLE(){return uT}static get TIME_24_WITH_SECONDS(){return cT}static get TIME_24_WITH_SHORT_OFFSET(){return hT}static get TIME_24_WITH_LONG_OFFSET(){return dT}static get DATETIME_SHORT(){return fT}static get DATETIME_SHORT_WITH_SECONDS(){return pT}static get DATETIME_MED(){return mT}static get DATETIME_MED_WITH_SECONDS(){return gT}static get DATETIME_MED_WITH_WEEKDAY(){return fee}static get DATETIME_FULL(){return yT}static get DATETIME_FULL_WITH_SECONDS(){return vT}static get DATETIME_HUGE(){return wT}static get DATETIME_HUGE_WITH_SECONDS(){return bT}}function od(n){if(pt.isDateTime(n))return n;if(n&&n.valueOf&&Hu(n.valueOf()))return pt.fromJSDate(n);if(n&&typeof n=="object")return pt.fromObject(n);throw new Qr(`Unknown datetime argument: ${n}, of type ${typeof n}`)}const ane="3.4.4";Bi.DateTime=pt;Bi.Duration=It;Bi.FixedOffsetZone=Cr;Bi.IANAZone=To;Bi.Info=Md;Bi.Interval=Cn;Bi.InvalidZone=kT;Bi.Settings=Tn;Bi.SystemZone=Q1;Bi.VERSION=ane;Bi.Zone=k0;var Gl=Bi;ut.prototype.addYear=function(){this._date=this._date.plus({years:1})};ut.prototype.addMonth=function(){this._date=this._date.plus({months:1}).startOf("month")};ut.prototype.addDay=function(){this._date=this._date.plus({days:1}).startOf("day")};ut.prototype.addHour=function(){var n=this._date;this._date=this._date.plus({hours:1}).startOf("hour"),this._date<=n&&(this._date=this._date.plus({hours:1}))};ut.prototype.addMinute=function(){var n=this._date;this._date=this._date.plus({minutes:1}).startOf("minute"),this._date<n&&(this._date=this._date.plus({hours:1}))};ut.prototype.addSecond=function(){var n=this._date;this._date=this._date.plus({seconds:1}).startOf("second"),this._date<n&&(this._date=this._date.plus({hours:1}))};ut.prototype.subtractYear=function(){this._date=this._date.minus({years:1})};ut.prototype.subtractMonth=function(){this._date=this._date.minus({months:1}).endOf("month").startOf("second")};ut.prototype.subtractDay=function(){this._date=this._date.minus({days:1}).endOf("day").startOf("second")};ut.prototype.subtractHour=function(){var n=this._date;this._date=this._date.minus({hours:1}).endOf("hour").startOf("second"),this._date>=n&&(this._date=this._date.minus({hours:1}))};ut.prototype.subtractMinute=function(){var n=this._date;this._date=this._date.minus({minutes:1}).endOf("minute").startOf("second"),this._date>n&&(this._date=this._date.minus({hours:1}))};ut.prototype.subtractSecond=function(){var n=this._date;this._date=this._date.minus({seconds:1}).startOf("second"),this._date>n&&(this._date=this._date.minus({hours:1}))};ut.prototype.getDate=function(){return this._date.day};ut.prototype.getFullYear=function(){return this._date.year};ut.prototype.getDay=function(){var n=this._date.weekday;return n==7?0:n};ut.prototype.getMonth=function(){return this._date.month-1};ut.prototype.getHours=function(){return this._date.hour};ut.prototype.getMinutes=function(){return this._date.minute};ut.prototype.getSeconds=function(){return this._date.second};ut.prototype.getMilliseconds=function(){return this._date.millisecond};ut.prototype.getTime=function(){return this._date.valueOf()};ut.prototype.getUTCDate=function(){return this._getUTC().day};ut.prototype.getUTCFullYear=function(){return this._getUTC().year};ut.prototype.getUTCDay=function(){var n=this._getUTC().weekday;return n==7?0:n};ut.prototype.getUTCMonth=function(){return this._getUTC().month-1};ut.prototype.getUTCHours=function(){return this._getUTC().hour};ut.prototype.getUTCMinutes=function(){return this._getUTC().minute};ut.prototype.getUTCSeconds=function(){return this._getUTC().second};ut.prototype.toISOString=function(){return this._date.toUTC().toISO()};ut.prototype.toJSON=function(){return this._date.toJSON()};ut.prototype.setDate=function(n){this._date=this._date.set({day:n})};ut.prototype.setFullYear=function(n){this._date=this._date.set({year:n})};ut.prototype.setDay=function(n){this._date=this._date.set({weekday:n})};ut.prototype.setMonth=function(n){this._date=this._date.set({month:n+1})};ut.prototype.setHours=function(n){this._date=this._date.set({hour:n})};ut.prototype.setMinutes=function(n){this._date=this._date.set({minute:n})};ut.prototype.setSeconds=function(n){this._date=this._date.set({second:n})};ut.prototype.setMilliseconds=function(n){this._date=this._date.set({millisecond:n})};ut.prototype._getUTC=function(){return this._date.toUTC()};ut.prototype.toString=function(){return this.toDate().toString()};ut.prototype.toDate=function(){return this._date.toJSDate()};ut.prototype.isLastDayOfMonth=function(){var n=this._date.plus({days:1}).startOf("day");return this._date.month!==n.month};ut.prototype.isLastWeekdayOfMonth=function(){var n=this._date.plus({days:7}).startOf("day");return this._date.month!==n.month};function ut(n,e){var t={zone:e};if(n?n instanceof ut?this._date=n._date:n instanceof Date?this._date=Gl.DateTime.fromJSDate(n,t):typeof n=="number"?this._date=Gl.DateTime.fromMillis(n,t):typeof n=="string"&&(this._date=Gl.DateTime.fromISO(n,t),this._date.isValid||(this._date=Gl.DateTime.fromRFC2822(n,t)),this._date.isValid||(this._date=Gl.DateTime.fromSQL(n,t)),this._date.isValid||(this._date=Gl.DateTime.fromFormat(n,"EEE, d MMM yyyy HH:mm:ss",t))):this._date=Gl.DateTime.local(),!this._date||!this._date.isValid)throw new Error("CronDate: unhandled timestamp: "+JSON.stringify(n));e&&e!==this._date.zoneName&&(this._date=this._date.setZone(e))}var lne=ut;function hu(n){return{start:n,count:1}}function _9(n,e){n.end=e,n.step=e-n.start,n.count=2}function qy(n,e,t){e&&(e.count===2?(n.push(hu(e.start)),n.push(hu(e.end))):n.push(e)),t&&n.push(t)}function une(n){for(var e=[],t=void 0,r=0;r<n.length;r++){var i=n[r];typeof i!="number"?(qy(e,t,hu(i)),t=void 0):t?t.count===1?_9(t,i):t.step===i-t.end?(t.count++,t.end=i):t.count===2?(e.push(hu(t.start)),t=hu(t.end),_9(t,i)):(qy(e,t),t=hu(i)):t=hu(i)}return qy(e,t),e}var cne=une,hne=cne;function dne(n,e,t){var r=hne(n);if(r.length===1){var i=r[0],s=i.step;if(s===1&&i.start===e&&i.end===t)return"*";if(s!==1&&i.start===e&&i.end===t-s+1)return"*/"+s}for(var o=[],a=0,l=r.length;a<l;++a){var u=r[a];if(u.count===1){o.push(u.start);continue}var s=u.step;if(u.step===1){o.push(u.start+"-"+u.end);continue}var c=u.start==0?u.count-1:u.count;u.step*c>u.end?o=o.concat(Array.from({length:u.end-u.start+1}).map(function(d,f){var p=u.start+f;return(p-u.start)%u.step===0?p:null}).filter(function(d){return d!=null})):u.end===t-u.step+1?o.push(u.start+"/"+u.step):o.push(u.start+"-"+u.end+"/"+u.step)}return o.join(",")}var fne=dne,Vu=lne,pne=fne,T9=1e4;function Fe(n,e){this._options=e,this._utc=e.utc||!1,this._tz=this._utc?"UTC":e.tz,this._currentDate=new Vu(e.currentDate,this._tz),this._startDate=e.startDate?new Vu(e.startDate,this._tz):null,this._endDate=e.endDate?new Vu(e.endDate,this._tz):null,this._isIterator=e.iterator||!1,this._hasIterated=!1,this._nthDayOfWeek=e.nthDayOfWeek||0,this.fields=Fe._freezeFields(n)}Fe.map=["second","minute","hour","dayOfMonth","month","dayOfWeek"];Fe.predefined={"@yearly":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@hourly":"0 * * * *"};Fe.constraints=[{min:0,max:59,chars:[]},{min:0,max:59,chars:[]},{min:0,max:23,chars:[]},{min:1,max:31,chars:["L"]},{min:1,max:12,chars:[]},{min:0,max:7,chars:["L"]}];Fe.daysInMonth=[31,29,31,30,31,30,31,31,30,31,30,31];Fe.aliases={month:{jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},dayOfWeek:{sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6}};Fe.parseDefaults=["0","*","*","*","*","*"];Fe.standardValidCharacters=/^[,*\d/-]+$/;Fe.dayOfWeekValidCharacters=/^[?,*\dL#/-]+$/;Fe.dayOfMonthValidCharacters=/^[?,*\dL/-]+$/;Fe.validCharacters={second:Fe.standardValidCharacters,minute:Fe.standardValidCharacters,hour:Fe.standardValidCharacters,dayOfMonth:Fe.dayOfMonthValidCharacters,month:Fe.standardValidCharacters,dayOfWeek:Fe.dayOfWeekValidCharacters};Fe._isValidConstraintChar=function(e,t){return typeof t!="string"?!1:e.chars.some(function(r){return t.indexOf(r)>-1})};Fe._parseField=function(e,t,r){switch(e){case"month":case"dayOfWeek":var i=Fe.aliases[e];t=t.replace(/[a-z]{3}/gi,function(l){if(l=l.toLowerCase(),typeof i[l]<"u")return i[l];throw new Error('Validation error, cannot resolve alias "'+l+'"')});break}if(!Fe.validCharacters[e].test(t))throw new Error("Invalid characters, got value: "+t);t.indexOf("*")!==-1?t=t.replace(/\*/g,r.min+"-"+r.max):t.indexOf("?")!==-1&&(t=t.replace(/\?/g,r.min+"-"+r.max));function s(l){var u=[];function c(p){if(p instanceof Array)for(var m=0,y=p.length;m<y;m++){var v=p[m];if(Fe._isValidConstraintChar(r,v)){u.push(v);continue}if(typeof v!="number"||Number.isNaN(v)||v<r.min||v>r.max)throw new Error("Constraint error, got value "+v+" expected range "+r.min+"-"+r.max);u.push(v)}else{if(Fe._isValidConstraintChar(r,p)){u.push(p);return}var b=+p;if(Number.isNaN(b)||b<r.min||b>r.max)throw new Error("Constraint error, got value "+p+" expected range "+r.min+"-"+r.max);e==="dayOfWeek"&&(b=b%7),u.push(b)}}var h=l.split(",");if(!h.every(function(p){return p.length>0}))throw new Error("Invalid list value format");if(h.length>1)for(var d=0,f=h.length;d<f;d++)c(o(h[d]));else c(o(l));return u.sort(Fe._sortCompareFn),u}function o(l){var u=1,c=l.split("/");if(c.length>2)throw new Error("Invalid repeat: "+l);return c.length>1?(c[0]==+c[0]&&(c=[c[0]+"-"+r.max,c[1]]),a(c[0],c[c.length-1])):a(l,u)}function a(l,u){var c=[],h=l.split("-");if(h.length>1){if(h.length<2)return+l;if(!h[0].length){if(!h[1].length)throw new Error("Invalid range: "+l);return+l}var d=+h[0],f=+h[1];if(Number.isNaN(d)||Number.isNaN(f)||d<r.min||f>r.max)throw new Error("Constraint error, got range "+d+"-"+f+" expected range "+r.min+"-"+r.max);if(d>f)throw new Error("Invalid range: "+l);var p=+u;if(Number.isNaN(p)||p<=0)throw new Error("Constraint error, cannot repeat at every "+p+" time.");e==="dayOfWeek"&&f%7===0&&c.push(0);for(var m=d,y=f;m<=y;m++){var v=c.indexOf(m)!==-1;!v&&p>0&&p%u===0?(p=1,c.push(m)):p++}return c}return Number.isNaN(+l)?l:+l}return s(t)};Fe._sortCompareFn=function(n,e){var t=typeof n=="number",r=typeof e=="number";return t&&r?n-e:!t&&r?1:t&&!r?-1:n.localeCompare(e)};Fe._handleMaxDaysInMonth=function(n){if(n.month.length===1){var e=Fe.daysInMonth[n.month[0]-1];if(n.dayOfMonth[0]>e)throw new Error("Invalid explicit day of month definition");return n.dayOfMonth.filter(function(t){return t==="L"?!0:t<=e}).sort(Fe._sortCompareFn)}};Fe._freezeFields=function(n){for(var e=0,t=Fe.map.length;e<t;++e){var r=Fe.map[e],i=n[r];n[r]=Object.freeze(i)}return Object.freeze(n)};Fe.prototype._applyTimezoneShift=function(n,e,t){if(t==="Month"||t==="Day"){var r=n.getTime();n[e+t]();var i=n.getTime();r===i&&(n.getMinutes()===0&&n.getSeconds()===0?n.addHour():n.getMinutes()===59&&n.getSeconds()===59&&n.subtractHour())}else{var s=n.getHours();n[e+t]();var o=n.getHours(),a=o-s;a===2?this.fields.hour.length!==24&&(this._dstStart=o):a===0&&n.getMinutes()===0&&n.getSeconds()===0&&this.fields.hour.length!==24&&(this._dstEnd=o)}};Fe.prototype._findSchedule=function(e){function t(v,b){for(var k=0,_=b.length;k<_;k++)if(b[k]>=v)return b[k]===v;return b[0]===v}function r(v,b){if(b<6){if(v.getDate()<8&&b===1)return!0;var k=v.getDate()%7?1:0,_=v.getDate()-v.getDate()%7,C=Math.floor(_/7)+k;return C===b}return!1}function i(v){return v.length>0&&v.some(function(b){return typeof b=="string"&&b.indexOf("L")>=0})}e=e||!1;var s=e?"subtract":"add",o=new Vu(this._currentDate,this._tz),a=this._startDate,l=this._endDate,u=o.getTime(),c=0;function h(v){return v.some(function(b){if(!i([b]))return!1;var k=Number.parseInt(b[0])%7;if(Number.isNaN(k))throw new Error("Invalid last weekday of the month expression: "+b);return o.getDay()===k&&o.isLastWeekdayOfMonth()})}for(;c<T9;){if(c++,e){if(a&&o.getTime()-a.getTime()<0)throw new Error("Out of the timespan range")}else if(l&&l.getTime()-o.getTime()<0)throw new Error("Out of the timespan range");var d=t(o.getDate(),this.fields.dayOfMonth);i(this.fields.dayOfMonth)&&(d=d||o.isLastDayOfMonth());var f=t(o.getDay(),this.fields.dayOfWeek);i(this.fields.dayOfWeek)&&(f=f||h(this.fields.dayOfWeek));var p=this.fields.dayOfMonth.length>=Fe.daysInMonth[o.getMonth()],m=this.fields.dayOfWeek.length===Fe.constraints[5].max-Fe.constraints[5].min+1,y=o.getHours();if(!d&&(!f||m)){this._applyTimezoneShift(o,s,"Day");continue}if(!p&&m&&!d){this._applyTimezoneShift(o,s,"Day");continue}if(p&&!m&&!f){this._applyTimezoneShift(o,s,"Day");continue}if(this._nthDayOfWeek>0&&!r(o,this._nthDayOfWeek)){this._applyTimezoneShift(o,s,"Day");continue}if(!t(o.getMonth()+1,this.fields.month)){this._applyTimezoneShift(o,s,"Month");continue}if(t(y,this.fields.hour)){if(this._dstEnd===y&&!e){this._dstEnd=null,this._applyTimezoneShift(o,"add","Hour");continue}}else if(this._dstStart!==y){this._dstStart=null,this._applyTimezoneShift(o,s,"Hour");continue}else if(!t(y-1,this.fields.hour)){o[s+"Hour"]();continue}if(!t(o.getMinutes(),this.fields.minute)){this._applyTimezoneShift(o,s,"Minute");continue}if(!t(o.getSeconds(),this.fields.second)){this._applyTimezoneShift(o,s,"Second");continue}if(u===o.getTime()){s==="add"||o.getMilliseconds()===0?this._applyTimezoneShift(o,s,"Second"):o.setMilliseconds(0);continue}break}if(c>=T9)throw new Error("Invalid expression, loop limit exceeded");return this._currentDate=new Vu(o,this._tz),this._hasIterated=!0,o};Fe.prototype.next=function(){var e=this._findSchedule();return this._isIterator?{value:e,done:!this.hasNext()}:e};Fe.prototype.prev=function(){var e=this._findSchedule(!0);return this._isIterator?{value:e,done:!this.hasPrev()}:e};Fe.prototype.hasNext=function(){var n=this._currentDate,e=this._hasIterated;try{return this._findSchedule(),!0}catch{return!1}finally{this._currentDate=n,this._hasIterated=e}};Fe.prototype.hasPrev=function(){var n=this._currentDate,e=this._hasIterated;try{return this._findSchedule(!0),!0}catch{return!1}finally{this._currentDate=n,this._hasIterated=e}};Fe.prototype.iterate=function(e,t){var r=[];if(e>=0)for(var i=0,s=e;i<s;i++)try{var o=this.next();r.push(o),t&&t(o,i)}catch{break}else for(var i=0,s=e;i>s;i--)try{var o=this.prev();r.push(o),t&&t(o,i)}catch{break}return r};Fe.prototype.reset=function(e){this._currentDate=new Vu(e||this._options.currentDate)};Fe.prototype.stringify=function(e){for(var t=[],r=e?0:1,i=Fe.map.length;r<i;++r){var s=Fe.map[r],o=this.fields[s],a=Fe.constraints[r];s==="dayOfMonth"&&this.fields.month.length===1?a={min:1,max:Fe.daysInMonth[this.fields.month[0]-1]}:s==="dayOfWeek"&&(a={min:0,max:6},o=o[o.length-1]===7?o.slice(0,-1):o),t.push(pne(o,a.min,a.max))}return t.join(" ")};Fe.parse=function(e,t){var r=this;typeof t=="function"&&(t={});function i(s,o){o||(o={}),typeof o.currentDate>"u"&&(o.currentDate=new Vu(void 0,r._tz)),Fe.predefined[s]&&(s=Fe.predefined[s]);var a=[],l=(s+"").trim().split(/\s+/);if(l.length>6)throw new Error("Invalid cron expression");for(var u=Fe.map.length-l.length,c=0,h=Fe.map.length;c<h;++c){var d=Fe.map[c],f=l[l.length>h?c:c-u];if(c<u||!f)a.push(Fe._parseField(d,Fe.parseDefaults[c],Fe.constraints[c]));else{var p=d==="dayOfWeek"?b(f):f;a.push(Fe._parseField(d,p,Fe.constraints[c]))}}for(var m={},c=0,h=Fe.map.length;c<h;c++){var y=Fe.map[c];m[y]=a[c]}var v=Fe._handleMaxDaysInMonth(m);return m.dayOfMonth=v||m.dayOfMonth,new Fe(m,o);function b(k){var _=k.split("#");if(_.length>1){var C=+_[_.length-1];if(/,/.test(k))throw new Error("Constraint error, invalid dayOfWeek `#` and `,` special characters are incompatible");if(/\//.test(k))throw new Error("Constraint error, invalid dayOfWeek `#` and `/` special characters are incompatible");if(/-/.test(k))throw new Error("Constraint error, invalid dayOfWeek `#` and `-` special characters are incompatible");if(_.length>2||Number.isNaN(C)||C<1||C>5)throw new Error("Constraint error, invalid dayOfWeek occurrence number (#)");return o.nthDayOfWeek=C,_[0]}return k}}return i(e,t)};Fe.fieldsToExpression=function(e,t){function r(d,f,p){if(!f)throw new Error("Validation error, Field "+d+" is missing");if(f.length===0)throw new Error("Validation error, Field "+d+" contains no values");for(var m=0,y=f.length;m<y;m++){var v=f[m];if(!Fe._isValidConstraintChar(p,v)&&(typeof v!="number"||Number.isNaN(v)||v<p.min||v>p.max))throw new Error("Constraint error, got value "+v+" expected range "+p.min+"-"+p.max)}}for(var i={},s=0,o=Fe.map.length;s<o;++s){var a=Fe.map[s],l=e[a];r(a,l,Fe.constraints[s]);for(var u=[],c=-1;++c<l.length;)u[c]=l[c];if(l=u.sort(Fe._sortCompareFn).filter(function(d,f,p){return!f||d!==p[f-1]}),l.length!==u.length)throw new Error("Validation error, Field "+a+" contains duplicate values");i[a]=l}var h=Fe._handleMaxDaysInMonth(i);return i.dayOfMonth=h||i.dayOfMonth,new Fe(i,t||{})};var mne=Fe;const gne={},yne=Object.freeze(Object.defineProperty({__proto__:null,default:gne},Symbol.toStringTag,{value:"Module"})),vne=JB(yne);var i2=mne;function bl(){}bl._parseEntry=function(e){var t=e.split(" ");if(t.length===6)return{interval:i2.parse(e)};if(t.length>6)return{interval:i2.parse(t.slice(0,6).join(" ")),command:t.slice(6,t.length)};throw new Error("Invalid entry: "+e)};bl.parseExpression=function(e,t){return i2.parse(e,t)};bl.fieldsToExpression=function(e,t){return i2.fieldsToExpression(e,t)};bl.parseString=function(e){for(var t=e.split(`
`),r={variables:{},expressions:[],errors:{}},i=0,s=t.length;i<s;i++){var o=t[i],a=null,l=o.trim();if(l.length>0){if(l.match(/^#/))continue;if(a=l.match(/^(.*)=(.*)$/))r.variables[a[1]]=a[2];else{var u=null;try{u=bl._parseEntry("0 "+l),r.expressions.push(u.interval)}catch(c){r.errors[l]=c}}}}return r};bl.parseFile=function(e,t){vne.readFile(e,function(r,i){if(r){t(r);return}return t(null,bl.parseString(i.toString()))})};var tE=bl;function s2(n){return`${n.minute} ${n.hour} ${n.day} ${n.month} ${n.weekday}`}function nE(n){const[e,t,r,i,s]=n.split(" ");return{minute:e||"*",hour:t||"*",day:r||"*",month:i||"*",weekday:s||"*"}}const wne=n=>n.some(e=>e.includes("-")||e.includes(",")||e.includes("/"));function bne(n){const{hour:e,day:t,weekday:r,month:i,minute:s}=n;return wne([i,t,r,e,s])||i!=="*"?"custom":r!=="*"?t==="*"?"weekly":"custom":t!=="*"?"monthly":e!=="*"?"daily":s!=="*"?"hourly":"custom"}function kne(n){return n.split(" ").length===5}function rE(n){try{return tE.parseExpression(n,{}),!0}catch{return!1}}const xne=he({__name:"CronEditor",props:{value:{}},emits:["update:value"],setup(n,{emit:e}){const t=W(()=>{const y=r.value.hour,v=r.value.minute;return Nk(`${y}:${v}`,"HH:mm")}),r=n,i=V(!1),s=W(()=>l.value.periodicity!="custom"?{message:"",status:"success"}:i.value&&kne(l.value.crontabStr)||rE(l.value.crontabStr)?{message:"",status:"success"}:{message:"Invalid expression",status:"error"});function o(y){switch(bne(y)){case"custom":return{periodicity:"custom",crontabStr:s2(y)};case"hourly":return{periodicity:"hourly",minute:y.minute};case"daily":return{periodicity:"daily",hour:y.hour,minute:y.minute};case"weekly":return{periodicity:"weekly",weekday:y.weekday,hour:y.hour,minute:y.minute};case"monthly":return{periodicity:"monthly",day:y.day,hour:y.hour,minute:y.minute}}}function a(y){switch(y.periodicity){case"custom":return nE(y.crontabStr);case"hourly":return{minute:y.minute,hour:"*",day:"*",month:"*",weekday:"*"};case"daily":return{minute:y.minute,hour:y.hour,day:"*",month:"*",weekday:"*"};case"weekly":return{minute:y.minute,hour:y.hour,day:"*",month:"*",weekday:y.weekday};case"monthly":return{minute:y.minute,hour:y.hour,day:y.day,month:"*",weekday:"*"}}}const l=Qu(o(r.value)),u=e;function c(y){l.value={periodicity:"custom",crontabStr:y},u("update:value",a(l.value))}const h=y=>{l.value=o(lee[y]),u("update:value",a(l.value))},d=y=>{parseInt(y)>59||(l.value={periodicity:"hourly",minute:y.length?y:"0"},u("update:value",a(l.value)))},f=y=>{const v=Nk(y);switch(l.value.periodicity){case"daily":l.value={periodicity:l.value.periodicity,hour:v.hour().toString(),minute:v.minute().toString()};break;case"weekly":l.value={periodicity:l.value.periodicity,weekday:l.value.weekday,hour:v.hour().toString(),minute:v.minute().toString()};break;case"monthly":l.value={periodicity:l.value.periodicity,day:l.value.day,hour:v.hour().toString(),minute:v.minute().toString()};break}u("update:value",a(l.value))},p=y=>{l.value={periodicity:"weekly",weekday:y,hour:"0",minute:"0"},u("update:value",a(l.value))},m=y=>{l.value={periodicity:"monthly",day:y,hour:"0",minute:"0"},u("update:value",a(l.value))};return(y,v)=>(x(),P(Ve,null,[A(g(yt),{title:"Recurrence"},{default:T(()=>[A(g(xo),{placeholder:"Choose a periodicity",value:l.value.periodicity,"onUpdate:value":h},{default:T(()=>[v[2]||(v[2]=te(" > ",-1)),(x(!0),P(Ve,null,wt(g(aee),(b,k)=>(x(),U(g(ml),{key:k,value:b},{default:T(()=>[te(X(b),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),A(g(yt),{help:s.value.message,"validate-status":s.value.status},{default:T(()=>[l.value.periodicity==="custom"?(x(),U(g(qt),{key:0,value:l.value.crontabStr,"onUpdate:value":c,onBlur:v[0]||(v[0]=b=>i.value=!1),onFocus:v[1]||(v[1]=b=>i.value=!0)},null,8,["value"])):l.value.periodicity==="hourly"?(x(),U(g(qt),{key:1,value:parseInt(n.value.minute),"onUpdate:value":d},{addonBefore:T(()=>[...v[3]||(v[3]=[te(" at ",-1)])]),addonAfter:T(()=>[...v[4]||(v[4]=[te(" minutes ",-1)])]),_:1},8,["value"])):l.value.periodicity==="daily"?(x(),U(g(Zm),{key:2},{default:T(()=>[v[5]||(v[5]=te(" on ",-1)),A(g(Iy),{value:t.value,format:"HH:mm","allow-clear":!1,"onUpdate:value":f},null,8,["value"]),v[6]||(v[6]=te(" UTC ",-1))]),_:1})):l.value.periodicity==="weekly"?(x(),U(g(Zm),{key:3},{default:T(()=>[v[7]||(v[7]=te(" on ",-1)),A(g(xo),{style:{width:"200px"},value:Object.values(g(Ly))[parseInt(l.value.weekday)],"onUpdate:value":p},{default:T(()=>[(x(!0),P(Ve,null,wt(g(Ly),(b,k)=>(x(),U(g(ml),{key:k,value:k,selected:b===Object.values(g(Ly))[parseInt(n.value.weekday)]},{default:T(()=>[te(X(b),1)]),_:2},1032,["value","selected"]))),128))]),_:1},8,["value"]),v[8]||(v[8]=te(" at ",-1)),A(g(Iy),{value:t.value,format:"HH:mm","allow-clear":!1,"onUpdate:value":f},null,8,["value"]),v[9]||(v[9]=te(" UTC ",-1))]),_:1})):l.value.periodicity==="monthly"?(x(),U(g(Zm),{key:4},{default:T(()=>[v[10]||(v[10]=te(" on ",-1)),A(g(xo),{style:{width:"60px"},value:l.value.day,"onUpdate:value":m},{default:T(()=>[(x(),P(Ve,null,wt(31,b=>A(g(ml),{key:b,value:b},{default:T(()=>[te(X(b),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"]),v[11]||(v[11]=te(" at ",-1)),A(g(Iy),{value:t.value,format:"HH:mm","allow-clear":!1,"onUpdate:value":f},null,8,["value"]),v[12]||(v[12]=te(" UTC ",-1))]),_:1})):ue("",!0)]),_:1},8,["help","validate-status"])],64))}}),Sne=he({__name:"NextRuns",props:{crontab:{}},setup(n){const e=n,t=Intl.DateTimeFormat().resolvedOptions().timeZone,r=W(()=>new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"long",timeZone:t})),i=W(()=>{const o=tE.parseExpression(s2(e.crontab),{tz:"UTC"}),a=[];for(let l=0;l<8;l++)a.push(o.next().toDate());return a}),s=W(()=>rE(s2(e.crontab)));return(o,a)=>(x(),U(g(Gh),{direction:"vertical",style:{width:"100%"}},{default:T(()=>[A(g(uo),{level:3},{default:T(()=>[te(X(g(z).translate("i18n_nextruns_next_runs")),1)]),_:1}),s.value?(x(),U(g(__),{key:0,size:"small",bordered:""},{default:T(()=>[(x(!0),P(Ve,null,wt(i.value,(l,u)=>(x(),U(g(A_),{key:u},{default:T(()=>[te(X(r.value.format(l)),1)]),_:2},1024))),128))]),_:1})):ue("",!0)]),_:1}))}}),Cne=he({__name:"JobSettings",props:{job:{}},setup(n){const t=Jc(n,"job"),r=Xu(nE(t.value.schedule)),i=s=>{r.minute==s.minute&&r.hour==s.hour&&r.day==s.day&&r.month==s.month&&r.weekday==s.weekday||(r.minute=s.minute,r.hour=s.hour,r.day=s.day,r.month=s.month,r.weekday=s.weekday,t.value.schedule=s2(r))};return(s,o)=>(x(),U(g(li),{class:"schedule-editor",layout:"vertical",style:{padding:"20px"}},{default:T(()=>[A(g(yt),{label:g(z).translate("i18n_jobsettings_name_label"),required:""},{default:T(()=>[A(g(qt),{value:t.value.title,"onUpdate:value":o[0]||(o[0]=a=>t.value.title=a)},null,8,["value"])]),_:1},8,["label"]),A(h4,{runtime:t.value},null,8,["runtime"]),A(g(uo),{level:3},{default:T(()=>[te(X(g(z).translate("i18n_jobsettings_schedule")),1)]),_:1}),A(xne,{value:r,"onUpdate:value":i},null,8,["value"]),A(Sne,{crontab:r},null,8,["crontab"])]),_:1}))}}),Mne=he({__name:"ScriptSettings",props:{script:{}},setup(n){const t=Jc(n,"script");return(r,i)=>(x(),U(g(li),{layout:"vertical",style:{padding:"20px"}},{default:T(()=>[A(g(yt),{label:g(z).translate("i18n_scriptsettings_name_label"),required:""},{default:T(()=>[A(g(qt),{value:t.value.title,"onUpdate:value":i[0]||(i[0]=s=>t.value.title=s)},null,8,["value"])]),_:1},8,["label"]),A(h4,{runtime:t.value},null,8,["runtime"])]),_:1}))}});class Wy{static async getAutocomplete(e){try{return await(await fetch("/_editor/api/pysa/autocomplete",{headers:{"content-type":"application/json"},body:JSON.stringify(e),method:"POST"})).json()}catch{return[]}}static async getHelp(e){try{return await(await fetch("/_editor/api/pysa/help",{headers:{"content-type":"application/json"},body:JSON.stringify(e),method:"POST"})).json()}catch{return[]}}static async getLint(e){try{return await(await fetch("/_editor/api/pysa/lint",{headers:{"content-type":"application/json"},body:JSON.stringify(e),method:"POST"})).json()}catch{return[]}}}class iE{constructor(e){this.siteId=e}}class Bf extends iE{constructor(t,r,i){super(i);Ye(this,"type","insert");this.pos=t,this.value=r}merge(t){return t instanceof Bf&&t.pos===this.pos+this.value.length&&t.siteId===this.siteId?(this.value+=t.value,!0):(t instanceof Ff,!1)}}class Ff extends iE{constructor(t,r,i){super(i);Ye(this,"type","delete");this.pos=t,this.length=r}merge(t){return t instanceof Ff&&t.pos===this.pos&&t.siteId===this.siteId?(this.length+=t.length,!0):(t instanceof Bf,!1)}}function Ane(n){if(n.length===0)return[];const e=[];for(const t of n){if(e.length===0){e.push(t);continue}e[e.length-1].merge(t)||e.push(t)}return e}class _ne{constructor(){Ye(this,"_locked",!1)}lock(){this._locked=!0}unlock(){this._locked=!1}isLocked(){return this._locked}}const jy=(n,e)=>{let t=0,r=0;for(;r<e&&r<n.length;){const i=n.codePointAt(r);i&&i>65535?r+=2:r+=1,t+=1}return t},E9=(n,e,t)=>{let r=0,i=e;const s=e+t;for(;i<s&&i<n.length;){const o=n.codePointAt(i);o&&o>65535?i+=2:i+=1,r+=1}return r},Tne="Cannot edit during preview execution",Kp=new Map,Ene=(n,e,t)=>`${JF(n)}:${e}:${t}`;let O9=!1;const One=n=>{const e=`monaco-site-${ha().substring(0,8)}`,t=V("editor"),r=V(""),i=V(null),s=V(null),o=V(null),a=V(!1),l=V(!1),u=V(!1);let c={};const h=V([]),d=V([]),f=new _ne;let p="";const m=b0(),y=N=>{switch(N){case"error":return id.Error;case"warning":return id.Warning;case"info":return id.Info;case"hint":return id.Hint;default:return id.Error}};function v(N){return N in c?"\n\n```python\n"+N+" = "+c[N]+"\n```":""}const b=N=>N.text.length>0&&N.rangeLength===0?"insert":N.text.length===0&&N.rangeLength>0?"delete":"replace",k=(N,j,Z)=>{const re=jy(j,N.rangeOffset);return new Bf(re,N.text,Z)},_=(N,j)=>{const Z=jy(p,N.rangeOffset),re=E9(p,N.rangeOffset,N.rangeLength);return new Ff(Z,re,j)},C=(N,j)=>{const Z=jy(p,N.rangeOffset),re=E9(p,N.rangeOffset,N.rangeLength),J=new Ff(Z,re,j),K=new Bf(Z,N.text,j);return[J,K]};O9||(O9=!0,Vp.registerHoverProvider("python",{async provideHover(N,j){const Z=N.getWordAtPosition(j);if(!Z)return null;const re=N.getValue(),J=Ene(re,j.lineNumber,j.column);if(Kp.has(J)){const ne=Kp.get(J);if(ne)return{contents:ne.map(pe=>({value:pe.docstring+v(pe.name)})),range:new Ny(j.lineNumber,Z.startColumn,j.lineNumber,Z.endColumn)}}const K=await Wy.getHelp({code:re,line:j.lineNumber,column:j.column});return Kp.set(J,K),{contents:K.map(ne=>({value:ne.docstring+v(ne.name)})),range:new Ny(j.lineNumber,Z.startColumn,j.lineNumber,Z.endColumn)}}}),Vp.registerCompletionItemProvider("python",{async provideCompletionItems(N,j){const Z=await Wy.getAutocomplete({code:N.getValue(),line:j.lineNumber,column:j.column-1}),re=N.getWordUntilPosition(j);return{suggestions:Z.map(J=>({label:J.name,kind:Vp.CompletionItemKind.Function,documentation:J.documentation,insertText:J.name,insertTextRules:Vp.CompletionItemInsertTextRule.InsertAsSnippet,range:{startLineNumber:j.lineNumber,endLineNumber:j.lineNumber,startColumn:re.startColumn,endColumn:re.endColumn}}))}}}));const M=N=>{N.getLanguageId()==="python"&&Wy.getLint({code:N.getValue(),line:0,column:0}).then(j=>{rd.setModelMarkers(N,N.getLanguageId(),j.map(Z=>({startLineNumber:Z.line,startColumn:Z.column,endLineNumber:Z.until_line,endColumn:Z.until_column,message:Z.message,severity:y(Z.severity)})))})},O=async()=>{if(h.value.length===0||d.value.length===0)return;const N=Ane(d.value);d.value=[];try{await n.safeEditFile(h.value,N)}catch{d.value=[...N,...d.value]}},D=async()=>{if(l.value){u.value=!0;return}l.value=!0,u.value=!1;try{await O()}finally{a.value=!1,l.value=!1,u.value&&(u.value=!1,$())}},$=Ai.exports.debounce(D,1e3);return{setup:(N,j,Z,re,J,K={})=>{var yn,Bt;h.value=Z,o.value=re;const ne=rd.create(N,{language:K.language||"python",value:j,minimap:{enabled:!1},readOnly:(yn=K.readOnly)!=null?yn:!1,contextmenu:!K.readOnly,automaticLayout:!K.readOnly,fixedOverflowWidgets:!0,theme:(Bt=K.theme)!=null?Bt:"vs",scrollBeyondLastColumn:K.readOnly?0:5,scrollBeyondLastLine:!K.readOnly,renderLineHighlight:K.readOnly?"none":"all"}),pe=ne.getModel();pe&&M(pe),p=ne.getValue();const B=ne.getContribution("editor.contrib.messageController");ne.onDidAttemptReadOnlyEdit(()=>{if(!ne)throw new Error("Editor not initialized");B.showMessage(Tne,ne.getPosition())}),ne.onDidChangeModelContent(Rt=>{const vn=ne==null?void 0:ne.getModel();vn&&M(vn),Kp.clear(),!f.isLocked()&&(a.value=!0,Rt.changes.forEach(jt=>{const In=b(jt),Gt=ne.getValue();if(In==="insert"){const wn=k(jt,Gt,e);d.value.push(wn)}else if(In==="delete"){const wn=_(jt,e);d.value.push(wn)}else{const[wn,Jn]=C(jt,e);d.value.push(wn),d.value.push(Jn)}$()}),p=ne.getValue())});const Ce=ne.createDecorationsCollection([]),ae=(Rt,vn)=>jt=>{const In=jt.filter(Gt=>Gt.filename.endsWith(vn));Ce.set(In.map(Gt=>({range:new Ny(Gt.lineno,1,Gt.lineno,1),options:{isWholeLine:!0,className:Rt}}))),c=In.reduce((Gt,wn)=>({...Gt,...wn.locals}),{})},L=()=>{Ce.clear(),c={}},we=Rt=>{ne.updateOptions({readOnly:Rt})},ge=Rt=>{if(ne&&Rt!==ne.getValue()){const vn=ne.getPosition();f.lock();const jt=ne.getModel();jt&&d.value.length===0&&ne.executeEdits("remote-update",[{range:jt.getFullModelRange(),text:Rt,forceMoveMarkers:!0}]),vn&&ne.setPosition(vn),f.unlock()}};return Et(m.lastEvent,async()=>{var vn;const Rt=h.value.join("/");if((vn=m.lastEvent.value)!=null&&vn.filepath.includes(Rt)){if(t.value!=="editor"){r.value="The updates will be applied when the preview ends";return}const jt=m.lastEvent.value.content;if(!jt)return;ge(jt)}}),{editor:ne,highlight:ae,clearHighlights:L,setReadOnly:we,acceptSmartChatSuggestion:()=>{i.value&&ge(i.value),r.value="",t.value="editor",i.value=null,s.value=null},declineSmartChatSuggestion:()=>{if(o.value){const Rt=s.value||o.value.codeContent;ge(Rt)}i.value=null,s.value=null,r.value="",t.value="editor"},finishPreview:async()=>{t.value="editor";const Rt=await J.readFile(re.file);Rt&&Rt!==ne.getValue()&&ge(Rt),r.value=""}}},setupCodeDiffEditor:(N,j,Z)=>{const re=rd.createModel(j),J=rd.createModel(Z),K=rd.createDiffEditor(N,{minimap:{enabled:!1},readOnly:!0,contextmenu:!1,automaticLayout:!0,renderWhitespace:"none",guides:{indentation:!1},scrollBeyondLastColumn:0,scrollBeyondLastLine:!1,renderLineHighlight:"none"});return K.setModel({original:re,modified:J}),{diffEditor:K,originalModel:re,modifiedModel:J}},inspectionSuffix:v,forceFlushCRDTOps:O,markErrors:M,saving:a,viewMode:t,alertMessage:r,smartChatCode:i,codeBeforeSmartChatDiff:s}},Ine={class:"source-code-container"},Dne={class:"code-container"},Nne={key:0,class:"not-found-container"},Lne=["id"],Pne=["id"],Rne=he({__name:"SourceCode",props:{script:{},workspace:{},paneKey:{},panesInfo:{},controller:{},language:{},smartChatController:{},codeToDiff:{}},setup(n,{expose:e}){var G,N;const t=n,r=V(ha()),i=V(null),s=V(null),o=One(t.controller.codebase),a=async j=>{if(!t.script){b.value=!0;return}const Z=(l==null?void 0:l.getValue())||t.script.codeContent;o.codeBeforeSmartChatDiff.value=Z,o.viewMode.value="diff",o.smartChatCode.value=j!=null?j:null,await bo(),O()};let l,u,c,h,d,f,p,m=null,y=null;const v=V((N=(G=t.script)==null?void 0:G.file)!=null?N:"");Et(()=>{var j;return(j=t.script)==null?void 0:j.file},async j=>{v.value=j!=null?j:"",j?await t.workspace.readFile(j)===null?(b.value=!0,t.controller.panes.removeTab(t.paneKey)):(b.value=!1,await _()):(b.value=!0,t.controller.panes.removeTab(t.paneKey))});const b=V(!1),k=j=>{o.alertMessage.value=z.translate("i18n_editor_sourcecode_replace_from_smartchat"),a(j)},_=async()=>{var J;if(!((J=t.script)!=null&&J.file)){b.value=!0,t.controller.panes.removeTab(t.paneKey);return}const j=await t.workspace.readFile(t.script.file);if(j===null){b.value=!0,t.controller.panes.removeTab(t.paneKey);return}const Z=o.setup(i.value,j,[t.script.file],t.script,t.workspace);l=Z.editor,u=Z.clearHighlights,c=Z.highlight,h=Z.setReadOnly,d=Z.acceptSmartChatSuggestion,f=Z.declineSmartChatSuggestion,p=Z.finishPreview;const re=l.getModel();re&&o.markErrors(re),t.codeToDiff&&k(t.codeToDiff)};On(async()=>{await _()}),J1(async()=>{m&&m.dispose(),y&&(y.original.dispose(),y.modified.dispose()),l&&l.dispose(),await o.forceFlushCRDTOps()});const C=()=>{h(!0),o.viewMode.value="preview"},M=(j,Z)=>{var re;if(!!((re=t.script)!=null&&re.file)){if(Z)return c("error-line",t.script.file)(j);c("executing-line",t.script.file)(j)}};Et(()=>t.codeToDiff,j=>{j&&k(j)}),Et(()=>o.viewMode.value,(j,Z)=>{Z==="diff"&&j==="editor"&&(m&&(m.dispose(),m=null),y&&(y.original.dispose(),y.modified.dispose(),y=null))});const O=async()=>{var J;if(m&&(m.dispose(),m=null),y&&(y.original.dispose(),y.modified.dispose(),y=null),!((J=t.script)!=null&&J.file)){b.value=!0;return}let j=o.smartChatCode.value;if(j||(j=await t.workspace.readFile(t.script.file)),!j){b.value=!0;return}const Z=o.codeBeforeSmartChatDiff.value||t.script.codeContent,re=o.setupCodeDiffEditor(s.value,Z,j);m=re.diffEditor,y={original:re.originalModel,modified:re.modifiedModel}},D=j=>{!o.smartChatCode.value||(m&&(m.dispose(),m=null),y&&(y.original.dispose(),y.modified.dispose(),y=null),j==="approve"?d():f())},$=()=>{u(),h(!1),p()},R=W(()=>{var j,Z;return{isPreview:o.viewMode.value==="preview",file:(Z=(j=t.script)==null?void 0:j.file)!=null?Z:""}});return e({startPreviewMode:C,setHighlight:M,restartEditor:$,exitDiff:D,previewInfo:R,saving:o.saving,paneKey:t.paneKey}),(j,Z)=>(x(),P("div",Ine,[g(o).alertMessage.value?(x(),U(g(Ds),{key:0,type:"warning","show-icon":"",message:g(o).alertMessage.value},null,8,["message"])):ue("",!0),F("div",Dne,[b.value?(x(),P("div",Nne,[A(g(M_),{title:g(z).translate("i18n_editor_sourcecode_file_not_found")},null,8,["title"])])):ue("",!0),F("div",{id:`code-${r.value}`,ref_key:"codeComponent",ref:i,class:si(["monaco-element",{hide:g(o).viewMode.value==="diff",blur:b.value}])},null,10,Lne),o4(F("div",{id:`code-diff-${r.value}`,ref_key:"codeDiffComponent",ref:s,class:si(["monaco-element",{hide:g(o).viewMode.value!=="diff"}])},null,10,Pne),[[w_,g(o).viewMode.value==="diff"]])])]))}});const I9=bt(Rne,[["__scopeId","data-v-082a205d"]]),$ne=1024;let Bne=0;class ts{constructor(e,t){this.from=e,this.to=t}}class St{constructor(e={}){this.id=Bne++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Fr.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}St.closedBy=new St({deserialize:n=>n.split(" ")});St.openedBy=new St({deserialize:n=>n.split(" ")});St.group=new St({deserialize:n=>n.split(" ")});St.isolate=new St({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});St.contextHash=new St({perNode:!0});St.lookAhead=new St({perNode:!0});St.mounted=new St({perNode:!0});class zf{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[St.mounted.id]}}const Fne=Object.create(null);class Fr{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):Fne,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Fr(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(St.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(St.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}}Fr.none=new Fr("",Object.create(null),0,8);class U5{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);if(o){i||(i=Object.assign({},r.props));let a=o[1],l=o[0];l.combine&&l.id in i&&(a=l.combine(i[l.id],a)),i[l.id]=a}}t.push(i?new Fr(r.name,i,r.id,r.flags):r)}return new U5(t)}}const Yp=new WeakMap,D9=new WeakMap;var Mn;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Mn||(Mn={}));class ln{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=zf.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new o2(this.topNode,e)}cursorAt(e,t=0,r=0){let i=Yp.get(this)||this.topNode,s=new o2(i);return s.moveTo(e,t),Yp.set(this,s._tree),s}get topNode(){return new Ar(this,0,0,null)}resolve(e,t=0){let r=Hf(Yp.get(this)||this.topNode,e,t,!1);return Yp.set(this,r),r}resolveInner(e,t=0){let r=Hf(D9.get(this)||this.topNode,e,t,!0);return D9.set(this,r),r}resolveStack(e,t=0){return Vne(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&Mn.IncludeAnonymous)>0;for(let l=this.cursor(o|Mn.IncludeAnonymous);;){let u=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Y5(Fr.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new ln(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new ln(Fr.none,t,r,i)))}static build(e){return qne(e)}}ln.empty=new ln(Fr.none,[],[],0);class G5{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new G5(this.buffer,this.index)}}class kl{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Fr.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(sE(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let u=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,u)}return new kl(s,o,this.set)}}function sE(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Hf(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Ar&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:Mn.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Ar&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}class oE{cursor(e=0){return new o2(this,e)}getChild(e,t=null,r=null){let i=N9(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return N9(this,e,t,r)}resolve(e,t=0){return Hf(this,e,t,!1)}resolveInner(e,t=0){return Hf(this,e,t,!0)}matchContext(e){return G6(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}}class Ar extends oE{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,u=t>0?a.length:-1;e!=u;e+=t){let c=a[e],h=l[e]+o.from;if(!!sE(i,r,h,h+c.length)){if(c instanceof kl){if(s&Mn.ExcludeBuffers)continue;let d=c.findChild(0,c.buffer.length,t,r-h,i);if(d>-1)return new po(new zne(o,c,e,h),null,d)}else if(s&Mn.IncludeAnonymous||!c.type.isAnonymous||K5(c)){let d;if(!(s&Mn.IgnoreMounts)&&(d=zf.get(c))&&!d.overlay)return new Ar(d.tree,h,e,o);let f=new Ar(c,h,e,o);return s&Mn.IncludeAnonymous||!f.type.isAnonymous?f:f.nextChild(t<0?c.children.length-1:0,t,r,i)}}}if(s&Mn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&Mn.IgnoreOverlays)&&(i=zf.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Ar(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function N9(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function G6(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class zne{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class po extends oE{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new po(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Mn.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new po(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new po(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new po(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new ln(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function aE(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Ar&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new Hne(i,t)}class Hne{constructor(e,t){this.heads=e,this.node=t}get next(){return aE(this.heads)}}function Vne(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Ar?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=zf.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Ar(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Hf(a,e,t,!1))}}return i?aE(i):r}class o2{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ar)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Ar?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&Mn.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Mn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Mn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&Mn.IncludeAnonymous||a instanceof kl||!a.type.isAnonymous||K5(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer){e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}}for(let i=r;i<this.stack.length;i++)t=new po(this.buffer,t,this.stack[i]);return this.bufferNode=new po(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return G6(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return G6(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function K5(n){return n.children.some(e=>e instanceof kl||!e.type.isAnonymous||K5(e))}function qne(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=$ne,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new G5(t,t.length):t,l=r.types,u=0,c=0;function h(C,M,O,D,$,R){let{id:G,start:N,end:j,size:Z}=a,re=c,J=u;if(Z<0)if(a.next(),Z==-1){let Ce=s[G];O.push(Ce),D.push(N-C);return}else if(Z==-3){u=G;return}else if(Z==-4){c=G;return}else throw new RangeError(`Unrecognized record size: ${Z}`);let K=l[G],ne,pe,B=N-C;if(j-N<=i&&(pe=y(a.pos-M,$))){let Ce=new Uint16Array(pe.size-pe.skip),ae=a.pos-pe.size,L=Ce.length;for(;a.pos>ae;)L=v(pe.start,Ce,L);ne=new kl(Ce,j-pe.start,r),B=pe.start-C}else{let Ce=a.pos-Z;a.next();let ae=[],L=[],we=G>=o?G:-1,ge=0,Ne=j;for(;a.pos>Ce;)we>=0&&a.id==we&&a.size>=0?(a.end<=Ne-i&&(p(ae,L,N,ge,a.end,Ne,we,re,J),ge=ae.length,Ne=a.end),a.next()):R>2500?d(N,Ce,ae,L):h(N,Ce,ae,L,we,R+1);if(we>=0&&ge>0&&ge<ae.length&&p(ae,L,N,ge,N,Ne,we,re,J),ae.reverse(),L.reverse(),we>-1&&ge>0){let dt=f(K,J);ne=Y5(K,ae,L,0,ae.length,0,j-N,dt,dt)}else ne=m(K,ae,L,j-N,re-j,J)}O.push(ne),D.push(B)}function d(C,M,O,D){let $=[],R=0,G=-1;for(;a.pos>M;){let{id:N,start:j,end:Z,size:re}=a;if(re>4)a.next();else{if(G>-1&&j<G)break;G<0&&(G=Z-i),$.push(N,j,Z),R++,a.next()}}if(R){let N=new Uint16Array(R*4),j=$[$.length-2];for(let Z=$.length-3,re=0;Z>=0;Z-=3)N[re++]=$[Z],N[re++]=$[Z+1]-j,N[re++]=$[Z+2]-j,N[re++]=re;O.push(new kl(N,$[2]-j,r)),D.push(j-C)}}function f(C,M){return(O,D,$)=>{let R=0,G=O.length-1,N,j;if(G>=0&&(N=O[G])instanceof ln){if(!G&&N.type==C&&N.length==$)return N;(j=N.prop(St.lookAhead))&&(R=D[G]+N.length+j)}return m(C,O,D,$,R,M)}}function p(C,M,O,D,$,R,G,N,j){let Z=[],re=[];for(;C.length>D;)Z.push(C.pop()),re.push(M.pop()+O-$);C.push(m(r.types[G],Z,re,R-$,N-R,j)),M.push($-O)}function m(C,M,O,D,$,R,G){if(R){let N=[St.contextHash,R];G=G?[N].concat(G):[N]}if($>25){let N=[St.lookAhead,$];G=G?[N].concat(G):[N]}return new ln(C,M,O,D,G)}function y(C,M){let O=a.fork(),D=0,$=0,R=0,G=O.end-i,N={size:0,start:0,skip:0};e:for(let j=O.pos-C;O.pos>j;){let Z=O.size;if(O.id==M&&Z>=0){N.size=D,N.start=$,N.skip=R,R+=4,D+=4,O.next();continue}let re=O.pos-Z;if(Z<0||re<j||O.start<G)break;let J=O.id>=o?4:0,K=O.start;for(O.next();O.pos>re;){if(O.size<0)if(O.size==-3)J+=4;else break e;else O.id>=o&&(J+=4);O.next()}$=K,D+=Z,R+=J}return(M<0||D==C)&&(N.size=D,N.start=$,N.skip=R),N.size>4?N:void 0}function v(C,M,O){let{id:D,start:$,end:R,size:G}=a;if(a.next(),G>=0&&D<o){let N=O;if(G>4){let j=a.pos-(G-4);for(;a.pos>j;)O=v(C,M,O)}M[--O]=N,M[--O]=R-C,M[--O]=$-C,M[--O]=D}else G==-3?u=D:G==-4&&(c=D);return O}let b=[],k=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,b,k,-1,0);let _=(e=n.length)!==null&&e!==void 0?e:b.length?k[0]+b[0].length:0;return new ln(l[n.topID],b.reverse(),k.reverse(),_)}const L9=new WeakMap;function Jm(n,e){if(!n.isAnonymous||e instanceof kl||e.type!=n)return 1;let t=L9.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof ln)){t=1;break}t+=Jm(n,r)}L9.set(e,t)}return t}function Y5(n,e,t,r,i,s,o,a,l){let u=0;for(let p=r;p<i;p++)u+=Jm(n,e[p]);let c=Math.ceil(u*1.5/8),h=[],d=[];function f(p,m,y,v,b){for(let k=y;k<v;){let _=k,C=m[k],M=Jm(n,p[k]);for(k++;k<v;k++){let O=Jm(n,p[k]);if(M+O>=c)break;M+=O}if(k==_+1){if(M>c){let O=p[_];f(O.children,O.positions,0,O.children.length,m[_]+b);continue}h.push(p[_])}else{let O=m[k-1]+p[k-1].length-C;h.push(Y5(n,p,m,_,k,C,O,null,l))}d.push(C+b-s)}}return f(e,t,r,i,0),(a||l)(h,d,o)}class Oxe{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof po?this.setBuffer(e.context.buffer,e.index,t):e instanceof Ar&&this.map.set(e.tree,t)}get(e){return e instanceof po?this.getBuffer(e.context.buffer,e.index):e instanceof Ar?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class ma{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new ma(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,u=0;;a++){let c=a<t.length?t[a]:null,h=c?c.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let d=o;if(l>=d.from||h<=d.to||u){let f=Math.max(d.from,l)-u,p=Math.min(d.to,h)-u;d=f>=p?null:new ma(f,p,d.tree,d.offset+u,a>0,!!c)}if(d&&i.push(d),o.to>h)break;o=s<e.length?e[s++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return i}}class lE{startParse(e,t,r){return typeof e=="string"&&(e=new Wne(e)),r=r?r.length?r.map(i=>new ts(i.from,i.to)):[new ts(0,0)]:[new ts(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}}class Wne{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function Ixe(n){return(e,t,r,i)=>new Zne(e,n,t,r,i)}class P9{constructor(e,t,r,i,s){this.parser=e,this.parse=t,this.overlay=r,this.target=i,this.from=s}}function R9(n){if(!n.length||n.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(n))}class jne{constructor(e,t,r,i,s,o,a){this.parser=e,this.predicate=t,this.mounts=r,this.index=i,this.start=s,this.target=o,this.prev=a,this.depth=0,this.ranges=[]}}const K6=new St({perNode:!0});class Zne{constructor(e,t,r,i,s){this.nest=t,this.input=r,this.fragments=i,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new ln(r.type,r.children,r.positions,r.length,r.propValues.concat([[K6,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[St.mounted.id]=new zf(t,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new Kne(this.fragments),t=null,r=null,i=new o2(new Ar(this.baseTree,this.ranges[0].from,0,null),Mn.IncludeAnonymous|Mn.IgnoreMounts);e:for(let s,o;;){let a=!0,l;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)a=!1;else if(e.hasNode(i)){if(t){let u=t.mounts.find(c=>c.frag.from<=i.from&&c.frag.to>=i.to&&c.mount.overlay);if(u)for(let c of u.mount.overlay){let h=c.from+u.pos,d=c.to+u.pos;h>=i.from&&d<=i.to&&!t.ranges.some(f=>f.from<d&&f.to>h)&&t.ranges.push({from:h,to:d})}}a=!1}else if(r&&(o=Une(r.ranges,i.from,i.to)))a=o!=2;else if(!i.type.isAnonymous&&(s=this.nest(i,this.input))&&(i.from<i.to||!s.overlay)){i.tree||(Gne(i),t&&t.depth++,r&&r.depth++);let u=e.findMounts(i.from,s.parser);if(typeof s.overlay=="function")t=new jne(s.parser,s.overlay,u,this.inner.length,i.from,i.tree,t);else{let c=F9(this.ranges,s.overlay||(i.from<i.to?[new ts(i.from,i.to)]:[]));c.length&&R9(c),(c.length||!s.overlay)&&this.inner.push(new P9(s.parser,c.length?s.parser.startParse(this.input,z9(u,c),c):s.parser.startParse(""),s.overlay?s.overlay.map(h=>new ts(h.from-i.from,h.to-i.from)):null,i.tree,c.length?c[0].from:i.from)),s.overlay?c.length&&(r={ranges:c,depth:0,prev:r}):a=!1}}else if(t&&(l=t.predicate(i))&&(l===!0&&(l=new ts(i.from,i.to)),l.from<l.to)){let u=t.ranges.length-1;u>=0&&t.ranges[u].to==l.from?t.ranges[u]={from:t.ranges[u].from,to:l.to}:t.ranges.push(l)}if(a&&i.firstChild())t&&t.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(t&&!--t.depth){let u=F9(this.ranges,t.ranges);u.length&&(R9(u),this.inner.splice(t.index,0,new P9(t.parser,t.parser.startParse(this.input,z9(t.mounts,u),u),t.ranges.map(c=>new ts(c.from-t.start,c.to-t.start)),t.target,u[0].from))),t=t.prev}r&&!--r.depth&&(r=r.prev)}}}}function Une(n,e,t){for(let r of n){if(r.from>=t)break;if(r.to>e)return r.from<=e&&r.to>=t?2:1}return 0}function $9(n,e,t,r,i,s){if(e<t){let o=n.buffer[e+1];r.push(n.slice(e,t,o)),i.push(o-s)}}function Gne(n){let{node:e}=n,t=[],r=e.context.buffer;do t.push(n.index),n.parent();while(!n.tree);let i=n.tree,s=i.children.indexOf(r),o=i.children[s],a=o.buffer,l=[s];function u(c,h,d,f,p,m){let y=t[m],v=[],b=[];$9(o,c,y,v,b,f);let k=a[y+1],_=a[y+2];l.push(v.length);let C=m?u(y+4,a[y+3],o.set.types[a[y]],k,_-k,m-1):e.toTree();return v.push(C),b.push(k-f),$9(o,a[y+3],h,v,b,f),new ln(d,v,b,p)}i.children[s]=u(0,a.length,Fr.none,0,o.length,t.length-1);for(let c of l){let h=n.tree.children[c],d=n.tree.positions[c];n.yield(new Ar(h,d+n.from,c,n._tree))}}class B9{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(Mn.IncludeAnonymous|Mn.IgnoreMounts)}moveTo(e){let{cursor:t}=this,r=e-this.offset;for(;!this.done&&t.from<r;)t.to>=e&&t.enter(r,1,Mn.IgnoreOverlays|Mn.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof ln)t=t.children[0];else break}return!1}}class Kne{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(t=r.tree.prop(K6))!==null&&t!==void 0?t:r.to,this.inner=new B9(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(K6))!==null&&e!==void 0?e:t.to,this.inner=new B9(t.tree,-t.offset)}}findMounts(e,t){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let o=(r=s.tree)===null||r===void 0?void 0:r.prop(St.mounted);if(o&&o.parser==t)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&i.push({frag:l,pos:s.from-l.offset,mount:o})}}}return i}}function F9(n,e){let t=null,r=e;for(let i=1,s=0;i<n.length;i++){let o=n[i-1].to,a=n[i].from;for(;s<r.length;s++){let l=r[s];if(l.from>=a)break;l.to<=o||(t||(r=t=e.slice()),l.from<o?(t[s]=new ts(l.from,o),l.to>a&&t.splice(s+1,0,new ts(a,l.to))):l.to>a?t[s--]=new ts(a,l.to):t.splice(s--,1))}}return r}function Yne(n,e,t,r){let i=0,s=0,o=!1,a=!1,l=-1e9,u=[];for(;;){let c=i==n.length?1e9:o?n[i].to:n[i].from,h=s==e.length?1e9:a?e[s].to:e[s].from;if(o!=a){let d=Math.max(l,t),f=Math.min(c,h,r);d<f&&u.push(new ts(d,f))}if(l=Math.min(c,h),l==1e9)break;c==l&&(o?(o=!1,i++):o=!0),h==l&&(a?(a=!1,s++):a=!0)}return u}function z9(n,e){let t=[];for(let{pos:r,mount:i,frag:s}of n){let o=r+(i.overlay?i.overlay[0].from:0),a=o+i.tree.length,l=Math.max(s.from,o),u=Math.min(s.to,a);if(i.overlay){let c=i.overlay.map(d=>new ts(d.from+r,d.to+r)),h=Yne(e,c,l,u);for(let d=0,f=l;;d++){let p=d==h.length,m=p?u:h[d].from;if(m>f&&t.push(new ma(f,m,i.tree,-o,s.from>=f||s.openStart,s.to<=m||s.openEnd)),p)break;f=h[d].to}}else t.push(new ma(l,u,i.tree,-o,s.from>=o||s.openStart,s.to<=a||s.openEnd))}return t}let Y6=[],uE=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?uE:Y6).push(t=t+n[e])})();function Jne(n){if(n<768)return!1;for(let e=0,t=Y6.length;;){let r=e+t>>1;if(n<Y6[r])t=r;else if(n>=uE[r])e=r+1;else return!0;if(e==t)return!1}}function H9(n){return n>=127462&&n<=127487}const V9=8205;function Xne(n,e,t=!0,r=!0){return(t?cE:Qne)(n,e,r)}function cE(n,e,t){if(e==n.length)return e;e&&hE(n.charCodeAt(e))&&dE(n.charCodeAt(e-1))&&e--;let r=Zy(n,e);for(e+=q9(r);e<n.length;){let i=Zy(n,e);if(r==V9||i==V9||t&&Jne(i))e+=q9(i),r=i;else if(H9(i)){let s=0,o=e-2;for(;o>=0&&H9(Zy(n,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function Qne(n,e,t){for(;e>0;){let r=cE(n,e-2,t);if(r<e)return r;e--}return 0}function Zy(n,e){let t=n.charCodeAt(e);if(!dE(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return hE(r)?(t-55296<<10)+(r-56320)+65536:t}function hE(n){return n>=56320&&n<57344}function dE(n){return n>=55296&&n<56320}function q9(n){return n<65536?1:2}class Dt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=Yh(this,e,t);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),co.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Yh(this,e,t);let r=[];return this.decompose(e,t,r,0),co.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new cf(this),s=new cf(e);for(let o=t,a=t;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new cf(this,e)}iterRange(e,t=this.length){return new fE(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new pE(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Dt.empty:e.length<=32?new Nn(e):co.from(Nn.split(e,[]))}}class Nn extends Dt{constructor(e,t=ere(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((t?r:a)>=e)return new tre(i,a,r,o);i=a+1,r++}}decompose(e,t,r,i){let s=e<=0&&t>=this.length?this:new Nn(W9(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),a=Xm(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new Nn(a,o.length+s.length));else{let l=a.length>>1;r.push(new Nn(a.slice(0,l)),new Nn(a.slice(l)))}}else r.push(s)}replace(e,t,r){if(!(r instanceof Nn))return super.replace(e,t,r);[e,t]=Yh(this,e,t);let i=Xm(this.text,Xm(r.text,W9(this.text,0,e)),t),s=this.length+r.length-(t-e);return i.length<=32?new Nn(i,s):co.from(Nn.split(i,[]),s)}sliceString(e,t=this.length,r=`
`){[e,t]=Yh(this,e,t);let i="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&t>s&&(i+=a.slice(Math.max(0,e-s),t-s)),s=l+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(t.push(new Nn(r,i)),r=[],i=-1);return i>-1&&t.push(new Nn(r,i)),t}}class co extends Dt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=r+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,r,i);i=a+1,r=l+1}}decompose(e,t,r,i){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&t>=o){let u=i&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!u?r.push(a):a.decompose(e-o,t-o,r,u)}o=l+1}}replace(e,t,r){if([e,t]=Yh(this,e,t),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&t<=a){let l=o.replace(e-s,t-s,r),u=this.lines-o.lines+l.lines;if(l.lines<u>>5-1&&l.lines>u>>5+1){let c=this.children.slice();return c[i]=l,new co(c,this.length-(t-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){[e,t]=Yh(this,e,t);let i="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&t>o&&(i+=a.sliceString(e-o,t-o,r)),o=l+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof co))return 0;let r=0,[i,s,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,s+=t){if(i==o||s==a)return r;let l=this.children[i],u=e.children[s];if(l!=u)return r+l.scanIdentical(u,t);r+=l.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let f of e)r+=f.lines;if(r<32){let f=[];for(let p of e)p.flatten(f);return new Nn(f,t)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,a=[],l=0,u=-1,c=[];function h(f){let p;if(f.lines>s&&f instanceof co)for(let m of f.children)h(m);else f.lines>o&&(l>o||!l)?(d(),a.push(f)):f instanceof Nn&&l&&(p=c[c.length-1])instanceof Nn&&f.lines+p.lines<=32?(l+=f.lines,u+=f.length+1,c[c.length-1]=new Nn(p.text.concat(f.text),p.length+1+f.length)):(l+f.lines>i&&d(),l+=f.lines,u+=f.length+1,c.push(f))}function d(){l!=0&&(a.push(c.length==1?c[0]:co.from(c,u)),u=-1,l=c.length=0)}for(let f of e)h(f);return d(),a.length==1?a[0]:new co(a,t)}}Dt.empty=new Nn([""],0);function ere(n){let e=-1;for(let t of n)e+=t.length+1;return e}function Xm(n,e,t=0,r=1e9){for(let i=0,s=0,o=!0;s<n.length&&i<=r;s++){let a=n[s],l=i+a.length;l>=t&&(l>r&&(a=a.slice(0,r-i)),i<t&&(a=a.slice(t-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function W9(n,e,t){return Xm(n,[""],e,t)}class cf{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Nn?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,a=i instanceof Nn?i.text.length:i.children.length;if(o==(t>0?a:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Nn){let l=i.text[o+(t<0?-1:0)];if(this.offsets[r]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof Nn?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class fE{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new cf(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class pE{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Dt.prototype[Symbol.iterator]=function(){return this.iter()},cf.prototype[Symbol.iterator]=fE.prototype[Symbol.iterator]=pE.prototype[Symbol.iterator]=function(){return this});class tre{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}}function Yh(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function gr(n,e,t=!0,r=!0){return Xne(n,e,t,r)}function nre(n){return n>=56320&&n<57344}function rre(n){return n>=55296&&n<56320}function ei(n,e){let t=n.charCodeAt(e);if(!rre(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return nre(r)?(t-55296<<10)+(r-56320)+65536:t}function J5(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function ho(n){return n<65536?1:2}const J6=/\r\n?|\n/;var mr=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(mr||(mr={}));class So{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,t=!1){X6(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new So(e)}composeDesc(e){return this.empty?e:e.empty?this:mE(this,e)}mapDesc(e,t=!1){return e.empty?this:Q6(this,e,t)}mapPos(e,t=-1,r=mr.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],u=i+a;if(l<0){if(u>e)return s+(e-i);s+=a}else{if(r!=mr.Simple&&u>=e&&(r==mr.TrackDel&&i<e&&u>e||r==mr.TrackBefore&&i<e||r==mr.TrackAfter&&u>e))return null;if(u>e||u==e&&t<0&&!a)return e==i||t<0?s:s+l;s+=l}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let s=this.sections[r++],o=this.sections[r++],a=i+s;if(o>=0&&i<=t&&a>=e)return i<e&&a>t?"cover":!0;i=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new So(e)}static create(e){return new So(e)}}class Kn extends So{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return X6(this,(t,r,i,s,o)=>e=e.replace(i,i+(r-t),o),!1),e}mapDesc(e,t=!1){return Q6(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,s=0;i<t.length;i+=2){let o=t[i],a=t[i+1];if(a>=0){t[i]=a,t[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(Dt.empty);r.push(o?e.slice(s,s+o):Dt.empty)}s+=o}return new Kn(t,r)}compose(e){return this.empty?e:e.empty?this:mE(this,e,!0)}map(e,t=!1){return e.empty?this:Q6(this,e,t,!0)}iterChanges(e,t=!1){X6(this,e,t)}get desc(){return So.create(this.sections)}filter(e){let t=[],r=[],i=[],s=new Vf(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let c=Math.min(s.len,l-a);kr(i,c,-1);let h=s.ins==-1?-1:s.off==0?s.ins:0;kr(t,c,h),h>0&&ll(r,t,s.text),s.forward(c),a+=c}let u=e[o++];for(;a<u;){if(s.done)break e;let c=Math.min(s.len,u-a);kr(t,c,-1),kr(i,c,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(c),a+=c}}return{changes:new Kn(t,r),filtered:So.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],s=[],o=0,a=null;function l(c=!1){if(!c&&!i.length)return;o<t&&kr(i,t-o,-1);let h=new Kn(i,s);a=a?a.compose(h.map(a)):h,i=[],s=[],o=0}function u(c){if(Array.isArray(c))for(let h of c)u(h);else if(c instanceof Kn){if(c.length!=t)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${t})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:h,to:d=h,insert:f}=c;if(h>d||h<0||d>t)throw new RangeError(`Invalid change range ${h} to ${d} (in doc of length ${t})`);let p=f?typeof f=="string"?Dt.of(f.split(r||J6)):f:Dt.empty,m=p.length;if(h==d&&m==0)return;h<o&&l(),h>o&&kr(i,h-o,-1),kr(i,d-h,m),ll(s,i,p),o=d}}return u(e),l(!a),a}static empty(e){return new Kn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;r.length<i;)r.push(Dt.empty);r[i]=Dt.of(s.slice(1)),t.push(s[0],r[i].length)}}}return new Kn(t,r)}static createSet(e,t){return new Kn(e,t)}}function kr(n,e,t,r=!1){if(e==0&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:i>=0&&e==0&&n[i]==0?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function ll(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(Dt.empty);n.push(t)}}function X6(n,e,t){let r=n.inserted;for(let i=0,s=0,o=0;o<n.sections.length;){let a=n.sections[o++],l=n.sections[o++];if(l<0)i+=a,s+=a;else{let u=i,c=s,h=Dt.empty;for(;u+=a,c+=l,l&&r&&(h=h.append(r[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)a=n.sections[o++],l=n.sections[o++];e(i,u,s,c,h),i=u,s=c}}}function Q6(n,e,t,r=!1){let i=[],s=r?[]:null,o=new Vf(n),a=new Vf(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let u=Math.min(o.len,a.len);kr(i,u,-1),o.forward(u),a.forward(u)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!t))){let u=a.len;for(kr(i,a.ins,-1);u;){let c=Math.min(o.len,u);o.ins>=0&&l<o.i&&o.len<=c&&(kr(i,0,o.ins),s&&ll(s,i,o.text),l=o.i),o.forward(c),u-=c}a.next()}else if(o.ins>=0){let u=0,c=o.len;for(;c;)if(a.ins==-1){let h=Math.min(c,a.len);u+=h,c-=h,a.forward(h)}else if(a.ins==0&&a.len<c)c-=a.len,a.next();else break;kr(i,u,l<o.i?o.ins:0),s&&l<o.i&&ll(s,i,o.text),l=o.i,o.forward(o.len-c)}else{if(o.done&&a.done)return s?Kn.createSet(i,s):So.create(i);throw new Error("Mismatched change set lengths")}}}function mE(n,e,t=!1){let r=[],i=t?[]:null,s=new Vf(n),o=new Vf(e);for(let a=!1;;){if(s.done&&o.done)return i?Kn.createSet(r,i):So.create(r);if(s.ins==0)kr(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)kr(r,0,o.ins,a),i&&ll(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),u=r.length;if(s.ins==-1){let c=o.ins==-1?-1:o.off?0:o.ins;kr(r,l,c,a),i&&c&&ll(i,r,o.text)}else o.ins==-1?(kr(r,s.off?0:s.len,l,a),i&&ll(i,r,s.textBit(l))):(kr(r,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&ll(i,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>u),s.forward2(l),o.forward(l)}}}}class Vf{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Dt.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?Dt.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class yu{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new yu(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return ye.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return ye.range(this.anchor,r)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return ye.range(e.anchor,e.head)}static create(e,t,r){return new yu(e,t,r)}}class ye{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:ye.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new ye([this.main],0)}addRange(e,t=!0){return ye.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,ye.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new ye(e.ranges.map(t=>yu.fromJSON(t)),e.main)}static single(e,t=e){return new ye([ye.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return ye.normalized(e.slice(),t);r=s.to}return new ye(e,t)}static cursor(e,t=0,r,i){return yu.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(i!=null?i:16777215)<<6)}static range(e,t,r,i){let s=(r!=null?r:16777215)<<6|(i==null?7:Math.min(6,i));return t<e?yu.create(t,e,48|s):yu.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let r=e[t];e.sort((i,s)=>i.from-s.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=t&&t--,e.splice(--i,2,s.anchor>s.head?ye.range(l,a):ye.range(a,l))}}return new ye(e,t)}}function gE(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let X5=0;class He{constructor(e,t,r,i,s){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=X5++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new He(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:Q5),!!e.static,e.enables)}of(e){return new Qm([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Qm(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Qm(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function Q5(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class Qm{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=X5++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,u=!1,c=[];for(let h of this.dependencies)h=="doc"?l=!0:h=="selection"?u=!0:(((t=e[h.id])!==null&&t!==void 0?t:1)&1)==0&&c.push(e[h.id]);return{create(h){return h.values[o]=r(h),1},update(h,d){if(l&&d.docChanged||u&&(d.docChanged||d.selection)||ev(h,c)){let f=r(h);if(a?!j9(f,h.values[o],i):!i(f,h.values[o]))return h.values[o]=f,1}return 0},reconfigure:(h,d)=>{let f,p=d.config.address[s];if(p!=null){let m=l2(d,p);if(this.dependencies.every(y=>y instanceof He?d.facet(y)===h.facet(y):y instanceof ar?d.field(y,!1)==h.field(y,!1):!0)||(a?j9(f=r(h),m,i):i(f=r(h),m)))return h.values[o]=m,0}else f=r(h);return h.values[o]=f,1}}}}function j9(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function ev(n,e){let t=!1;for(let r of e)hf(n,r)&1&&(t=!0);return t}function ire(n,e,t){let r=t.map(l=>n[l.id]),i=t.map(l=>l.type),s=r.filter(l=>!(l&1)),o=n[e.id]>>1;function a(l){let u=[];for(let c=0;c<r.length;c++){let h=l2(l,r[c]);if(i[c]==2)for(let d of h)u.push(d);else u.push(h)}return e.combine(u)}return{create(l){for(let u of r)hf(l,u);return l.values[o]=a(l),1},update(l,u){if(!ev(l,s))return 0;let c=a(l);return e.compare(c,l.values[o])?0:(l.values[o]=c,1)},reconfigure(l,u){let c=ev(l,r),h=u.config.facets[e.id],d=u.facet(e);if(h&&!c&&Q5(t,h))return l.values[o]=d,0;let f=a(l);return e.compare(f,d)?(l.values[o]=d,0):(l.values[o]=f,1)}}}const Jp=He.define({static:!0});class ar{constructor(e,t,r,i,s){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let t=new ar(X5++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Jp).find(r=>r.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let s=r.values[t],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[t]=o,1)},reconfigure:(r,i)=>{let s=r.facet(Jp),o=i.facet(Jp),a;return(a=s.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(r.values[t]=a.create(r),1):i.config.address[this.id]!=null?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}}init(e){return[this,Jp.of({field:this,create:e})]}get extension(){return this}}const du={lowest:4,low:3,default:2,high:1,highest:0};function ad(n){return e=>new yE(e,n)}const Nl={highest:ad(du.highest),high:ad(du.high),default:ad(du.default),low:ad(du.low),lowest:ad(du.lowest)};class yE{constructor(e,t){this.inner=e,this.prec=t}}class Jh{of(e){return new tv(this,e)}reconfigure(e){return Jh.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class tv{constructor(e,t){this.compartment=e,this.inner=t}}class a2{constructor(e,t,r,i,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],s=Object.create(null),o=new Map;for(let d of sre(e,t,o))d instanceof ar?i.push(d):(s[d.facet.id]||(s[d.facet.id]=[])).push(d);let a=Object.create(null),l=[],u=[];for(let d of i)a[d.id]=u.length<<1,u.push(f=>d.slot(f));let c=r==null?void 0:r.config.facets;for(let d in s){let f=s[d],p=f[0].facet,m=c&&c[d]||[];if(f.every(y=>y.type==0))if(a[p.id]=l.length<<1|1,Q5(m,f))l.push(r.facet(p));else{let y=p.combine(f.map(v=>v.value));l.push(r&&p.compare(y,r.facet(p))?r.facet(p):y)}else{for(let y of f)y.type==0?(a[y.id]=l.length<<1|1,l.push(y.value)):(a[y.id]=u.length<<1,u.push(v=>y.dynamicSlot(v)));a[p.id]=u.length<<1,u.push(y=>ire(y,p,f))}}let h=u.map(d=>d(a));return new a2(e,o,h,a,l,s)}}function sre(n,e,t){let r=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let u=r[l].indexOf(o);u>-1&&r[l].splice(u,1),o instanceof tv&&t.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let u of o)s(u,a);else if(o instanceof tv){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(o.compartment)||o.inner;t.set(o.compartment,u),s(u,a)}else if(o instanceof yE)s(o.inner,o.prec);else if(o instanceof ar)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof Qm)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,du.default);else{let u=o.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,a)}}return s(n,du.default),r.reduce((o,a)=>o.concat(a))}function hf(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function l2(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const vE=He.define(),nv=He.define({combine:n=>n.some(e=>e),static:!0}),wE=He.define({combine:n=>n.length?n[0]:void 0,static:!0}),bE=He.define(),kE=He.define(),xE=He.define(),SE=He.define({combine:n=>n.length?n[0]:!1});class Ta{constructor(e,t){this.type=e,this.value=t}static define(){return new ore}}class ore{of(e){return new Ta(this,e)}}class are{constructor(e){this.map=e}of(e){return new ht(this,e)}}class ht{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new ht(this.type,t)}is(e){return this.type==e}static define(e={}){return new are(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(t);s&&r.push(s)}return r}}ht.reconfigure=ht.define();ht.appendConfig=ht.define();class zn{constructor(e,t,r,i,s,o){this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&gE(r,t.newLength),s.some(a=>a.type==zn.time)||(this.annotations=s.concat(zn.time.of(Date.now())))}static create(e,t,r,i,s,o){return new zn(e,t,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(zn.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}zn.time=Ta.define();zn.userEvent=Ta.define();zn.addToHistory=Ta.define();zn.remote=Ta.define();function lre(n,e){let t=[];for(let r=0,i=0;;){let s,o;if(r<n.length&&(i==e.length||e[i]>=n[r]))s=n[r++],o=n[r++];else if(i<e.length)s=e[i++],o=e[i++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function CE(n,e,t){var r;let i,s,o;return t?(i=e.changes,s=Kn.empty(e.changes.length),o=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:ht.mapEffects(n.effects,i).concat(ht.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function rv(n,e,t){let r=e.selection,i=th(e.annotations);return e.userEvent&&(i=i.concat(zn.userEvent.of(e.userEvent))),{changes:e.changes instanceof Kn?e.changes:Kn.of(e.changes||[],t,n.facet(wE)),selection:r&&(r instanceof ye?r:ye.single(r.anchor,r.head)),effects:th(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function ME(n,e,t){let r=rv(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;r=CE(r,rv(n,e[s],o?r.changes.newLength:n.doc.length),o)}let i=zn.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return cre(t?ure(i):i)}function ure(n){let e=n.startState,t=!0;for(let i of e.facet(bE)){let s=i(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:lre(t,s))}if(t!==!0){let i,s;if(t===!1)s=n.changes.invertedDesc,i=Kn.empty(e.doc.length);else{let o=n.changes.filter(t);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}n=zn.create(e,i,n.selection&&n.selection.map(s),ht.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let r=e.facet(kE);for(let i=r.length-1;i>=0;i--){let s=r[i](n);s instanceof zn?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof zn?n=s[0]:n=ME(e,th(s),!1)}return n}function cre(n){let e=n.startState,t=e.facet(xE),r=n;for(let i=t.length-1;i>=0;i--){let s=t[i](n);s&&Object.keys(s).length&&(r=CE(r,rv(e,s,n.changes.newLength),!0))}return r==n?n:zn.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const hre=[];function th(n){return n==null?hre:Array.isArray(n)?n:[n]}var mn=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(mn||(mn={}));const dre=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let iv;try{iv=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function fre(n){if(iv)return iv.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>"\x80"&&(t.toUpperCase()!=t.toLowerCase()||dre.test(t)))return!0}return!1}function pre(n){return e=>{if(!/\S/.test(e))return mn.Space;if(fre(e))return mn.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return mn.Word;return mn.Other}}class Tt{constructor(e,t,r,i,s,o){this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)hf(this,a<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError("Field is not present in this state");return}return hf(this,r),l2(this,r)}update(...e){return ME(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:i}=t;for(let a of e.effects)a.is(Jh.reconfigure)?(t&&(i=new Map,t.compartments.forEach((l,u)=>i.set(u,l)),t=null),i.set(a.value.compartment,a.value.extension)):a.is(ht.reconfigure)?(t=null,r=a.value):a.is(ht.appendConfig)&&(t=null,r=th(r).concat(a.value));let s;t?s=e.startState.values.slice():(t=a2.resolve(r,i,this),s=new Tt(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values);let o=e.startState.facet(nv)?e.newSelection:e.newSelection.asSingle();new Tt(t,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:ye.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),s=[r.range],o=th(r.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),u=this.changes(l.changes),c=u.map(i);for(let d=0;d<a;d++)s[d]=s[d].map(c);let h=i.mapDesc(u,!0);s.push(l.range.map(h)),i=i.compose(c),o=ht.mapEffects(o,c).concat(ht.mapEffects(th(l.effects),h))}return{changes:i,selection:ye.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof Kn?e:Kn.of(e,this.doc.length,this.facet(Tt.lineSeparator))}toText(e){return Dt.of(e.split(this.facet(Tt.lineSeparator)||J6))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(hf(this,t),l2(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof ar&&this.config.address[i.id]!=null&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return Tt.create({doc:e.doc,selection:ye.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=a2.resolve(e.extensions||[],new Map),r=e.doc instanceof Dt?e.doc:Dt.of((e.doc||"").split(t.staticFacet(Tt.lineSeparator)||J6)),i=e.selection?e.selection instanceof ye?e.selection:ye.single(e.selection.anchor,e.selection.head):ye.single(0);return gE(i,r.length),t.staticFacet(nv)||(i=i.asSingle()),new Tt(t,r,i,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(Tt.tabSize)}get lineBreak(){return this.facet(Tt.lineSeparator)||`
`}get readOnly(){return this.facet(SE)}phrase(e,...t){for(let r of this.facet(Tt.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>t.length?r:t[s-1]})),e}languageDataAt(e,t,r=-1){let i=[];for(let s of this.facet(vE))for(let o of s(this,t,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return pre(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=gr(t,o,!1);if(s(t.slice(l,o))!=mn.Word)break;o=l}for(;a<i;){let l=gr(t,a);if(s(t.slice(a,l))!=mn.Word)break;a=l}return o==a?null:ye.range(o+r,a+r)}}Tt.allowMultipleSelections=nv;Tt.tabSize=He.define({combine:n=>n.length?n[0]:4});Tt.lineSeparator=wE;Tt.readOnly=SE;Tt.phrases=He.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(i=>n[i]==e[i])}});Tt.languageData=vE;Tt.changeFilter=bE;Tt.transactionFilter=kE;Tt.transactionExtender=xE;Jh.reconfigure=ht.define();function Lo(n,e,t={}){let r={};for(let i of n)for(let s of Object.keys(i)){let o=i[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(t,s))r[s]=t[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class tc{eq(e){return this==e}range(e,t=e){return qf.create(e,t,this)}}tc.prototype.startSide=tc.prototype.endSide=0;tc.prototype.point=!1;tc.prototype.mapMode=mr.TrackDel;class qf{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new qf(e,t,r)}}function sv(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class ew{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let s=r?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,u=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return u>=0?o:a;u>=0?a=l:o=l+1}}between(e,t,r,i){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let r=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],c=this.from[l]+e,h=this.to[l]+e,d,f;if(c==h){let p=t.mapPos(c,u.startSide,u.mapMode);if(p==null||(d=f=p,u.startSide!=u.endSide&&(f=t.mapPos(c,u.endSide),f<d)))continue}else if(d=t.mapPos(c,u.startSide),f=t.mapPos(h,u.endSide),d>f||d==f&&u.startSide>0&&u.endSide<=0)continue;(f-d||u.endSide-u.startSide)<0||(o<0&&(o=d),u.point&&(a=Math.max(a,f-d)),r.push(u),i.push(d-o),s.push(f-o))}return{mapped:r.length?new ew(i,s,r,a):null,pos:o}}}class Lt{constructor(e,t,r,i){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}static create(e,t,r,i){return new Lt(e,t,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(r&&(t=t.slice().sort(sv)),this.isEmpty)return t.length?Lt.of(t):this;let a=new AE(this,null,-1).goto(0),l=0,u=[],c=new ba;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let h=t[l++];c.addInner(h.from,h.to,h.value)||u.push(h)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||u.push(qf.create(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?Lt.empty:this.nextLayer.update({add:u,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],u=e.touchesRange(a,a+l.length);if(u===!1)i=Math.max(i,l.maxPoint),t.push(l),r.push(e.mapPos(a));else if(u===!0){let{mapped:c,pos:h}=l.map(a,e);c&&(i=Math.max(i,c.maxPoint),t.push(c),r.push(h))}}let s=this.nextLayer.map(e);return t.length==0?s:new Lt(r,t,s||Lt.empty,i)}between(e,t,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return Wf.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Wf.from(e).goto(t)}static compare(e,t,r,i,s=-1){let o=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),a=t.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),l=Z9(o,a,r),u=new ld(o,l,s),c=new ld(a,l,s);r.iterGaps((h,d,f)=>U9(u,h,c,d,f,i)),r.empty&&r.length==0&&U9(u,0,c,0,0,i)}static eq(e,t,r=0,i){i==null&&(i=1e9-1);let s=e.filter(c=>!c.isEmpty&&t.indexOf(c)<0),o=t.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=Z9(s,o),l=new ld(s,a,0).goto(r),u=new ld(o,a,0).goto(r);for(;;){if(l.to!=u.to||!ov(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>i)return!0;l.next(),u.next()}}static spans(e,t,r,i,s=-1){let o=new ld(e,null,s).goto(t),a=t,l=o.openStart;for(;;){let u=Math.min(o.to,r);if(o.point){let c=o.activeForPoint(o.to),h=o.pointFrom<t?c.length+1:o.point.startSide<0?c.length:Math.min(c.length,l);i.point(a,u,o.point,c,h,o.pointRank),l=Math.min(o.openEnd(u),c.length)}else u>a&&(i.span(a,u,o.active,l),l=o.openEnd(u));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,t=!1){let r=new ba;for(let i of e instanceof qf?[e]:t?mre(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return Lt.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=Lt.empty;i=i.nextLayer)t=new Lt(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}Lt.empty=new Lt([],[],null,-1);function mre(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(sv(e,r)>0)return n.slice().sort(sv);e=r}return n}Lt.empty.nextLayer=Lt.empty;class ba{finishChunk(e){this.chunks.push(new ew(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new ba)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(Lt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Lt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Z9(n,e,t){let r=new Map;for(let s of n)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(t?t.mapPos(a):a)==s.chunkPos[o]&&!(t!=null&&t.touchesRange(a,a+s.chunk[o].length))&&i.add(s.chunk[o])}return i}class AE{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Wf{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new AE(o,t,r,s));return i.length==1?i[0]:new Wf(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)Uy(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)Uy(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Uy(this.heap,0)}}}function Uy(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class ld{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Wf.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Xp(this.active,e),Xp(this.activeTo,e),Xp(this.activeRank,e),this.minActive=G9(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||i-this.activeTo[t])>0;)t++;Qp(this.active,t,r),Qp(this.activeTo,t,i),Qp(this.activeRank,t,s),e&&Qp(e,t,this.cursor.from),this.minActive=G9(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Xp(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function U9(n,e,t,r,i,s){n.goto(e),t.goto(r);let o=r+i,a=r,l=r-e;for(;;){let u=n.to+l-t.to,c=u||n.endSide-t.endSide,h=c<0?n.to+l:t.to,d=Math.min(h,o);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&ov(n.activeForPoint(n.to),t.activeForPoint(t.to))||s.comparePoint(a,d,n.point,t.point):d>a&&!ov(n.active,t.active)&&s.compareRange(a,d,n.active,t.active),h>o)break;(u||n.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(h),a=h,c<=0&&n.next(),c>=0&&t.next()}}function ov(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Xp(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function Qp(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function G9(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function A0(n,e,t=n.length){let r=0;for(let i=0;i<t&&i<n.length;)n.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=gr(n,i));return r}function av(n,e,t,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==n.length)break;s+=n.charCodeAt(i)==9?t-s%t:1,i=gr(n,i)}return r===!0?-1:n.length}const lv="\u037C",K9=typeof Symbol>"u"?"__"+lv:Symbol.for(lv),uv=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Y9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class xl{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,u){let c=[],h=/^@(\w+)\b/.exec(o[0]),d=h&&h[1]=="keyframes";if(h&&a==null)return l.push(o[0]+";");for(let f in a){let p=a[f];if(/&/.test(f))s(f.split(/,\s*/).map(m=>o.map(y=>m.replace(/&/,y))).reduce((m,y)=>m.concat(y)),p,l);else if(p&&typeof p=="object"){if(!h)throw new RangeError("The value of a property ("+f+") should be a primitive value.");s(i(f),p,c,d)}else p!=null&&c.push(f.replace(/_.*/,"").replace(/[A-Z]/g,m=>"-"+m.toLowerCase())+": "+p+";")}(c.length||d)&&l.push((r&&!h&&!u?o.map(r):o).join(", ")+" {"+c.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Y9[K9]||1;return Y9[K9]=e+1,lv+e.toString(36)}static mount(e,t,r){let i=e[uv],s=r&&r.nonce;i?s&&i.setNonce(s):i=new gre(e,s),i.mount(Array.isArray(t)?t:[t],e)}}let J9=new Map;class gre{constructor(e,t){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=J9.get(r);if(s)return e[uv]=s;this.sheet=new i.CSSStyleSheet,J9.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[uv]=this}mount(e,t){let r=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),r)for(let u=0;u<a.rules.length;u++)r.insertRule(a.rules[u],i++)}else{for(;s<l;)i+=this.modules[s++].rules.length;i+=a.rules.length,s++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=t.head||t;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var ka={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},jf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},yre=typeof navigator<"u"&&/Mac/.test(navigator.platform),vre=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var fr=0;fr<10;fr++)ka[48+fr]=ka[96+fr]=String(fr);for(var fr=1;fr<=24;fr++)ka[fr+111]="F"+fr;for(var fr=65;fr<=90;fr++)ka[fr]=String.fromCharCode(fr+32),jf[fr]=String.fromCharCode(fr);for(var Gy in ka)jf.hasOwnProperty(Gy)||(jf[Gy]=ka[Gy]);function _E(n){var e=yre&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||vre&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?jf:ka)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function en(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];typeof i=="string"?n.setAttribute(r,i):i!=null&&(n[r]=i)}e++}for(;e<arguments.length;e++)TE(n,arguments[e]);return n}function TE(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)TE(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}let Nr=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},cv=typeof document<"u"?document:{documentElement:{style:{}}};const hv=/Edge\/(\d+)/.exec(Nr.userAgent),EE=/MSIE \d/.test(Nr.userAgent),dv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Nr.userAgent),g4=!!(EE||dv||hv),X9=!g4&&/gecko\/(\d+)/i.test(Nr.userAgent),Ky=!g4&&/Chrome\/(\d+)/.exec(Nr.userAgent),Q9="webkitFontSmoothing"in cv.documentElement.style,fv=!g4&&/Apple Computer/.test(Nr.vendor),ex=fv&&(/Mobile\/\w+/.test(Nr.userAgent)||Nr.maxTouchPoints>2);var $e={mac:ex||/Mac/.test(Nr.platform),windows:/Win/.test(Nr.platform),linux:/Linux|X11/.test(Nr.platform),ie:g4,ie_version:EE?cv.documentMode||6:dv?+dv[1]:hv?+hv[1]:0,gecko:X9,gecko_version:X9?+(/Firefox\/(\d+)/.exec(Nr.userAgent)||[0,0])[1]:0,chrome:!!Ky,chrome_version:Ky?+Ky[1]:0,ios:ex,android:/Android\b/.test(Nr.userAgent),webkit:Q9,webkit_version:Q9?+(/\bAppleWebKit\/(\d+)/.exec(Nr.userAgent)||[0,0])[1]:0,safari:fv,safari_version:fv?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Nr.userAgent)||[0,0])[1]:0,tabSize:cv.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function Zf(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function pv(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function eg(n,e){if(!e.anchorNode)return!1;try{return pv(n,e.anchorNode)}catch{return!1}}function Uf(n){return n.nodeType==3?rc(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function df(n,e,t,r){return t?tx(n,e,t,r,-1)||tx(n,e,t,r,1):!1}function nc(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function u2(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function tx(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Eo(n))){if(n.nodeName=="DIV")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=nc(n)+(i<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=i<0?Eo(n):0}else return!1}}function Eo(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function y4(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function wre(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function OE(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}function bre(n,e,t,r,i,s,o,a){let l=n.ownerDocument,u=l.defaultView||window;for(let c=n,h=!1;c&&!h;)if(c.nodeType==1){let d,f=c==l.body,p=1,m=1;if(f)d=wre(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(h=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let b=c.getBoundingClientRect();({scaleX:p,scaleY:m}=OE(c,b)),d={left:b.left,right:b.left+c.clientWidth*p,top:b.top,bottom:b.top+c.clientHeight*m}}let y=0,v=0;if(i=="nearest")e.top<d.top?(v=e.top-(d.top+o),t>0&&e.bottom>d.bottom+v&&(v=e.bottom-d.bottom+o)):e.bottom>d.bottom&&(v=e.bottom-d.bottom+o,t<0&&e.top-v<d.top&&(v=e.top-(d.top+o)));else{let b=e.bottom-e.top,k=d.bottom-d.top;v=(i=="center"&&b<=k?e.top+b/2-k/2:i=="start"||i=="center"&&t<0?e.top-o:e.bottom-k+o)-d.top}if(r=="nearest"?e.left<d.left?(y=e.left-(d.left+s),t>0&&e.right>d.right+y&&(y=e.right-d.right+s)):e.right>d.right&&(y=e.right-d.right+s,t<0&&e.left<d.left+y&&(y=e.left-(d.left+s))):y=(r=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:r=="start"==a?e.left-s:e.right-(d.right-d.left)+s)-d.left,y||v)if(f)u.scrollBy(y,v);else{let b=0,k=0;if(v){let _=c.scrollTop;c.scrollTop+=v/m,k=(c.scrollTop-_)*m}if(y){let _=c.scrollLeft;c.scrollLeft+=y/p,b=(c.scrollLeft-_)*p}e={left:e.left-b,top:e.top-k,right:e.right-b,bottom:e.bottom-k},b&&Math.abs(b-y)<1&&(r="nearest"),k&&Math.abs(k-v)<1&&(i="nearest")}if(f)break;(e.top<d.top||e.bottom>d.bottom||e.left<d.left||e.right>d.right)&&(e={left:Math.max(e.left,d.left),right:Math.min(e.right,d.right),top:Math.max(e.top,d.top),bottom:Math.min(e.bottom,d.bottom)}),c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function kre(n){let e=n.ownerDocument,t,r;for(let i=n.parentNode;i&&!(i==e.body||t&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:r}}class xre{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?Eo(t):0),r,Math.min(e.focusOffset,r?Eo(r):0))}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let su=null;$e.safari&&$e.safari_version>=26&&(su=!1);function IE(n){if(n.setActive)return n.setActive();if(su)return n.focus(su);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(su==null?{get preventScroll(){return su={preventScroll:!0},!0}}:void 0),!su){su=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],s=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let nx;function rc(n,e,t=e){let r=nx||(nx=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function nh(n,e,t,r){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,n.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,n.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function Sre(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function DE(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function Cre(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,Eo(t));;)if(r){if(t.nodeType!=1)return!1;let i=t.childNodes[r-1];i.contentEditable=="false"?r--:(t=i,r=Eo(t))}else{if(t==n)return!0;r=nc(t),t=t.parentNode}}function NE(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function LE(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable=="false")return null;t=t.childNodes[r-1],r=Eo(t)}else if(t.parentNode&&!u2(t))r=nc(t),t=t.parentNode;else return null}}function PE(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[r],r=0}else if(t.parentNode&&!u2(t))r=nc(t)+1,t=t.parentNode;else return null}}class Sr{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new Sr(e.parentNode,nc(e),t)}static after(e,t){return new Sr(e.parentNode,nc(e)+1,t)}}const tw=[];class Jt{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let r=this.dom,i=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=i?i.nextSibling:r.firstChild)){let a=Jt.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.flags&=-8}if(s=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&s!=o.dom&&(t.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=rx(s);else r.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:r.firstChild,s&&t&&t.node==r&&(t.written=!0);s;)s=rx(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=Eo(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Jt.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,s=-1,o=-1,a=-1;for(let l=0,u=r,c=r;l<this.children.length;l++){let h=this.children[l],d=u+h.length;if(u<e&&d>t)return h.domBoundsAround(e,t,u);if(d>=e&&i==-1&&(i=l,s=u),u>t&&h.dom.parentNode==this.dom){o=l,a=c;break}c=d,u=d+h.breakAfter}return{from:s,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=tw){this.markDirty();for(let i=e;i<t;i++){let s=this.children[i];s.parent==this&&r.indexOf(s)<0&&s.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new RE(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Jt.prototype.breakAfter=0;function rx(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class RE{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function $E(n,e,t,r,i,s,o,a,l){let{children:u}=n,c=u.length?u[e]:null,h=s.length?s[s.length-1]:null,d=h?h.breakAfter:o;if(!(e==r&&c&&!o&&!d&&s.length<2&&c.merge(t,i,s.length?h:null,t==0,a,l))){if(r<u.length){let f=u[r];f&&(i<f.length||f.breakAfter&&(h==null?void 0:h.breakAfter))?(e==r&&(f=f.split(i),i=0),!d&&h&&f.merge(0,i,h,!0,0,l)?s[s.length-1]=f:((i||f.children.length&&!f.children[0].length)&&f.merge(0,i,null,!1,0,l),s.push(f))):f!=null&&f.breakAfter&&(h?h.breakAfter=1:o=1),r++}for(c&&(c.breakAfter=o,t>0&&(!o&&s.length&&c.merge(t,c.length,s[0],!1,a,0)?c.breakAfter=s.shift().breakAfter:(t<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(t,c.length,null,!1,a,0),e++));e<r&&s.length;)if(u[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else if(u[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,a,l)&&e--,(e<r||s.length)&&n.replaceChildren(e,r,s)}}function BE(n,e,t,r,i,s){let o=n.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:u,off:c}=o.findPos(e,-1),h=e-t;for(let d of r)h+=d.length;n.length+=h,$E(n,u,c,a,l,r,0,i,s)}const Mre=256;class Bs extends Jt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return this.flags&8||r&&(!(r instanceof Bs)||this.length-(t-e)+r.length>Mre||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Bs(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Sr(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return Are(this.dom,e,t)}}class xa extends Jt{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if(DE(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,s,o){return r&&(!(r instanceof xa&&r.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(BE(this,e,t,r?r.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],r=0,i=-1,s=0;for(let a of this.children){let l=r+a.length;l>e&&t.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=s),r=l,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new xa(this.mark,t,o)}domAtPos(e){return FE(this,e)}coordsAt(e,t){return HE(this,e,t)}}function Are(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&t<0||e==r&&t>=0?$e.chrome||$e.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):t<0?i--:s<r&&s++;let a=rc(n,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:t>=0)?0:a.length-1];return $e.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,u=>u.width)||l),o?y4(l,o<0):l||null}class ul extends Jt{static create(e,t,r){return new ul(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=ul.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,r,i,s,o){return r&&(!(r instanceof ul)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof ul&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Dt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Dt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Sr.before(this.dom):Sr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?i.length-1:0;s=i[a],!(e>0?a==0:a==i.length-1||s.top<s.bottom);a+=o?-1:1);return y4(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Xh extends Jt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Xh&&e.side==this.side}split(){return new Xh(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Sr.before(this.dom):Sr.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Dt.empty}get isHidden(){return!0}}Bs.prototype.children=ul.prototype.children=Xh.prototype.children=tw;function FE(n,e){let t=n.dom,{children:r}=n,i=0;for(let s=0;i<r.length;i++){let o=r[i],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=i;s>0;s--){let o=r[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=i;s<r.length;s++){let o=r[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new Sr(t,0)}function zE(n,e,t){let r,{children:i}=n;t>0&&e instanceof xa&&i.length&&(r=i[i.length-1])instanceof xa&&r.mark.eq(e.mark)?zE(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function HE(n,e,t){let r=null,i=-1,s=null,o=-1;function a(u,c){for(let h=0,d=0;h<u.children.length&&d<=c;h++){let f=u.children[h],p=d+f.length;p>=c&&(f.children.length?a(f,c-d):(!s||s.isHidden&&(t>0||Tre(s,f)))&&(p>c||d==p&&f.getSide()>0)?(s=f,o=c-d):(d<c||d==p&&f.getSide()<0&&!f.isHidden)&&(r=f,i=c-d)),d=p}}a(n,e);let l=(t<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),t):_re(n)}function _re(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Uf(e);return t[t.length-1]||null}function Tre(n,e){let t=n.coordsAt(0,1),r=e.coordsAt(0,1);return t&&r&&r.top<t.bottom}function mv(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const ix=Object.create(null);function c2(n,e,t){if(n==e)return!0;n||(n=ix),e||(e=ix);let r=Object.keys(n),i=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let s of r)if(s!=t&&(i.indexOf(s)==-1||n[s]!==e[s]))return!1;return!0}function gv(n,e,t){let r=!1;if(e)for(let i in e)t&&i in t||(r=!0,i=="style"?n.style.cssText="":n.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(r=!0,i=="style"?n.style.cssText=t[i]:n.setAttribute(i,t[i]));return r}function Ere(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class Ea{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Rr=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Rr||(Rr={}));class Qe extends tc{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new rp(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Sl(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=VE(e,t);r=(s?t?-3e8:-1:5e8)-1,i=(o?t?2e8:1:-6e8)+1}return new Sl(e,r,i,t,e.widget||null,!0)}static line(e){return new ip(e)}static set(e,t=!1){return Lt.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Qe.none=Lt.empty;class rp extends Qe{constructor(e){let{start:t,end:r}=VE(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof rp&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&c2(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}rp.prototype.point=!1;class ip extends Qe{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof ip&&this.spec.class==e.spec.class&&c2(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}ip.prototype.mapMode=mr.TrackBefore;ip.prototype.point=!0;class Sl extends Qe{constructor(e,t,r,i,s,o){super(t,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?t<=0?mr.TrackBefore:mr.TrackAfter:mr.TrackDel}get type(){return this.startSide!=this.endSide?Rr.WidgetRange:this.startSide<=0?Rr.WidgetBefore:Rr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Sl&&Ore(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Sl.prototype.point=!0;function VE(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t!=null?t:e,end:r!=null?r:e}}function Ore(n,e){return n==e||!!(n&&e&&n.compare(e))}function tg(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}class Bn extends Jt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,s,o){if(r){if(!(r instanceof Bn))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),BE(this,e,t,r?r.children.slice():[],s,o),!0}split(e){let t=new Bn;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)t.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){!this.dom||(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){c2(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){zE(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=mv(t,this.attrs||{})),r&&(this.attrs=mv({class:r},this.attrs||{}))}domAtPos(e){return FE(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?this.flags&4&&(DE(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(gv(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&Jt.get(i)instanceof xa;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=Jt.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!$e.ios||!this.children.some(s=>s instanceof Bs))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof Bs)||/[^ -~]/.test(r.text))return null;let i=Uf(r.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=HE(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:r.top+o,bottom:r.bottom-o,left:r.left,right:r.left}}}return r}become(e){return e instanceof Bn&&this.children.length==0&&e.children.length==0&&c2(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],o=i+s.length;if(o>=t){if(s instanceof Bn)return s;if(o>t)break}i=o+s.breakAfter}return null}}class ga extends Jt{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,s,o){return r&&(!(r instanceof ga)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Sr.before(this.dom):Sr.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new ga(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return tw}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Dt.empty}domBoundsAround(){return null}become(e){return e instanceof ga&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);return r||(this.widget instanceof yv?null:y4(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t==r?!1:e<0?t<0:r>0}}class yv extends Ea{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ff{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof ga&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Bn),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(em(new Xh(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof ga)&&this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:a,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e),s=Math.min(i,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(em(new Bs(this.text.slice(this.textOff,this.textOff+s)),t),r),this.atCursorPos=!0,this.textOff+=s,e-=s,r=i<=s?0:t.length}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof Sl){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(r instanceof Sl)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ga(r.widget||Qh.block,a,r));else{let l=ul.create(r.widget||Qh.inline,a,a?0:r.startSide),u=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<t||r.startSide>0),c=!l.isEditable&&(e<t||s>i.length||r.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),u&&(h.append(em(new Xh(1),i),s),s=i.length+Math.max(0,s-i.length)),h.append(em(l,i),s),this.atCursorPos=c,this.pendingBuffer=c?e<t||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,r,i,s){let o=new ff(e,t,r,s);return o.openEnd=Lt.spans(i,t,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function em(n,e){for(let t of e)n=new xa(t,[n],n.length);return n}class Qh extends Ea{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Qh.inline=new Qh("span");Qh.block=new Qh("div");var dn=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(dn||(dn={}));const ic=dn.LTR,nw=dn.RTL;function qE(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const Ire=qE("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Dre=qE("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),vv=Object.create(null),Js=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);vv[e]=t,vv[t]=-e}function WE(n){return n<=247?Ire[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?Dre[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const Nre=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class cl{get dir(){return this.level%2?nw:ic}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==r)return o;(s<0||(i!=0?i<0?a.from<t:a.to>t:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function jE(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],i=e[t];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!jE(r.inner,i.inner))return!1}return!0}const tn=[];function Lre(n,e,t,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,a=s<r.length?r[s].from:t,l=s?256:i;for(let u=o,c=l,h=l;u<a;u++){let d=WE(n.charCodeAt(u));d==512?d=c:d==8&&h==4&&(d=16),tn[u]=d==4?2:d,d&7&&(h=d),c=d}for(let u=o,c=l,h=l;u<a;u++){let d=tn[u];if(d==128)u<a-1&&c==tn[u+1]&&c&24?d=tn[u]=c:tn[u]=256;else if(d==64){let f=u+1;for(;f<a&&tn[f]==64;)f++;let p=u&&c==8||f<t&&tn[f]==8?h==1?1:8:256;for(let m=u;m<f;m++)tn[m]=p;u=f-1}else d==8&&h==1&&(tn[u]=1);c=d,d&7&&(h=d)}}}function Pre(n,e,t,r,i){let s=i==1?2:1;for(let o=0,a=0,l=0;o<=r.length;o++){let u=o?r[o-1].to:e,c=o<r.length?r[o].from:t;for(let h=u,d,f,p;h<c;h++)if(f=vv[d=n.charCodeAt(h)])if(f<0){for(let m=a-3;m>=0;m-=3)if(Js[m+1]==-f){let y=Js[m+2],v=y&2?i:y&4?y&1?s:i:0;v&&(tn[h]=tn[Js[m]]=v),a=m;break}}else{if(Js.length==189)break;Js[a++]=h,Js[a++]=d,Js[a++]=l}else if((p=tn[h])==2||p==1){let m=p==i;l=m?0:1;for(let y=a-3;y>=0;y-=3){let v=Js[y+2];if(v&2)break;if(m)Js[y+2]|=2;else{if(v&4)break;Js[y+2]|=4}}}}}function Rre(n,e,t,r){for(let i=0,s=r;i<=t.length;i++){let o=i?t[i-1].to:n,a=i<t.length?t[i].from:e;for(let l=o;l<a;){let u=tn[l];if(u==256){let c=l+1;for(;;)if(c==a){if(i==t.length)break;c=t[i++].to,a=i<t.length?t[i].from:e}else if(tn[c]==256)c++;else break;let h=s==1,d=(c<e?tn[c]:r)==1,f=h==d?h?1:2:r;for(let p=c,m=i,y=m?t[m-1].to:n;p>l;)p==y&&(p=t[--m].from,y=m?t[m-1].to:n),tn[--p]=f;l=c}else s=u,l++}}}function wv(n,e,t,r,i,s,o){let a=r%2?2:1;if(r%2==i%2)for(let l=e,u=0;l<t;){let c=!0,h=!1;if(u==s.length||l<s[u].from){let m=tn[l];m!=a&&(c=!1,h=m==16)}let d=!c&&a==1?[]:null,f=c?r:r+1,p=l;e:for(;;)if(u<s.length&&p==s[u].from){if(h)break e;let m=s[u];if(!c)for(let y=m.to,v=u+1;;){if(y==t)break e;if(v<s.length&&s[v].from==y)y=s[v++].to;else{if(tn[y]==a)break e;break}}if(u++,d)d.push(m);else{m.from>l&&o.push(new cl(l,m.from,f));let y=m.direction==ic!=!(f%2);bv(n,y?r+1:r,i,m.inner,m.from,m.to,o),l=m.to}p=m.to}else{if(p==t||(c?tn[p]!=a:tn[p]==a))break;p++}d?wv(n,l,p,r+1,i,d,o):l<p&&o.push(new cl(l,p,f)),l=p}else for(let l=t,u=s.length;l>e;){let c=!0,h=!1;if(!u||l>s[u-1].to){let m=tn[l-1];m!=a&&(c=!1,h=m==16)}let d=!c&&a==1?[]:null,f=c?r:r+1,p=l;e:for(;;)if(u&&p==s[u-1].to){if(h)break e;let m=s[--u];if(!c)for(let y=m.from,v=u;;){if(y==e)break e;if(v&&s[v-1].to==y)y=s[--v].from;else{if(tn[y-1]==a)break e;break}}if(d)d.push(m);else{m.to<l&&o.push(new cl(m.to,l,f));let y=m.direction==ic!=!(f%2);bv(n,y?r+1:r,i,m.inner,m.from,m.to,o),l=m.from}p=m.from}else{if(p==e||(c?tn[p-1]!=a:tn[p-1]==a))break;p--}d?wv(n,p,l,r+1,i,d,o):p<l&&o.push(new cl(p,l,f)),l=p}}function bv(n,e,t,r,i,s,o){let a=e%2?2:1;Lre(n,i,s,r,a),Pre(n,i,s,r,a),Rre(i,s,r,a),wv(n,i,s,e,t,r,o)}function $re(n,e,t){if(!n)return[new cl(0,0,e==nw?1:0)];if(e==ic&&!t.length&&!Nre.test(n))return ZE(n.length);if(t.length)for(;n.length>tn.length;)tn[tn.length]=256;let r=[],i=e==ic?0:1;return bv(n,i,i,t,0,n.length,r),r}function ZE(n){return[new cl(0,n,0)]}let UE="";function Bre(n,e,t,r,i){var s;let o=r.head-n.from,a=cl.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),l=e[a],u=l.side(i,t);if(o==u){let d=a+=i?1:-1;if(d<0||d>=e.length)return null;l=e[a=d],o=l.side(!i,t),u=l.side(i,t)}let c=gr(n.text,o,l.forward(i,t));(c<l.from||c>l.to)&&(c=u),UE=n.text.slice(Math.min(o,c),Math.max(o,c));let h=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return h&&c==u&&h.level+(i?0:1)<l.level?ye.cursor(h.side(!i,t)+n.from,h.forward(i,t)?1:-1,h.level):ye.cursor(c+n.from,l.forward(i,t)?-1:1,l.level)}function Fre(n,e,t){for(let r=e;r<t;r++){let i=WE(n.charCodeAt(r));if(i==1)return ic;if(i==2||i==4)return nw}return ic}const GE=He.define(),KE=He.define(),YE=He.define(),JE=He.define(),kv=He.define(),XE=He.define(),QE=He.define(),rw=He.define(),iw=He.define(),eO=He.define({combine:n=>n.some(e=>e)}),tO=He.define({combine:n=>n.some(e=>e)}),nO=He.define();class rh{constructor(e,t="nearest",r="nearest",i=5,s=5,o=!1){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new rh(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new rh(ye.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const tm=ht.define({map:(n,e)=>n.map(e)}),rO=ht.define();function ni(n,e,t){let r=n.facet(JE);r.length?r[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const ca=He.define({combine:n=>n.length?n[0]:!0});let zre=0;const Uc=He.define({combine(n){return n.filter((e,t)=>{for(let r=0;r<t;r++)if(n[r].plugin==e.plugin)return!1;return!0})}});class qn{constructor(e,t,r,i,s){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(Uc.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Uc.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:r,eventObservers:i,provide:s,decorations:o}=t||{};return new qn(zre++,e,r,i,a=>{let l=[];return o&&l.push(Gf.of(u=>{let c=u.plugin(a);return c?o(c):Qe.none})),s&&l.push(s(a)),l})}static fromClass(e,t){return qn.define((r,i)=>new e(r,i),t)}}class Yy{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(ni(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){ni(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){ni(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const iO=He.define(),sw=He.define(),Gf=He.define(),sO=He.define(),sp=He.define(),oO=He.define();function sx(n,e){let t=n.state.facet(oO);if(!t.length)return t;let r=t.map(s=>s instanceof Function?s(n):s),i=[];return Lt.spans(r,e.from,e.to,{point(){},span(s,o,a,l){let u=s-e.from,c=o-e.from,h=i;for(let d=a.length-1;d>=0;d--,l--){let f=a[d].spec.bidiIsolate,p;if(f==null&&(f=Fre(e.text,u,c)),l>0&&h.length&&(p=h[h.length-1]).to==u&&p.direction==f)p.to=c,h=p.inner;else{let m={from:u,to:c,direction:f,inner:[]};h.push(m),h=m.inner}}}}),i}const aO=He.define();function ow(n){let e=0,t=0,r=0,i=0;for(let s of n.state.facet(aO)){let o=s(n);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:t,top:r,bottom:i}}const Ad=He.define();class us{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new us(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let i=0,s=0,o=0,a=0;;i++){let l=i==e.length?null:e[i],u=o-a,c=l?l.fromB:1e9;for(;s<t.length&&t[s]<c;){let h=t[s],d=t[s+1],f=Math.max(a,h),p=Math.min(c,d);if(f<=p&&new us(f+u,p+u,f,p).addToSet(r),d>c)break;s+=2}if(!l)return r;new us(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,a=l.toB}}}class h2{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Kn.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new us(s,o,a,l))),this.changedRanges=i}static create(e,t,r){return new h2(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class ox extends Jt{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Qe.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Bn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new us(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:u,toA:c})=>c<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!Ure(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?Vre(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:c}=this.hasComposition;r=new us(u,c,e.changes.mapPos(u,-1),e.changes.mapPos(c,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,($e.ie||$e.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=jre(o,a,e.changes);return r=us.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=$e.chrome||$e.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof ga&&o.widget instanceof yv&&s.push(o.dom);i.updateGaps(s)}updateChildren(e,t,r){let i=r?r.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let o=i.length-1;;o--){let a=o>=0?i[o]:null;if(!a)break;let{fromA:l,toA:u,fromB:c,toB:h}=a,d,f,p,m;if(r&&r.range.fromB<h&&r.range.toB>c){let _=ff.build(this.view.state.doc,c,r.range.fromB,this.decorations,this.dynamicDecorationMap),C=ff.build(this.view.state.doc,r.range.toB,h,this.decorations,this.dynamicDecorationMap);f=_.breakAtStart,p=_.openStart,m=C.openEnd;let M=this.compositionView(r);C.breakAtStart?M.breakAfter=1:C.content.length&&M.merge(M.length,M.length,C.content[0],!1,C.openStart,0)&&(M.breakAfter=C.content[0].breakAfter,C.content.shift()),_.content.length&&M.merge(0,0,_.content[_.content.length-1],!0,0,_.openEnd)&&_.content.pop(),d=_.content.concat(M).concat(C.content)}else({content:d,breakAtStart:f,openStart:p,openEnd:m}=ff.build(this.view.state.doc,c,h,this.decorations,this.dynamicDecorationMap));let{i:y,off:v}=s.findPos(u,1),{i:b,off:k}=s.findPos(l,-1);$E(this,b,k,y,v,d,f,p,m)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(rO)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new Bs(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new xa(i,[t],t.length);let r=new Bn;return r.append(t,0),r}fixCompositionDOM(e){let t=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=Jt.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];t(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)r=i.childPos(r.off,1),i=i.children[r.i],t(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&!(this.view.state.facet(ca)||this.dom.tabIndex>-1)&&eg(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||t||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),u=a.empty?l:this.moveToLine(this.domAtPos(a.head));if($e.gecko&&a.empty&&!this.hasComposition&&Hre(l)){let h=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(h,l.node.childNodes[l.offset]||null)),l=u=new Sr(h,0),o=!0}let c=this.view.observer.selectionRange;(o||!c.focusNode||(!df(l.node,l.offset,c.anchorNode,c.anchorOffset)||!df(u.node,u.offset,c.focusNode,c.focusOffset))&&!this.suppressWidgetCursorChange(c,a))&&(this.view.observer.ignore(()=>{$e.android&&$e.chrome&&this.dom.contains(c.focusNode)&&Zre(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=Zf(this.view.root);if(h)if(a.empty){if($e.gecko){let d=qre(l.node,l.offset);if(d&&d!=3){let f=(d==1?LE:PE)(l.node,l.offset);f&&(l=new Sr(f.node,f.offset))}}h.collapse(l.node,l.offset),a.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=a.bidiLevel)}else if(h.extend){h.collapse(l.node,l.offset);try{h.extend(u.node,u.offset)}catch{}}else{let d=document.createRange();a.anchor>a.head&&([l,u]=[u,l]),d.setEnd(u.node,u.offset),d.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(d)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new Sr(c.anchorNode,c.anchorOffset),this.impreciseHead=u.precise?null:new Sr(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&df(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=Zf(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let o=Bn.find(this,t.head);if(!o)return;let a=o.posAtStart;if(t.head==a||t.head==a+o.length)return;let l=this.coordsAt(t.head,-1),u=this.coordsAt(t.head,1);if(!l||!u||l.bottom>u.top)return;let c=this.domAtPos(t.head+t.assoc);r.collapse(c.node,c.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=t.from&&r.collapse(i,s)}moveToLine(e){let t=this.dom,r;if(e.node!=t)return e;for(let i=e.offset;!r&&i<t.childNodes.length;i++){let s=Jt.get(t.childNodes[i]);s instanceof Bn&&(r=s.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let s=Jt.get(t.childNodes[i]);s instanceof Bn&&(r=s.domAtPos(s.length))}return r?new Sr(r.node,r.offset,!0):e}nearest(e){for(let t=e;t;){let r=Jt.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof Bn)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,i=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,u=l-a.length;if(l<e)break;if(u<=e&&(u<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof Bn&&!(r instanceof Bn&&t>=0)))r=a,i=u;else if(r&&u==e&&l==e&&a instanceof ga&&Math.abs(t)<2){if(a.deco.startSide<0)break;o&&(r=null)}s=u}return r?r.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),i=this.children[t];if(!(i instanceof Bn))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof Bs))return null;let s=gr(i.text,r);if(s==r)return null;let o=rc(i.dom,r,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==dn.LTR;for(let u=0,c=0;c<this.children.length;c++){let h=this.children[c],d=u+h.length;if(d>i)break;if(u>=r){let f=h.dom.getBoundingClientRect();if(t.push(f.height),o){let p=h.dom.lastChild,m=p?Uf(p):[];if(m.length){let y=m[m.length-1],v=l?y.right-f.left:f.right-y.left;v>a&&(a=v,this.minWidth=s,this.minWidthFrom=u,this.minWidthTo=d)}}}u=d+h.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?dn.RTL:dn.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Bn){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),t,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Uf(e.firstChild)[0];t=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new RE(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let s=i==t.viewports.length?null:t.viewports[i],o=s?s.from-1:this.length;if(o>r){let a=(t.lineBlockAt(o).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(Qe.replace({widget:new yv(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return Qe.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Gf).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(sO).map((s,o)=>{let a=typeof s=="function";return a&&(r=!0),a?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,t.push(Lt.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(nO))try{if(u(this.view,e.range,e))return!0}catch(c){ni(this.view.state,c,"scroll handler")}let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!r)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=ow(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;bre(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==dn.LTR)}}function Hre(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function lO(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=LE(t.focusNode,t.focusOffset),i=PE(t.focusNode,t.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let a=Jt.get(i.node);if(!a||a instanceof Bs&&a.text!=i.node.nodeValue)s=i;else if(n.docView.lastCompositionAfterCursor){let l=Jt.get(r.node);!l||l instanceof Bs&&l.text!=r.node.nodeValue||(s=i)}}if(n.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function Vre(n,e,t){let r=lO(n,t);if(!r)return null;let{node:i,from:s,to:o}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||n.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,u=new us(l.mapPos(s),l.mapPos(o),s,o),c=[];for(let h=i.parentNode;;h=h.parentNode){let d=Jt.get(h);if(d instanceof xa)c.push({node:h,deco:d.mark});else{if(d instanceof Bn||h.nodeName=="DIV"&&h.parentNode==n.contentDOM)return{range:u,text:i,marks:c,line:h};if(h!=n.contentDOM)c.push({node:h,deco:new rp({inclusive:!0,attributes:Ere(h),tagName:h.tagName.toLowerCase()})});else return null}}}function qre(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let Wre=class{constructor(){this.changes=[]}compareRange(e,t){tg(e,t,this.changes)}comparePoint(e,t){tg(e,t,this.changes)}boundChange(e){tg(e,e,this.changes)}};function jre(n,e,t){let r=new Wre;return Lt.compare(n,e,t,r),r.changes}function Zre(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function Ure(n,e){let t=!1;return e&&n.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(t=!0)}),t}function Gre(n,e,t=1){let r=n.charCategorizer(e),i=n.doc.lineAt(e),s=e-i.from;if(i.length==0)return ye.cursor(e);s==0?t=1:s==i.length&&(t=-1);let o=s,a=s;t<0?o=gr(i.text,s,!1):a=gr(i.text,s);let l=r(i.text.slice(o,a));for(;o>0;){let u=gr(i.text,o,!1);if(r(i.text.slice(u,o))!=l)break;o=u}for(;a<i.length;){let u=gr(i.text,a);if(r(i.text.slice(a,u))!=l)break;a=u}return ye.range(o+i.from,a+i.from)}function Kre(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function Yre(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function Jy(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function ax(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function lx(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function xv(n,e,t){let r,i,s,o,a=!1,l,u,c,h;for(let p=n.firstChild;p;p=p.nextSibling){let m=Uf(p);for(let y=0;y<m.length;y++){let v=m[y];i&&Jy(i,v)&&(v=ax(lx(v,i.bottom),i.top));let b=Kre(e,v),k=Yre(t,v);if(b==0&&k==0)return p.nodeType==3?ux(p,e,t):xv(p,e,t);(!r||o>k||o==k&&s>b)&&(r=p,i=v,s=b,o=k,a=b?e<v.left?y>0:y<m.length-1:!0),b==0?t>v.bottom&&(!c||c.bottom<v.bottom)?(l=p,c=v):t<v.top&&(!h||h.top>v.top)&&(u=p,h=v):c&&Jy(c,v)?c=lx(c,v.bottom):h&&Jy(h,v)&&(h=ax(h,v.top))}}if(c&&c.bottom>=t?(r=l,i=c):h&&h.top<=t&&(r=u,i=h),!r)return{node:n,offset:0};let d=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return ux(r,d,t);if(a&&r.contentEditable!="false")return xv(r,d,t);let f=Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:n,offset:f}}function ux(n,e,t){let r=n.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<r;a++){let l=rc(n,a,a+1).getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(c.top==c.bottom)continue;o||(o=e-c.left);let h=(c.top>t?c.top-t:t-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&h<s){let d=e>=(c.left+c.right)/2,f=d;if(($e.chrome||$e.gecko)&&rc(n,a).getBoundingClientRect().left==c.right&&(f=!d),h<=0)return{node:n,offset:a+(f?1:0)};i=a+(f?1:0),s=h}}}return{node:n,offset:i>-1?i:o>0?n.nodeValue.length:0}}function uO(n,e,t,r=-1){var i,s;let o=n.contentDOM.getBoundingClientRect(),a=o.top+n.viewState.paddingTop,l,{docHeight:u}=n.viewState,{x:c,y:h}=e,d=h-a;if(d<0)return 0;if(d>u)return n.state.doc.length;for(let _=n.viewState.heightOracle.textHeight/2,C=!1;l=n.elementAtHeight(d),l.type!=Rr.Text;)for(;d=r>0?l.bottom+_:l.top-_,!(d>=0&&d<=u);){if(C)return t?null:0;C=!0,r=-r}h=a+d;let f=l.from;if(f<n.viewport.from)return n.viewport.from==0?0:t?null:cx(n,o,l,c,h);if(f>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:cx(n,o,l,c,h);let p=n.dom.ownerDocument,m=n.root.elementFromPoint?n.root:p,y=m.elementFromPoint(c,h);y&&!n.contentDOM.contains(y)&&(y=null),y||(c=Math.max(o.left+1,Math.min(o.right-1,c)),y=m.elementFromPoint(c,h),y&&!n.contentDOM.contains(y)&&(y=null));let v,b=-1;if(y&&((i=n.docView.nearest(y))===null||i===void 0?void 0:i.isEditable)!=!1){if(p.caretPositionFromPoint){let _=p.caretPositionFromPoint(c,h);_&&({offsetNode:v,offset:b}=_)}else if(p.caretRangeFromPoint){let _=p.caretRangeFromPoint(c,h);_&&({startContainer:v,startOffset:b}=_)}v&&(!n.contentDOM.contains(v)||$e.safari&&Jre(v,b,c)||$e.chrome&&Xre(v,b,c))&&(v=void 0),v&&(b=Math.min(Eo(v),b))}if(!v||!n.docView.dom.contains(v)){let _=Bn.find(n.docView,f);if(!_)return d>l.top+l.height/2?l.to:l.from;({node:v,offset:b}=xv(_.dom,c,h))}let k=n.docView.nearest(v);if(!k)return null;if(k.isWidget&&((s=k.dom)===null||s===void 0?void 0:s.nodeType)==1){let _=k.dom.getBoundingClientRect();return e.y<_.top||e.y<=_.bottom&&e.x<=(_.left+_.right)/2?k.posAtStart:k.posAtEnd}else return k.localPosFromDOM(v,b)+k.posAtStart}function cx(n,e,t,r,i){let s=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let a=n.viewState.heightOracle.textHeight,l=Math.floor((i-t.top-(n.defaultLineHeight-a)*.5)/a);s+=l*n.viewState.heightOracle.lineLength}let o=n.state.sliceDoc(t.from,t.to);return t.from+av(o,s,n.state.tabSize)}function cO(n,e,t){let r,i=n;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(;;){let s=i.nextSibling;if(s){if(s.nodeName=="BR")break;return!1}else{let o=i.parentNode;if(!o||o.nodeName=="DIV")break;i=o}}return rc(n,r-1,r).getBoundingClientRect().right>t}function Jre(n,e,t){return cO(n,e,t)}function Xre(n,e,t){if(e!=0)return cO(n,e,t);for(let i=n;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=n.nodeType==1?n.getBoundingClientRect():rc(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function Sv(n,e,t){let r=n.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let s of r.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!i||s.type==Rr.Text&&(i.type!=s.type||(t<0?s.from<e:s.to>e)))&&(i=s)}}return i||r}return r}function Qre(n,e,t,r){let i=Sv(n,e.head,e.assoc||-1),s=!r||i.type!=Rr.Text||!(n.lineWrapping||i.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=n.dom.getBoundingClientRect(),a=n.textDirectionAt(i.from),l=n.posAtCoords({x:t==(a==dn.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return ye.cursor(l,t?-1:1)}return ye.cursor(t?i.to:i.from,t?-1:1)}function hx(n,e,t,r){let i=n.state.doc.lineAt(e.head),s=n.bidiSpans(i),o=n.textDirectionAt(i.from);for(let a=e,l=null;;){let u=Bre(i,s,o,a,t),c=UE;if(!u){if(i.number==(t?n.state.doc.lines:1))return a;c=`
`,i=n.state.doc.line(i.number+(t?1:-1)),s=n.bidiSpans(i),u=n.visualLineSide(i,!t)}if(l){if(!l(c))return a}else{if(!r)return u;l=r(c)}a=u}}function eie(n,e,t){let r=n.state.charCategorizer(e),i=r(t);return s=>{let o=r(s);return i==mn.Space&&(i=o),i==o}}function tie(n,e,t,r){let i=e.head,s=t?1:-1;if(i==(t?n.state.doc.length:0))return ye.cursor(i,e.assoc);let o=e.goalColumn,a,l=n.contentDOM.getBoundingClientRect(),u=n.coordsAtPos(i,e.assoc||-1),c=n.documentTop;if(u)o==null&&(o=u.left-l.left),a=s<0?u.top:u.bottom;else{let f=n.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,n.defaultCharacterWidth*(i-f.from))),a=(s<0?f.top:f.bottom)+c}let h=l.left+o,d=r!=null?r:n.viewState.heightOracle.textHeight>>1;for(let f=0;;f+=10){let p=a+(d+f)*s,m=uO(n,{x:h,y:p},!1,s);if(p<l.top||p>l.bottom||(s<0?m<i:m>i)){let y=n.docView.coordsForChar(m),v=!y||p<y.top?-1:1;return ye.cursor(m,v,void 0,o)}}}function pf(n,e,t){for(;;){let r=0;for(let i of n)i.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=r||t||(e-s<o-e?-1:1);e=l<0?s:o,r=l}});if(!r)return e}}function hO(n,e){let t=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let o=pf(n,i.from,0);o!=i.from&&(s=ye.cursor(o,-1))}else{let o=pf(n,i.from,-1),a=pf(n,i.to,1);(o!=i.from||a!=i.to)&&(s=ye.range(i.from==i.anchor?o:a,i.from==i.head?o:a))}s&&(t||(t=e.ranges.slice()),t[r]=s)}return t?ye.create(t,e.mainIndex):e}function Xy(n,e,t){let r=pf(n.state.facet(sp).map(i=>i(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:ye.cursor(r,r<t.from?1:-1)}const _d="\uFFFF";class nie{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Tt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=_d}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==t)break;let a=Jt.get(i),l=Jt.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:u2(i))||u2(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&!iie(o,t)&&this.lineBreak(),i=o}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=i.exec(t))&&(s=a.index,o=a[0].length),this.append(t.slice(r,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let t=Jt.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(rie(e,r.node,r.offset)?t:0))}}function rie(n,e,t){for(;;){if(!e||t<Eo(e))return!1;if(e==n)return!0;t=nc(e)+1,e=e.parentNode}}function iie(n,e){let t;for(;!(n==e||!n);n=n.nextSibling){let r=Jt.get(n);if(!((r==null?void 0:r.isWidget)||n.cmIgnore))return!1;r&&(t||(t=[])).push(r)}if(t)for(let r of t){let i=r.overrideDOMText;if(i!=null&&i.length)return!1}return!0}class dx{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class sie{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let a=s||o?[]:aie(e),l=new nie(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=lie(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!pv(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),u=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!pv(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),c=e.viewport;if(($e.ios||$e.chrome)&&e.state.selection.main.empty&&l!=u&&(c.from>0||c.to<e.state.doc.length)){let h=Math.min(l,u),d=Math.max(l,u),f=c.from-h,p=c.to-d;(f==0||f==1||h==0)&&(p==0||p==-1||d==e.state.doc.length)&&(l=0,u=e.state.doc.length)}this.newSel=ye.single(u,l)}}}function dO(n,e){let t,{newSel:r}=e,i=n.state.selection.main,s=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=i.from,u=null;(s===8||$e.android&&e.text.length<a-o)&&(l=i.to,u="end");let c=fO(n.state.doc.sliceString(o,a,_d),e.text,l-o,u);c&&($e.chrome&&s==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==_d+_d&&c.toB--,t={from:o+c.from,to:o+c.toA,insert:Dt.of(e.text.slice(c.from,c.toB).split(_d))})}else r&&(!n.hasFocus&&n.state.facet(ca)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:($e.mac||$e.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=ye.single(r.main.anchor-1,r.main.head-1)),t={from:t.from,to:t.to,insert:Dt.of([t.insert.toString().replace("."," ")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:$e.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=ye.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:Dt.of([" "])}),t)return aw(n,t,r,s);if(r&&!r.main.eq(i)){let o=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(o=!0),a=n.inputState.lastSelectionOrigin,a=="select.pointer"&&(r=hO(n.state.facet(sp).map(l=>l(n)),r))),n.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}else return!1}function aw(n,e,t,r=-1){if($e.ios&&n.inputState.flushIOSKey(e))return!0;let i=n.state.selection.main;if($e.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&n.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&nh(n.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&nh(n.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&nh(n.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let o,a=()=>o||(o=oie(n,e,t));return n.state.facet(XE).some(l=>l(n,e.from,e.to,s,a))||n.dispatch(a()),!0}function oie(n,e,t){let r,i=n.state,s=i.selection.main,o=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let l=e.from<s.from?-1:1,u=l<0?s.from:s.to,c=pf(i.facet(sp).map(h=>h(n)),u,l);e.from==c&&(o=c)}if(o>-1)r={changes:e,selection:ye.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let l=s.from<e.from?i.sliceDoc(s.from,e.from):"",u=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(n.state.toText(l+e.insert.sliceString(0,void 0,n.state.lineBreak)+u))}else{let l=i.changes(e),u=t&&t.main.to<=l.newLength?t.main:void 0;if(i.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let c=n.state.sliceDoc(e.from,e.to),h,d=t&&lO(n,t.main.head);if(d){let m=e.insert.length-(e.to-e.from);h={from:d.from,to:d.to-m}}else h=n.state.doc.lineAt(s.head);let f=s.to-e.to,p=s.to-s.from;r=i.changeByRange(m=>{if(m.from==s.from&&m.to==s.to)return{changes:l,range:u||m.map(l)};let y=m.to-f,v=y-c.length;if(m.to-m.from!=p||n.state.sliceDoc(v,y)!=c||m.to>=h.from&&m.from<=h.to)return{range:m};let b=i.changes({from:v,to:y,insert:e.insert}),k=m.to-s.to;return{changes:b,range:u?ye.range(Math.max(0,u.anchor+k),Math.max(0,u.head+k)):m.map(b)}})}else r={changes:l,selection:u&&i.selection.replaceRange(u)}}let a="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,a+=".compose",n.inputState.compositionFirstChange&&(a+=".start",n.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:a,scrollIntoView:!0})}function fO(n,e,t,r){let i=Math.min(n.length,e.length),s=0;for(;s<i&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&n.length==e.length)return null;let o=n.length,a=e.length;for(;o>0&&a>0&&n.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));t-=o+l-s}if(o<s&&n.length<e.length){let l=t<=s&&t>=o?s-t:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=t<=s&&t>=a?s-t:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function aie(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new dx(t,r)),(i!=t||s!=r)&&e.push(new dx(i,s))),e}function lie(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?ye.single(t+e,r+e):null}class uie{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,$e.safari&&e.contentDOM.addEventListener("input",()=>null),$e.gecko&&Mie(e.contentDOM.ownerDocument)}handleEvent(e){!yie(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,t);for(let i of r.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=cie(e),r=this.handlers,i=this.view.contentDOM;for(let s in t)if(s!="scroll"){let o=!t[s].handlers.length,a=r[s];a&&o!=!a.handlers.length&&(i.removeEventListener(s,this.handleEvent),a=null),a||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in r)s!="scroll"&&!t[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&mO.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),$e.android&&$e.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return $e.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=pO.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||hie.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,nh(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:$e.safari&&!$e.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function fx(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(i){ni(t.state,i)}}}function cie(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let i=r.spec,s=i&&i.plugin.domEventHandlers,o=i&&i.plugin.domEventObservers;if(s)for(let a in s){let l=s[a];l&&t(a).handlers.push(fx(r.value,l))}if(o)for(let a in o){let l=o[a];l&&t(a).observers.push(fx(r.value,l))}}for(let r in Fs)t(r).handlers.push(Fs[r]);for(let r in fs)t(r).observers.push(fs[r]);return e}const pO=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],hie="dthko",mO=[16,17,18,20,91,92,224,225],nm=6;function rm(n){return Math.max(0,n)*.7+8}function die(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class fie{constructor(e,t,r,i){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=kre(e.contentDOM),this.atoms=e.state.facet(sp).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Tt.allowMultipleSelections)&&pie(e,t),this.dragging=gie(e,t)&&vO(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&die(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,i=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=ow(this.view);e.clientX-l.left<=i+nm?t=-rm(i-e.clientX):e.clientX+l.right>=o-nm&&(t=rm(e.clientX-o)),e.clientY-l.top<=s+nm?r=-rm(s-e.clientY):e.clientY+l.bottom>=a-nm&&(r=rm(e.clientY-a)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,r=hO(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function pie(n,e){let t=n.state.facet(GE);return t.length?t[0](e):$e.mac?e.metaKey:e.ctrlKey}function mie(n,e){let t=n.state.facet(KE);return t.length?t[0](e):$e.mac?!e.altKey:!e.ctrlKey}function gie(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=Zf(n.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function yie(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=Jt.get(t))&&r.ignoreEvent(e))return!1;return!0}const Fs=Object.create(null),fs=Object.create(null),gO=$e.ie&&$e.ie_version<15||$e.ios&&$e.webkit_version<604;function vie(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),yO(n,t.value)},50)}function v4(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function yO(n,e){e=v4(n.state,rw,e);let{state:t}=n,r,i=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(Cv!=null&&t.selection.ranges.every(l=>l.empty)&&Cv==s.toString()){let l=-1;r=t.changeByRange(u=>{let c=t.doc.lineAt(u.from);if(c.from==l)return{range:u};l=c.from;let h=t.toText((o?s.line(i++).text:e)+t.lineBreak);return{changes:{from:c.from,insert:h},range:ye.cursor(u.from+h.length)}})}else o?r=t.changeByRange(l=>{let u=s.line(i++);return{changes:{from:l.from,to:l.to,insert:u.text},range:ye.cursor(l.from+u.length)}}):r=t.replaceSelection(s);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}fs.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};Fs.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);fs.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};fs.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Fs.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(YE))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=kie(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new fie(n,e,t,r)),r&&n.observer.ignore(()=>{IE(n.contentDOM);let s=n.root.activeElement;s&&!s.contains(n.contentDOM)&&s.blur()});let i=n.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else n.inputState.setSelectionOrigin("select.pointer");return!1};function px(n,e,t,r){if(r==1)return ye.cursor(e,t);if(r==2)return Gre(n.state,e,t);{let i=Bn.find(n.docView,e),s=n.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<n.state.doc.length&&a==s.to&&a++,ye.range(o,a)}}let mx=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function wie(n,e,t,r){let i=Bn.find(n.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&mx(t,r,o))return-1;let a=i.coordsAt(s,1);return a&&mx(t,r,a)?1:o&&o.bottom>=r?-1:1}function gx(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:wie(n,t,e.clientX,e.clientY)}}const bie=$e.ie&&$e.ie_version<=11;let yx=null,vx=0,wx=0;function vO(n){if(!bie)return n.detail;let e=yx,t=wx;return yx=n,wx=Date.now(),vx=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(vx+1)%3:1}function kie(n,e){let t=gx(n,e),r=vO(e),i=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),i=i.map(s.changes))},get(s,o,a){let l=gx(n,s),u,c=px(n,l.pos,l.bias,r);if(t.pos!=l.pos&&!o){let h=px(n,t.pos,t.bias,r),d=Math.min(h.from,c.from),f=Math.max(h.to,c.to);c=d<c.from?ye.range(d,f):ye.range(f,d)}return o?i.replaceRange(i.main.extend(c.from,c.to)):a&&r==1&&i.ranges.length>1&&(u=xie(i,l.pos))?u:a?i.addRange(c):ye.create([c])}}}function xie(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:i}=n.ranges[t];if(r<=e&&i>=e)return ye.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}Fs.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let i=n.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,o=s+i.length;(s>=t.to||o<=t.from)&&(t=ye.range(s,o))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",v4(n.state,iw,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Fs.dragend=n=>(n.inputState.draggedContent=null,!1);function bx(n,e,t,r){if(t=v4(n.state,rw,t),!t)return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=n.inputState,o=r&&s&&mie(n,e)?{from:s.from,to:s.to}:null,a={from:i,insert:t},l=n.state.changes(o?[o,a]:a);n.focus(),n.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Fs.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),i=0,s=()=>{++i==t.length&&bx(n,e,r.filter(o=>o!=null).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(t[o])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return bx(n,e,r,!0),!0}return!1};Fs.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=gO?null:e.clipboardData;return t?(yO(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(vie(n),!1)};function Sie(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function Cie(n){let e=[],t=[],r=!1;for(let i of n.selection.ranges)i.empty||(e.push(n.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:s}of n.selection.ranges){let o=n.doc.lineAt(s);o.number>i&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),i=o.number}r=!0}return{text:v4(n,iw,e.join(n.lineBreak)),ranges:t,linewise:r}}let Cv=null;Fs.copy=Fs.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=Cie(n.state);if(!t&&!i)return!1;Cv=i?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=gO?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(Sie(n,t),!1)};const wO=Ta.define();function bO(n,e){let t=[];for(let r of n.facet(QE)){let i=r(n,e);i&&t.push(i)}return t.length?n.update({effects:t,annotations:wO.of(!0)}):null}function kO(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=bO(n.state,e);t?n.dispatch(t):n.update([])}},10)}fs.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),kO(n)};fs.blur=n=>{n.observer.clearSelectionRange(),kO(n)};fs.compositionstart=fs.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};fs.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,$e.chrome&&$e.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};fs.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Fs.beforeinput=(n,e)=>{var t,r;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=n.posAtDOM(a.startContainer,a.startOffset),u=n.posAtDOM(a.endContainer,a.endOffset);return aw(n,{from:l,to:u,insert:n.state.toText(s)},null),!0}}let i;if($e.chrome&&$e.android&&(i=pO.find(s=>s.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return $e.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),$e.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>fs.compositionend(n,e),20),!1};const kx=new Set;function Mie(n){kx.has(n)||(kx.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const xx=["pre-wrap","normal","pre-line","break-spaces"];let e0=!1;function Sx(){e0=!1}class Aie{constructor(e){this.lineWrapping=e,this.doc=Dt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return xx.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,r,i,s,o){let a=xx.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let u=0;u<o.length;u++){let c=o[u];c<0?u++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class _ie{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class fo{constructor(e,t,r,i,s){this.from=e,this.length=t,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?Rr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Sl?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new fo(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var hn=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(hn||(hn={}));const ng=.001;class $r{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>ng&&(e0=!0),this.height=e)}replace(e,t,r){return $r.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let s=this,o=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:u,fromB:c,toB:h}=i[a],d=s.lineAt(l,hn.ByPosNoHeight,r.setDoc(t),0,0),f=d.to>=u?d:s.lineAt(u,hn.ByPosNoHeight,r,0,0);for(h+=f.to-u,u=f.to;a>0&&d.from<=i[a-1].toA;)l=i[a-1].fromA,c=i[a-1].fromB,a--,l<d.from&&(d=s.lineAt(l,hn.ByPosNoHeight,r,0,0));c+=d.from-l,l=d.from;let p=lw.build(r.setDoc(o),e,c,h);s=d2(s,s.replace(l,u,p))}return s.updateHeight(r,0)}static empty(){return new Mi(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,i=0,s=0;for(;;)if(t==r)if(i>s*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(s>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[t++];a&&(i+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,r++),new Tie($r.of(e.slice(0,t)),o,$r.of(e.slice(r)))}}function d2(n,e){return n==e?n:(n.constructor!=e.constructor&&(e0=!0),e)}$r.prototype.size=1;class xO extends $r{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,i){return new fo(i,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,t,r,i,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,r,i,s))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Mi extends xO{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,i){return new fo(i,this.length,r,this.height,this.breaks)}replace(e,t,r){let i=r[0];return r.length==1&&(i instanceof Mi||i instanceof dr&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof dr?i=new Mi(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):$r.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class dr extends $r{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:a}}blockAt(e,t,r,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(t,i);if(t.lineWrapping){let u=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),c=t.doc.lineAt(u),h=a+c.length*l,d=Math.max(r,e-h/2);return new fo(c.from,c.length,d,h,0)}else{let u=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:c,length:h}=t.doc.line(s+u);return new fo(c,h,r+a*u,a,0)}}lineAt(e,t,r,i,s){if(t==hn.ByHeight)return this.blockAt(e,r,i,s);if(t==hn.ByPosNoHeight){let{from:f,to:p}=r.doc.lineAt(e);return new fo(f,p-f,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),u=r.doc.lineAt(e),c=a+u.length*l,h=u.number-o,d=i+a*h+l*(u.from-s-h);return new fo(u.from,u.length,Math.max(i,Math.min(d,i+this.height-c)),c,0)}forEachLine(e,t,r,i,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:a,perLine:l,perChar:u}=this.heightMetrics(r,s);for(let c=e,h=i;c<=t;){let d=r.doc.lineAt(c);if(c==e){let p=d.number-a;h+=l*p+u*(e-s-p)}let f=l+u*d.length;o(new fo(d.from,d.length,h,f,0)),h+=f,c=d.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let s=r[r.length-1];s instanceof dr?r[r.length-1]=new dr(s.length+i):r.push(null,new dr(i-1))}if(e>0){let s=r[0];s instanceof dr?r[0]=new dr(e+s.length):r.unshift(new dr(e-1),null)}return $r.of(r)}decomposeLeft(e,t){t.push(new dr(e-1),null)}decomposeRight(e,t){t.push(null,new dr(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let s=t+this.length;if(i&&i.from<=t+this.length&&i.more){let o=[],a=Math.max(t,i.from),l=-1;for(i.from>t&&o.push(new dr(i.from-t-1).updateHeight(e,t));a<=s&&i.more;){let c=e.doc.lineAt(a).length;o.length&&o.push(null);let h=i.heights[i.index++];l==-1?l=h:Math.abs(h-l)>=ng&&(l=-2);let d=new Mi(c,h);d.outdated=!1,o.push(d),a+=c+1}a<=s&&o.push(null,new dr(s-a).updateHeight(e,a));let u=$r.of(o);return(l<0||Math.abs(u.height-this.height)>=ng||Math.abs(l-this.heightMetrics(e,t).perLine)>=ng)&&(e0=!0),d2(this,u)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Tie extends $r{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,s,i+this.left.length+this.break)}lineAt(e,t,r,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=t==hn.ByHeight?e<o:e<a,u=l?this.left.lineAt(e,t,r,i,s):this.right.lineAt(e,t,r,o,a);if(this.break||(l?u.to<a:u.from>a))return u;let c=t==hn.ByPosNoHeight?hn.ByPosNoHeight:hn.ByPos;return l?u.join(this.right.lineAt(a,c,r,o,a)):this.left.lineAt(a,c,r,i,s).join(u)}forEachLine(e,t,r,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,r,i,s,o),t>=l&&this.right.forEachLine(e,t,r,a,l,o);else{let u=this.lineAt(l,hn.ByPos,r,i,s);e<u.from&&this.left.forEachLine(e,u.from-1,r,i,s,o),u.to>=e&&u.from<=t&&o(u),t>u.to&&this.right.forEachLine(u.to+1,t,r,a,l,o)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&Cx(s,o-1),t<this.length){let a=s.length;this.decomposeRight(t,s),Cx(s,a)}return $r.of(s)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?$r.of(this.break?[e,null,t]:[e,t]):(this.left=d2(this.left,e),this.right=d2(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:s,right:o}=this,a=t+s.length+this.break,l=null;return i&&i.from<=t+s.length&&i.more?l=s=s.updateHeight(e,t,r,i):s.updateHeight(e,t,r),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,r,i):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Cx(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof dr&&(r=n[e+1])instanceof dr&&n.splice(e-1,3,new dr(t.length+1+r.length))}const Eie=5;class lw{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Mi?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Mi(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=t-e;r.block?this.addBlock(new xO(o,i,r)):(o||s||i>=Eie)&&this.addLineDeco(i,s,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Mi(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new dr(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Mi)return e;let t=new Mi(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Mi)&&!this.isCovered?this.nodes.push(new Mi(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Mi&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let s=new lw(r,e);return Lt.spans(t,r,i,s,0),s.finish(r)}}function Oie(n,e,t){let r=new Iie;return Lt.compare(n,e,t,r,0),r.changes}class Iie{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&tg(e,t,this.changes,5)}}function Die(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,s=Math.max(0,t.left),o=Math.min(i.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(i.innerHeight,t.bottom);for(let u=n.parentNode;u&&u!=r.body;)if(u.nodeType==1){let c=u,h=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&h.overflow!="visible"){let d=c.getBoundingClientRect();s=Math.max(s,d.left),o=Math.min(o,d.right),a=Math.max(a,d.top),l=Math.min(u==n.parentNode?i.innerHeight:l,d.bottom)}u=h.position=="absolute"||h.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function Nie(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function Lie(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Qy{constructor(e,t,r,i){this.from=e,this.to=t,this.size=r,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,t){return Qe.replace({widget:new Pie(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class Pie extends Ea{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Mx{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Ax,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=dn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(sw).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new Aie(t),this.stateDeco=e.facet(Gf).filter(r=>typeof r!="function"),this.heightMap=$r.empty().applyChanges(this.stateDeco,Dt.empty,this.heightOracle.setDoc(e.doc),[new us(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Qe.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new im(s,o))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?Ax:new uw(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Td(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Gf).filter(c=>typeof c!="function");let i=e.changedRanges,s=us.extendWithRanges(i,Oie(r,this.stateDeco,e?e.changes:Kn.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Sx(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||e0)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let u=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(u||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(tO)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?dn.RTL:dn.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let u=0,c=0;if(a.width&&a.height){let{scaleX:_,scaleY:C}=OE(t,a);(_>.005&&Math.abs(this.scaleX-_)>.005||C>.005&&Math.abs(this.scaleY-C)>.005)&&(this.scaleX=_,this.scaleY=C,u|=16,o=l=!0)}let h=(parseInt(r.paddingTop)||0)*this.scaleY,d=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=d)&&(this.paddingTop=h,this.paddingBottom=d,u|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=16);let f=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=f&&(this.scrollAnchorHeight=-1,this.scrollTop=f),this.scrolledToBottom=NE(e.scrollDOM);let p=(this.printing?Lie:Die)(t,this.paddingTop),m=p.top-this.pixelViewport.top,y=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(l=!0)),!this.inView&&!this.scrollTarget&&!Nie(e.dom))return 0;let b=a.width;if((this.contentDOMWidth!=b||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,u|=16),l){let _=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(_)&&(o=!0),o||i.lineWrapping&&Math.abs(b-this.contentDOMWidth)>i.charWidth){let{lineHeight:C,charWidth:M,textHeight:O}=e.docView.measureTextSize();o=C>0&&i.refresh(s,C,M,O,Math.max(5,b/M),_),o&&(e.docView.minWidth=0,u|=16)}m>0&&y>0?c=Math.max(m,y):m<0&&y<0&&(c=Math.min(m,y)),Sx();for(let C of this.viewports){let M=C.from==this.viewport.from?_:e.docView.measureVisibleLineHeights(C);this.heightMap=(o?$r.empty().applyChanges(this.stateDeco,Dt.empty,this.heightOracle,[new us(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new _ie(C.from,M))}e0&&(u|=2)}let k=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return k&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),u|=this.updateForViewport()),(u&2||k)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new im(i.lineAt(o-r*1e3,hn.ByHeight,s,0,0).from,i.lineAt(a+(1-r)*1e3,hn.ByHeight,s,0,0).to);if(t){let{head:u}=t.range;if(u<l.from||u>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=i.lineAt(u,hn.ByPos,s,0,0),d;t.y=="center"?d=(h.top+h.bottom)/2-c/2:t.y=="start"||t.y=="nearest"&&u<l.from?d=h.top:d=h.bottom-c,l=new im(i.lineAt(d-1e3/2,hn.ByHeight,s,0,0).from,i.lineAt(d+c+1e3/2,hn.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new im(this.heightMap.lineAt(r,hn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,hn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,hn.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,hn.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new Qy(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=dn.LTR&&!r)return[];let a=[],l=(c,h,d,f)=>{if(h-c<s)return;let p=this.state.selection.main,m=[p.from];p.empty||m.push(p.to);for(let v of m)if(v>c&&v<h){l(c,v-10,d,f),l(v+10,h,d,f);return}let y=$ie(e,v=>v.from>=d.from&&v.to<=d.to&&Math.abs(v.from-c)<s&&Math.abs(v.to-h)<s&&!m.some(b=>v.from<b&&v.to>b));if(!y){if(h<d.to&&t&&r&&t.visibleRanges.some(k=>k.from<=h&&k.to>=h)){let k=t.moveToLineBoundary(ye.cursor(h),!1,!0).head;k>c&&(h=k)}let v=this.gapSize(d,c,h,f),b=r||v<2e6?v:2e6;y=new Qy(c,h,v,b)}a.push(y)},u=c=>{if(c.length<o||c.type!=Rr.Text)return;let h=Rie(c.from,c.to,this.stateDeco);if(h.total<o)return;let d=this.scrollTarget?this.scrollTarget.range.head:null,f,p;if(r){let m=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,y,v;if(d!=null){let b=om(h,d),k=((this.visibleBottom-this.visibleTop)/2+m)/c.height;y=b-k,v=b+k}else y=(this.visibleTop-c.top-m)/c.height,v=(this.visibleBottom-c.top+m)/c.height;f=sm(h,y),p=sm(h,v)}else{let m=h.total*this.heightOracle.charWidth,y=i*this.heightOracle.charWidth,v=0;if(m>2e6)for(let M of e)M.from>=c.from&&M.from<c.to&&M.size!=M.displaySize&&M.from*this.heightOracle.charWidth+v<this.pixelViewport.left&&(v=M.size-M.displaySize);let b=this.pixelViewport.left+v,k=this.pixelViewport.right+v,_,C;if(d!=null){let M=om(h,d),O=((k-b)/2+y)/m;_=M-O,C=M+O}else _=(b-y)/m,C=(k+y)/m;f=sm(h,_),p=sm(h,C)}f>c.from&&l(c.from,f,c,h),p<c.to&&l(p,c.to,c,h)};for(let c of this.viewportLines)Array.isArray(c.type)?c.type.forEach(u):u(c);return a}gapSize(e,t,r,i){let s=om(i,r)-om(i,t);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){Qy.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Qe.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let r=[];Lt.spans(t,this.viewport.from,this.viewport.to,{span(s,o){r.push({from:s,to:o})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let o=this.visibleRanges[s],a=r[s];(o.from!=a.from||o.to!=a.to)&&(i|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Td(this.heightMap.lineAt(e,hn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Td(this.heightMap.lineAt(this.scaler.fromDOM(e),hn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Td(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class im{constructor(e,t){this.from=e,this.to=t}}function Rie(n,e,t){let r=[],i=n,s=0;return Lt.spans(t,n,e,{span(){},point(o,a){o>i&&(r.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function sm({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(r<=a)return s+r;r-=a}}function om(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}function $ie(n,e){for(let t of n)if(e(t))return t}const Ax={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class uw{constructor(e,t,r){let i=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let u=t.lineAt(a,hn.ByPos,e,0,0).top,c=t.lineAt(l,hn.ByPos,e,0,0).bottom;return i+=c-u,{from:a,to:l,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof uw?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to):!1}}function Td(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new fo(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(i=>Td(i,e)):n._content)}const am=He.define({combine:n=>n.join(" ")}),Mv=He.define({combine:n=>n.indexOf(!0)>-1}),Av=xl.newName(),SO=xl.newName(),CO=xl.newName(),MO={"&light":"."+SO,"&dark":"."+CO};function _v(n,e,t){return new xl(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+" "+r}})}const Bie=_v("."+Av,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},MO),Fie={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},e8=$e.ie&&$e.ie_version<=11;class zie{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new xre,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);($e.ie&&$e.ie_version<=11||$e.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&$e.android&&e.constructor.EDIT_CONTEXT!==!1&&!($e.chrome&&$e.chrome_version<126)&&(this.editContext=new Vie(e),e.state.facet(ca)&&(e.contentDOM.editContext=this.editContext.editContext)),e8&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(ca)?r.root.activeElement!=this.dom:!eg(this.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}($e.ie&&$e.ie_version<=11||$e.android&&$e.chrome)&&!r.state.selection.main.empty&&i.focusNode&&df(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Zf(e.root);if(!t)return!1;let r=$e.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Hie(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let i=eg(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Cre(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Fie),e8&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){!this.active||(this.active=!1,this.observer.disconnect(),e8&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&nh(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);!o||(o.typeOver&&(i=!0),t==-1?{from:t,to:r}=o:(t=Math.min(o.from,t),r=Math.max(o.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&eg(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new sie(this.view,e,t,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,i=dO(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let r=_x(t,e.previousSibling||e.target.previousSibling,-1),i=_x(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(ca)!=e.state.facet(ca)&&(e.view.contentDOM.editContext=e.state.facet(ca)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function _x(n,e,t){for(;e;){let r=Jt.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function Tx(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=n.docView.domAtPos(n.state.selection.main.anchor);return df(o.node,o.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function Hie(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return Tx(n,i)}let t=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",r,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",r,!0),t?Tx(n,t):null}class Vie{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:o}=i,a=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let u=l-a>r.text.length;a==this.from&&s<this.from?a=s:l==this.to&&s>this.to&&(l=s);let c=fO(e.state.sliceDoc(a,l),r.text,(u?i.from:i.to)-a,u?"end":null);if(!c){let d=ye.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));d.main.eq(i)||e.dispatch({selection:d,userEvent:"select"});return}let h={from:c.from+a,to:c.toA+a,insert:Dt.of(r.text.slice(c.from,c.toB).split(`
`))};if(($e.mac||$e.android)&&h.from==o-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(h={from:a,to:l,insert:Dt.of([r.text.replace("."," ")])}),this.pendingContextChange=h,!e.state.readOnly){let d=this.to-this.from+(h.to-h.from+h.insert.length);aw(e,h,ye.single(this.toEditorPos(r.selectionStart,d),this.toEditorPos(r.selectionEnd,d)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),h.from<h.to&&!h.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(t.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let o=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,i.push(s)}t.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(!/none/i.test(o)&&!/none/i.test(a)){let l=this.toEditorPos(s.rangeStart),u=this.toEditorPos(s.rangeEnd);if(l<u){let c=`text-decoration: underline ${/^[a-z]/.test(o)?o+" ":o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${/thin/i.test(a)?1:2}px`;i.push(Qe.mark({attributes:{style:c}}).range(l,u))}}}e.dispatch({effects:rO.of(Qe.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=Zf(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,u)=>{if(r)return;let c=u.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(u)){i=this.pendingContextChange=null,t+=c,this.to+=c;return}else i=null,this.revertPending(e.state);if(s+=t,o+=t,o<=this.from)this.from+=c,this.to+=c;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+u.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),u.toString()),this.to+=c}t+=c}),i&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class ze{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||Sre(e.parent)||document,this.viewState=new Mx(e.state||Tt.create(e)),e.scrollTo&&e.scrollTo.is(tm)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Uc).map(i=>new Yy(i));for(let i of this.plugins)i.update(this);this.observer=new zie(this),this.inputState=new uie(this),this.inputState.ensureHandlers(this.plugins),this.docView=new ox(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof zn?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,i,s=this.state;for(let d of e){if(d.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=d.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(d=>d.annotation(wO))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=bO(s,o),l||(a=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(c=null)):this.observer.clear(),s.facet(Tt.phrases)!=this.state.facet(Tt.phrases))return this.setState(s);i=h2.create(this,s,e),i.flags|=a;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let d of e){if(h&&(h=h.map(d.changes)),d.scrollIntoView){let{main:f}=d.state.selection;h=new rh(f.empty?f:ye.cursor(f.head,f.head>f.anchor?-1:1))}for(let f of d.effects)f.is(tm)&&(h=f.value.clip(this.state))}this.viewState.update(i,h),this.bidiCache=f2.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(Ad)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(am)!=i.state.facet(am)&&(this.viewState.mustMeasureContent=!0),(t||r||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let d of this.state.facet(kv))try{d(i)}catch(f){ni(this.state,f,"update listener")}(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!dO(this,c)&&u.force&&nh(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new Mx(e),this.plugins=e.facet(Uc).map(r=>new Yy(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new ox(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Uc),r=e.state.facet(Uc);if(t!=r){let i=[];for(let s of r){let o=t.indexOf(s);if(o<0)i.push(new Yy(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){ni(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(NE(r))s=-1,o=this.viewState.heightMap.height;else{let f=this.viewState.scrollAnchorAt(i);s=f.from,o=f.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];l&4||([this.measureRequests,u]=[u,this.measureRequests]);let c=u.map(f=>{try{return f.read(this)}catch(p){return ni(this.state,p),Ex}}),h=h2.create(this,this.state,[]),d=!1;h.flags|=l,t?t.flags|=l:t=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),d=this.docView.update(h),d&&this.docViewUpdate());for(let f=0;f<u.length;f++)if(c[f]!=Ex)try{let p=u[f];p.write&&p.write(c[f],this)}catch(p){ni(this.state,p)}if(d&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let p=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(p>1||p<-1){i=i+p,r.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(kv))a(t)}get themeClasses(){return Av+" "+(this.state.facet(Mv)?CO:SO)+" "+this.state.facet(am)}updateAttrs(){let e=Ox(this,iO,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(ca)?"true":"false",class:"cm-content",style:`${$e.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Ox(this,sw,t);let r=this.observer.ignore(()=>{let i=gv(this.contentDOM,this.contentAttrs,t),s=gv(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let i of r.effects)if(i.is(ze.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Ad);let e=this.state.facet(ze.cspNonce);xl.mount(this.root,this.styleModules.concat(Bie).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return Xy(this,e,hx(this,e,t,r))}moveByGroup(e,t){return Xy(this,e,hx(this,e,t,r=>eie(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[t?r.length-1:0];return ye.cursor(s.side(t,i)+e.from,s.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,r=!0){return Qre(this,e,t,r)}moveVertically(e,t,r){return Xy(this,e,tie(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),uO(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[cl.find(s,e-i.from,-1,t)];return y4(r,o.dir==dn.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(eO)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>qie)return ZE(e.length);let t=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||jE(s.isolates,r=sx(this,e))))return s.order;r||(r=sx(this,e));let i=$re(e.text,t,r);return this.bidiCache.push(new f2(e.from,e.to,t,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||$e.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{IE(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return tm.of(new rh(typeof e=="number"?ye.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return tm.of(new rh(ye.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return qn.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return qn.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=xl.newName(),i=[am.of(r),Ad.of(_v(`.${r}`,e))];return t&&t.dark&&i.push(Mv.of(!0)),i}static baseTheme(e){return Nl.lowest(Ad.of(_v("."+Av,e,MO)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),i=r&&Jt.get(r)||Jt.get(e);return((t=i==null?void 0:i.rootView)===null||t===void 0?void 0:t.view)||null}}ze.styleModule=Ad;ze.inputHandler=XE;ze.clipboardInputFilter=rw;ze.clipboardOutputFilter=iw;ze.scrollHandler=nO;ze.focusChangeEffect=QE;ze.perLineTextDirection=eO;ze.exceptionSink=JE;ze.updateListener=kv;ze.editable=ca;ze.mouseSelectionStyle=YE;ze.dragMovesSelection=KE;ze.clickAddsSelectionRange=GE;ze.decorations=Gf;ze.outerDecorations=sO;ze.atomicRanges=sp;ze.bidiIsolatedRanges=oO;ze.scrollMargins=aO;ze.darkTheme=Mv;ze.cspNonce=He.define({combine:n=>n.length?n[0]:""});ze.contentAttributes=sw;ze.editorAttributes=iO;ze.lineWrapping=ze.contentAttributes.of({class:"cm-lineWrapping"});ze.announce=ht.define();const qie=4096,Ex={};class f2{constructor(e,t,r,i,s,o){this.from=e,this.to=t,this.dir=r,this.isolates=i,this.fresh=s,this.order=o}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:dn.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!t.touchesRange(o.from,o.to)&&r.push(new f2(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}function Ox(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(n):s;o&&mv(o,t)}return t}const Wie=$e.mac?"mac":$e.windows?"win":$e.linux?"linux":"key";function jie(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let i,s,o,a;for(let l=0;l<t.length-1;++l){const u=t[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function lm(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const Zie=Nl.default(ze.domEventHandlers({keydown(n,e){return _O(AO(e.state),n,e,"editor")}})),_0=He.define({enables:Zie}),Ix=new WeakMap;function AO(n){let e=n.facet(_0),t=Ix.get(e);return t||Ix.set(e,t=Kie(e.reduce((r,i)=>r.concat(i),[]))),t}function Uie(n,e,t){return _O(AO(n.state),e,n,t)}let nl=null;const Gie=4e3;function Kie(n,e=Wie){let t=Object.create(null),r=Object.create(null),i=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,u,c)=>{var h,d;let f=t[o]||(t[o]=Object.create(null)),p=a.split(/ (?!$)/).map(v=>jie(v,e));for(let v=1;v<p.length;v++){let b=p.slice(0,v).join(" ");i(b,!0),f[b]||(f[b]={preventDefault:!0,stopPropagation:!1,run:[k=>{let _=nl={view:k,prefix:b,scope:o};return setTimeout(()=>{nl==_&&(nl=null)},Gie),!0}]})}let m=p.join(" ");i(m,!1);let y=f[m]||(f[m]={preventDefault:!1,stopPropagation:!1,run:((d=(h=f._any)===null||h===void 0?void 0:h.run)===null||d===void 0?void 0:d.slice())||[]});l&&y.run.push(l),u&&(y.preventDefault=!0),c&&(y.stopPropagation=!0)};for(let o of n){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let u of a){let c=t[u]||(t[u]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:h}=o;for(let d in c)c[d].run.push(f=>h(f,Tv))}let l=o[e]||o.key;if(!!l)for(let u of a)s(u,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(u,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return t}let Tv=null;function _O(n,e,t,r){Tv=e;let i=_E(e),s=ei(i,0),o=ho(s)==i.length&&i!=" ",a="",l=!1,u=!1,c=!1;nl&&nl.view==t&&nl.scope==r&&(a=nl.prefix+" ",mO.indexOf(e.keyCode)<0&&(u=!0,nl=null));let h=new Set,d=y=>{if(y){for(let v of y.run)if(!h.has(v)&&(h.add(v),v(t)))return y.stopPropagation&&(c=!0),!0;y.preventDefault&&(y.stopPropagation&&(c=!0),u=!0)}return!1},f=n[r],p,m;return f&&(d(f[a+lm(i,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!($e.windows&&e.ctrlKey&&e.altKey)&&!($e.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(p=ka[e.keyCode])&&p!=i?(d(f[a+lm(p,e,!0)])||e.shiftKey&&(m=jf[e.keyCode])!=i&&m!=p&&d(f[a+lm(m,e,!1)]))&&(l=!0):o&&e.shiftKey&&d(f[a+lm(i,e,!0)])&&(l=!0),!l&&d(f._any)&&(l=!0)),u&&(l=!0),l&&c&&e.stopPropagation(),Tv=null,l}class op{constructor(e,t,r,i,s){this.className=e,this.left=t,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=TO(e);return[new op(t,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return Yie(e,t,r)}}function TO(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==dn.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function Dx(n,e,t,r){let i=n.coordsAtPos(e,t*2);if(!i)return r;let s=n.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,a=n.posAtCoords({x:s.left+1,y:o}),l=n.posAtCoords({x:s.right-1,y:o});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function Yie(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),i=Math.min(t.to,n.viewport.to),s=n.textDirection==dn.LTR,o=n.contentDOM,a=o.getBoundingClientRect(),l=TO(n),u=o.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),h=a.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),d=a.right-(c?parseInt(c.paddingRight):0),f=Sv(n,r,1),p=Sv(n,i,-1),m=f.type==Rr.Text?f:null,y=p.type==Rr.Text?p:null;if(m&&(n.lineWrapping||f.widgetLineBreaks)&&(m=Dx(n,r,1,m)),y&&(n.lineWrapping||p.widgetLineBreaks)&&(y=Dx(n,i,-1,y)),m&&y&&m.from==y.from&&m.to==y.to)return b(k(t.from,t.to,m));{let C=m?k(t.from,null,m):_(f,!1),M=y?k(null,t.to,y):_(p,!0),O=[];return(m||f).to<(y||p).from-(m&&y?1:0)||f.widgetLineBreaks>1&&C.bottom+n.defaultLineHeight/2<M.top?O.push(v(h,C.bottom,d,M.top)):C.bottom<M.top&&n.elementAtHeight((C.bottom+M.top)/2).type==Rr.Text&&(C.bottom=M.top=(C.bottom+M.top)/2),b(C).concat(O).concat(b(M))}function v(C,M,O,D){return new op(e,C-l.left,M-l.top,O-C,D-M)}function b({top:C,bottom:M,horizontal:O}){let D=[];for(let $=0;$<O.length;$+=2)D.push(v(O[$],C,O[$+1],M));return D}function k(C,M,O){let D=1e9,$=-1e9,R=[];function G(Z,re,J,K,ne){let pe=n.coordsAtPos(Z,Z==O.to?-2:2),B=n.coordsAtPos(J,J==O.from?2:-2);!pe||!B||(D=Math.min(pe.top,B.top,D),$=Math.max(pe.bottom,B.bottom,$),ne==dn.LTR?R.push(s&&re?h:pe.left,s&&K?d:B.right):R.push(!s&&K?h:B.left,!s&&re?d:pe.right))}let N=C!=null?C:O.from,j=M!=null?M:O.to;for(let Z of n.visibleRanges)if(Z.to>N&&Z.from<j)for(let re=Math.max(Z.from,N),J=Math.min(Z.to,j);;){let K=n.state.doc.lineAt(re);for(let ne of n.bidiSpans(K)){let pe=ne.from+K.from,B=ne.to+K.from;if(pe>=J)break;B>re&&G(Math.max(pe,re),C==null&&pe<=N,Math.min(B,J),M==null&&B>=j,ne.dir)}if(re=K.to+1,re>=J)break}return R.length==0&&G(N,C==null,j,M==null,n.textDirection),{top:D,bottom:$,horizontal:R}}function _(C,M){let O=a.top+(M?C.top:C.bottom);return{top:O,bottom:O,horizontal:[]}}}function Jie(n,e){return n.constructor==e.constructor&&n.eq(e)}class Xie{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(rg)!=e.state.facet(rg)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(rg);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!Jie(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[r].constructor&&i.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e,$e.safari&&$e.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const rg=He.define();function EO(n){return[qn.define(e=>new Xie(e,n)),rg.of(n)]}const Kf=He.define({combine(n){return Lo(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function OO(n={}){return[Kf.of(n),Qie,ese,tse,tO.of(!0)]}function IO(n){return n.startState.facet(Kf)!=n.state.facet(Kf)}const Qie=EO({above:!0,markers(n){let{state:e}=n,t=e.facet(Kf),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty||t.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:ye.cursor(i.head,i.head>i.anchor?-1:1);for(let l of op.forRange(n,o,a))r.push(l)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=IO(n);return t&&Nx(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){Nx(e.state,n)},class:"cm-cursorLayer"});function Nx(n,e){e.style.animationDuration=n.facet(Kf).cursorBlinkRate+"ms"}const ese=EO({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:op.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||IO(n)},class:"cm-selectionLayer"}),tse=Nl.highest(ze.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),DO=ht.define({map(n,e){return n==null?null:e.mapPos(n)}}),Ed=ar.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(DO)?r.value:t,n)}}),nse=qn.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(Ed);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Ed)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(Ed),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let r=n.scrollDOM.getBoundingClientRect();return{left:t.left-r.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-r.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Ed)!=n&&this.view.dispatch({effects:DO.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function rse(){return[Ed,nse]}function Lx(n,e,t,r,i){e.lastIndex=0;for(let s=n.iterRange(t,r),o=t,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function ise(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let r=[];for(let{from:i,to:s}of t)i=Math.max(n.state.doc.lineAt(i).from,i-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class sse{constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(a,l,u,c)=>i(c,u,u+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,u,c)=>{let h=r(a,l,u);h&&c(u,u+a[0].length,h)};else if(r)this.addMatch=(a,l,u,c)=>c(u,u+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let t=new ba,r=t.add.bind(t);for(let{from:i,to:s}of ise(e,this.maxLength))Lx(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,r));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,i);if(a>=o){let l=e.state.doc.lineAt(o),u=l.to<a?e.state.doc.lineAt(a):l,c=Math.max(s.from,l.from),h=Math.min(s.to,u.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){c=o;break}for(;a<u.to;a++)if(this.boundary.test(u.text[a-u.from])){h=a;break}}let d=[],f,p=(m,y,v)=>d.push(v.range(m,y));if(l==u)for(this.regexp.lastIndex=c-l.from;(f=this.regexp.exec(l.text))&&f.index<h-l.from;)this.addMatch(f,e,f.index+l.from,p);else Lx(e.state.doc,this.regexp,c,h,(m,y)=>this.addMatch(y,e,m,p));t=t.update({filterFrom:c,filterTo:h,filter:(m,y)=>m<c||y>h,add:d})}}return t}}const Ev=/x/.unicode!=null?"gu":"g",ose=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\u2066\u2067\u2069\uFEFF\uFFF9-\uFFFC]`,Ev),ase={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let t8=null;function lse(){var n;if(t8==null&&typeof document<"u"&&document.body){let e=document.body.style;t8=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return t8||!1}const ig=He.define({combine(n){let e=Lo(n,{render:null,specialChars:ose,addSpecialChars:null});return(e.replaceTabs=!lse())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Ev)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Ev)),e}});function use(n={}){return[ig.of(n),cse()]}let Px=null;function cse(){return Px||(Px=qn.fromClass(class{constructor(n){this.view=n,this.decorations=Qe.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(ig)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new sse({regexp:n.specialChars,decoration:(e,t,r)=>{let{doc:i}=t.state,s=ei(e[0],0);if(s==9){let o=i.lineAt(r),a=t.state.tabSize,l=A0(o.text,a,r-o.from);return Qe.replace({widget:new pse((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=Qe.replace({widget:new fse(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(ig);n.startState.facet(ig)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const hse="\u2022";function dse(n){return n>=32?hse:n==10?"\u2424":String.fromCharCode(9216+n)}class fse extends Ea{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=dse(this.code),r=e.state.phrase("Control character")+" "+(ase[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let s=document.createElement("span");return s.textContent=t,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class pse extends Ea{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function mse(){return yse}const gse=Qe.line({class:"cm-activeLine"}),yse=qn.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>e&&(t.push(gse.range(i.from)),e=i.from)}return Qe.set(t)}},{decorations:n=>n.decorations}),Ov=2e3;function vse(n,e,t){let r=Math.min(e.line,t.line),i=Math.max(e.line,t.line),s=[];if(e.off>Ov||t.off>Ov||e.col<0||t.col<0){let o=Math.min(e.off,t.off),a=Math.max(e.off,t.off);for(let l=r;l<=i;l++){let u=n.doc.line(l);u.length<=a&&s.push(ye.range(u.from+o,u.to+a))}}else{let o=Math.min(e.col,t.col),a=Math.max(e.col,t.col);for(let l=r;l<=i;l++){let u=n.doc.line(l),c=av(u.text,o,n.tabSize,!0);if(c<0)s.push(ye.cursor(u.to));else{let h=av(u.text,a,n.tabSize);s.push(ye.range(u.from+c,u.from+h))}}}return s}function wse(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function Rx(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,s=i>Ov?-1:i==r.length?wse(n,e.clientX):A0(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:s,off:i}}function bse(n,e){let t=Rx(n,e),r=n.state.selection;return t?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(t.line).from),o=i.state.doc.lineAt(s);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let a=Rx(n,i);if(!a)return r;let l=vse(n.state,t,a);return l.length?o?ye.create(l.concat(r.ranges)):ye.create(l):r}}:null}function kse(n){let e=(n==null?void 0:n.eventFilter)||(t=>t.altKey&&t.button==0);return ze.mouseSelectionStyle.of((t,r)=>e(r)?bse(t,r):null)}const xse={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},Sse={style:"cursor: crosshair"};function Cse(n={}){let[e,t]=xse[n.key||"Alt"],r=qn.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[r,ze.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?Sse:null})]}const ud="-10000px";class NO{constructor(e,t,r,i){this.facet=t,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=r(o,s))}update(e,t){var r;let i=e.state.facet(this.facet),s=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=t?[]:null;for(let l=0;l<s.length;l++){let u=s[l],c=-1;if(!!u){for(let h=0;h<this.tooltips.length;h++){let d=this.tooltips[h];d&&d.create==u.create&&(c=h)}if(c<0)o[l]=this.createTooltipView(u,l?o[l-1]:null),a&&(a[l]=!!u.above);else{let h=o[l]=this.tooltipViews[c];a&&(a[l]=t[c]),h.update&&h.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return t&&(a.forEach((l,u)=>t[u]=l),t.length=a.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function Mse(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const n8=He.define({combine:n=>{var e,t,r;return{position:$e.ios?"absolute":((e=n.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||Mse}}}),$x=new WeakMap,cw=qn.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(n8);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new NO(n,hw,(t,r)=>this.createTooltip(t,r),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(n8);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),r=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=ud,t.dom.style.left="0px",this.container.insertBefore(t.dom,r),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if($e.gecko)t=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==ud&&s.style.left=="0px"){let o=s.getBoundingClientRect();t=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(n=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=ow(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(n8).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:t,space:r,scaleX:i,scaleY:s}=n,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],u=this.manager.tooltipViews[a],{dom:c}=u,h=n.pos[a],d=n.size[a];if(!h||l.clip!==!1&&(h.bottom<=Math.max(t.top,r.top)||h.top>=Math.min(t.bottom,r.bottom)||h.right<Math.max(t.left,r.left)-.1||h.left>Math.min(t.right,r.right)+.1)){c.style.top=ud;continue}let f=l.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,p=f?7:0,m=d.right-d.left,y=(e=$x.get(u))!==null&&e!==void 0?e:d.bottom-d.top,v=u.offset||_se,b=this.view.textDirection==dn.LTR,k=d.width>r.right-r.left?b?r.left:r.right-d.width:b?Math.max(r.left,Math.min(h.left-(f?14:0)+v.x,r.right-m)):Math.min(Math.max(r.left,h.left-m+(f?14:0)-v.x),r.right-m),_=this.above[a];!l.strictSide&&(_?h.top-y-p-v.y<r.top:h.bottom+y+p+v.y>r.bottom)&&_==r.bottom-h.bottom>h.top-r.top&&(_=this.above[a]=!_);let C=(_?h.top-r.top:r.bottom-h.bottom)-p;if(C<y&&u.resize!==!1){if(C<this.view.defaultLineHeight){c.style.top=ud;continue}$x.set(u,y),c.style.height=(y=C)/s+"px"}else c.style.height&&(c.style.height="");let M=_?h.top-y-p-v.y:h.bottom+p+v.y,O=k+m;if(u.overlap!==!0)for(let D of o)D.left<O&&D.right>k&&D.top<M+y&&D.bottom>M&&(M=_?D.top-y-2-p:D.bottom+p+2);if(this.position=="absolute"?(c.style.top=(M-n.parent.top)/s+"px",Bx(c,(k-n.parent.left)/i)):(c.style.top=M/s+"px",Bx(c,k/i)),f){let D=h.left+(b?v.x:-v.x)-(k+14-7);f.style.left=D/i+"px"}u.overlap!==!0&&o.push({left:k,top:M,right:O,bottom:M+y}),c.classList.toggle("cm-tooltip-above",_),c.classList.toggle("cm-tooltip-below",!_),u.positioned&&u.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=ud}},{eventObservers:{scroll(){this.maybeMeasure()}}});function Bx(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const Ase=ze.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:`${7}px`,width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:`${7}px solid transparent`,borderRight:`${7}px solid transparent`},".cm-tooltip-above &":{bottom:`-${7}px`,"&:before":{borderTop:`${7}px solid #bbb`},"&:after":{borderTop:`${7}px solid #f5f5f5`,bottom:"1px"}},".cm-tooltip-below &":{top:`-${7}px`,"&:before":{borderBottom:`${7}px solid #bbb`},"&:after":{borderBottom:`${7}px solid #f5f5f5`,top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),_se={x:0,y:0},hw=He.define({enables:[cw,Ase]}),p2=He.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class w4{static create(e){return new w4(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new NO(e,p2,(t,r)=>this.createHostedView(t,r),t=>t.dom.remove())}createHostedView(e,t){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Tse=hw.compute([p2],n=>{let e=n.facet(p2);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var r;return(r=t.end)!==null&&r!==void 0?r:t.pos})),create:w4.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class Ese{constructor(e,t,r,i,s){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.nearest(t.target);if(!r)return;let i,s=1;if(r instanceof ul)i=r.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let a=e.coordsAtPos(i);if(!a||t.y<a.top||t.y>a.bottom||t.x<a.left-e.defaultCharacterWidth||t.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(c=>c.from<=i&&c.to>=i),u=l&&l.dir==dn.RTL?-1:1;s=t.x<a.left?-u:u}let o=this.source(e,i,s);if(o!=null&&o.then){let a=this.pending={pos:i};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>ni(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(cw),t=e?e.manager.tooltips.findIndex(r=>r.create==w4.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!Ose(s.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,a=(r=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!Ise(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=r=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const um=4;function Ose(n,e){let{left:t,right:r,top:i,bottom:s}=n.getBoundingClientRect(),o;if(o=n.querySelector(".cm-tooltip-arrow")){let a=o.getBoundingClientRect();i=Math.min(a.top,i),s=Math.max(a.bottom,s)}return e.clientX>=t-um&&e.clientX<=r+um&&e.clientY>=i-um&&e.clientY<=s+um}function Ise(n,e,t,r,i,s){let o=n.scrollDOM.getBoundingClientRect(),a=n.documentTop+n.documentPadding.top+n.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,a)<i)return!1;let l=n.posAtCoords({x:r,y:i},!1);return l>=e&&l<=t}function Dse(n,e={}){let t=ht.define(),r=ar.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of i){let l=s.changes.mapPos(a.pos,-1,mr.TrackDel);if(l!=null){let u=Object.assign(Object.create(null),a);u.pos=l,u.end!=null&&(u.end=s.changes.mapPos(u.end)),o.push(u)}}i=o}for(let o of s.effects)o.is(t)&&(i=o.value),o.is(Nse)&&(i=[]);return i},provide:i=>p2.from(i)});return{active:r,extension:[r,qn.define(i=>new Ese(i,n,r,t,e.hoverTime||300)),Tse]}}function LO(n,e){let t=n.plugin(cw);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}const Nse=ht.define(),Fx=He.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Yf(n,e){let t=n.plugin(PO),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const PO=qn.fromClass(class{constructor(n){this.input=n.state.facet(Jf),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(Fx);this.top=new cm(n,!0,e.topContainer),this.bottom=new cm(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(Fx);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new cm(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new cm(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(Jf);if(t!=this.input){let r=t.filter(l=>l),i=[],s=[],o=[],a=[];for(let l of r){let u=this.specs.indexOf(l),c;u<0?(c=l(n.view),a.push(c)):(c=this.panels[u],c.update&&c.update(n)),i.push(c),(c.top?s:o).push(c)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>ze.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class cm{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=zx(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=zx(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function zx(n){let e=n.nextSibling;return n.remove(),e}const Jf=He.define({enables:PO});class Sa extends tc{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Sa.prototype.elementClass="";Sa.prototype.toDOM=void 0;Sa.prototype.mapMode=mr.TrackBefore;Sa.prototype.startSide=Sa.prototype.endSide=-1;Sa.prototype.point=!0;const sg=He.define(),Lse=He.define(),Pse={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Lt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},mf=He.define();function Rse(n){return[RO(),mf.of({...Pse,...n})]}const Iv=He.define({combine:n=>n.some(e=>e)});function RO(n){let e=[$se];return n&&n.fixed===!1&&e.push(Iv.of(!0)),e}const $se=qn.fromClass(class{constructor(n){this.view=n,this.domAfter=null,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(mf).map(e=>new Vx(n,e)),this.fixed=!n.state.facet(Iv);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}if(n.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(Iv)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=Lt.iter(this.view.state.facet(sg),this.view.viewport.from),r=[],i=this.gutters.map(s=>new Bse(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==Rr.Text&&o){Dv(t,r,a.from);for(let l of i)l.line(this.view,a,r);o=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(s.type==Rr.Text){Dv(t,r,s.from);for(let o of i)o.line(this.view,s,r)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();n&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(n){let e=n.startState.facet(mf),t=n.state.facet(mf),r=n.docChanged||n.heightChanged||n.viewportChanged||!Lt.eq(n.startState.facet(sg),n.state.facet(sg),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let s of t){let o=e.indexOf(s);o<0?i.push(new Vx(this.view,s)):(this.gutters[o].update(n),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:n=>ze.scrollMargins.of(e=>{let t=e.plugin(n);if(!t||t.gutters.length==0||!t.fixed)return null;let r=t.dom.offsetWidth*e.scaleX,i=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==dn.LTR?{left:r,right:i}:{right:r,left:i}})});function Hx(n){return Array.isArray(n)?n:[n]}function Dv(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class Bse{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Lt.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:i}=this,s=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==i.elements.length){let a=new $O(e,o,s,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,o,s,r);this.height=t.bottom,this.i++}line(e,t,r){let i=[];Dv(this.cursor,i,t.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,t,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),i=r?[r]:null;for(let s of e.state.facet(Lse)){let o=s(e,t.widget,t);o&&(i||(i=[])).push(o)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class Vx{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=Hx(t.markers(e)),t.initialSpacer&&(this.spacer=new $O(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Hx(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!Lt.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class $O{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),Fse(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<t.length?t[s++]:null,u=!1;if(l){let c=l.elementClass;c&&(r+=" "+c);for(let h=o;h<this.markers.length;h++)if(this.markers[h].compare(l)){a=h,u=!0;break}}else a=this.markers.length;for(;o<a;){let c=this.markers[o++];if(c.toDOM){c.destroy(i);let h=i.nextSibling;i.remove(),i=h}}if(!l)break;l.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),u&&o++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function Fse(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const zse=He.define(),Hse=He.define(),Gc=He.define({combine(n){return Lo(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let s=r[i],o=t[i];r[i]=s?(a,l,u)=>s(a,l,u)||o(a,l,u):o}return r}})}});class r8 extends Sa{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function i8(n,e){return n.state.facet(Gc).formatNumber(e,n.state)}const Vse=mf.compute([Gc],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(zse)},lineMarker(e,t,r){return r.some(i=>i.toDOM)?null:new r8(i8(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,r)=>{for(let i of e.state.facet(Hse)){let s=i(e,t,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(Gc)!=e.state.facet(Gc),initialSpacer(e){return new r8(i8(e,qx(e.state.doc.lines)))},updateSpacer(e,t){let r=i8(t.view,qx(t.view.state.doc.lines));return r==e.number?e:new r8(r)},domEventHandlers:n.facet(Gc).domEventHandlers,side:"before"}));function qse(n={}){return[Gc.of(n),RO(),Vse]}function qx(n){let e=9;for(;e<n;)e=e*10+9;return e}const Wse=new class extends Sa{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},jse=sg.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>t&&(t=i,e.push(Wse.range(i)))}return Lt.of(e)});function Zse(){return jse}let Use=0;class Ki{constructor(e,t,r,i){this.name=e,this.set=t,this.base=r,this.modified=i,this.id=Use++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof Ki&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let i=new Ki(r,[],null,[]);if(i.set.push(i),t)for(let s of t.set)i.set.push(s);return i}static defineModifier(e){let t=new m2(e);return r=>r.modified.indexOf(t)>-1?r:m2.get(r.base||r,r.modified.concat(t).sort((i,s)=>i.id-s.id))}}let Gse=0;class m2{constructor(e){this.name=e,this.instances=[],this.id=Gse++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(a=>a.base==e&&Kse(t,a.modified));if(r)return r;let i=[],s=new Ki(e.name,i,e,t);for(let a of t)a.instances.push(s);let o=Yse(t);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(m2.get(a,l));return s}}function Kse(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function Yse(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function Jse(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let s=[],o=2,a=i;for(let h=0;;){if(a=="..."&&h>0&&h+3==i.length){o=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!d)throw new RangeError("Invalid path: "+i);if(s.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),h+=d[0].length,h==i.length)break;let f=i[h++];if(h==i.length&&f=="!"){o=0;break}if(f!="/")throw new RangeError("Invalid path: "+i);a=i.slice(h)}let l=s.length-1,u=s[l];if(!u)throw new RangeError("Invalid path: "+i);let c=new Xf(r,o,l>0?s.slice(0,l):null);e[u]=c.sort(e[u])}}return BO.add(e)}const BO=new St({combine(n,e){let t,r,i;for(;n||e;){if(!n||e&&n.depth>=e.depth?(i=e,e=e.next):(i=n,n=n.next),t&&t.mode==i.mode&&!i.context&&!t.context)continue;let s=new Xf(i.tags,i.mode,i.context);t?t.next=s:r=s,t=s}return r}});class Xf{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Xf.empty=new Xf([],2,null);function FO(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let u=t[l.id];if(u){o=o?o+" "+u:u;break}}return o},scope:r}}function Xse(n,e){let t=null;for(let r of n){let i=r.style(e);i&&(t=t?t+" "+i:i)}return t}function Qse(n,e,t,r=0,i=n.length){let s=new eoe(r,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),r,i,"",s.highlighters),s.flush(i)}class eoe{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=t)return;o.isTop&&(s=this.highlighters.filter(f=>!f.scope||f.scope(o)));let u=i,c=toe(e)||Xf.empty,h=Xse(s,c.tags);if(h&&(u&&(u+=" "),u+=h,c.mode==1&&(i+=(i?" ":"")+h)),this.startSpan(Math.max(t,a),u),c.opaque)return;let d=e.tree&&e.tree.prop(St.mounted);if(d&&d.overlay){let f=e.node.enter(d.overlay[0].from+a,1),p=this.highlighters.filter(y=>!y.scope||y.scope(d.tree.type)),m=e.firstChild();for(let y=0,v=a;;y++){let b=y<d.overlay.length?d.overlay[y]:null,k=b?b.from+a:l,_=Math.max(t,v),C=Math.min(r,k);if(_<C&&m)for(;e.from<C&&(this.highlightRange(e,_,C,i,s),this.startSpan(Math.min(C,e.to),u),!(e.to>=k||!e.nextSibling())););if(!b||k>r)break;v=b.to+a,v>t&&(this.highlightRange(f.cursor(),Math.max(t,b.from+a),Math.min(r,v),"",p),this.startSpan(Math.min(r,v),u))}m&&e.parent()}else if(e.firstChild()){d&&(i="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,s),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}}function toe(n){let e=n.type.prop(BO);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const Pe=Ki.define,hm=Pe(),Ka=Pe(),Wx=Pe(Ka),jx=Pe(Ka),Ya=Pe(),dm=Pe(Ya),s8=Pe(Ya),to=Pe(),Kl=Pe(to),Xs=Pe(),Qs=Pe(),Nv=Pe(),cd=Pe(Nv),fm=Pe(),fe={comment:hm,lineComment:Pe(hm),blockComment:Pe(hm),docComment:Pe(hm),name:Ka,variableName:Pe(Ka),typeName:Wx,tagName:Pe(Wx),propertyName:jx,attributeName:Pe(jx),className:Pe(Ka),labelName:Pe(Ka),namespace:Pe(Ka),macroName:Pe(Ka),literal:Ya,string:dm,docString:Pe(dm),character:Pe(dm),attributeValue:Pe(dm),number:s8,integer:Pe(s8),float:Pe(s8),bool:Pe(Ya),regexp:Pe(Ya),escape:Pe(Ya),color:Pe(Ya),url:Pe(Ya),keyword:Xs,self:Pe(Xs),null:Pe(Xs),atom:Pe(Xs),unit:Pe(Xs),modifier:Pe(Xs),operatorKeyword:Pe(Xs),controlKeyword:Pe(Xs),definitionKeyword:Pe(Xs),moduleKeyword:Pe(Xs),operator:Qs,derefOperator:Pe(Qs),arithmeticOperator:Pe(Qs),logicOperator:Pe(Qs),bitwiseOperator:Pe(Qs),compareOperator:Pe(Qs),updateOperator:Pe(Qs),definitionOperator:Pe(Qs),typeOperator:Pe(Qs),controlOperator:Pe(Qs),punctuation:Nv,separator:Pe(Nv),bracket:cd,angleBracket:Pe(cd),squareBracket:Pe(cd),paren:Pe(cd),brace:Pe(cd),content:to,heading:Kl,heading1:Pe(Kl),heading2:Pe(Kl),heading3:Pe(Kl),heading4:Pe(Kl),heading5:Pe(Kl),heading6:Pe(Kl),contentSeparator:Pe(to),list:Pe(to),quote:Pe(to),emphasis:Pe(to),strong:Pe(to),link:Pe(to),monospace:Pe(to),strikethrough:Pe(to),inserted:Pe(),deleted:Pe(),changed:Pe(),invalid:Pe(),meta:fm,documentMeta:Pe(fm),annotation:Pe(fm),processingInstruction:Pe(fm),definition:Ki.defineModifier("definition"),constant:Ki.defineModifier("constant"),function:Ki.defineModifier("function"),standard:Ki.defineModifier("standard"),local:Ki.defineModifier("local"),special:Ki.defineModifier("special")};for(let n in fe){let e=fe[n];e instanceof Ki&&(e.name=n)}FO([{tag:fe.link,class:"tok-link"},{tag:fe.heading,class:"tok-heading"},{tag:fe.emphasis,class:"tok-emphasis"},{tag:fe.strong,class:"tok-strong"},{tag:fe.keyword,class:"tok-keyword"},{tag:fe.atom,class:"tok-atom"},{tag:fe.bool,class:"tok-bool"},{tag:fe.url,class:"tok-url"},{tag:fe.labelName,class:"tok-labelName"},{tag:fe.inserted,class:"tok-inserted"},{tag:fe.deleted,class:"tok-deleted"},{tag:fe.literal,class:"tok-literal"},{tag:fe.string,class:"tok-string"},{tag:fe.number,class:"tok-number"},{tag:[fe.regexp,fe.escape,fe.special(fe.string)],class:"tok-string2"},{tag:fe.variableName,class:"tok-variableName"},{tag:fe.local(fe.variableName),class:"tok-variableName tok-local"},{tag:fe.definition(fe.variableName),class:"tok-variableName tok-definition"},{tag:fe.special(fe.variableName),class:"tok-variableName2"},{tag:fe.definition(fe.propertyName),class:"tok-propertyName tok-definition"},{tag:fe.typeName,class:"tok-typeName"},{tag:fe.namespace,class:"tok-namespace"},{tag:fe.className,class:"tok-className"},{tag:fe.macroName,class:"tok-macroName"},{tag:fe.propertyName,class:"tok-propertyName"},{tag:fe.operator,class:"tok-operator"},{tag:fe.comment,class:"tok-comment"},{tag:fe.meta,class:"tok-meta"},{tag:fe.invalid,class:"tok-invalid"},{tag:fe.punctuation,class:"tok-punctuation"}]);var o8;const vu=new St;function zO(n){return He.define({combine:n?e=>e.concat(n):void 0})}const noe=new St;class ns{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Tt.prototype.hasOwnProperty("tree")||Object.defineProperty(Tt.prototype,"tree",{get(){return yr(this)}}),this.parser=t,this.extension=[Cl.of(this),Tt.languageData.of((s,o,a)=>{let l=Zx(s,o,a),u=l.type.prop(vu);if(!u)return[];let c=s.facet(u),h=l.type.prop(noe);if(h){let d=l.resolve(o-l.from,a);for(let f of h)if(f.test(d,s)){let p=s.facet(f.facet);return f.type=="replace"?p:p.concat(c)}}return c})].concat(r)}isActiveAt(e,t,r=-1){return Zx(e,t,r).type.prop(vu)==this.data}findRegions(e){let t=e.facet(Cl);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(vu)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(St.mounted);if(a){if(a.tree.prop(vu)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let u=s.children[l];u instanceof ln&&i(u,s.positions[l]+o)}};return i(yr(e),0),r}get allowsNesting(){return!0}}ns.setState=ht.define();function Zx(n,e,t){let r=n.facet(Cl),i=yr(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,Mn.ExcludeBuffers))s.type.isTop&&(i=s);return i}class Lv extends ns{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=zO(e.languageData);return new Lv(t,e.parser.configure({props:[vu.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new Lv(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function yr(n){let e=n.field(ns.state,!1);return e?e.tree:ln.empty}class roe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let hd=null;class t0{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new t0(e,t,[],ln.empty,0,r,[],null)}startParse(){return this.parser.startParse(new roe(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=ln.empty&&this.isDone(t!=null?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(ma.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t!=null?t:this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(ma.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=hd;hd=this;try{return e()}finally{hd=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Ux(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,c,h,d)=>l.push({fromA:u,toA:c,fromB:h,toB:d})),r=ma.applyChanges(r,l),i=ln.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),h=e.mapPos(u.to,-1);c<h&&a.push({from:c,to:h})}}}return new t0(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=Ux(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends lE{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=hd;if(l){for(let u of i)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new ln(Fr.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return hd}}function Ux(n,e,t){return ma.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class n0{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new n0(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=t0.create(e.facet(Cl).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new n0(r)}}ns.state=ar.define({create:n0.init,update(n,e){for(let t of e.effects)if(t.is(ns.setState))return t.value;return e.startState.facet(Cl)!=e.state.facet(Cl)?n0.init(e.state):n.apply(e)}});let HO=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(HO=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:500-100})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const a8=typeof navigator<"u"&&((o8=navigator.scheduling)===null||o8===void 0?void 0:o8.isInputPending)?()=>navigator.scheduling.isInputPending():null,ioe=qn.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(ns.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(ns.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=HO(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(ns.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!a8?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>a8&&a8()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:ns.setState.of(new n0(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>ni(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Cl=He.define({combine(n){return n.length?n[0]:null},enables:n=>[ns.state,ioe,ze.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class soe{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}class se{constructor(e,t,r,i,s,o=void 0){this.name=e,this.alias=t,this.extensions=r,this.filename=i,this.loadFunc=s,this.support=o,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:t,support:r}=e;if(!t){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");t=()=>Promise.resolve(r)}return new se(e.name,(e.alias||[]).concat(e.name).map(i=>i.toLowerCase()),e.extensions||[],e.filename,t,r)}static matchFilename(e,t){for(let i of e)if(i.filename&&i.filename.test(t))return i;let r=/\.([^.]+)$/.exec(t);if(r){for(let i of e)if(i.extensions.indexOf(r[1])>-1)return i}return null}static matchLanguageName(e,t,r=!0){t=t.toLowerCase();for(let i of e)if(i.alias.some(s=>s==t))return i;if(r)for(let i of e)for(let s of i.alias){let o=t.indexOf(s);if(o>-1&&(s.length>2||!/\w/.test(t[o-1])&&!/\w/.test(t[o+s.length])))return i}return null}}const ooe=He.define(),b4=He.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function sc(n){let e=n.facet(b4);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Qf(n,e){let t="",r=n.tabSize,i=n.facet(b4)[0];if(i=="	"){for(;e>=r;)t+="	",e-=r;i=" "}for(let s=0;s<e;s++)t+=i;return t}function dw(n,e){n instanceof Tt&&(n=new k4(n));for(let r of n.state.facet(ooe)){let i=r(n,e);if(i!==void 0)return i}let t=yr(n.state);return t.length>=e?aoe(n,t,e):null}class k4{constructor(e,t={}){this.state=e,this.options=t,this.unit=sc(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,t=e.length){return A0(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const VO=new St;function aoe(n,e,t){let r=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=r.node){let s=[];for(let o=i;o&&!(o.from<r.node.from||o.to>r.node.to||o.from==r.node.from&&o.type==r.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)r={node:s[o],next:r}}return qO(r,n,t)}function qO(n,e,t){for(let r=n;r;r=r.next){let i=uoe(r.node);if(i)return i(fw.create(e,t,r))}return 0}function loe(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function uoe(n){let e=n.type.prop(VO);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop(St.closedBy))){let i=n.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>WO(o,!0,1,void 0,s&&!loe(o)?i.from:void 0)}return n.parent==null?coe:null}function coe(){return 0}class fw extends k4{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new fw(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(hoe(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return qO(this.context.next,this.base,this.pos)}}function hoe(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function doe(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let u=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+u}}a=l.to}}function Lxe({closing:n,align:e=!0,units:t=1}){return r=>WO(r,e,t,n)}function WO(n,e,t,r,i){let s=n.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==n.pos+o,l=e?doe(n):null;return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}const Pxe=n=>n.baseIndent;function Rxe({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const foe=200;function poe(){return Tt.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+foe)return n;let s=t.sliceString(i.from,r);if(!e.some(u=>u.test(s)))return n;let{state:o}=n,a=-1,l=[];for(let{head:u}of o.selection.ranges){let c=o.doc.lineAt(u);if(c.from==a)continue;a=c.from;let h=dw(o,c.from);if(h==null)continue;let d=/^\s*/.exec(c.text)[0],f=Qf(o,h);d!=f&&l.push({from:c.from,to:c.from+d.length,insert:f})}return l.length?[n,{changes:l,sequential:!0}]:n})}const moe=He.define(),goe=new St;function $xe(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function yoe(n,e,t){let r=yr(n);if(r.length<t)return null;let i=r.resolveStack(t,1),s=null;for(let o=i;o;o=o.next){let a=o.node;if(a.to<=t||a.from>t)continue;if(s&&a.from<e)break;let l=a.type.prop(goe);if(l&&(a.to<r.length-50||r.length==n.doc.length||!voe(a))){let u=l(a,n);u&&u.from<=t&&u.from>=e&&u.to>t&&(s=u)}}return s}function voe(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function g2(n,e,t){for(let r of n.facet(moe)){let i=r(n,e,t);if(i)return i}return yoe(n,e,t)}function jO(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const x4=ht.define({map:jO}),ap=ht.define({map:jO});function ZO(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const oc=ar.define({create(){return Qe.none},update(n,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,r)=>n=Gx(n,t,r)),n=n.map(e.changes);for(let t of e.effects)if(t.is(x4)&&!woe(n,t.value.from,t.value.to)){let{preparePlaceholder:r}=e.state.facet(pw),i=r?Qe.replace({widget:new Aoe(r(e.state,t.value))}):Kx;n=n.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(ap)&&(n=n.update({filter:(r,i)=>t.value.from!=r||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(n=Gx(n,e.selection.main.head)),n},provide:n=>ze.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,i)=>{t.push(r,i)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let r=n[t++],i=n[t++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(Kx.range(r,i))}return Qe.set(e,!0)}});function Gx(n,e,t=e){let r=!1;return n.between(e,t,(i,s)=>{i<t&&s>e&&(r=!0)}),r?n.update({filterFrom:e,filterTo:t,filter:(i,s)=>i>=t||s<=e}):n}function y2(n,e,t){var r;let i=null;return(r=n.field(oc,!1))===null||r===void 0||r.between(e,t,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function woe(n,e,t){let r=!1;return n.between(e,e,(i,s)=>{i==e&&s==t&&(r=!0)}),r}function UO(n,e){return n.field(oc,!1)?e:e.concat(ht.appendConfig.of(KO()))}const boe=n=>{for(let e of ZO(n)){let t=g2(n.state,e.from,e.to);if(t)return n.dispatch({effects:UO(n.state,[x4.of(t),GO(n,t)])}),!0}return!1},koe=n=>{if(!n.state.field(oc,!1))return!1;let e=[];for(let t of ZO(n)){let r=y2(n.state,t.from,t.to);r&&e.push(ap.of(r),GO(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function GO(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return ze.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${i}.`)}const xoe=n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let i=n.lineBlockAt(r),s=g2(e,i.from,i.to);s&&t.push(x4.of(s)),r=(s?n.lineBlockAt(s.to):i).to+1}return t.length&&n.dispatch({effects:UO(n.state,t)}),!!t.length},Soe=n=>{let e=n.state.field(oc,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,i)=>{t.push(ap.of({from:r,to:i}))}),n.dispatch({effects:t}),!0},Coe=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:boe},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:koe},{key:"Ctrl-Alt-[",run:xoe},{key:"Ctrl-Alt-]",run:Soe}],Moe={placeholderDOM:null,preparePlaceholder:null,placeholderText:"\u2026"},pw=He.define({combine(n){return Lo(n,Moe)}});function KO(n){let e=[oc,Eoe];return n&&e.push(pw.of(n)),e}function YO(n,e){let{state:t}=n,r=t.facet(pw),i=o=>{let a=n.lineBlockAt(n.posAtDOM(o.target)),l=y2(n.state,a.from,a.to);l&&n.dispatch({effects:ap.of(l)}),o.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(n,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const Kx=Qe.replace({widget:new class extends Ea{toDOM(n){return YO(n,null)}}});class Aoe extends Ea{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return YO(e,this.value)}}const _oe={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class l8 extends Sa{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function Toe(n={}){let e={..._oe,...n},t=new l8(e,!0),r=new l8(e,!1),i=qn.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Cl)!=o.state.facet(Cl)||o.startState.field(oc,!1)!=o.state.field(oc,!1)||yr(o.startState)!=yr(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new ba;for(let l of o.viewportLineBlocks){let u=y2(o.state,l.from,l.to)?r:g2(o.state,l.from,l.to)?t:null;u&&a.add(l.from,l.from,u)}return a.finish()}}),{domEventHandlers:s}=e;return[i,Rse({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(i))===null||a===void 0?void 0:a.markers)||Lt.empty},initialSpacer(){return new l8(e,!1)},domEventHandlers:{...s,click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let u=y2(o.state,a.from,a.to);if(u)return o.dispatch({effects:ap.of(u)}),!0;let c=g2(o.state,a.from,a.to);return c?(o.dispatch({effects:x4.of(c)}),!0):!1}}}),KO()]}const Eoe=ze.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class lp{constructor(e,t){this.specs=e;let r;function i(a){let l=xl.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof ns?a=>a.prop(vu)==o.data:o?a=>a==o:void 0,this.style=FO(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new xl(r):null,this.themeType=t.themeType}static define(e,t){return new lp(e,t||{})}}const Pv=He.define(),JO=He.define({combine(n){return n.length?[n[0]]:null}});function u8(n){let e=n.facet(Pv);return e.length?e:n.facet(JO)}function XO(n,e){let t=[Ioe],r;return n instanceof lp&&(n.module&&t.push(ze.styleModule.of(n.module)),r=n.themeType),e!=null&&e.fallback?t.push(JO.of(n)):r?t.push(Pv.computeN([ze.darkTheme],i=>i.facet(ze.darkTheme)==(r=="dark")?[n]:[])):t.push(Pv.of(n)),t}class Ooe{constructor(e){this.markCache=Object.create(null),this.tree=yr(e.state),this.decorations=this.buildDeco(e,u8(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=yr(e.state),r=u8(e.state),i=r!=u8(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!i&&t.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return Qe.none;let r=new ba;for(let{from:i,to:s}of e.visibleRanges)Qse(this.tree,t,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=Qe.mark({class:l})))},i,s);return r.finish()}}const Ioe=Nl.high(qn.fromClass(Ooe,{decorations:n=>n.decorations})),Doe=lp.define([{tag:fe.meta,color:"#404740"},{tag:fe.link,textDecoration:"underline"},{tag:fe.heading,textDecoration:"underline",fontWeight:"bold"},{tag:fe.emphasis,fontStyle:"italic"},{tag:fe.strong,fontWeight:"bold"},{tag:fe.strikethrough,textDecoration:"line-through"},{tag:fe.keyword,color:"#708"},{tag:[fe.atom,fe.bool,fe.url,fe.contentSeparator,fe.labelName],color:"#219"},{tag:[fe.literal,fe.inserted],color:"#164"},{tag:[fe.string,fe.deleted],color:"#a11"},{tag:[fe.regexp,fe.escape,fe.special(fe.string)],color:"#e40"},{tag:fe.definition(fe.variableName),color:"#00f"},{tag:fe.local(fe.variableName),color:"#30a"},{tag:[fe.typeName,fe.namespace],color:"#085"},{tag:fe.className,color:"#167"},{tag:[fe.special(fe.variableName),fe.macroName],color:"#256"},{tag:fe.definition(fe.propertyName),color:"#00c"},{tag:fe.comment,color:"#940"},{tag:fe.invalid,color:"#f00"}]),Noe=ze.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),QO=1e4,eI="()[]{}",tI=He.define({combine(n){return Lo(n,{afterCursor:!0,brackets:eI,maxScanDistance:QO,renderMatch:Roe})}}),Loe=Qe.mark({class:"cm-matchingBracket"}),Poe=Qe.mark({class:"cm-nonmatchingBracket"});function Roe(n){let e=[],t=n.matched?Loe:Poe;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const $oe=ar.define({create(){return Qe.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(tI);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=mo(e.state,i.head,-1,r)||i.head>0&&mo(e.state,i.head-1,1,r)||r.afterCursor&&(mo(e.state,i.head,1,r)||i.head<e.state.doc.length&&mo(e.state,i.head+1,-1,r));s&&(t=t.concat(r.renderMatch(s,e.state)))}return Qe.set(t,!0)},provide:n=>ze.decorations.from(n)}),Boe=[$oe,Noe];function Foe(n={}){return[tI.of(n),Boe]}const zoe=new St;function Rv(n,e,t){let r=n.prop(e<0?St.openedBy:St.closedBy);if(r)return r;if(n.name.length==1){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function $v(n){let e=n.type.prop(zoe);return e?e(n.node):n}function mo(n,e,t,r={}){let i=r.maxScanDistance||QO,s=r.brackets||eI,o=yr(n),a=o.resolveInner(e,t);for(let l=a;l;l=l.parent){let u=Rv(l.type,t,s);if(u&&l.from<l.to){let c=$v(l);if(c&&(t>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return Hoe(n,e,t,l,c,u,s)}}return Voe(n,e,t,o,a.type,i,s)}function Hoe(n,e,t,r,i,s,o){let a=r.parent,l={from:i.from,to:i.to},u=0,c=a==null?void 0:a.cursor();if(c&&(t<0?c.childBefore(r.from):c.childAfter(r.to)))do if(t<0?c.to<=r.from:c.from>=r.to){if(u==0&&s.indexOf(c.type.name)>-1&&c.from<c.to){let h=$v(c);return{start:l,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(Rv(c.type,t,o))u++;else if(Rv(c.type,-t,o)){if(u==0){let h=$v(c);return{start:l,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}u--}}while(t<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function Voe(n,e,t,r,i,s,o){let a=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=t>0)return null;let u={from:t<0?e-1:e,to:t>0?e+1:e},c=n.doc.iterRange(e,t>0?n.doc.length:0),h=0;for(let d=0;!c.next().done&&d<=s;){let f=c.value;t<0&&(d+=f.length);let p=e+d*t;for(let m=t>0?0:f.length-1,y=t>0?f.length:-1;m!=y;m+=t){let v=o.indexOf(f[m]);if(!(v<0||r.resolveInner(p+m,1).type!=i))if(v%2==0==t>0)h++;else{if(h==1)return{start:u,end:{from:p+m,to:p+m+1},matched:v>>1==l>>1};h--}}t>0&&(d+=f.length)}return c.done?{start:u,matched:!1}:null}function Yx(n,e,t,r=0,i=0){e==null&&(e=n.search(/[^\s\u00a0]/),e==-1&&(e=n.length));let s=i;for(let o=r;o<e;o++)n.charCodeAt(o)==9?s+=t-s%t:s++;return s}class nI{constructor(e,t,r,i){this.string=e,this.tabSize=t,this.indentUnit=r,this.overrideIndent=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let t=this.string.charAt(this.pos),r;if(typeof e=="string"?r=t==e:r=t&&(e instanceof RegExp?e.test(t):e(t)),r)return++this.pos,t}eatWhile(e){let t=this.pos;for(;this.eat(e););return this.pos>t}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Yx(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:Yx(this.string,null,this.tabSize)}match(e,t,r){if(typeof e=="string"){let i=o=>r?o.toLowerCase():o,s=this.string.substr(this.pos,e.length);return i(s)==i(e)?(t!==!1&&(this.pos+=e.length),!0):null}else{let i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&t!==!1&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function qoe(n){return{name:n.name||"",token:n.token,blankLine:n.blankLine||(()=>{}),startState:n.startState||(()=>!0),copyState:n.copyState||Woe,indent:n.indent||(()=>null),languageData:n.languageData||{},tokenTable:n.tokenTable||yw,mergeTokens:n.mergeTokens!==!1}}function Woe(n){if(typeof n!="object")return n;let e={};for(let t in n){let r=n[t];e[t]=r instanceof Array?r.slice():r}return e}const Jx=new WeakMap;class mw extends ns{constructor(e){let t=zO(e.languageData),r=qoe(e),i,s=new class extends lE{createParse(o,a,l){return new Zoe(i,o,a,l)}};super(t,s,[],e.name),this.topNode=Koe(t,this),i=this,this.streamParser=r,this.stateAfter=new St({perNode:!0}),this.tokenTable=e.tokenTable?new oI(r.tokenTable):Goe}static define(e){return new mw(e)}getIndent(e){let t,{overrideIndentation:r}=e.options;r&&(t=Jx.get(e.state),t!=null&&t<e.pos-1e4&&(t=void 0));let i=gw(this,e.node.tree,e.node.from,e.node.from,t!=null?t:e.pos),s,o;if(i?(o=i.state,s=i.pos+1):(o=this.streamParser.startState(e.unit),s=e.node.from),e.pos-s>1e4)return null;for(;s<e.pos;){let l=e.state.doc.lineAt(s),u=Math.min(e.pos,l.to);if(l.length){let c=r?r(l.from):-1,h=new nI(l.text,e.state.tabSize,e.unit,c<0?void 0:c);for(;h.pos<u-l.from;)iI(this.streamParser.token,h,o)}else this.streamParser.blankLine(o,e.unit);if(u==e.pos)break;s=l.to+1}let a=e.lineAt(e.pos);return r&&t==null&&Jx.set(e.state,a.from),this.streamParser.indent(o,/^\s*(.*)/.exec(a.text)[1],e)}get allowsNesting(){return!1}}function gw(n,e,t,r,i){let s=t>=r&&t+e.length<=i&&e.prop(n.stateAfter);if(s)return{state:n.streamParser.copyState(s),pos:t+e.length};for(let o=e.children.length-1;o>=0;o--){let a=e.children[o],l=t+e.positions[o],u=a instanceof ln&&l<i&&gw(n,a,l,r,i);if(u)return u}return null}function rI(n,e,t,r,i){if(i&&t<=0&&r>=e.length)return e;!i&&t==0&&e.type==n.topNode&&(i=!0);for(let s=e.children.length-1;s>=0;s--){let o=e.positions[s],a=e.children[s],l;if(o<r&&a instanceof ln){if(!(l=rI(n,a,t-o,r-o,i)))break;return i?new ln(e.type,e.children.slice(0,s).concat(l),e.positions.slice(0,s+1),o+l.length):l}}return null}function joe(n,e,t,r,i){for(let s of e){let o=s.from+(s.openStart?25:0),a=s.to-(s.openEnd?25:0),l=o<=t&&a>t&&gw(n,s.tree,0-s.offset,t,a),u;if(l&&l.pos<=r&&(u=rI(n,s.tree,t+s.offset,l.pos+s.offset,!1)))return{state:l.state,tree:u}}return{state:n.streamParser.startState(i?sc(i):4),tree:ln.empty}}class Zoe{constructor(e,t,r,i){this.lang=e,this.input=t,this.fragments=r,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;let s=t0.get(),o=i[0].from,{state:a,tree:l}=joe(e,r,o,this.to,s==null?void 0:s.state);this.state=a,this.parsedPos=this.chunkStart=o+l.length;for(let u=0;u<l.children.length;u++)this.chunks.push(l.children[u]),this.chunkPos.push(l.positions[u]);s&&this.parsedPos<s.viewport.from-1e5&&i.some(u=>u.from<=s.viewport.from&&u.to>=s.viewport.from)&&(this.state=this.lang.streamParser.startState(sc(s.state)),s.skipUntilInView(this.parsedPos,s.viewport.from),this.parsedPos=s.viewport.from),this.moveRangeIndex()}advance(){let e=t0.get(),t=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),r=Math.min(t,this.chunkStart+512);for(e&&(r=Math.min(r,e.viewport.to));this.parsedPos<r;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=t?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,t),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let t=this.input.chunk(e);if(this.input.lineChunks)t==`
`&&(t="");else{let r=t.indexOf(`
`);r>-1&&(t=t.slice(0,r))}return e+t.length<=this.to?t:t.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,t=this.lineAfter(e),r=e+t.length;for(let i=this.rangeIndex;;){let s=this.ranges[i].to;if(s>=r||(t=t.slice(0,s-(r-t.length)),i++,i==this.ranges.length))break;let o=this.ranges[i].from,a=this.lineAfter(o);t+=a,r=o+a.length}return{line:t,end:r}}skipGapsTo(e,t,r){for(;;){let i=this.ranges[this.rangeIndex].to,s=e+t;if(r>0?i>s:i>=s)break;let o=this.ranges[++this.rangeIndex].from;t+=o-i}return t}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,t,r,i){let s=4;if(this.ranges.length>1){i=this.skipGapsTo(t,i,1),t+=i;let a=this.chunk.length;i=this.skipGapsTo(r,i,-1),r+=i,s+=this.chunk.length-a}let o=this.chunk.length-4;return this.lang.streamParser.mergeTokens&&s==4&&o>=0&&this.chunk[o]==e&&this.chunk[o+2]==t?this.chunk[o+2]=r:this.chunk.push(e,t,r,s),i}parseLine(e){let{line:t,end:r}=this.nextLine(),i=0,{streamParser:s}=this.lang,o=new nI(t,e?e.state.tabSize:4,e?sc(e.state):2);if(o.eol())s.blankLine(this.state,o.indentUnit);else for(;!o.eol();){let a=iI(s.token,o,this.state);if(a&&(i=this.emitToken(this.lang.tokenTable.resolve(a),this.parsedPos+o.start,this.parsedPos+o.pos,i)),o.start>1e4)break}this.parsedPos=r,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=ln.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:Uoe,topID:0,maxBufferLength:512,reused:this.chunkReused});e=new ln(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new ln(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function iI(n,e,t){e.start=e.pos;for(let r=0;r<10;r++){let i=n(e,t);if(e.pos>e.start)return i}throw new Error("Stream parser failed to advance stream.")}const yw=Object.create(null),e1=[Fr.none],Uoe=new U5(e1),Xx=[],Qx=Object.create(null),sI=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])sI[n]=aI(yw,e);class oI{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),sI)}resolve(e){return e?this.table[e]||(this.table[e]=aI(this.extra,e)):0}}const Goe=new oI(yw);function c8(n,e){Xx.indexOf(n)>-1||(Xx.push(n),console.warn(e))}function aI(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let u of a.split(".")){let c=n[u]||fe[u];c?typeof c=="function"?l.length?l=l.map(c):c8(u,`Modifier ${u} used at start of tag`):l.length?c8(u,`Tag ${u} used as modifier`):l=Array.isArray(c)?c:[c]:c8(u,`Unknown highlighting tag ${u}`)}for(let u of l)t.push(u)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=Qx[i];if(s)return s.id;let o=Qx[i]=Fr.define({id:e1.length,name:r,props:[Jse({[r]:t})]});return e1.push(o),o.id}function Koe(n,e){let t=Fr.define({id:e1.length,name:"Document",props:[vu.add(()=>n),VO.add(()=>r=>e.getIndent(r))],top:!0});return e1.push(t),t}dn.RTL,dn.LTR;function ve(n){return new soe(mw.define(n))}function Ba(n){return le(()=>import("./index.745fec97.js"),["assets/index.745fec97.js","assets/index.99ef3d6f.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js"]).then(e=>e.sql({dialect:e[n]}))}const Yoe=[se.of({name:"C",extensions:["c","h","ino"],load(){return le(()=>import("./index.456b2c53.js"),["assets/index.456b2c53.js","assets/index.99ef3d6f.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js"]).then(n=>n.cpp())}}),se.of({name:"C++",alias:["cpp"],extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load(){return le(()=>import("./index.456b2c53.js"),["assets/index.456b2c53.js","assets/index.99ef3d6f.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js"]).then(n=>n.cpp())}}),se.of({name:"CQL",alias:["cassandra"],extensions:["cql"],load(){return Ba("Cassandra")}}),se.of({name:"CSS",extensions:["css"],load(){return le(()=>import("./index.1849cc6a.js"),["assets/index.1849cc6a.js","assets/index.99ef3d6f.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js"]).then(n=>n.css())}}),se.of({name:"Go",extensions:["go"],load(){return le(()=>import("./index.77d4f978.js"),["assets/index.77d4f978.js","assets/index.99ef3d6f.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js"]).then(n=>n.go())}}),se.of({name:"HTML",alias:["xhtml"],extensions:["html","htm","handlebars","hbs"],load(){return le(()=>import("./index.5c2704b2.js"),["assets/index.5c2704b2.js","assets/index.99ef3d6f.js","assets/index.1849cc6a.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js","assets/index.0ba06e4e.js"]).then(n=>n.html())}}),se.of({name:"Java",extensions:["java"],load(){return le(()=>import("./index.f72a223c.js"),["assets/index.f72a223c.js","assets/index.99ef3d6f.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js"]).then(n=>n.java())}}),se.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load(){return le(()=>import("./index.0ba06e4e.js"),["assets/index.0ba06e4e.js","assets/index.99ef3d6f.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js"]).then(n=>n.javascript())}}),se.of({name:"Jinja",extensions:["j2","jinja","jinja2"],load(){return le(()=>import("./index.ae24d75a.js"),["assets/index.ae24d75a.js","assets/index.5c2704b2.js","assets/index.99ef3d6f.js","assets/index.1849cc6a.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js","assets/index.0ba06e4e.js"]).then(n=>n.jinja())}}),se.of({name:"JSON",alias:["json5"],extensions:["json","map"],load(){return le(()=>import("./index.a7b289fd.js"),["assets/index.a7b289fd.js","assets/index.99ef3d6f.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js"]).then(n=>n.json())}}),se.of({name:"JSX",extensions:["jsx"],load(){return le(()=>import("./index.0ba06e4e.js"),["assets/index.0ba06e4e.js","assets/index.99ef3d6f.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js"]).then(n=>n.javascript({jsx:!0}))}}),se.of({name:"LESS",extensions:["less"],load(){return le(()=>import("./index.cdc870ec.js"),["assets/index.cdc870ec.js","assets/index.1849cc6a.js","assets/index.99ef3d6f.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js"]).then(n=>n.less())}}),se.of({name:"Liquid",extensions:["liquid"],load(){return le(()=>import("./index.76f4210d.js"),["assets/index.76f4210d.js","assets/index.5c2704b2.js","assets/index.99ef3d6f.js","assets/index.1849cc6a.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js","assets/index.0ba06e4e.js"]).then(n=>n.liquid())}}),se.of({name:"MariaDB SQL",load(){return Ba("MariaSQL")}}),se.of({name:"Markdown",extensions:["md","markdown","mkd"],load(){return le(()=>import("./index.20939207.js"),["assets/index.20939207.js","assets/index.5c2704b2.js","assets/index.99ef3d6f.js","assets/index.1849cc6a.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js","assets/index.0ba06e4e.js"]).then(n=>n.markdown())}}),se.of({name:"MS SQL",load(){return Ba("MSSQL")}}),se.of({name:"MySQL",load(){return Ba("MySQL")}}),se.of({name:"PHP",extensions:["php","php3","php4","php5","php7","phtml"],load(){return le(()=>import("./index.f1e0f31d.js"),["assets/index.f1e0f31d.js","assets/index.99ef3d6f.js","assets/index.5c2704b2.js","assets/index.1849cc6a.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js","assets/index.0ba06e4e.js"]).then(n=>n.php())}}),se.of({name:"PLSQL",extensions:["pls"],load(){return Ba("PLSQL")}}),se.of({name:"PostgreSQL",load(){return Ba("PostgreSQL")}}),se.of({name:"Python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load(){return le(()=>import("./index.6b7d1872.js"),["assets/index.6b7d1872.js","assets/index.99ef3d6f.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js"]).then(n=>n.python())}}),se.of({name:"Rust",extensions:["rs"],load(){return le(()=>import("./index.a997fd7b.js"),["assets/index.a997fd7b.js","assets/index.99ef3d6f.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js"]).then(n=>n.rust())}}),se.of({name:"Sass",extensions:["sass"],load(){return le(()=>import("./index.e4437102.js"),["assets/index.e4437102.js","assets/index.99ef3d6f.js","assets/index.1849cc6a.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js"]).then(n=>n.sass({indented:!0}))}}),se.of({name:"SCSS",extensions:["scss"],load(){return le(()=>import("./index.e4437102.js"),["assets/index.e4437102.js","assets/index.99ef3d6f.js","assets/index.1849cc6a.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js"]).then(n=>n.sass())}}),se.of({name:"SQL",extensions:["sql"],load(){return Ba("StandardSQL")}}),se.of({name:"SQLite",load(){return Ba("SQLite")}}),se.of({name:"TSX",extensions:["tsx"],load(){return le(()=>import("./index.0ba06e4e.js"),["assets/index.0ba06e4e.js","assets/index.99ef3d6f.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js"]).then(n=>n.javascript({jsx:!0,typescript:!0}))}}),se.of({name:"TypeScript",alias:["ts"],extensions:["ts","mts","cts"],load(){return le(()=>import("./index.0ba06e4e.js"),["assets/index.0ba06e4e.js","assets/index.99ef3d6f.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js"]).then(n=>n.javascript({typescript:!0}))}}),se.of({name:"WebAssembly",extensions:["wat","wast"],load(){return le(()=>import("./index.767587e5.js"),["assets/index.767587e5.js","assets/index.99ef3d6f.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js"]).then(n=>n.wast())}}),se.of({name:"XML",alias:["rss","wsdl","xsd"],extensions:["xml","xsl","xsd","svg"],load(){return le(()=>import("./index.fac4a517.js"),["assets/index.fac4a517.js","assets/index.99ef3d6f.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js"]).then(n=>n.xml())}}),se.of({name:"YAML",alias:["yml"],extensions:["yaml","yml"],load(){return le(()=>import("./index.17ff0927.js"),["assets/index.17ff0927.js","assets/index.99ef3d6f.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js"]).then(n=>n.yaml())}}),se.of({name:"APL",extensions:["dyalog","apl"],load(){return le(()=>import("./apl.a5d32932.js"),[]).then(n=>ve(n.apl))}}),se.of({name:"PGP",alias:["asciiarmor"],extensions:["asc","pgp","sig"],load(){return le(()=>import("./asciiarmor.6422901e.js"),[]).then(n=>ve(n.asciiArmor))}}),se.of({name:"ASN.1",extensions:["asn","asn1"],load(){return le(()=>import("./asn1.cfef29a6.js"),[]).then(n=>ve(n.asn1({})))}}),se.of({name:"Asterisk",filename:/^extensions\.conf$/i,load(){return le(()=>import("./asterisk.37ed5f74.js"),[]).then(n=>ve(n.asterisk))}}),se.of({name:"Brainfuck",extensions:["b","bf"],load(){return le(()=>import("./brainfuck.e538a007.js"),[]).then(n=>ve(n.brainfuck))}}),se.of({name:"Cobol",extensions:["cob","cpy"],load(){return le(()=>import("./cobol.3d0afc19.js"),[]).then(n=>ve(n.cobol))}}),se.of({name:"C#",alias:["csharp","cs"],extensions:["cs"],load(){return le(()=>import("./clike.81222168.js"),[]).then(n=>ve(n.csharp))}}),se.of({name:"Clojure",extensions:["clj","cljc","cljx"],load(){return le(()=>import("./clojure.6276f657.js"),[]).then(n=>ve(n.clojure))}}),se.of({name:"ClojureScript",extensions:["cljs"],load(){return le(()=>import("./clojure.6276f657.js"),[]).then(n=>ve(n.clojure))}}),se.of({name:"Closure Stylesheets (GSS)",extensions:["gss"],load(){return le(()=>import("./css.2afcc8bb.js"),[]).then(n=>ve(n.gss))}}),se.of({name:"CMake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load(){return le(()=>import("./cmake.d583d3a1.js"),[]).then(n=>ve(n.cmake))}}),se.of({name:"CoffeeScript",alias:["coffee","coffee-script"],extensions:["coffee"],load(){return le(()=>import("./coffeescript.5daee157.js"),[]).then(n=>ve(n.coffeeScript))}}),se.of({name:"Common Lisp",alias:["lisp"],extensions:["cl","lisp","el"],load(){return le(()=>import("./commonlisp.60bea631.js"),[]).then(n=>ve(n.commonLisp))}}),se.of({name:"Cypher",extensions:["cyp","cypher"],load(){return le(()=>import("./cypher.5a2a2d56.js"),[]).then(n=>ve(n.cypher))}}),se.of({name:"Cython",extensions:["pyx","pxd","pxi"],load(){return le(()=>import("./python.6686cfd6.js"),[]).then(n=>ve(n.cython))}}),se.of({name:"Crystal",extensions:["cr"],load(){return le(()=>import("./crystal.98c374fe.js"),[]).then(n=>ve(n.crystal))}}),se.of({name:"D",extensions:["d"],load(){return le(()=>import("./d.58100db5.js"),[]).then(n=>ve(n.d))}}),se.of({name:"Dart",extensions:["dart"],load(){return le(()=>import("./clike.81222168.js"),[]).then(n=>ve(n.dart))}}),se.of({name:"diff",extensions:["diff","patch"],load(){return le(()=>import("./diff.3c4a88b7.js"),[]).then(n=>ve(n.diff))}}),se.of({name:"Dockerfile",filename:/^Dockerfile$/,load(){return le(()=>import("./dockerfile.8c46f420.js"),["assets/dockerfile.8c46f420.js","assets/simple-mode.1d21aed9.js"]).then(n=>ve(n.dockerFile))}}),se.of({name:"DTD",extensions:["dtd"],load(){return le(()=>import("./dtd.c830392a.js"),[]).then(n=>ve(n.dtd))}}),se.of({name:"Dylan",extensions:["dylan","dyl","intr"],load(){return le(()=>import("./dylan.fc1b8b49.js"),[]).then(n=>ve(n.dylan))}}),se.of({name:"EBNF",load(){return le(()=>import("./ebnf.dc9d5408.js"),[]).then(n=>ve(n.ebnf))}}),se.of({name:"ECL",extensions:["ecl"],load(){return le(()=>import("./ecl.469ea4e1.js"),[]).then(n=>ve(n.ecl))}}),se.of({name:"edn",extensions:["edn"],load(){return le(()=>import("./clojure.6276f657.js"),[]).then(n=>ve(n.clojure))}}),se.of({name:"Eiffel",extensions:["e"],load(){return le(()=>import("./eiffel.0545038f.js"),[]).then(n=>ve(n.eiffel))}}),se.of({name:"Elm",extensions:["elm"],load(){return le(()=>import("./elm.1a8d03e5.js"),[]).then(n=>ve(n.elm))}}),se.of({name:"Erlang",extensions:["erl"],load(){return le(()=>import("./erlang.ad3edb44.js"),[]).then(n=>ve(n.erlang))}}),se.of({name:"Esper",load(){return le(()=>import("./sql.c3a22972.js"),[]).then(n=>ve(n.esper))}}),se.of({name:"Factor",extensions:["factor"],load(){return le(()=>import("./factor.c41c6949.js"),["assets/factor.c41c6949.js","assets/simple-mode.1d21aed9.js"]).then(n=>ve(n.factor))}}),se.of({name:"FCL",load(){return le(()=>import("./fcl.729a6731.js"),[]).then(n=>ve(n.fcl))}}),se.of({name:"Forth",extensions:["forth","fth","4th"],load(){return le(()=>import("./forth.6903f59c.js"),[]).then(n=>ve(n.forth))}}),se.of({name:"Fortran",extensions:["f","for","f77","f90","f95"],load(){return le(()=>import("./fortran.1d7d0f89.js"),[]).then(n=>ve(n.fortran))}}),se.of({name:"F#",alias:["fsharp"],extensions:["fs"],load(){return le(()=>import("./mllike.918e5042.js"),[]).then(n=>ve(n.fSharp))}}),se.of({name:"Gas",extensions:["s"],load(){return le(()=>import("./gas.8a2b10de.js"),[]).then(n=>ve(n.gas))}}),se.of({name:"Gherkin",extensions:["feature"],load(){return le(()=>import("./gherkin.cc791e18.js"),[]).then(n=>ve(n.gherkin))}}),se.of({name:"Groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load(){return le(()=>import("./groovy.c72bfc15.js"),[]).then(n=>ve(n.groovy))}}),se.of({name:"Haskell",extensions:["hs"],load(){return le(()=>import("./haskell.8dfb7359.js"),[]).then(n=>ve(n.haskell))}}),se.of({name:"Haxe",extensions:["hx"],load(){return le(()=>import("./haxe.3d3395ee.js"),[]).then(n=>ve(n.haxe))}}),se.of({name:"HXML",extensions:["hxml"],load(){return le(()=>import("./haxe.3d3395ee.js"),[]).then(n=>ve(n.hxml))}}),se.of({name:"HTTP",load(){return le(()=>import("./http.7b5f0090.js"),[]).then(n=>ve(n.http))}}),se.of({name:"IDL",extensions:["pro"],load(){return le(()=>import("./idl.e525d656.js"),[]).then(n=>ve(n.idl))}}),se.of({name:"JSON-LD",alias:["jsonld"],extensions:["jsonld"],load(){return le(()=>import("./javascript.d05482ce.js"),[]).then(n=>ve(n.jsonld))}}),se.of({name:"Julia",extensions:["jl"],load(){return le(()=>import("./julia.92ea5946.js"),[]).then(n=>ve(n.julia))}}),se.of({name:"Kotlin",extensions:["kt","kts"],load(){return le(()=>import("./clike.81222168.js"),[]).then(n=>ve(n.kotlin))}}),se.of({name:"LiveScript",alias:["ls"],extensions:["ls"],load(){return le(()=>import("./livescript.ab8a60f3.js"),[]).then(n=>ve(n.liveScript))}}),se.of({name:"Lua",extensions:["lua"],load(){return le(()=>import("./lua.64f2d7cd.js"),[]).then(n=>ve(n.lua))}}),se.of({name:"mIRC",extensions:["mrc"],load(){return le(()=>import("./mirc.258c7f04.js"),[]).then(n=>ve(n.mirc))}}),se.of({name:"Mathematica",extensions:["m","nb","wl","wls"],load(){return le(()=>import("./mathematica.5c22b2e3.js"),[]).then(n=>ve(n.mathematica))}}),se.of({name:"Modelica",extensions:["mo"],load(){return le(()=>import("./modelica.b87b547a.js"),[]).then(n=>ve(n.modelica))}}),se.of({name:"MUMPS",extensions:["mps"],load(){return le(()=>import("./mumps.992a61f7.js"),[]).then(n=>ve(n.mumps))}}),se.of({name:"Mbox",extensions:["mbox"],load(){return le(()=>import("./mbox.ef843972.js"),[]).then(n=>ve(n.mbox))}}),se.of({name:"Nginx",filename:/nginx.*\.conf$/i,load(){return le(()=>import("./nginx.26175c4e.js"),[]).then(n=>ve(n.nginx))}}),se.of({name:"NSIS",extensions:["nsh","nsi"],load(){return le(()=>import("./nsis.61190529.js"),["assets/nsis.61190529.js","assets/simple-mode.1d21aed9.js"]).then(n=>ve(n.nsis))}}),se.of({name:"NTriples",extensions:["nt","nq"],load(){return le(()=>import("./ntriples.7056e7b2.js"),[]).then(n=>ve(n.ntriples))}}),se.of({name:"Objective-C",alias:["objective-c","objc"],extensions:["m"],load(){return le(()=>import("./clike.81222168.js"),[]).then(n=>ve(n.objectiveC))}}),se.of({name:"Objective-C++",alias:["objective-c++","objc++"],extensions:["mm"],load(){return le(()=>import("./clike.81222168.js"),[]).then(n=>ve(n.objectiveCpp))}}),se.of({name:"OCaml",extensions:["ml","mli","mll","mly"],load(){return le(()=>import("./mllike.918e5042.js"),[]).then(n=>ve(n.oCaml))}}),se.of({name:"Octave",extensions:["m"],load(){return le(()=>import("./octave.f5b904b4.js"),[]).then(n=>ve(n.octave))}}),se.of({name:"Oz",extensions:["oz"],load(){return le(()=>import("./oz.caeceaf5.js"),[]).then(n=>ve(n.oz))}}),se.of({name:"Pascal",extensions:["p","pas"],load(){return le(()=>import("./pascal.c600f401.js"),[]).then(n=>ve(n.pascal))}}),se.of({name:"Perl",extensions:["pl","pm"],load(){return le(()=>import("./perl.e042bdce.js"),[]).then(n=>ve(n.perl))}}),se.of({name:"Pig",extensions:["pig"],load(){return le(()=>import("./pig.64aaf888.js"),[]).then(n=>ve(n.pig))}}),se.of({name:"PowerShell",extensions:["ps1","psd1","psm1"],load(){return le(()=>import("./powershell.0f356108.js"),[]).then(n=>ve(n.powerShell))}}),se.of({name:"Properties files",alias:["ini","properties"],extensions:["properties","ini","in"],load(){return le(()=>import("./properties.b213f2b4.js"),[]).then(n=>ve(n.properties))}}),se.of({name:"ProtoBuf",extensions:["proto"],load(){return le(()=>import("./protobuf.2ec6ad54.js"),[]).then(n=>ve(n.protobuf))}}),se.of({name:"Pug",alias:["jade"],extensions:["pug","jade"],load(){return le(()=>import("./pug.859dd5c4.js"),["assets/pug.859dd5c4.js","assets/javascript.d05482ce.js"]).then(n=>ve(n.pug))}}),se.of({name:"Puppet",extensions:["pp"],load(){return le(()=>import("./puppet.b45c8a7d.js"),[]).then(n=>ve(n.puppet))}}),se.of({name:"Q",extensions:["q"],load(){return le(()=>import("./q.fabdf336.js"),[]).then(n=>ve(n.q))}}),se.of({name:"R",alias:["rscript"],extensions:["r","R"],load(){return le(()=>import("./r.a33230e2.js"),[]).then(n=>ve(n.r))}}),se.of({name:"RPM Changes",load(){return le(()=>import("./rpm.59c24e72.js"),[]).then(n=>ve(n.rpmChanges))}}),se.of({name:"RPM Spec",extensions:["spec"],load(){return le(()=>import("./rpm.59c24e72.js"),[]).then(n=>ve(n.rpmSpec))}}),se.of({name:"Ruby",alias:["jruby","macruby","rake","rb","rbx"],extensions:["rb"],filename:/^(Gemfile|Rakefile)$/,load(){return le(()=>import("./ruby.8943b0f2.js"),[]).then(n=>ve(n.ruby))}}),se.of({name:"SAS",extensions:["sas"],load(){return le(()=>import("./sas.0cdfacc8.js"),[]).then(n=>ve(n.sas))}}),se.of({name:"Scala",extensions:["scala"],load(){return le(()=>import("./clike.81222168.js"),[]).then(n=>ve(n.scala))}}),se.of({name:"Scheme",extensions:["scm","ss"],load(){return le(()=>import("./scheme.1658cd02.js"),[]).then(n=>ve(n.scheme))}}),se.of({name:"Shell",alias:["bash","sh","zsh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load(){return le(()=>import("./shell.77d1766e.js"),[]).then(n=>ve(n.shell))}}),se.of({name:"Sieve",extensions:["siv","sieve"],load(){return le(()=>import("./sieve.c9d6f2e6.js"),[]).then(n=>ve(n.sieve))}}),se.of({name:"Smalltalk",extensions:["st"],load(){return le(()=>import("./smalltalk.9856bdea.js"),[]).then(n=>ve(n.smalltalk))}}),se.of({name:"Solr",load(){return le(()=>import("./solr.30046df1.js"),[]).then(n=>ve(n.solr))}}),se.of({name:"SML",extensions:["sml","sig","fun","smackspec"],load(){return le(()=>import("./mllike.918e5042.js"),[]).then(n=>ve(n.sml))}}),se.of({name:"SPARQL",alias:["sparul"],extensions:["rq","sparql"],load(){return le(()=>import("./sparql.8848f1a0.js"),[]).then(n=>ve(n.sparql))}}),se.of({name:"Spreadsheet",alias:["excel","formula"],load(){return le(()=>import("./spreadsheet.b74b2836.js"),[]).then(n=>ve(n.spreadsheet))}}),se.of({name:"Squirrel",extensions:["nut"],load(){return le(()=>import("./clike.81222168.js"),[]).then(n=>ve(n.squirrel))}}),se.of({name:"Stylus",extensions:["styl"],load(){return le(()=>import("./stylus.6603876a.js"),[]).then(n=>ve(n.stylus))}}),se.of({name:"Swift",extensions:["swift"],load(){return le(()=>import("./swift.97e34734.js"),[]).then(n=>ve(n.swift))}}),se.of({name:"sTeX",load(){return le(()=>import("./stex.f69a8bdc.js"),[]).then(n=>ve(n.stex))}}),se.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load(){return le(()=>import("./stex.f69a8bdc.js"),[]).then(n=>ve(n.stex))}}),se.of({name:"SystemVerilog",extensions:["v","sv","svh"],load(){return le(()=>import("./verilog.c569a7dc.js"),[]).then(n=>ve(n.verilog))}}),se.of({name:"Tcl",extensions:["tcl"],load(){return le(()=>import("./tcl.a2e61485.js"),[]).then(n=>ve(n.tcl))}}),se.of({name:"Textile",extensions:["textile"],load(){return le(()=>import("./textile.f3968dd8.js"),[]).then(n=>ve(n.textile))}}),se.of({name:"TiddlyWiki",load(){return le(()=>import("./tiddlywiki.10d744d7.js"),[]).then(n=>ve(n.tiddlyWiki))}}),se.of({name:"Tiki wiki",load(){return le(()=>import("./tiki.3280878f.js"),[]).then(n=>ve(n.tiki))}}),se.of({name:"TOML",extensions:["toml"],load(){return le(()=>import("./toml.beee0b78.js"),[]).then(n=>ve(n.toml))}}),se.of({name:"Troff",extensions:["1","2","3","4","5","6","7","8","9"],load(){return le(()=>import("./troff.465e26a5.js"),[]).then(n=>ve(n.troff))}}),se.of({name:"TTCN",extensions:["ttcn","ttcn3","ttcnpp"],load(){return le(()=>import("./ttcn.fd9eae93.js"),[]).then(n=>ve(n.ttcn))}}),se.of({name:"TTCN_CFG",extensions:["cfg"],load(){return le(()=>import("./ttcn-cfg.82a1a77d.js"),[]).then(n=>ve(n.ttcnCfg))}}),se.of({name:"Turtle",extensions:["ttl"],load(){return le(()=>import("./turtle.6b9a1190.js"),[]).then(n=>ve(n.turtle))}}),se.of({name:"Web IDL",extensions:["webidl"],load(){return le(()=>import("./webidl.3c73fe7e.js"),[]).then(n=>ve(n.webIDL))}}),se.of({name:"VB.NET",extensions:["vb"],load(){return le(()=>import("./vb.61cee51c.js"),[]).then(n=>ve(n.vb))}}),se.of({name:"VBScript",extensions:["vbs"],load(){return le(()=>import("./vbscript.f496deb0.js"),[]).then(n=>ve(n.vbScript))}}),se.of({name:"Velocity",extensions:["vtl"],load(){return le(()=>import("./velocity.04d3cc2b.js"),[]).then(n=>ve(n.velocity))}}),se.of({name:"Verilog",extensions:["v"],load(){return le(()=>import("./verilog.c569a7dc.js"),[]).then(n=>ve(n.verilog))}}),se.of({name:"VHDL",extensions:["vhd","vhdl"],load(){return le(()=>import("./vhdl.02ce9319.js"),[]).then(n=>ve(n.vhdl))}}),se.of({name:"XQuery",extensions:["xy","xquery","xq","xqm","xqy"],load(){return le(()=>import("./xquery.4ffae193.js"),[]).then(n=>ve(n.xQuery))}}),se.of({name:"Yacas",extensions:["ys"],load(){return le(()=>import("./yacas.e9964982.js"),[]).then(n=>ve(n.yacas))}}),se.of({name:"Z80",extensions:["z80"],load(){return le(()=>import("./z80.140474be.js"),[]).then(n=>ve(n.z80))}}),se.of({name:"MscGen",extensions:["mscgen","mscin","msc"],load(){return le(()=>import("./mscgen.07cb418b.js"),[]).then(n=>ve(n.mscgen))}}),se.of({name:"X\xF9",extensions:["xu"],load(){return le(()=>import("./mscgen.07cb418b.js"),[]).then(n=>ve(n.xu))}}),se.of({name:"MsGenny",extensions:["msgenny"],load(){return le(()=>import("./mscgen.07cb418b.js"),[]).then(n=>ve(n.msgenny))}}),se.of({name:"Vue",extensions:["vue"],load(){return le(()=>import("./index.6eff918b.js"),["assets/index.6eff918b.js","assets/index.5c2704b2.js","assets/index.99ef3d6f.js","assets/index.1849cc6a.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js","assets/index.0ba06e4e.js"]).then(n=>n.vue())}}),se.of({name:"Angular Template",load(){return le(()=>import("./index.9be320bf.js"),["assets/index.9be320bf.js","assets/index.5c2704b2.js","assets/index.99ef3d6f.js","assets/index.1849cc6a.js","assets/asyncComputed.49c1c9d0.js","assets/jwt-decode.esm.c4b98d7d.js","assets/jwt-decode.403169a6.css","assets/contracts.generated.6e3da51f.js","assets/linters.bbd106ab.js","assets/workspaceStore.ac65cda2.js","assets/userStore.a3792376.js","assets/url.a63eb632.js","assets/colorHelpers.62708a7f.js","assets/record.881cee9d.js","assets/ExecutionStatusIcon.vue_vue_type_script_setup_true_lang.13ac78d2.js","assets/LoadingOutlined.966f26ba.js","assets/metadata.553a8faf.js","assets/PhWebhooksLogo.vue.f0a2107f.js","assets/datetime.7aeed929.js","assets/PhWarningCircle.vue.518a1749.js","assets/omniChatStore.f6ab1295.js","assets/router.27d1a8af.js","assets/ts.worker.846e4c79.js","assets/uuid.f1a13970.js","assets/PhCopySimple.vue.7652371e.js","assets/omniChatStore.b58e3bed.css","assets/Card.4787206a.js","assets/ExecutionContext.977d721e.js","assets/build.6059f0b6.js","assets/string.b7aef662.js","assets/tables.ef9fe5f0.js","assets/polling.ed169328.js","assets/ant-design.ec0a9c25.js","assets/PhCopy.vue.0a9b1d12.js","assets/index.ef071cd4.js","assets/ExecutionContext.7aff1d0c.css","assets/OmniChat.70b1f8b6.js","assets/AbstraLogo.vue_vue_type_script_setup_true_lang.ba6e4d0d.js","assets/Logo.7bd62155.js","assets/Logo.5b3e05b5.css","assets/PhClockCounterClockwise.vue.80142a81.js","assets/file.9f4cc830.js","assets/PhDatabase.vue.1c954492.js","assets/index.4a6f81fb.js","assets/index.2bd3d989.js","assets/OmniChat.0ab5ce33.css","assets/AbstraButton.vue_vue_type_script_setup_true_lang.6b4d66d7.js","assets/constants.3ee86283.js","assets/PhTranslate.vue.cc9bfd2e.js","assets/editor.8b127d48.js","assets/router.c6a665b6.js","assets/useCodebaseEvents.a1a84614.js","assets/index.da037bc0.css","assets/PhArrowSquareOut.vue.3ed55946.js","assets/PhRocket.vue.3b76a734.js","assets/PhSignOut.vue.0a73e68d.js","assets/PhDownloadSimple.vue.30f3e176.js","assets/PhFilePlus.vue.d58adf4f.js","assets/PhPencilSimple.vue.025ed22a.js","assets/CloseCircleOutlined.0380d948.js","assets/PhFolderPlus.vue.c1ce0cf3.js","assets/tasksController.bedfbd7e.js","assets/vue-flow-core.2202c352.js","assets/os.7c146f35.js","assets/ContentLayout.ff54a2ff.js","assets/ContentLayout.cdae7d24.css","assets/fetch.bab26748.js","assets/repository.e701f36e.js","assets/SaveButton.bb9b04ae.js","assets/ExclamationCircleOutlined.ce3f5723.js","assets/SaveButton.363ea20f.css","assets/View.vue_vue_type_script_setup_true_lang.c0cece8a.js","assets/CrudView.a6f989f4.js","assets/DocsButton.vue_vue_type_script_setup_true_lang.14ce34bc.js","assets/PhDotsThreeVertical.vue.afcbbb39.js","assets/CrudView.8abe5bc2.css","assets/PhPencil.vue.99200838.js","assets/PlayerNavbar.99792806.js","assets/PlayerNavbar.4dc29a45.css","assets/PlayerConfigProvider.f0ac04f3.js","assets/PlayerConfigProvider.1ce9d3b1.css","assets/LoadingContainer.cb88d07d.js","assets/LoadingContainer.56fa997a.css","assets/ImageViewer.aa3735c6.js","assets/PhArrowUp.vue.49ba281e.js","assets/ScrollArea.vue_vue_type_script_setup_true_lang.afac781f.js","assets/UploadOutlined.c60e5991.js","assets/xlsx.89ea120e.js","assets/ImageViewer.54074578.css","assets/PhGear.vue.58da3f05.js","assets/toggleHighContrast.123dbc01.js","assets/toggleHighContrast.30d77c87.css","assets/index.c028aa69.js","assets/vue-flow-background.f5ed1fb9.js","assets/PhArrowCounterClockwise.vue.7de5e082.js","assets/FormRunner.0eebf80b.js","assets/Login.vue_vue_type_script_setup_true_lang.9e8c1bb1.js","assets/CircularLoading.7e193c9d.js","assets/CircularLoading.a8fe2dc6.css","assets/Login.ac75228f.css","assets/Steps.64ee3918.js","assets/index.524abb36.js","assets/Steps.2880920a.css","assets/Watermark.06719444.js","assets/Watermark.ca8e769a.css","assets/FormRunner.1e6e7d2a.css","assets/redirect.d6953c17.js","assets/index.0ba06e4e.js"]).then(n=>n.angular())}})],Joe="#e5c07b",eS="#e06c75",Xoe="#56b6c2",Qoe="#ffffff",og="#abb2bf",Bv="#7d8799",eae="#61afef",tae="#98c379",tS="#d19a66",nae="#c678dd",rae="#21252b",nS="#2c313a",rS="#282c34",h8="#353a42",iae="#3E4451",iS="#528bff",sae=ze.theme({"&":{color:og,backgroundColor:rS},".cm-content":{caretColor:iS},".cm-cursor, .cm-dropCursor":{borderLeftColor:iS},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:iae},".cm-panels":{backgroundColor:rae,color:og},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:rS,color:Bv,border:"none"},".cm-activeLineGutter":{backgroundColor:nS},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:h8},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:h8,borderBottomColor:h8},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:nS,color:og}}},{dark:!0}),oae=lp.define([{tag:fe.keyword,color:nae},{tag:[fe.name,fe.deleted,fe.character,fe.propertyName,fe.macroName],color:eS},{tag:[fe.function(fe.variableName),fe.labelName],color:eae},{tag:[fe.color,fe.constant(fe.name),fe.standard(fe.name)],color:tS},{tag:[fe.definition(fe.name),fe.separator],color:og},{tag:[fe.typeName,fe.className,fe.number,fe.changed,fe.annotation,fe.modifier,fe.self,fe.namespace],color:Joe},{tag:[fe.operator,fe.operatorKeyword,fe.url,fe.escape,fe.regexp,fe.link,fe.special(fe.string)],color:Xoe},{tag:[fe.meta,fe.comment],color:Bv},{tag:fe.strong,fontWeight:"bold"},{tag:fe.emphasis,fontStyle:"italic"},{tag:fe.strikethrough,textDecoration:"line-through"},{tag:fe.link,color:Bv,textDecoration:"underline"},{tag:fe.heading,fontWeight:"bold",color:eS},{tag:[fe.atom,fe.bool,fe.special(fe.variableName)],color:tS},{tag:[fe.processingInstruction,fe.string,fe.inserted],color:tae},{tag:fe.invalid,color:Qoe}]),aae=[sae,XO(oae)];function hr(n){this.content=n}hr.prototype={constructor:hr,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),s=r.content.slice();return i==-1?s.push(t||n,e):(s[i+1]=e,t&&(s[i]=t)),new hr(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new hr(t)},addToStart:function(n,e){return new hr([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new hr(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),s=r.find(n);return i.splice(s==-1?i.length:s,0,e,t),new hr(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=hr.from(n),n.size?new hr(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=hr.from(n),n.size?new hr(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=hr.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};hr.from=function(n){if(n instanceof hr)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new hr(e)};function lI(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),s=e.child(r);if(i==s){t+=i.nodeSize;continue}if(!i.sameMarkup(s))return t;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)t++;return t}if(i.content.size||s.content.size){let o=lI(i.content,s.content,t+1);if(o!=null)return o}t+=i.nodeSize}}function uI(n,e,t,r){for(let i=n.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:t,b:r};let o=n.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){t-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:t,b:r};if(o.isText&&o.text!=a.text){let u=0,c=Math.min(o.text.length,a.text.length);for(;u<c&&o.text[o.text.length-u-1]==a.text[a.text.length-u-1];)u++,t--,r--;return{a:t,b:r}}if(o.content.size||a.content.size){let u=uI(o.content,a.content,t-1,r-1);if(u)return u}t-=l,r-=l}}class be{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,s){for(let o=0,a=0;a<t;o++){let l=this.content[o],u=a+l.nodeSize;if(u>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let c=a+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,t-c),r,i+c)}a=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let s="",o=!0;return this.nodesBetween(e,t,(a,l)=>{let u=a.isText?a.text.slice(Math.max(e,l)-l,t-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=u},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new be(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let s=0,o=0;o<t;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>t)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,t-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,t-o-1))),r.push(a),i+=a.nodeSize),o=l}return new be(r,i)}cutByIndex(e,t){return e==t?be.empty:e==0&&t==this.content.length?this:new be(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),s=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new be(i,s)}addToStart(e){return new be([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new be(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return lI(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return uI(this,e,t,r)}findIndex(e){if(e==0)return pm(0,e);if(e==this.size)return pm(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,r=0;;t++){let i=this.child(t),s=r+i.nodeSize;if(s>=e)return s==e?pm(t+1,s):pm(t,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return be.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new be(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return be.empty;let t,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(t||(t=e.slice(0,i)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new be(t||e,r)}static from(e){if(!e)return be.empty;if(e instanceof be)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new be([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}be.empty=new be([],0);const d8={index:0,offset:0};function pm(n,e){return d8.index=n,d8.offset=e,d8}function v2(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!v2(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!v2(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}class vt{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(s)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&v2(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return vt.none;if(e instanceof vt)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}}vt.none=[];class w2 extends Error{}class Le{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=hI(this.content,e+this.openStart,t);return r&&new Le(r,this.openStart,this.openEnd)}removeBetween(e,t){return new Le(cI(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Le.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Le(be.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)i++;return new Le(e,r,i)}}Le.empty=new Le(be.empty,0,0);function cI(n,e,t){let{index:r,offset:i}=n.findIndex(e),s=n.maybeChild(r),{index:o,offset:a}=n.findIndex(t);if(i==e||s.isText){if(a!=t&&!n.child(o).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=o)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(cI(s.content,e-i-1,t-i-1)))}function hI(n,e,t,r){let{index:i,offset:s}=n.findIndex(e),o=n.maybeChild(i);if(s==e||o.isText)return r&&!r.canReplace(i,i,t)?null:n.cut(0,e).append(t).append(n.cut(e));let a=hI(o.content,e-s-1,t,o);return a&&n.replaceChild(i,o.copy(a))}function lae(n,e,t){if(t.openStart>n.depth)throw new w2("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new w2("Inconsistent open depths");return dI(n,e,t,0)}function dI(n,e,t,r){let i=n.index(r),s=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let o=dI(n,e,t,r+1);return s.copy(s.content.replaceChild(i,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let o=n.parent,a=o.content;return Wu(o,a.cut(0,n.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=uae(t,n);return Wu(s,pI(n,o,a,e,r))}else return Wu(s,b2(n,e,r))}function fI(n,e){if(!e.type.compatibleContent(n.type))throw new w2("Cannot join "+e.type.name+" onto "+n.type.name)}function Fv(n,e,t){let r=n.node(t);return fI(r,e.node(t)),r}function qu(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function gf(n,e,t,r){let i=(e||n).node(t),s=0,o=e?e.index(t):i.childCount;n&&(s=n.index(t),n.depth>t?s++:n.textOffset&&(qu(n.nodeAfter,r),s++));for(let a=s;a<o;a++)qu(i.child(a),r);e&&e.depth==t&&e.textOffset&&qu(e.nodeBefore,r)}function Wu(n,e){return n.type.checkContent(e),n.copy(e)}function pI(n,e,t,r,i){let s=n.depth>i&&Fv(n,e,i+1),o=r.depth>i&&Fv(t,r,i+1),a=[];return gf(null,n,i,a),s&&o&&e.index(i)==t.index(i)?(fI(s,o),qu(Wu(s,pI(n,e,t,r,i+1)),a)):(s&&qu(Wu(s,b2(n,e,i+1)),a),gf(e,t,i,a),o&&qu(Wu(o,b2(t,r,i+1)),a)),gf(r,null,i,a),new be(a)}function b2(n,e,t){let r=[];if(gf(null,n,t,r),n.depth>t){let i=Fv(n,e,t+1);qu(Wu(i,b2(n,e,t+1)),r)}return gf(e,null,t,r),new be(r)}function uae(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let s=t-1;s>=0;s--)i=e.node(s).copy(be.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class t1{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return vt.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new mI(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,s=t;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),u=s-l;if(r.push(o,a,i+l),!u||(o=o.child(a),o.isText))break;s=u-1,i+=l+1}return new t1(t,r,s)}static resolveCached(e,t){let r=sS.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==t)return o}else sS.set(e,r=new cae);let i=r.elts[r.i]=t1.resolve(e,t);return r.i=(r.i+1)%hae,i}}class cae{constructor(){this.elts=[],this.i=0}}const hae=12,sS=new WeakMap;class mI{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const dae=Object.create(null);class cs{constructor(e,t,r,i=vt.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||be.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&v2(this.attrs,t||e.defaultAttrs||dae)&&vt.sameSet(this.marks,r||vt.none)}copy(e=null){return e==this.content?this:new cs(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new cs(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return Le.empty;let i=this.resolve(e),s=this.resolve(t),o=r?0:i.sharedDepth(t),a=i.start(o),u=i.node(o).content.cut(i.pos-a,s.pos-a);return new Le(u,i.depth-o,s.depth-o)}replace(e,t,r){return lae(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return t1.resolveCached(this,e)}resolveNoCache(e){return t1.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),gI(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=be.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=vt.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!vt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=be.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,i,r);return s.type.checkAttrs(s.attrs),s}}cs.prototype.text=void 0;class k2 extends cs{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):gI(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new k2(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new k2(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function gI(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class ac{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new fae(e,t);if(r.next==null)return ac.empty;let i=yI(r);r.next&&r.err("Unexpected trailing text");let s=bae(wae(i));return kae(s,r),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let s=t;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!t||l.validEnd))return be.from(a.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:c,next:h}=o.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(h)==-1){i.push(h);let d=s(h,a.concat(c));if(d)return d}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}ac.empty=new ac(!0);class fae{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function yI(n){let e=[];do e.push(pae(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function pae(n){let e=[];do e.push(mae(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function mae(n){let e=vae(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=gae(n,e);else break;return e}function oS(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function gae(n,e){let t=oS(n),r=t;return n.eat(",")&&(n.next!="}"?r=oS(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function yae(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let s in t){let o=t[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function vae(n){if(n.eat("(")){let e=yI(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=yae(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function wae(n){let e=[[]];return i(s(n,0),t()),e;function t(){return e.push([])-1}function r(o,a,l){let u={term:l,to:a};return e[o].push(u),u}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,u)=>l.concat(s(u,a)),[]);if(o.type=="seq")for(let l=0;;l++){let u=s(o.exprs[l],a);if(l==o.exprs.length-1)return u;i(u,a=t())}else if(o.type=="star"){let l=t();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=t();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let u=0;u<o.min;u++){let c=t();i(s(o.expr,l),c),l=c}if(o.max==-1)i(s(o.expr,l),l);else for(let u=o.min;u<o.max;u++){let c=t();r(l,c),i(s(o.expr,l),c),l=c}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function vI(n,e){return e-n}function aS(n,e){let t=[];return r(e),t.sort(vI);function r(i){let s=n[i];if(s.length==1&&!s[0].term)return r(s[0].to);t.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&t.indexOf(l)==-1&&r(l)}}}function bae(n){let e=Object.create(null);return t(aS(n,0));function t(r){let i=[];r.forEach(o=>{n[o].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let c=0;c<i.length;c++)i[c][0]==a&&(u=i[c][1]);aS(n,l).forEach(c=>{u||i.push([a,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let s=e[r.join(",")]=new ac(r.indexOf(n.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(vI);s.next.push({type:i[o][0],next:e[a.join(",")]||t(a)})}return s}}function kae(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:u}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(u)==-1&&r.push(u)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function wI(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function bI(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let s=n[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function kI(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let s=n[i];s.validate&&s.validate(e[i])}}function xI(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new Sae(n,r,e[r]);return t}class r0{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=xI(e,r.attrs),this.defaultAttrs=wI(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ac.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:bI(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new cs(this,this.computeAttrs(e),be.from(t),vt.setFrom(r))}createChecked(e=null,t,r){return t=be.from(t),this.checkContent(t),new cs(this,this.computeAttrs(e),t,vt.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=be.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let i=this.contentMatch.matchFragment(t),s=i&&i.fillBefore(be.empty,!0);return s?new cs(this,e,t.append(s),vt.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){kI(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:vt.none:e}static compile(e,t){let r=Object.create(null);e.forEach((s,o)=>r[s]=new r0(s,t,o));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}function xae(n,e,t){let r=t.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${s}`)}}class Sae{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?xae(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class S4{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=xI(e,i.attrs),this.excluded=null;let s=wI(this.attrs);this.instance=s?new vt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new vt(this,bI(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new S4(s,i++,t,o)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){kI(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class SI{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=hr.from(e.nodes),t.marks=hr.from(e.marks||{}),this.nodes=r0.compile(this.spec.nodes,this),this.marks=S4.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=ac.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?lS(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:lS(this,o.split(" "))}this.nodeFromJSON=i=>cs.fromJSON(this,i),this.markFromJSON=i=>vt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof r0){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new k2(r,r.defaultAttrs,e,vt.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function lS(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],s=n.marks[i],o=s;if(s)t.push(s);else for(let a in n.marks){let l=n.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&t.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function Cae(n){return n.tag!=null}function Mae(n){return n.style!=null}class lc{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(Cae(i))this.tags.push(i);else if(Mae(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let r=new cS(this,t,!1);return r.addAll(e,vt.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new cS(this,t,!0);return r.addAll(e,vt.none,t.from,t.to),Le.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(Tae(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,t,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(o.getAttrs){let l=o.getAttrs(t);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let t=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<t.length;o++){let a=t[o];if((a.priority==null?50:a.priority)<s)break}t.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=hS(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=hS(o)),o.node||o.ignore||o.mark||(o.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new lc(e,lc.schemaRules(e)))}}const CI={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Aae={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},MI={ol:!0,ul:!0},n1=1,zv=2,yf=4;function uS(n,e,t){return e!=null?(e?n1:0)|(e==="full"?zv:0):n&&n.whitespace=="pre"?n1|zv:t&~yf}class mm{constructor(e,t,r,i,s,o){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=vt.none,this.match=s||(o&yf?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(be.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&n1)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let t=be.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(be.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!CI.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class cS{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,s,o=uS(null,t.preserveWhitespace,0)|(r?yf:0);i?s=new mm(i.type,i.attrs,vt.none,!0,t.topMatch||i.type.contentMatch,o):r?s=new mm(null,null,vt.none,!0,null,o):s=new mm(e.schema.topNodeType,null,vt.none,!0,null,o),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,s=i.options&zv?"full":this.localPreserveWS||(i.options&n1)>0,{schema:o}=this.parser;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)if(s==="full")r=r.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(o.linebreakReplacement.create())){let a=r.split(/\r?\n|\r/);for(let l=0;l<a.length;l++)l&&this.insertNode(o.linebreakReplacement.create(),t,!0),a[l]&&this.insertNode(o.text(a[l]),t,!/\S/.test(a[l]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(o.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;MI.hasOwnProperty(o)&&this.parser.normalizeLists&&_ae(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:Aae.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let u,c=this.needsBlock;if(CI.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),u=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let h=l&&l.skip?t:this.readStyles(e,t);h&&this.addAll(e,h),u&&this.sync(s),this.needsBlock=c}else{let u=this.readStyles(e,t);u&&this.addElementByRule(e,l,u,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?t=t.filter(u=>!l.clearMark(u)):t=t.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return t}addElementByRule(e,t,r,i){let s,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(o,t.attrs||null,r,t.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[t.mark];r=r.concat(l.create(t.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,t,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,t);this.findAtPoint(e,s)}findPlace(e,t,r){let i,s;for(let o=this.open,a=0;o>=0;o--){let l=this.nodes[o],u=l.findWrapping(e);if(u&&(!i||i.length>u.length+a)&&(i=u,s=l,!u.length))break;if(l.solid){if(r)break;a+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)t=this.enterInner(i[o],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(t=this.enterInner(s,null,t))}let i=this.findPlace(e,t,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=vt.none;for(let a of i.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):dS(a.type,e.type))&&(o=a.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,t,r,i){let s=this.findPlace(e.create(t),r,!1);return s&&(s=this.enterInner(e,t,r,!0,i)),s}enterInner(e,t,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=uS(e,s,o.options);o.options&yf&&o.content.length==0&&(a|=yf);let l=vt.none;return r=r.filter(u=>(o.type?o.type.allowsMarkType(u.type):dS(u.type,e))?(l=u.addToSet(l),!1):!0),this.nodes.push(new mm(e,t,l,i,null,a)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=n1)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let u=t[a];if(u==""){if(a==t.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!c||c.name!=u&&!c.isInGroup(u))return!1;l--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function _ae(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&MI.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function Tae(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function hS(n){let e={};for(let t in n)e[t]=n[t];return e}function dS(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:c}=a.edge(l);if(u==e||s.indexOf(c)<0&&o(c))return!0}};if(o(i.contentMatch))return!0}}class yc{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=f8(t).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let u=o.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(s[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let u=o.marks[l++],c=this.serializeMark(u,o.isInline,t);c&&(s.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(o,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=ag(f8(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&ag(f8(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return ag(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new yc(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=fS(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return fS(e.marks)}}function fS(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function f8(n){return n.document||window.document}const pS=new WeakMap;function Eae(n){let e=pS.get(n);return e===void 0&&pS.set(n,e=Oae(n)),e}function Oae(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function ag(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=Eae(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(t=i.slice(0,o),i=i.slice(o+1));let a,l=t?n.createElementNS(t,i):n.createElement(i),u=e[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let h in u)if(u[h]!=null){let d=h.indexOf(" ");d>0?l.setAttributeNS(h.slice(0,d),h.slice(d+1),u[h]):h=="style"&&l.style?l.style.cssText=u[h]:l.setAttribute(h,u[h])}}for(let h=c;h<e.length;h++){let d=e[h];if(d===0){if(h<e.length-1||h>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:p}=ag(n,d,t,r);if(l.appendChild(f),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:l,contentDOM:a}}const AI=65535,_I=Math.pow(2,16);function Iae(n,e){return n+e*_I}function mS(n){return n&AI}function Dae(n){return(n-(n&AI))/_I}const TI=1,EI=2,lg=4,OI=8;class Hv{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&OI)>0}get deletedBefore(){return(this.delInfo&(TI|lg))>0}get deletedAfter(){return(this.delInfo&(EI|lg))>0}get deletedAcross(){return(this.delInfo&lg)>0}}class Ti{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Ti.empty)return Ti.empty}recover(e){let t=0,r=mS(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+Dae(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[a+s],c=this.ranges[a+o],h=l+u;if(e<=h){let d=u?e==l?-1:e==h?1:t:t,f=l+i+(d<0?0:c);if(r)return f;let p=e==(t<0?l:h)?null:Iae(a/3,e-l),m=e==l?EI:e==h?TI:lg;return(t<0?e!=l:e!=h)&&(m|=OI),new Hv(f,m,p)}i+=c-u}return r?e+i:new Hv(e+i,0,null)}touches(e,t){let r=0,i=mS(t),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[a+s],c=l+u;if(e<=c&&a==i*3)return!0;r+=this.ranges[a+o]-u}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),u=this.ranges[i+t],c=this.ranges[i+r];e(a,a+u,l,l+c),s+=c-u}}invert(){return new Ti(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ti.empty:new Ti(e<0?[0,-e,0]:[0,0,e])}}Ti.empty=new Ti([]);class r1{constructor(e,t,r=0,i=e?e.length:0){this.mirror=t,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new r1(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new r1;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,t);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Hv(e,i,null)}}const p8=Object.create(null);class Tr{getMap(){return Ti.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=p8[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in p8)throw new RangeError("Duplicate use of step JSON ID "+e);return p8[e]=t,t.prototype.jsonID=e,t}}class Hn{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Hn(e,null)}static fail(e){return new Hn(null,e)}static fromReplace(e,t,r,i){try{return Hn.ok(e.replace(t,r,i))}catch(s){if(s instanceof w2)return Hn.fail(s.message);throw s}}}function vw(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let s=n.child(i);s.content.size&&(s=s.copy(vw(s.content,e,s))),s.isInline&&(s=e(s,t,i)),r.push(s)}return be.fromArray(r)}class da extends Tr{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Le(vw(t.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),t.openStart,t.openEnd);return Hn.fromReplace(e,this.from,this.to,s)}invert(){return new go(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new da(t.pos,r.pos,this.mark)}merge(e){return e instanceof da&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new da(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new da(t.from,t.to,e.markFromJSON(t.mark))}}Tr.jsonID("addMark",da);class go extends Tr{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new Le(vw(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return Hn.fromReplace(e,this.from,this.to,r)}invert(){return new da(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new go(t.pos,r.pos,this.mark)}merge(e){return e instanceof go&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new go(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new go(t.from,t.to,e.markFromJSON(t.mark))}}Tr.jsonID("removeMark",go);class hl extends Tr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Hn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Hn.fromReplace(e,this.pos,this.pos+1,new Le(be.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new hl(this.pos,t.marks[i]);return new hl(this.pos,this.mark)}}return new uc(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new hl(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new hl(t.pos,e.markFromJSON(t.mark))}}Tr.jsonID("addNodeMark",hl);class uc extends Tr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Hn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Hn.fromReplace(e,this.pos,this.pos+1,new Le(be.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new hl(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new uc(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new uc(t.pos,e.markFromJSON(t.mark))}}Tr.jsonID("removeNodeMark",uc);class nr extends Tr{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&Vv(e,this.from,this.to)?Hn.fail("Structure replace would overwrite content"):Hn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ti([this.from,this.to-this.from,this.slice.size])}invert(e){return new nr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new nr(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof nr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Le.empty:new Le(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new nr(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Le.empty:new Le(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new nr(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new nr(t.from,t.to,Le.fromJSON(e,t.slice),!!t.structure)}}Tr.jsonID("replace",nr);class _r extends Tr{constructor(e,t,r,i,s,o,a=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(Vv(e,this.from,this.gapFrom)||Vv(e,this.gapTo,this.to)))return Hn.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Hn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Hn.fromReplace(e,this.from,this.to,r):Hn.fail("Content does not fit in gap")}getMap(){return new Ti([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new _r(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||s>r.pos?null:new _r(t.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new _r(t.from,t.to,t.gapFrom,t.gapTo,Le.fromJSON(e,t.slice),t.insert,!!t.structure)}}Tr.jsonID("replaceAround",_r);function Vv(n,e,t){let r=n.resolve(e),i=t-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function Nae(n,e,t,r){let i=[],s=[],o,a;n.doc.nodesBetween(e,t,(l,u,c)=>{if(!l.isInline)return;let h=l.marks;if(!r.isInSet(h)&&c.type.allowsMarkType(r.type)){let d=Math.max(u,e),f=Math.min(u+l.nodeSize,t),p=r.addToSet(h);for(let m=0;m<h.length;m++)h[m].isInSet(p)||(o&&o.to==d&&o.mark.eq(h[m])?o.to=f:i.push(o=new go(d,f,h[m])));a&&a.to==d?a.to=f:s.push(a=new da(d,f,r))}}),i.forEach(l=>n.step(l)),s.forEach(l=>n.step(l))}function Lae(n,e,t,r){let i=[],s=0;n.doc.nodesBetween(e,t,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof S4){let u=o.marks,c;for(;c=r.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let u=Math.min(a+o.nodeSize,t);for(let c=0;c<l.length;c++){let h=l[c],d;for(let f=0;f<i.length;f++){let p=i[f];p.step==s-1&&h.eq(i[f].style)&&(d=p)}d?(d.to=u,d.step=s):i.push({style:h,from:Math.max(a,e),to:u,step:s})}}}),i.forEach(o=>n.step(new go(o.from,o.to,o.style)))}function ww(n,e,t,r=t.contentMatch,i=!0){let s=n.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let u=s.child(l),c=a+u.nodeSize,h=r.matchType(u.type);if(!h)o.push(new nr(a,c,Le.empty));else{r=h;for(let d=0;d<u.marks.length;d++)t.allowsMarkType(u.marks[d].type)||n.step(new go(a,c,u.marks[d]));if(i&&u.isText&&t.whitespace!="pre"){let d,f=/\r?\n|\r/g,p;for(;d=f.exec(u.text);)p||(p=new Le(be.from(t.schema.text(" ",t.allowedMarks(u.marks))),0,0)),o.push(new nr(a+d.index,a+d.index+d[0].length,p))}}a=c}if(!r.validEnd){let l=r.fillBefore(be.empty,!0);n.replace(a,a,new Le(l,0,0))}for(let l=o.length-1;l>=0;l--)n.step(o[l])}function Pae(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function C4(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),s=n.$from.index(r),o=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(s,o,t))return r;if(r==0||i.type.spec.isolating||!Pae(i,s,o))break}return null}function Rae(n,e,t){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,u=a,c=be.empty,h=0;for(let p=s,m=!1;p>t;p--)m||r.index(p)>0?(m=!0,c=be.from(r.node(p).copy(c)),h++):l--;let d=be.empty,f=0;for(let p=s,m=!1;p>t;p--)m||i.after(p+1)<i.end(p)?(m=!0,d=be.from(i.node(p).copy(d)),f++):u++;n.step(new _r(l,u,o,a,new Le(c.append(d),h,f),c.size-h,!0))}function bw(n,e,t=null,r=n){let i=$ae(n,e),s=i&&Bae(r,e);return s?i.map(gS).concat({type:e,attrs:t}).concat(s.map(gS)):null}function gS(n){return{type:n,attrs:null}}function $ae(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return t.canReplaceWith(r,i,o)?s:null}function Bae(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(t.child(u).type);return!l||!l.validEnd?null:o}function Fae(n,e,t){let r=be.empty;for(let o=t.length-1;o>=0;o--){if(r.size){let a=t[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=be.from(t[o].type.create(t[o].attrs,r))}let i=e.start,s=e.end;n.step(new _r(i,s,i,s,new Le(r,0,0),t.length,!0))}function zae(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(e,t,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&Hae(n.doc,n.mapping.slice(s).map(a),r)){let u=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!p?u=!1:!f&&p&&(u=!0)}u===!1&&DI(n,o,a,s),ww(n,n.mapping.slice(s).map(a,1),r,void 0,u===null);let c=n.mapping.slice(s),h=c.map(a,1),d=c.map(a+o.nodeSize,1);return n.step(new _r(h,d,h+1,d-1,new Le(be.from(r.create(l,null,o.marks)),0,0),1,!0)),u===!0&&II(n,o,a,s),!1}})}function II(n,e,t,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=n.mapping.slice(r).map(t+1+s+o.index);n.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function DI(n,e,t,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=n.mapping.slice(r).map(t+1+s);n.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function Hae(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function Vae(n,e,t,r,i){let s=n.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let o=t.create(r,null,i||s.marks);if(s.isLeaf)return n.replaceWith(e,e+s.nodeSize,o);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new _r(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Le(be.from(o),0,0),1,!0))}function vf(n,e,t=1,r){let i=n.resolve(e),s=i.depth-t,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=t-2;u>s;u--,c--){let h=i.node(u),d=i.index(u);if(h.type.spec.isolating)return!1;let f=h.content.cutByIndex(d,h.childCount),p=r&&r[c+1];p&&(f=f.replaceChild(0,p.type.create(p.attrs)));let m=r&&r[c]||h;if(!h.canReplace(d+1,h.childCount)||!m.type.validContent(f))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function qae(n,e,t=1,r){let i=n.doc.resolve(e),s=be.empty,o=be.empty;for(let a=i.depth,l=i.depth-t,u=t-1;a>l;a--,u--){s=be.from(i.node(a).copy(s));let c=r&&r[u];o=be.from(c?c.type.create(c.attrs,o):i.node(a).copy(o))}n.step(new nr(e,e,new Le(s.append(o),t,t),!0))}function M4(n,e){let t=n.resolve(e),r=t.index();return jae(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function Wae(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?n.type.schema.nodes.text:s.type;if(t=t.matchType(o),!t||!n.type.allowsMarks(s.marks))return!1}return t.validEnd}function jae(n,e){return!!(n&&e&&!n.isLeaf&&Wae(n,e))}function Zae(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,s=n.doc.resolve(e-t),o=s.node().type;if(i&&o.inlineContent){let c=o.whitespace=="pre",h=!!o.contentMatch.matchType(i);c&&!h?r=!1:!c&&h&&(r=!0)}let a=n.steps.length;if(r===!1){let c=n.doc.resolve(e+t);DI(n,c.node(),c.before(),a)}o.inlineContent&&ww(n,e+t-1,o,s.node().contentMatchAt(s.index()),r==null);let l=n.mapping.slice(a),u=l.map(e-t);if(n.step(new nr(u,l.map(e+t,-1),Le.empty,!0)),r===!0){let c=n.doc.resolve(u);II(n,c.node(),c.before(),n.steps.length)}return n}function Uae(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,t))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,t))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function Gae(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let s=0;s<t.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),u=r.node(o),c=!1;if(s==1)c=u.canReplace(l,l,i);else{let h=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=h&&u.canReplaceWith(l,l,h[0])}if(c)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function A4(n,e,t=e,r=Le.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),s=n.resolve(t);return NI(i,s,r)?new nr(e,t,r):new Kae(i,s,r).fit()}function NI(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class Kae{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=be.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=be.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new Le(s,o,a);return e>-1?new _r(r.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||r.pos!=this.$to.pos?new nr(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=t.firstChild;if(t.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}t=s.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=m8(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],c,h=null;if(t==1&&(o?u.matchType(o.type)||(h=u.fillBefore(be.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:h};if(t==2&&o&&(c=u.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:c};if(s&&u.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=m8(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Le(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=m8(e,t);if(i.childCount<=1&&t>0){let s=e.size-t<=t+i.size;this.unplaced=new Le(Od(e,t-1,1),t-1,s?t-1:r)}else this.unplaced=new Le(Od(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let m=0;m<s.length;m++)this.openFrontierNode(s[m]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,u=0,c=[],{match:h,type:d}=this.frontier[t];if(i){for(let m=0;m<i.childCount;m++)c.push(i.child(m));h=h.matchFragment(i)}let f=a.size+e-(o.content.size-o.openEnd);for(;u<a.childCount;){let m=a.child(u),y=h.matchType(m.type);if(!y)break;u++,(u>1||l==0||m.content.size)&&(h=y,c.push(LI(m.mark(d.allowedMarks(m.marks)),u==1?l:0,u==a.childCount?f:-1)))}let p=u==a.childCount;p||(f=-1),this.placed=Id(this.placed,t,be.from(c)),this.frontier[t].match=h,p&&f<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,y=a;m<f;m++){let v=y.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),y=v.content}this.unplaced=p?e==0?Le.empty:new Le(Od(o.content,e-1,1),e-1,f<0?o.openEnd:e-1):new Le(Od(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!g8(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=g8(e,t,i,r,s);if(!!o){for(let a=t-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],c=g8(e,a,u,l,!0);if(!c||c.childCount)continue e}return{depth:t,fit:o,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Id(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Id(this.placed,this.depth,be.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(be.empty,!0);t.childCount&&(this.placed=Id(this.placed,this.frontier.length,t))}}function Od(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Od(n.firstChild.content,e-1,t)))}function Id(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Id(n.lastChild.content,e-1,t)))}function m8(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function LI(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,LI(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(be.empty,!0)))),n.copy(r)}function g8(n,e,t,r,i){let s=n.node(e),o=i?n.indexAfter(e):n.index(e);if(o==s.childCount&&!t.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!Yae(t,s.content,o)?a:null}function Yae(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function Jae(n){return n.spec.defining||n.spec.definingForContent}function Xae(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),s=n.doc.resolve(t);if(NI(i,s,r))return n.step(new nr(e,t,r));let o=RI(i,n.doc.resolve(t));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let d=i.depth,f=i.pos-1;d>0;d--,f--){let p=i.node(d).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(d)>-1?a=d:i.before(d)==f&&o.splice(1,0,-d)}let l=o.indexOf(a),u=[],c=r.openStart;for(let d=r.content,f=0;;f++){let p=d.firstChild;if(u.push(p),f==r.openStart)break;d=p.content}for(let d=c-1;d>=0;d--){let f=u[d],p=Jae(f.type);if(p&&!f.sameMarkup(i.node(Math.abs(a)-1)))c=d;else if(p||!f.type.isTextblock)break}for(let d=r.openStart;d>=0;d--){let f=(d+c+1)%(r.openStart+1),p=u[f];if(!!p)for(let m=0;m<o.length;m++){let y=o[(m+l)%o.length],v=!0;y<0&&(v=!1,y=-y);let b=i.node(y-1),k=i.index(y-1);if(b.canReplaceWith(k,k,p.type,p.marks))return n.replace(i.before(y),v?s.after(y):t,new Le(PI(r.content,0,r.openStart,f),f,r.openEnd))}}let h=n.steps.length;for(let d=o.length-1;d>=0&&(n.replace(e,t,r),!(n.steps.length>h));d--){let f=o[d];f<0||(e=i.before(f),t=s.after(f))}}function PI(n,e,t,r,i){if(e<t){let s=n.firstChild;n=n.replaceChild(0,s.copy(PI(s.content,e+1,t,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(n).append(n);n=o.append(s.matchFragment(o).fillBefore(be.empty,!0))}return n}function Qae(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=Uae(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new Le(be.from(r),0,0))}function ele(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),s=RI(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return n.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return n.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&t>r.end(o)&&i.end(o)-t!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return n.delete(r.before(o),t);n.delete(e,t)}function RI(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let s=n.start(i);if(s<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&t.push(i)}return t}class ih extends Tr{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Hn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return Hn.fromReplace(e,this.pos,this.pos+1,new Le(be.from(i),0,t.isLeaf?0:1))}getMap(){return Ti.empty}invert(e){return new ih(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ih(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ih(t.pos,t.attr,t.value)}}Tr.jsonID("attr",ih);class i1 extends Tr{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Hn.ok(r)}getMap(){return Ti.empty}invert(e){return new i1(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new i1(t.attr,t.value)}}Tr.jsonID("docAttr",i1);let i0=class extends Error{};i0=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};i0.prototype=Object.create(Error.prototype);i0.prototype.constructor=i0;i0.prototype.name="TransformError";class $I{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new r1}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new i0(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=Le.empty){let i=A4(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new Le(be.from(r),0,0))}delete(e,t){return this.replace(e,t,Le.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return Xae(this,e,t,r),this}replaceRangeWith(e,t,r){return Qae(this,e,t,r),this}deleteRange(e,t){return ele(this,e,t),this}lift(e,t){return Rae(this,e,t),this}join(e,t=1){return Zae(this,e,t),this}wrap(e,t){return Fae(this,e,t),this}setBlockType(e,t=e,r,i=null){return zae(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return Vae(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new ih(e,t,r)),this}setDocAttribute(e,t){return this.step(new i1(e,t)),this}addNodeMark(e,t){return this.step(new hl(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof vt)t.isInSet(r.marks)&&this.step(new uc(e,t));else{let i=r.marks,s,o=[];for(;s=t.isInSet(i);)o.push(new uc(e,s)),i=s.removeFromSet(i);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,t=1,r){return qae(this,e,t,r),this}addMark(e,t,r){return Nae(this,e,t,r),this}removeMark(e,t,r){return Lae(this,e,t,r),this}clearIncompatible(e,t,r){return ww(this,e,t,r),this}}const y8=Object.create(null);class lt{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new x2(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Le.empty){let r=t.content.lastChild,i=null;for(let a=0;a<t.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:u}=o[a],c=e.mapping.slice(s);e.replaceRange(c.map(l.pos),c.map(u.pos),a?Le.empty:t),a==0&&wS(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),u=l.map(o.pos),c=l.map(a.pos);s?e.deleteRange(u,c):(e.replaceRangeWith(u,c,t),wS(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new Ue(e):Lc(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=t<0?Lc(e.node(0),e.node(s),e.before(s+1),e.index(s),t,r):Lc(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,r);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new oi(e.node(0))}static atStart(e){return Lc(e,e,0,0,1)||new oi(e)}static atEnd(e){return Lc(e,e,e.content.size,e.childCount,-1)||new oi(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=y8[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in y8)throw new RangeError("Duplicate use of selection JSON ID "+e);return y8[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Ue.between(this.$anchor,this.$head).getBookmark()}}lt.prototype.visible=!0;class x2{constructor(e,t){this.$from=e,this.$to=t}}let yS=!1;function vS(n){!yS&&!n.parent.inlineContent&&(yS=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Ue extends lt{constructor(e,t=e){vS(e),vS(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return lt.near(r);let i=e.resolve(t.map(this.anchor));return new Ue(i.parent.inlineContent?i:r,r)}replace(e,t=Le.empty){if(super.replace(e,t),t==Le.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ue&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new _4(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ue(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let s=lt.findFrom(t,r,!0)||lt.findFrom(t,-r,!0);if(s)t=s.$head;else return lt.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(lt.findFrom(e,-r,!0)||lt.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new Ue(e,t)}}lt.jsonID("text",Ue);class _4{constructor(e,t){this.anchor=e,this.head=t}map(e){return new _4(e.map(this.anchor),e.map(this.head))}resolve(e){return Ue.between(e.resolve(this.anchor),e.resolve(this.head))}}class Je extends lt{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),s=e.resolve(i);return r?lt.near(s):new Je(s)}content(){return new Le(be.from(this.node),0,0)}eq(e){return e instanceof Je&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new kw(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Je(e.resolve(t.anchor))}static create(e,t){return new Je(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Je.prototype.visible=!1;lt.jsonID("node",Je);class kw{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new _4(r,r):new kw(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&Je.isSelectable(r)?new Je(t):lt.near(t)}}class oi extends lt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Le.empty){if(t==Le.empty){e.delete(0,e.doc.content.size);let r=lt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new oi(e)}map(e){return new oi(e)}eq(e){return e instanceof oi}getBookmark(){return tle}}lt.jsonID("all",oi);const tle={map(){return this},resolve(n){return new oi(n)}};function Lc(n,e,t,r,i,s=!1){if(e.inlineContent)return Ue.create(n,t);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&Je.isSelectable(a))return Je.create(n,t-(i<0?a.nodeSize:0))}else{let l=Lc(n,a,t+i,i<0?a.childCount:0,i,s);if(l)return l}t+=a.nodeSize*i}return null}function wS(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof nr||i instanceof _r))return;let s=n.mapping.maps[r],o;s.forEach((a,l,u,c)=>{o==null&&(o=c)}),n.setSelection(lt.near(n.doc.resolve(o),t))}const bS=1,gm=2,kS=4;class nle extends $I{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|bS)&~gm,this.storedMarks=null,this}get selectionSet(){return(this.updated&bS)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=gm,this}ensureMarks(e){return vt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&gm)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~gm,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||vt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),!e)return this.deleteRange(t,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(t);s=r==t?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,s)),!this.selection.empty&&this.selection.to==t+e.length&&this.setSelection(lt.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=kS,this}get scrolledIntoView(){return(this.updated&kS)>0}}function xS(n,e){return!e||!n?n:n.bind(e)}class Dd{constructor(e,t,r){this.name=e,this.init=xS(t.init,r),this.apply=xS(t.apply,r)}}const rle=[new Dd("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Dd("selection",{init(n,e){return n.selection||lt.atStart(e.doc)},apply(n){return n.selection}}),new Dd("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new Dd("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class v8{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=rle.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Dd(r.key,r.spec.state,r))})}}class wu{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,u=i?i[o].state:this,c=l<t.length&&a.spec.appendTransaction.call(a,l?t.slice(l):t,u,r);if(c&&r.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let h=0;h<this.config.plugins.length;h++)i.push(h<o?{state:r,n:t.length}:{state:this,n:0})}t.push(c),r=r.applyInner(c),s=!0}i&&(i[o]={state:r,n:t.length})}}if(!s)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new wu(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new nle(this)}static create(e){let t=new v8(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new wu(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new v8(this.schema,e.plugins),r=t.fields,i=new wu(t);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(t[r]=s.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new v8(e.schema,e.plugins),s=new wu(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=cs.fromJSON(e.schema,t.doc);else if(o.name=="selection")s.selection=lt.fromJSON(s.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],u=l.spec.state;if(l.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){s[o.name]=u.fromJSON.call(l,e,t[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function BI(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=BI(i,e,{})),t[r]=i}return t}class fn{constructor(e){this.spec=e,this.props={},e.props&&BI(e.props,this,this.props),this.key=e.key?e.key.key:FI("plugin")}getState(e){return e[this.key]}}const w8=Object.create(null);function FI(n){return n in w8?n+"$"+ ++w8[n]:(w8[n]=0,n+"$")}class pn{constructor(e="key"){this.key=FI(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}class ui{constructor(e,t,r={}){this.match=e,this.match=e,this.handler=typeof t=="string"?ile(t):t,this.undoable=r.undoable!==!1,this.inCode=r.inCode||!1,this.inCodeMark=r.inCodeMark!==!1}}function ile(n){return function(e,t,r,i){let s=n;if(t[1]){let o=t[0].lastIndexOf(t[1]);s+=t[0].slice(o+t[1].length),r+=o;let a=r-i;a>0&&(s=t[0].slice(o-a,o)+s,r=i)}return e.tr.insertText(s,r,i)}}const sle=(n,e)=>{let t=n.plugins;for(let r=0;r<t.length;r++){let i=t[r],s;if(i.spec.isInputRules&&(s=i.getState(n))){if(e){let o=n.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l--)o.step(a.steps[l].invert(a.docs[l]));if(s.text){let l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,n.schema.text(s.text,l))}else o.delete(s.from,s.to);e(o)}return!0}}return!1};new ui(/--$/,"\u2014",{inCodeMark:!1});new ui(/\.\.\.$/,"\u2026",{inCodeMark:!1});new ui(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C",{inCodeMark:!1});new ui(/"$/,"\u201D",{inCodeMark:!1});new ui(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018",{inCodeMark:!1});new ui(/'$/,"\u2019",{inCodeMark:!1});function xw(n,e,t=null,r){return new ui(n,(i,s,o,a)=>{let l=t instanceof Function?t(s):t,u=i.tr.delete(o,a),c=u.doc.resolve(o),h=c.blockRange(),d=h&&bw(h,e,l);if(!d)return null;u.wrap(h,d);let f=u.doc.resolve(o-1).nodeBefore;return f&&f.type==e&&M4(u.doc,o-1)&&(!r||r(s,f))&&u.join(o-1),u})}function Sw(n,e,t=null){return new ui(n,(r,i,s,o)=>{let a=r.doc.resolve(s),l=t instanceof Function?t(i):t;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e)?r.tr.delete(s,o).setBlockType(s,s,e,l):null})}var ci=(n=>(n.docTypeError="docTypeError",n.contextNotFound="contextNotFound",n.timerNotFound="timerNotFound",n.ctxCallOutOfScope="ctxCallOutOfScope",n.createNodeInParserFail="createNodeInParserFail",n.stackOverFlow="stackOverFlow",n.parserMatchError="parserMatchError",n.serializerMatchError="serializerMatchError",n.getAtomFromSchemaFail="getAtomFromSchemaFail",n.expectDomTypeError="expectDomTypeError",n.callCommandBeforeEditorView="callCommandBeforeEditorView",n.missingRootElement="missingRootElement",n.missingNodeInSchema="missingNodeInSchema",n.missingMarkInSchema="missingMarkInSchema",n.ctxNotBind="ctxNotBind",n.missingYjsDoc="missingYjsDoc",n))(ci||{});class Fi extends Error{constructor(e,t){super(t),this.name="MilkdownError",this.code=e}}const ole=(n,e)=>typeof e=="function"?"[Function]":e,T4=n=>JSON.stringify(n,ole);function ale(n){return new Fi(ci.docTypeError,`Doc type error, unsupported type: ${T4(n)}`)}function lle(n){return new Fi(ci.contextNotFound,`Context "${n}" not found, do you forget to inject it?`)}function ule(n){return new Fi(ci.timerNotFound,`Timer "${n}" not found, do you forget to record it?`)}function E4(){return new Fi(ci.ctxCallOutOfScope,"Should not call a context out of the plugin.")}function cle(n,e,t){const i=`Cannot create node for ${"name"in n?n.name:n}`,s=c=>{if(c==null)return"null";if(Array.isArray(c))return`[${c.map(s).join(", ")}]`;if(typeof c=="object")return"toJSON"in c&&typeof c.toJSON=="function"?JSON.stringify(c.toJSON()):"spec"in c?JSON.stringify(c.spec):JSON.stringify(c);if(typeof c=="string"||typeof c=="number"||typeof c=="boolean")return JSON.stringify(c);if(typeof c=="function")return`[Function: ${c.name||"anonymous"}]`;try{return String(c)}catch{return"[Unserializable]"}},o=["[Description]",i],a=["[Attributes]",e],l=["[Content]",(t!=null?t:[]).map(c=>c?typeof c=="object"&&"type"in c?`${c}`:s(c):"null")],u=[o,a,l].reduce((c,[h,d])=>{const f=`${h}: ${s(d)}.`;return c.concat(f)},[]);return new Fi(ci.createNodeInParserFail,u.join(`
`))}function zI(){return new Fi(ci.stackOverFlow,"Stack over flow, cannot pop on an empty stack.")}function hle(n){return new Fi(ci.parserMatchError,`Cannot match target parser for node: ${T4(n)}.`)}function dle(n){return new Fi(ci.serializerMatchError,`Cannot match target serializer for node: ${T4(n)}.`)}function fle(n,e){return new Fi(ci.getAtomFromSchemaFail,`Cannot get ${n}: ${e} from schema.`)}function Ws(n){return new Fi(ci.expectDomTypeError,`Expect to be a dom, but get: ${T4(n)}.`)}function b8(){return new Fi(ci.callCommandBeforeEditorView,"You're trying to call a command before editor view initialized, make sure to get commandManager from ctx after editor view has been initialized")}function ple(n){return new Fi(ci.missingNodeInSchema,`Missing node in schema, milkdown cannot find "${n}" in schema.`)}function mle(n){return new Fi(ci.missingMarkInSchema,`Missing mark in schema, milkdown cannot find "${n}" in schema.`)}const Ml=typeof navigator<"u"?navigator:null,SS=typeof document<"u"?document:null,Ll=Ml&&Ml.userAgent||"",qv=/Edge\/(\d+)/.exec(Ll),HI=/MSIE \d/.exec(Ll),Wv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ll),O4=!!(HI||Wv||qv),gle=HI?document.documentMode:Wv?+Wv[1]:qv?+qv[1]:0,VI=!O4&&/gecko\/(\d+)/i.test(Ll),yle=VI&&+(/Firefox\/(\d+)/.exec(Ll)||[0,0])[1],jv=!O4&&/Chrome\/(\d+)/.exec(Ll),vle=!!jv,wle=jv?+jv[1]:0,qI=!O4&&!!Ml&&/Apple Computer/.test(Ml.vendor),WI=qI&&(/Mobile\/\w+/.test(Ll)||!!Ml&&Ml.maxTouchPoints>2),ble=WI||(Ml?/Mac/.test(Ml.platform):!1),kle=/Android \d/.test(Ll),jI=!!SS&&"webkitFontSmoothing"in SS.documentElement.style,xle=jI?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;var ym=Object.freeze({__proto__:null,android:kle,chrome:vle,chrome_version:wle,gecko:VI,gecko_version:yle,ie:O4,ie_version:gle,ios:WI,mac:ble,safari:qI,webkit:jI,webkit_version:xle});function k8(n,e,t,r,i,s){if(n.composing)return!1;const o=n.state,a=o.doc.resolve(e);if(a.parent.type.spec.code)return!1;const l=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,void 0,"\uFFFC")+r;for(let u of i){const c=u,h=c.match.exec(l),d=h&&h[0]&&c.handler(o,h,e-(h[0].length-r.length),t);if(!!d)return c.undoable!==!1&&d.setMeta(s,{transform:d,from:e,to:t,text:r}),n.dispatch(d),!0}return!1}const Sle=new pn("MILKDOWN_CUSTOM_INPUTRULES");function Cle({rules:n}){const e=new fn({key:Sle,isInputRules:!0,state:{init(){return null},apply(t,r){const i=t.getMeta(this);return i||(t.selectionSet||t.docChanged?null:r)}},props:{handleTextInput(t,r,i,s){return k8(t,r,i,s,n,e)},handleDOMEvents:{compositionend:t=>(setTimeout(()=>{const{$cursor:r}=t.state.selection;r&&k8(t,r.pos,r.pos,"",n,e)}),!1)},handleKeyDown(t,r){if(r.key!=="Enter")return!1;const{$cursor:i}=t.state.selection;return i?k8(t,i.pos,i.pos,`
`,n,e):!1}}});return e}function up(n,e,t={}){return new ui(n,(r,i,s,o)=>{var a,l,u,c;const{tr:h}=r,d=i.length;let f=i[d-1],p=i[0],m=[],y=o;const v={group:f,fullMatch:p,start:s,end:o},b=(a=t.updateCaptured)==null?void 0:a.call(t,v);if(Object.assign(v,b),{group:f,fullMatch:p,start:s,end:o}=v,p===null||(f==null?void 0:f.trim())==="")return null;if(f){const k=p.search(/\S/),_=s+p.indexOf(f),C=_+f.length;m=(l=h.storedMarks)!=null?l:[],C<o&&h.delete(C,o),_>s&&h.delete(s+k,_),y=s+k+f.length;const M=(u=t.getAttr)==null?void 0:u.call(t,i);h.addMark(s,y,e.create(M)),h.setStoredMarks(m),(c=t.beforeDispatch)==null||c.call(t,{match:i,start:s,end:o,tr:h})}return h})}function Mle(n,e,t={}){return new ui(n,(r,i,s,o)=>{var a,l,u;const{tr:c}=r;let h=i[1],d=i[0];const f={group:h,fullMatch:d,start:s,end:o},p=(a=t.updateCaptured)==null?void 0:a.call(t,f);if(Object.assign(f,p),{group:h,fullMatch:d,start:s,end:o}=f,d===null||!h||h.trim()==="")return null;const m=(l=t.getAttr)==null?void 0:l.call(t,i),y=e.createAndFill(m);return y&&(c.replaceRangeWith(e.isBlock?c.doc.resolve(s).before():s,o,y),(u=t.beforeDispatch)==null||u.call(t,{match:[d,h!=null?h:""],start:s,end:o,tr:c})),c})}var Ale=Object.defineProperty,_le=Object.defineProperties,Tle=Object.getOwnPropertyDescriptors,CS=Object.getOwnPropertySymbols,Ele=Object.prototype.hasOwnProperty,Ole=Object.prototype.propertyIsEnumerable,MS=(n,e,t)=>e in n?Ale(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ile=(n,e)=>{for(var t in e||(e={}))Ele.call(e,t)&&MS(n,t,e[t]);if(CS)for(var t of CS(e))Ole.call(e,t)&&MS(n,t,e[t]);return n},Dle=(n,e)=>_le(n,Tle(e));function AS(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function I4(n,e,t){const i=n.state.doc.content.size,s=AS(e,0,i),o=AS(t,0,i),a=n.coordsAtPos(s),l=n.coordsAtPos(o,-1),u=Math.min(a.top,l.top),c=Math.max(a.bottom,l.bottom),h=Math.min(a.left,l.left),d=Math.max(a.right,l.right),f=d-h,p=c-u,v={top:u,bottom:c,left:h,right:d,width:f,height:p,x:h,y:u};return Dle(Ile({},v),{toJSON:()=>v})}function ZI(n){return Object.assign(Object.create(n),n).setTime(Date.now())}function Nle(n,e){return Array.isArray(n)&&n.includes(e.type)||e.type===n}function Lle(n){if(n.content.childCount===1){const e=n.content.firstChild;if((e==null?void 0:e.type.name)==="text"&&e.marks.length===0)return e;if((e==null?void 0:e.type.name)==="paragraph"&&e.childCount===1){const t=e.firstChild;if((t==null?void 0:t.type.name)==="text"&&t.marks.length===0)return t}}return!1}function Co(n){return e=>{for(let t=e.depth;t>0;t-=1){const r=e.node(t);if(n(r)){const i=e.before(t),s=e.after(t);return{from:i,to:s,node:r}}}}}function Ple(n,e){return Co(t=>t.type===e)(n)}function Rle(n,e){const t=e.nodes[n];if(!t)throw fle("node",n);return t}function UI(n){return e=>{for(let t=e.depth;t>0;t--){const r=e.node(t);if(n(r))return{pos:t>0?e.before(t):0,start:e.start(t),depth:t,node:r}}}}function $le(n){return e=>UI(n)(e.$from)}function Ble(n,e){if(!(n instanceof Je))return;const{node:t,$from:r}=n;if(Nle(e,t))return{node:t,pos:r.pos,start:r.start(r.depth),depth:r.depth}}const GI=(n,e)=>{const{selection:t,doc:r}=n;if(t instanceof Je)return{hasNode:t.node.type===e,pos:t.from,target:t.node};const{from:i,to:s}=t;let o=!1,a=-1,l=null;return r.nodesBetween(i,s,(u,c)=>l?!1:u.type===e?(o=!0,a=c,l=u,!1):!0),{hasNode:o,pos:a,target:l}};class KI{constructor(){this.sliceMap=new Map,this.get=e=>{const t=typeof e=="string"?[...this.sliceMap.values()].find(r=>r.type.name===e):this.sliceMap.get(e.id);if(!t){const r=typeof e=="string"?e:e.name;throw lle(r)}return t},this.remove=e=>{const t=typeof e=="string"?[...this.sliceMap.values()].find(r=>r.type.name===e):this.sliceMap.get(e.id);!t||this.sliceMap.delete(t.type.id)},this.has=e=>typeof e=="string"?[...this.sliceMap.values()].some(t=>t.type.name===e):this.sliceMap.has(e.id)}}var _s,ra,fh;class Fle{constructor(e,t,r){Ee(this,_s,void 0);Ee(this,ra,void 0);Ee(this,fh,void 0);de(this,_s,[]),de(this,fh,()=>{Y(this,_s).forEach(i=>i(Y(this,ra)))}),this.set=i=>{de(this,ra,i),Y(this,fh).call(this)},this.get=()=>Y(this,ra),this.update=i=>{de(this,ra,i(Y(this,ra))),Y(this,fh).call(this)},this.type=r,de(this,ra,t),e.set(r.id,this)}on(e){return Y(this,_s).push(e),()=>{de(this,_s,Y(this,_s).filter(t=>t!==e))}}once(e){const t=this.on(r=>{e(r),t()});return t}off(e){de(this,_s,Y(this,_s).filter(t=>t!==e))}offAll(){de(this,_s,[])}}_s=new WeakMap,ra=new WeakMap,fh=new WeakMap;class zle{constructor(e,t){this.id=Symbol(`Context-${t}`),this.name=t,this._defaultValue=e,this._typeInfo=()=>{throw E4()}}create(e,t=this._defaultValue){return new Fle(e,t,this)}}const Ct=(n,e)=>new zle(n,e);var M1,A1,_1,Au,ph,sl,mh,gh,yh;class Hle{constructor(e,t,r){Ee(this,M1,void 0);Ee(this,A1,void 0);Ee(this,_1,void 0);Ee(this,Au,void 0);Ee(this,ph,void 0);Ee(this,sl,void 0);Ee(this,mh,void 0);Ee(this,gh,void 0);Ee(this,yh,void 0);de(this,Au,new Set),de(this,ph,new Set),de(this,sl,new Map),de(this,mh,new Map),this.read=()=>({metadata:Y(this,M1),injectedSlices:[...Y(this,Au)].map(i=>({name:typeof i=="string"?i:i.name,value:Y(this,gh).call(this,i)})),consumedSlices:[...Y(this,ph)].map(i=>({name:typeof i=="string"?i:i.name,value:Y(this,gh).call(this,i)})),recordedTimers:[...Y(this,sl)].map(([i,{duration:s}])=>({name:i.name,duration:s,status:Y(this,yh).call(this,i)})),waitTimers:[...Y(this,mh)].map(([i,{duration:s}])=>({name:i.name,duration:s,status:Y(this,yh).call(this,i)}))}),this.onRecord=i=>{Y(this,sl).set(i,{start:Date.now(),duration:0})},this.onClear=i=>{Y(this,sl).delete(i)},this.onDone=i=>{const s=Y(this,sl).get(i);!s||(s.duration=Date.now()-s.start)},this.onWait=(i,s)=>{const o=Date.now();s.finally(()=>{Y(this,mh).set(i,{duration:Date.now()-o})}).catch(console.error)},this.onInject=i=>{Y(this,Au).add(i)},this.onRemove=i=>{Y(this,Au).delete(i)},this.onUse=i=>{Y(this,ph).add(i)},de(this,gh,i=>Y(this,A1).get(i).get()),de(this,yh,i=>Y(this,_1).get(i).status),de(this,A1,e),de(this,_1,t),de(this,M1,r)}}M1=new WeakMap,A1=new WeakMap,_1=new WeakMap,Au=new WeakMap,ph=new WeakMap,sl=new WeakMap,mh=new WeakMap,gh=new WeakMap,yh=new WeakMap;var ia,sa,T1,ji;const pk=class{constructor(e,t,r){Ee(this,ia,void 0);Ee(this,sa,void 0);Ee(this,T1,void 0);Ee(this,ji,void 0);this.produce=i=>i&&Object.keys(i).length?new pk(Y(this,ia),Y(this,sa),{...i}):this,this.inject=(i,s)=>{var a;const o=i.create(Y(this,ia).sliceMap);return s!=null&&o.set(s),(a=Y(this,ji))==null||a.onInject(i),this},this.remove=i=>{var s;return Y(this,ia).remove(i),(s=Y(this,ji))==null||s.onRemove(i),this},this.record=i=>{var s;return i.create(Y(this,sa).store),(s=Y(this,ji))==null||s.onRecord(i),this},this.clearTimer=i=>{var s;return Y(this,sa).remove(i),(s=Y(this,ji))==null||s.onClear(i),this},this.isInjected=i=>Y(this,ia).has(i),this.isRecorded=i=>Y(this,sa).has(i),this.use=i=>{var s;return(s=Y(this,ji))==null||s.onUse(i),Y(this,ia).get(i)},this.get=i=>this.use(i).get(),this.set=(i,s)=>this.use(i).set(s),this.update=(i,s)=>this.use(i).update(s),this.timer=i=>Y(this,sa).get(i),this.done=i=>{var s;this.timer(i).done(),(s=Y(this,ji))==null||s.onDone(i)},this.wait=i=>{var o;const s=this.timer(i).start();return(o=Y(this,ji))==null||o.onWait(i,s),s},this.waitTimers=async i=>{await Promise.all(this.get(i).map(s=>this.wait(s)))},de(this,ia,e),de(this,sa,t),de(this,T1,r),r&&de(this,ji,new Hle(e,t,r))}get meta(){return Y(this,T1)}get inspector(){return Y(this,ji)}};let Zv=pk;ia=new WeakMap,sa=new WeakMap,T1=new WeakMap,ji=new WeakMap;class Vle{constructor(){this.store=new Map,this.get=e=>{const t=this.store.get(e.id);if(!t)throw ule(e.name);return t},this.remove=e=>{this.store.delete(e.id)},this.has=e=>this.store.has(e.id)}}var vh,ol,wh,oa,bh,E1;class qle{constructor(e,t){Ee(this,vh,void 0);Ee(this,ol,void 0);Ee(this,wh,void 0);Ee(this,oa,void 0);Ee(this,bh,void 0);Ee(this,E1,void 0);de(this,vh,null),de(this,ol,null),de(this,oa,"pending"),this.start=()=>{var r;return(r=Y(this,vh))!=null||de(this,vh,new Promise((i,s)=>{de(this,ol,o=>{o instanceof CustomEvent&&o.detail.id===Y(this,wh)&&(de(this,oa,"resolved"),Y(this,bh).call(this),o.stopImmediatePropagation(),i())}),Y(this,E1).call(this,()=>{Y(this,oa)==="pending"&&de(this,oa,"rejected"),Y(this,bh).call(this),s(new Error(`Timing ${this.type.name} timeout.`))}),de(this,oa,"pending"),addEventListener(this.type.name,Y(this,ol))})),Y(this,vh)},this.done=()=>{const r=new CustomEvent(this.type.name,{detail:{id:Y(this,wh)}});dispatchEvent(r)},de(this,bh,()=>{Y(this,ol)&&removeEventListener(this.type.name,Y(this,ol))}),de(this,E1,r=>{setTimeout(()=>{r()},this.type.timeout)}),de(this,wh,Symbol(t.name)),this.type=t,e.set(t.id,this)}get status(){return Y(this,oa)}}vh=new WeakMap,ol=new WeakMap,wh=new WeakMap,oa=new WeakMap,bh=new WeakMap,E1=new WeakMap;class Wle{constructor(e,t=3e3){this.create=r=>new qle(r,this),this.id=Symbol(`Timer-${e}`),this.name=e,this.timeout=t}}const Po=(n,e=3e3)=>new Wle(n,e),jle={};function Cw(n,e){const t=e||jle,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return YI(n,r,i)}function YI(n,e,t){if(Zle(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return _S(n.children,e,t)}return Array.isArray(n)?_S(n,e,t):""}function _S(n,e,t){const r=[];let i=-1;for(;++i<n.length;)r[i]=YI(n[i],e,t);return r.join("")}function Zle(n){return Boolean(n&&typeof n=="object")}const TS=document.createElement("i");function Mw(n){const e="&"+n+";";TS.innerHTML=e;const t=TS.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function Ni(n,e,t,r){const i=n.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),n.splice(...o);else for(t&&n.splice(e,t);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),n.splice(...o),s+=1e4,e+=1e4}function Yi(n,e){return n.length>0?(Ni(n,n.length,0,e),n):e}const ES={}.hasOwnProperty;function JI(n){const e={};let t=-1;for(;++t<n.length;)Ule(e,n[t]);return e}function Ule(n,e){let t;for(t in e){const i=(ES.call(n,t)?n[t]:void 0)||(n[t]={}),s=e[t];let o;if(s)for(o in s){ES.call(i,o)||(i[o]=[]);const a=s[o];Gle(i[o],Array.isArray(a)?a:a?[a]:[])}}}function Gle(n,e){let t=-1;const r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);Ni(n,0,0,r)}function XI(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"\uFFFD":String.fromCodePoint(t)}function Ps(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Lr=Pl(/[A-Za-z]/),ri=Pl(/[\dA-Za-z]/),Kle=Pl(/[#-'*+\--9=?A-Z^-~]/);function S2(n){return n!==null&&(n<32||n===127)}const Uv=Pl(/\d/),Yle=Pl(/[\dA-Fa-f]/),Jle=Pl(/[!-/:-@[-`{-~]/);function Ge(n){return n!==null&&n<-2}function rn(n){return n!==null&&(n<0||n===32)}function At(n){return n===-2||n===-1||n===32}const D4=Pl(/\p{P}|\p{S}/u),cc=Pl(/\s/);function Pl(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function xt(n,e,t,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return At(l)?(n.enter(t),a(l)):e(l)}function a(l){return At(l)&&s++<i?(n.consume(l),a):(n.exit(t),e(l))}}const Xle={tokenize:Qle};function Qle(n){const e=n.attempt(this.parser.constructs.contentInitial,r,i);let t;return e;function r(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),xt(n,e,"linePrefix")}function i(a){return n.enter("paragraph"),s(a)}function s(a){const l=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=l),t=l,o(a)}function o(a){if(a===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(a);return}return Ge(a)?(n.consume(a),n.exit("chunkText"),s):(n.consume(a),o)}}const eue={tokenize:tue},OS={tokenize:nue};function tue(n){const e=this,t=[];let r=0,i,s,o;return a;function a(k){if(r<t.length){const _=t[r];return e.containerState=_[1],n.attempt(_[0].continuation,l,u)(k)}return u(k)}function l(k){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&b();const _=e.events.length;let C=_,M;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){M=e.events[C][1].end;break}v(r);let O=_;for(;O<e.events.length;)e.events[O][1].end={...M},O++;return Ni(e.events,C+1,0,e.events.slice(_)),e.events.length=O,u(k)}return a(k)}function u(k){if(r===t.length){if(!i)return d(k);if(i.currentConstruct&&i.currentConstruct.concrete)return p(k);e.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(OS,c,h)(k)}function c(k){return i&&b(),v(r),d(k)}function h(k){return e.parser.lazy[e.now().line]=r!==t.length,o=e.now().offset,p(k)}function d(k){return e.containerState={},n.attempt(OS,f,p)(k)}function f(k){return r++,t.push([e.currentConstruct,e.containerState]),d(k)}function p(k){if(k===null){i&&b(),v(0),n.consume(k);return}return i=i||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),m(k)}function m(k){if(k===null){y(n.exit("chunkFlow"),!0),v(0),n.consume(k);return}return Ge(k)?(n.consume(k),y(n.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(n.consume(k),m)}function y(k,_){const C=e.sliceStream(k);if(_&&C.push(null),k.previous=s,s&&(s.next=k),s=k,i.defineSkip(k.start),i.write(C),e.parser.lazy[k.start.line]){let M=i.events.length;for(;M--;)if(i.events[M][1].start.offset<o&&(!i.events[M][1].end||i.events[M][1].end.offset>o))return;const O=e.events.length;let D=O,$,R;for(;D--;)if(e.events[D][0]==="exit"&&e.events[D][1].type==="chunkFlow"){if($){R=e.events[D][1].end;break}$=!0}for(v(r),M=O;M<e.events.length;)e.events[M][1].end={...R},M++;Ni(e.events,D+1,0,e.events.slice(O)),e.events.length=M}}function v(k){let _=t.length;for(;_-- >k;){const C=t[_];e.containerState=C[1],C[0].exit.call(e,n)}t.length=k}function b(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function nue(n,e,t){return xt(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function s0(n){if(n===null||rn(n)||cc(n))return 1;if(D4(n))return 2}function N4(n,e,t){const r=[];let i=-1;for(;++i<n.length;){const s=n[i].resolveAll;s&&!r.includes(s)&&(e=s(e,t),r.push(s))}return e}const Gv={name:"attention",resolveAll:rue,tokenize:iue};function rue(n,e){let t=-1,r,i,s,o,a,l,u,c;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;l=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const h={...n[r][1].end},d={...n[t][1].start};IS(h,-l),IS(d,l),o={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...n[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:d},s={type:l>1?"strongText":"emphasisText",start:{...n[r][1].end},end:{...n[t][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},n[r][1].end={...o.start},n[t][1].start={...a.end},u=[],n[r][1].end.offset-n[r][1].start.offset&&(u=Yi(u,[["enter",n[r][1],e],["exit",n[r][1],e]])),u=Yi(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),u=Yi(u,N4(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),u=Yi(u,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),n[t][1].end.offset-n[t][1].start.offset?(c=2,u=Yi(u,[["enter",n[t][1],e],["exit",n[t][1],e]])):c=0,Ni(n,r-1,t-r+3,u),t=r+u.length-c-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function iue(n,e){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=s0(r);let s;return o;function o(l){return s=l,n.enter("attentionSequence"),a(l)}function a(l){if(l===s)return n.consume(l),a;const u=n.exit("attentionSequence"),c=s0(l),h=!c||c===2&&i||t.includes(l),d=!i||i===2&&c||t.includes(r);return u._open=Boolean(s===42?h:h&&(i||!d)),u._close=Boolean(s===42?d:d&&(c||!h)),e(l)}}function IS(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const sue={name:"autolink",tokenize:oue};function oue(n,e,t){let r=0;return i;function i(f){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(f),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(f){return Lr(f)?(n.consume(f),o):f===64?t(f):u(f)}function o(f){return f===43||f===45||f===46||ri(f)?(r=1,a(f)):u(f)}function a(f){return f===58?(n.consume(f),r=0,l):(f===43||f===45||f===46||ri(f))&&r++<32?(n.consume(f),a):(r=0,u(f))}function l(f){return f===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(f),n.exit("autolinkMarker"),n.exit("autolink"),e):f===null||f===32||f===60||S2(f)?t(f):(n.consume(f),l)}function u(f){return f===64?(n.consume(f),c):Kle(f)?(n.consume(f),u):t(f)}function c(f){return ri(f)?h(f):t(f)}function h(f){return f===46?(n.consume(f),r=0,c):f===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(f),n.exit("autolinkMarker"),n.exit("autolink"),e):d(f)}function d(f){if((f===45||ri(f))&&r++<63){const p=f===45?d:h;return n.consume(f),p}return t(f)}}const cp={partial:!0,tokenize:aue};function aue(n,e,t){return r;function r(s){return At(s)?xt(n,i,"linePrefix")(s):i(s)}function i(s){return s===null||Ge(s)?e(s):t(s)}}const QI={continuation:{tokenize:uue},exit:cue,name:"blockQuote",tokenize:lue};function lue(n,e,t){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(n.enter("blockQuote",{_container:!0}),a.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),s}return t(o)}function s(o){return At(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(o))}}function uue(n,e,t){const r=this;return i;function i(o){return At(o)?xt(n,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return n.attempt(QI,e,t)(o)}}function cue(n){n.exit("blockQuote")}const eD={name:"characterEscape",tokenize:hue};function hue(n,e,t){return r;function r(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),i}function i(s){return Jle(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(s)}}const tD={name:"characterReference",tokenize:due};function due(n,e,t){const r=this;let i=0,s,o;return a;function a(h){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(h),n.exit("characterReferenceMarker"),l}function l(h){return h===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(h),n.exit("characterReferenceMarkerNumeric"),u):(n.enter("characterReferenceValue"),s=31,o=ri,c(h))}function u(h){return h===88||h===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(h),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,o=Yle,c):(n.enter("characterReferenceValue"),s=7,o=Uv,c(h))}function c(h){if(h===59&&i){const d=n.exit("characterReferenceValue");return o===ri&&!Mw(r.sliceSerialize(d))?t(h):(n.enter("characterReferenceMarker"),n.consume(h),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return o(h)&&i++<s?(n.consume(h),c):t(h)}}const DS={partial:!0,tokenize:pue},NS={concrete:!0,name:"codeFenced",tokenize:fue};function fue(n,e,t){const r=this,i={partial:!0,tokenize:C};let s=0,o=0,a;return l;function l(M){return u(M)}function u(M){const O=r.events[r.events.length-1];return s=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0,a=M,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),c(M)}function c(M){return M===a?(o++,n.consume(M),c):o<3?t(M):(n.exit("codeFencedFenceSequence"),At(M)?xt(n,h,"whitespace")(M):h(M))}function h(M){return M===null||Ge(M)?(n.exit("codeFencedFence"),r.interrupt?e(M):n.check(DS,m,_)(M)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),d(M))}function d(M){return M===null||Ge(M)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),h(M)):At(M)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),xt(n,f,"whitespace")(M)):M===96&&M===a?t(M):(n.consume(M),d)}function f(M){return M===null||Ge(M)?h(M):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),p(M))}function p(M){return M===null||Ge(M)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),h(M)):M===96&&M===a?t(M):(n.consume(M),p)}function m(M){return n.attempt(i,_,y)(M)}function y(M){return n.enter("lineEnding"),n.consume(M),n.exit("lineEnding"),v}function v(M){return s>0&&At(M)?xt(n,b,"linePrefix",s+1)(M):b(M)}function b(M){return M===null||Ge(M)?n.check(DS,m,_)(M):(n.enter("codeFlowValue"),k(M))}function k(M){return M===null||Ge(M)?(n.exit("codeFlowValue"),b(M)):(n.consume(M),k)}function _(M){return n.exit("codeFenced"),e(M)}function C(M,O,D){let $=0;return R;function R(re){return M.enter("lineEnding"),M.consume(re),M.exit("lineEnding"),G}function G(re){return M.enter("codeFencedFence"),At(re)?xt(M,N,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(re):N(re)}function N(re){return re===a?(M.enter("codeFencedFenceSequence"),j(re)):D(re)}function j(re){return re===a?($++,M.consume(re),j):$>=o?(M.exit("codeFencedFenceSequence"),At(re)?xt(M,Z,"whitespace")(re):Z(re)):D(re)}function Z(re){return re===null||Ge(re)?(M.exit("codeFencedFence"),O(re)):D(re)}}}function pue(n,e,t){const r=this;return i;function i(o){return o===null?t(o):(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?t(o):e(o)}}const x8={name:"codeIndented",tokenize:gue},mue={partial:!0,tokenize:yue};function gue(n,e,t){const r=this;return i;function i(u){return n.enter("codeIndented"),xt(n,s,"linePrefix",4+1)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):t(u)}function o(u){return u===null?l(u):Ge(u)?n.attempt(mue,o,l)(u):(n.enter("codeFlowValue"),a(u))}function a(u){return u===null||Ge(u)?(n.exit("codeFlowValue"),o(u)):(n.consume(u),a)}function l(u){return n.exit("codeIndented"),e(u)}}function yue(n,e,t){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?t(o):Ge(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),i):xt(n,s,"linePrefix",4+1)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):Ge(o)?i(o):t(o)}}const vue={name:"codeText",previous:bue,resolve:wue,tokenize:kue};function wue(n){let e=n.length-4,t=3,r,i;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)i===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(i=r):(r===e||n[r][1].type==="lineEnding")&&(n[i][1].type="codeTextData",r!==i+2&&(n[i][1].end=n[r-1][1].end,n.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return n}function bue(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function kue(n,e,t){let r=0,i,s;return o;function o(h){return n.enter("codeText"),n.enter("codeTextSequence"),a(h)}function a(h){return h===96?(n.consume(h),r++,a):(n.exit("codeTextSequence"),l(h))}function l(h){return h===null?t(h):h===32?(n.enter("space"),n.consume(h),n.exit("space"),l):h===96?(s=n.enter("codeTextSequence"),i=0,c(h)):Ge(h)?(n.enter("lineEnding"),n.consume(h),n.exit("lineEnding"),l):(n.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||Ge(h)?(n.exit("codeTextData"),l(h)):(n.consume(h),u)}function c(h){return h===96?(n.consume(h),i++,c):i===r?(n.exit("codeTextSequence"),n.exit("codeText"),e(h)):(s.type="codeTextData",u(h))}}class xue{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const r=t==null?Number.POSITIVE_INFINITY:t;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,t,r){const i=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&dd(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),dd(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),dd(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);dd(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);dd(this.left,t.reverse())}}}function dd(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function nD(n){const e={};let t=-1,r,i,s,o,a,l,u;const c=new xue(n);for(;++t<c.length;){for(;t in e;)t=e[t];if(r=c.get(t),t&&r[1].type==="chunkFlow"&&c.get(t-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Sue(c,t)),t=e[t],u=!0);else if(r[1]._container){for(s=t,i=void 0;s--;)if(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,t),a.unshift(r),c.splice(i,t-i+1,a))}}return Ni(n,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function Sue(n,e){const t=n.get(e)[1],r=n.get(e)[2];let i=e-1;const s=[];let o=t._tokenizer;o||(o=r.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],u={};let c,h,d=-1,f=t,p=0,m=0;const y=[m];for(;f;){for(;n.get(++i)[1]!==f;);s.push(i),f._tokenizer||(c=r.sliceStream(f),f.next||c.push(null),h&&o.defineSkip(f.start),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=f,f=f.next}for(f=t;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(m=d+1,y.push(m),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(o.events=[],f?(f._tokenizer=void 0,f.previous=void 0):y.pop(),d=y.length;d--;){const v=a.slice(y[d],y[d+1]),b=s.pop();l.push([b,b+v.length-1]),n.splice(b,2,v)}for(l.reverse(),d=-1;++d<l.length;)u[p+l[d][0]]=p+l[d][1],p+=l[d][1]-l[d][0]-1;return u}const Cue={resolve:Aue,tokenize:_ue},Mue={partial:!0,tokenize:Tue};function Aue(n){return nD(n),n}function _ue(n,e){let t;return r;function r(a){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Ge(a)?n.check(Mue,o,s)(a):(n.consume(a),i)}function s(a){return n.exit("chunkContent"),n.exit("content"),e(a)}function o(a){return n.consume(a),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function Tue(n,e,t){const r=this;return i;function i(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),xt(n,s,"linePrefix")}function s(o){if(o===null||Ge(o))return t(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):n.interrupt(r.parser.constructs.flow,t,e)(o)}}function rD(n,e,t,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return h;function h(v){return v===60?(n.enter(r),n.enter(i),n.enter(s),n.consume(v),n.exit(s),d):v===null||v===32||v===41||S2(v)?t(v):(n.enter(r),n.enter(o),n.enter(a),n.enter("chunkString",{contentType:"string"}),m(v))}function d(v){return v===62?(n.enter(s),n.consume(v),n.exit(s),n.exit(i),n.exit(r),e):(n.enter(a),n.enter("chunkString",{contentType:"string"}),f(v))}function f(v){return v===62?(n.exit("chunkString"),n.exit(a),d(v)):v===null||v===60||Ge(v)?t(v):(n.consume(v),v===92?p:f)}function p(v){return v===60||v===62||v===92?(n.consume(v),f):f(v)}function m(v){return!c&&(v===null||v===41||rn(v))?(n.exit("chunkString"),n.exit(a),n.exit(o),n.exit(r),e(v)):c<u&&v===40?(n.consume(v),c++,m):v===41?(n.consume(v),c--,m):v===null||v===32||v===40||S2(v)?t(v):(n.consume(v),v===92?y:m)}function y(v){return v===40||v===41||v===92?(n.consume(v),m):m(v)}}function iD(n,e,t,r,i,s){const o=this;let a=0,l;return u;function u(f){return n.enter(r),n.enter(i),n.consume(f),n.exit(i),n.enter(s),c}function c(f){return a>999||f===null||f===91||f===93&&!l||f===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?t(f):f===93?(n.exit(s),n.enter(i),n.consume(f),n.exit(i),n.exit(r),e):Ge(f)?(n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),c):(n.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===null||f===91||f===93||Ge(f)||a++>999?(n.exit("chunkString"),c(f)):(n.consume(f),l||(l=!At(f)),f===92?d:h)}function d(f){return f===91||f===92||f===93?(n.consume(f),a++,h):h(f)}}function sD(n,e,t,r,i,s){let o;return a;function a(d){return d===34||d===39||d===40?(n.enter(r),n.enter(i),n.consume(d),n.exit(i),o=d===40?41:d,l):t(d)}function l(d){return d===o?(n.enter(i),n.consume(d),n.exit(i),n.exit(r),e):(n.enter(s),u(d))}function u(d){return d===o?(n.exit(s),l(o)):d===null?t(d):Ge(d)?(n.enter("lineEnding"),n.consume(d),n.exit("lineEnding"),xt(n,u,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===o||d===null||Ge(d)?(n.exit("chunkString"),u(d)):(n.consume(d),d===92?h:c)}function h(d){return d===o||d===92?(n.consume(d),c):c(d)}}function wf(n,e){let t;return r;function r(i){return Ge(i)?(n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),t=!0,r):At(i)?xt(n,r,t?"linePrefix":"lineSuffix")(i):e(i)}}const Eue={name:"definition",tokenize:Iue},Oue={partial:!0,tokenize:Due};function Iue(n,e,t){const r=this;let i;return s;function s(f){return n.enter("definition"),o(f)}function o(f){return iD.call(r,n,a,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function a(f){return i=Ps(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(n.enter("definitionMarker"),n.consume(f),n.exit("definitionMarker"),l):t(f)}function l(f){return rn(f)?wf(n,u)(f):u(f)}function u(f){return rD(n,c,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function c(f){return n.attempt(Oue,h,h)(f)}function h(f){return At(f)?xt(n,d,"whitespace")(f):d(f)}function d(f){return f===null||Ge(f)?(n.exit("definition"),r.parser.defined.push(i),e(f)):t(f)}}function Due(n,e,t){return r;function r(a){return rn(a)?wf(n,i)(a):t(a)}function i(a){return sD(n,s,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return At(a)?xt(n,o,"whitespace")(a):o(a)}function o(a){return a===null||Ge(a)?e(a):t(a)}}const Nue={name:"hardBreakEscape",tokenize:Lue};function Lue(n,e,t){return r;function r(s){return n.enter("hardBreakEscape"),n.consume(s),i}function i(s){return Ge(s)?(n.exit("hardBreakEscape"),e(s)):t(s)}}const Pue={name:"headingAtx",resolve:Rue,tokenize:$ue};function Rue(n,e){let t=n.length-2,r=3,i,s;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},s={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},Ni(n,r,t-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),n}function $ue(n,e,t){let r=0;return i;function i(c){return n.enter("atxHeading"),s(c)}function s(c){return n.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(n.consume(c),o):c===null||rn(c)?(n.exit("atxHeadingSequence"),a(c)):t(c)}function a(c){return c===35?(n.enter("atxHeadingSequence"),l(c)):c===null||Ge(c)?(n.exit("atxHeading"),e(c)):At(c)?xt(n,a,"whitespace")(c):(n.enter("atxHeadingText"),u(c))}function l(c){return c===35?(n.consume(c),l):(n.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||rn(c)?(n.exit("atxHeadingText"),a(c)):(n.consume(c),u)}}const Bue=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],LS=["pre","script","style","textarea"],Fue={concrete:!0,name:"htmlFlow",resolveTo:Vue,tokenize:que},zue={partial:!0,tokenize:jue},Hue={partial:!0,tokenize:Wue};function Vue(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function que(n,e,t){const r=this;let i,s,o,a,l;return u;function u(L){return c(L)}function c(L){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(L),h}function h(L){return L===33?(n.consume(L),d):L===47?(n.consume(L),s=!0,m):L===63?(n.consume(L),i=3,r.interrupt?e:B):Lr(L)?(n.consume(L),o=String.fromCharCode(L),y):t(L)}function d(L){return L===45?(n.consume(L),i=2,f):L===91?(n.consume(L),i=5,a=0,p):Lr(L)?(n.consume(L),i=4,r.interrupt?e:B):t(L)}function f(L){return L===45?(n.consume(L),r.interrupt?e:B):t(L)}function p(L){const we="CDATA[";return L===we.charCodeAt(a++)?(n.consume(L),a===we.length?r.interrupt?e:N:p):t(L)}function m(L){return Lr(L)?(n.consume(L),o=String.fromCharCode(L),y):t(L)}function y(L){if(L===null||L===47||L===62||rn(L)){const we=L===47,ge=o.toLowerCase();return!we&&!s&&LS.includes(ge)?(i=1,r.interrupt?e(L):N(L)):Bue.includes(o.toLowerCase())?(i=6,we?(n.consume(L),v):r.interrupt?e(L):N(L)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(L):s?b(L):k(L))}return L===45||ri(L)?(n.consume(L),o+=String.fromCharCode(L),y):t(L)}function v(L){return L===62?(n.consume(L),r.interrupt?e:N):t(L)}function b(L){return At(L)?(n.consume(L),b):R(L)}function k(L){return L===47?(n.consume(L),R):L===58||L===95||Lr(L)?(n.consume(L),_):At(L)?(n.consume(L),k):R(L)}function _(L){return L===45||L===46||L===58||L===95||ri(L)?(n.consume(L),_):C(L)}function C(L){return L===61?(n.consume(L),M):At(L)?(n.consume(L),C):k(L)}function M(L){return L===null||L===60||L===61||L===62||L===96?t(L):L===34||L===39?(n.consume(L),l=L,O):At(L)?(n.consume(L),M):D(L)}function O(L){return L===l?(n.consume(L),l=null,$):L===null||Ge(L)?t(L):(n.consume(L),O)}function D(L){return L===null||L===34||L===39||L===47||L===60||L===61||L===62||L===96||rn(L)?C(L):(n.consume(L),D)}function $(L){return L===47||L===62||At(L)?k(L):t(L)}function R(L){return L===62?(n.consume(L),G):t(L)}function G(L){return L===null||Ge(L)?N(L):At(L)?(n.consume(L),G):t(L)}function N(L){return L===45&&i===2?(n.consume(L),J):L===60&&i===1?(n.consume(L),K):L===62&&i===4?(n.consume(L),Ce):L===63&&i===3?(n.consume(L),B):L===93&&i===5?(n.consume(L),pe):Ge(L)&&(i===6||i===7)?(n.exit("htmlFlowData"),n.check(zue,ae,j)(L)):L===null||Ge(L)?(n.exit("htmlFlowData"),j(L)):(n.consume(L),N)}function j(L){return n.check(Hue,Z,ae)(L)}function Z(L){return n.enter("lineEnding"),n.consume(L),n.exit("lineEnding"),re}function re(L){return L===null||Ge(L)?j(L):(n.enter("htmlFlowData"),N(L))}function J(L){return L===45?(n.consume(L),B):N(L)}function K(L){return L===47?(n.consume(L),o="",ne):N(L)}function ne(L){if(L===62){const we=o.toLowerCase();return LS.includes(we)?(n.consume(L),Ce):N(L)}return Lr(L)&&o.length<8?(n.consume(L),o+=String.fromCharCode(L),ne):N(L)}function pe(L){return L===93?(n.consume(L),B):N(L)}function B(L){return L===62?(n.consume(L),Ce):L===45&&i===2?(n.consume(L),B):N(L)}function Ce(L){return L===null||Ge(L)?(n.exit("htmlFlowData"),ae(L)):(n.consume(L),Ce)}function ae(L){return n.exit("htmlFlow"),e(L)}}function Wue(n,e,t){const r=this;return i;function i(o){return Ge(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s):t(o)}function s(o){return r.parser.lazy[r.now().line]?t(o):e(o)}}function jue(n,e,t){return r;function r(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),n.attempt(cp,e,t)}}const Zue={name:"htmlText",tokenize:Uue};function Uue(n,e,t){const r=this;let i,s,o;return a;function a(B){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(B),l}function l(B){return B===33?(n.consume(B),u):B===47?(n.consume(B),C):B===63?(n.consume(B),k):Lr(B)?(n.consume(B),D):t(B)}function u(B){return B===45?(n.consume(B),c):B===91?(n.consume(B),s=0,p):Lr(B)?(n.consume(B),b):t(B)}function c(B){return B===45?(n.consume(B),f):t(B)}function h(B){return B===null?t(B):B===45?(n.consume(B),d):Ge(B)?(o=h,K(B)):(n.consume(B),h)}function d(B){return B===45?(n.consume(B),f):h(B)}function f(B){return B===62?J(B):B===45?d(B):h(B)}function p(B){const Ce="CDATA[";return B===Ce.charCodeAt(s++)?(n.consume(B),s===Ce.length?m:p):t(B)}function m(B){return B===null?t(B):B===93?(n.consume(B),y):Ge(B)?(o=m,K(B)):(n.consume(B),m)}function y(B){return B===93?(n.consume(B),v):m(B)}function v(B){return B===62?J(B):B===93?(n.consume(B),v):m(B)}function b(B){return B===null||B===62?J(B):Ge(B)?(o=b,K(B)):(n.consume(B),b)}function k(B){return B===null?t(B):B===63?(n.consume(B),_):Ge(B)?(o=k,K(B)):(n.consume(B),k)}function _(B){return B===62?J(B):k(B)}function C(B){return Lr(B)?(n.consume(B),M):t(B)}function M(B){return B===45||ri(B)?(n.consume(B),M):O(B)}function O(B){return Ge(B)?(o=O,K(B)):At(B)?(n.consume(B),O):J(B)}function D(B){return B===45||ri(B)?(n.consume(B),D):B===47||B===62||rn(B)?$(B):t(B)}function $(B){return B===47?(n.consume(B),J):B===58||B===95||Lr(B)?(n.consume(B),R):Ge(B)?(o=$,K(B)):At(B)?(n.consume(B),$):J(B)}function R(B){return B===45||B===46||B===58||B===95||ri(B)?(n.consume(B),R):G(B)}function G(B){return B===61?(n.consume(B),N):Ge(B)?(o=G,K(B)):At(B)?(n.consume(B),G):$(B)}function N(B){return B===null||B===60||B===61||B===62||B===96?t(B):B===34||B===39?(n.consume(B),i=B,j):Ge(B)?(o=N,K(B)):At(B)?(n.consume(B),N):(n.consume(B),Z)}function j(B){return B===i?(n.consume(B),i=void 0,re):B===null?t(B):Ge(B)?(o=j,K(B)):(n.consume(B),j)}function Z(B){return B===null||B===34||B===39||B===60||B===61||B===96?t(B):B===47||B===62||rn(B)?$(B):(n.consume(B),Z)}function re(B){return B===47||B===62||rn(B)?$(B):t(B)}function J(B){return B===62?(n.consume(B),n.exit("htmlTextData"),n.exit("htmlText"),e):t(B)}function K(B){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(B),n.exit("lineEnding"),ne}function ne(B){return At(B)?xt(n,pe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):pe(B)}function pe(B){return n.enter("htmlTextData"),o(B)}}const Aw={name:"labelEnd",resolveAll:Jue,resolveTo:Xue,tokenize:Que},Gue={tokenize:ece},Kue={tokenize:tce},Yue={tokenize:nce};function Jue(n){let e=-1;const t=[];for(;++e<n.length;){const r=n[e][1];if(t.push(n[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return n.length!==t.length&&Ni(n,0,n.length,t),n}function Xue(n,e){let t=n.length,r=0,i,s,o,a;for(;t--;)if(i=n[t][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;n[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(n[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=t);const l={type:n[s][1].type==="labelLink"?"link":"image",start:{...n[s][1].start},end:{...n[n.length-1][1].end}},u={type:"label",start:{...n[s][1].start},end:{...n[o][1].end}},c={type:"labelText",start:{...n[s+r+2][1].end},end:{...n[o-2][1].start}};return a=[["enter",l,e],["enter",u,e]],a=Yi(a,n.slice(s+1,s+r+3)),a=Yi(a,[["enter",c,e]]),a=Yi(a,N4(e.parser.constructs.insideSpan.null,n.slice(s+r+4,o-3),e)),a=Yi(a,[["exit",c,e],n[o-2],n[o-1],["exit",u,e]]),a=Yi(a,n.slice(o+1)),a=Yi(a,[["exit",l,e]]),Ni(n,s,n.length,a),n}function Que(n,e,t){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(d){return s?s._inactive?h(d):(o=r.parser.defined.includes(Ps(r.sliceSerialize({start:s.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(d),n.exit("labelMarker"),n.exit("labelEnd"),l):t(d)}function l(d){return d===40?n.attempt(Gue,c,o?c:h)(d):d===91?n.attempt(Kue,c,o?u:h)(d):o?c(d):h(d)}function u(d){return n.attempt(Yue,c,h)(d)}function c(d){return e(d)}function h(d){return s._balanced=!0,t(d)}}function ece(n,e,t){return r;function r(h){return n.enter("resource"),n.enter("resourceMarker"),n.consume(h),n.exit("resourceMarker"),i}function i(h){return rn(h)?wf(n,s)(h):s(h)}function s(h){return h===41?c(h):rD(n,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return rn(h)?wf(n,l)(h):c(h)}function a(h){return t(h)}function l(h){return h===34||h===39||h===40?sD(n,u,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):c(h)}function u(h){return rn(h)?wf(n,c)(h):c(h)}function c(h){return h===41?(n.enter("resourceMarker"),n.consume(h),n.exit("resourceMarker"),n.exit("resource"),e):t(h)}}function tce(n,e,t){const r=this;return i;function i(a){return iD.call(r,n,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Ps(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):t(a)}function o(a){return t(a)}}function nce(n,e,t){return r;function r(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),i}function i(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),e):t(s)}}const rce={name:"labelStartImage",resolveAll:Aw.resolveAll,tokenize:ice};function ice(n,e,t){const r=this;return i;function i(a){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(a),n.exit("labelImageMarker"),s}function s(a){return a===91?(n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelImage"),o):t(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(a):e(a)}}const sce={name:"labelStartLink",resolveAll:Aw.resolveAll,tokenize:oce};function oce(n,e,t){const r=this;return i;function i(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(o):e(o)}}const S8={name:"lineEnding",tokenize:ace};function ace(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),xt(n,e,"linePrefix")}}const ug={name:"thematicBreak",tokenize:lce};function lce(n,e,t){let r=0,i;return s;function s(u){return n.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(n.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Ge(u))?(n.exit("thematicBreak"),e(u)):t(u)}function l(u){return u===i?(n.consume(u),r++,l):(n.exit("thematicBreakSequence"),At(u)?xt(n,a,"whitespace")(u):a(u))}}const Ur={continuation:{tokenize:dce},exit:pce,name:"list",tokenize:hce},uce={partial:!0,tokenize:mce},cce={partial:!0,tokenize:fce};function hce(n,e,t){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(f){const p=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:Uv(f)){if(r.containerState.type||(r.containerState.type=p,n.enter(p,{_container:!0})),p==="listUnordered")return n.enter("listItemPrefix"),f===42||f===45?n.check(ug,t,u)(f):u(f);if(!r.interrupt||f===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),l(f)}return t(f)}function l(f){return Uv(f)&&++o<10?(n.consume(f),l):(!r.interrupt||o<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(n.exit("listItemValue"),u(f)):t(f)}function u(f){return n.enter("listItemMarker"),n.consume(f),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,n.check(cp,r.interrupt?t:c,n.attempt(uce,d,h))}function c(f){return r.containerState.initialBlankLine=!0,s++,d(f)}function h(f){return At(f)?(n.enter("listItemPrefixWhitespace"),n.consume(f),n.exit("listItemPrefixWhitespace"),d):t(f)}function d(f){return r.containerState.size=s+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(f)}}function dce(n,e,t){const r=this;return r.containerState._closeFlow=void 0,n.check(cp,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,xt(n,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!At(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(cce,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,xt(n,n.attempt(Ur,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function fce(n,e,t){const r=this;return xt(n,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):t(s)}}function pce(n){n.exit(this.containerState.type)}function mce(n,e,t){const r=this;return xt(n,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(s){const o=r.events[r.events.length-1];return!At(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}const PS={name:"setextUnderline",resolveTo:gce,tokenize:yce};function gce(n,e){let t=n.length,r,i,s;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(i=t)}else n[t][1].type==="content"&&n.splice(t,1),!s&&n[t][1].type==="definition"&&(s=t);const o={type:"setextHeading",start:{...n[r][1].start},end:{...n[n.length-1][1].end}};return n[i][1].type="setextHeadingText",s?(n.splice(i,0,["enter",o,e]),n.splice(s+1,0,["exit",n[r][1],e]),n[r][1].end={...n[s][1].end}):n[r][1]=o,n.push(["exit",o,e]),n}function yce(n,e,t){const r=this;let i;return s;function s(u){let c=r.events.length,h;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){h=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(n.enter("setextHeadingLine"),i=u,o(u)):t(u)}function o(u){return n.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(n.consume(u),a):(n.exit("setextHeadingLineSequence"),At(u)?xt(n,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Ge(u)?(n.exit("setextHeadingLine"),e(u)):t(u)}}const vce={tokenize:wce};function wce(n){const e=this,t=n.attempt(cp,r,n.attempt(this.parser.constructs.flowInitial,i,xt(n,n.attempt(this.parser.constructs.flow,i,n.attempt(Cue,i)),"linePrefix")));return t;function r(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function i(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const bce={resolveAll:aD()},kce=oD("string"),xce=oD("text");function oD(n){return{resolveAll:aD(n==="text"?Sce:void 0),tokenize:e};function e(t){const r=this,i=this.parser.constructs[n],s=t.attempt(i,o,a);return o;function o(c){return u(c)?s(c):a(c)}function a(c){if(c===null){t.consume(c);return}return t.enter("data"),t.consume(c),l}function l(c){return u(c)?(t.exit("data"),s(c)):(t.consume(c),l)}function u(c){if(c===null)return!0;const h=i[c];let d=-1;if(h)for(;++d<h.length;){const f=h[d];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function aD(n){return e;function e(t,r){let i=-1,s;for(;++i<=t.length;)s===void 0?t[i]&&t[i][1].type==="data"&&(s=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),i=s+2),s=void 0);return n?n(t,r):t}}function Sce(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const r=n[t-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(a=0),a){const u={type:t===n.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(n.splice(t,0,["enter",u,e],["exit",u,e]),t+=2)}t++}return n}const Cce={[42]:Ur,[43]:Ur,[45]:Ur,[48]:Ur,[49]:Ur,[50]:Ur,[51]:Ur,[52]:Ur,[53]:Ur,[54]:Ur,[55]:Ur,[56]:Ur,[57]:Ur,[62]:QI},Mce={[91]:Eue},Ace={[-2]:x8,[-1]:x8,[32]:x8},_ce={[35]:Pue,[42]:ug,[45]:[PS,ug],[60]:Fue,[61]:PS,[95]:ug,[96]:NS,[126]:NS},Tce={[38]:tD,[92]:eD},Ece={[-5]:S8,[-4]:S8,[-3]:S8,[33]:rce,[38]:tD,[42]:Gv,[60]:[sue,Zue],[91]:sce,[92]:[Nue,eD],[93]:Aw,[95]:Gv,[96]:vue},Oce={null:[Gv,bce]},Ice={null:[42,95]},Dce={null:[]},Nce=Object.freeze(Object.defineProperty({__proto__:null,document:Cce,contentInitial:Mce,flowInitial:Ace,flow:_ce,string:Tce,text:Ece,insideSpan:Oce,attentionMarkers:Ice,disable:Dce},Symbol.toStringTag,{value:"Module"}));function Lce(n,e,t){let r={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:O(C),check:O(M),consume:b,enter:k,exit:_,interrupt:O(M,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:p,parser:n,previous:null,sliceSerialize:d,sliceStream:f,write:h};let c=e.tokenize.call(u,l);return e.resolveAll&&s.push(e),u;function h(G){return o=Yi(o,G),y(),o[o.length-1]!==null?[]:(D(e,0),u.events=N4(s,u.events,u),u.events)}function d(G,N){return Rce(f(G),N)}function f(G){return Pce(o,G)}function p(){const{_bufferIndex:G,_index:N,line:j,column:Z,offset:re}=r;return{_bufferIndex:G,_index:N,line:j,column:Z,offset:re}}function m(G){i[G.line]=G.column,R()}function y(){let G;for(;r._index<o.length;){const N=o[r._index];if(typeof N=="string")for(G=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===G&&r._bufferIndex<N.length;)v(N.charCodeAt(r._bufferIndex));else v(N)}}function v(G){c=c(G)}function b(G){Ge(G)?(r.line++,r.column=1,r.offset+=G===-3?2:1,R()):G!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=G}function k(G,N){const j=N||{};return j.type=G,j.start=p(),u.events.push(["enter",j,u]),a.push(j),j}function _(G){const N=a.pop();return N.end=p(),u.events.push(["exit",N,u]),N}function C(G,N){D(G,N.from)}function M(G,N){N.restore()}function O(G,N){return j;function j(Z,re,J){let K,ne,pe,B;return Array.isArray(Z)?ae(Z):"tokenize"in Z?ae([Z]):Ce(Z);function Ce(Ne){return dt;function dt(_t){const yn=_t!==null&&Ne[_t],Bt=_t!==null&&Ne.null,Rt=[...Array.isArray(yn)?yn:yn?[yn]:[],...Array.isArray(Bt)?Bt:Bt?[Bt]:[]];return ae(Rt)(_t)}}function ae(Ne){return K=Ne,ne=0,Ne.length===0?J:L(Ne[ne])}function L(Ne){return dt;function dt(_t){return B=$(),pe=Ne,Ne.partial||(u.currentConstruct=Ne),Ne.name&&u.parser.constructs.disable.null.includes(Ne.name)?ge():Ne.tokenize.call(N?Object.assign(Object.create(u),N):u,l,we,ge)(_t)}}function we(Ne){return G(pe,B),re}function ge(Ne){return B.restore(),++ne<K.length?L(K[ne]):J}}}function D(G,N){G.resolveAll&&!s.includes(G)&&s.push(G),G.resolve&&Ni(u.events,N,u.events.length-N,G.resolve(u.events.slice(N),u)),G.resolveTo&&(u.events=G.resolveTo(u.events,u))}function $(){const G=p(),N=u.previous,j=u.currentConstruct,Z=u.events.length,re=Array.from(a);return{from:Z,restore:J};function J(){r=G,u.previous=N,u.currentConstruct=j,u.events.length=Z,a=re,R()}}function R(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Pce(n,e){const t=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(t===i)o=[n[t].slice(r,s)];else{if(o=n.slice(t,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(n[i].slice(0,s))}return o}function Rce(n,e){let t=-1;const r=[];let i;for(;++t<n.length;){const s=n[t];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function $ce(n){const r={constructs:JI([Nce,...(n||{}).extensions||[]]),content:i(Xle),defined:[],document:i(eue),flow:i(vce),lazy:{},string:i(kce),text:i(xce)};return r;function i(s){return o;function o(a){return Lce(r,s,a)}}}function Bce(n){for(;!nD(n););return n}const RS=/[\0\t\n\r]/g;function Fce(){let n=1,e="",t=!0,r;return i;function i(s,o,a){const l=[];let u,c,h,d,f;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,e="",t&&(s.charCodeAt(0)===65279&&h++,t=void 0);h<s.length;){if(RS.lastIndex=h,u=RS.exec(s),d=u&&u.index!==void 0?u.index:s.length,f=s.charCodeAt(d),!u){e=s.slice(h);break}if(f===10&&h===d&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<d&&(l.push(s.slice(h,d)),n+=d-h),f){case 0:{l.push(65533),n++;break}case 9:{for(c=Math.ceil(n/4)*4,l.push(-2);n++<c;)l.push(-1);break}case 10:{l.push(-4),n=1;break}default:r=!0,n=1}h=d+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const zce=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function lD(n){return n.replace(zce,Hce)}function Hce(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),s=i===120||i===88;return XI(t.slice(s?2:1),s?16:10)}return Mw(t)||n}function bf(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?$S(n.position):"start"in n||"end"in n?$S(n):"line"in n||"column"in n?Kv(n):""}function Kv(n){return BS(n&&n.line)+":"+BS(n&&n.column)}function $S(n){return Kv(n&&n.start)+"-"+Kv(n&&n.end)}function BS(n){return n&&typeof n=="number"?n:1}const uD={}.hasOwnProperty;function Vce(n,e,t){return typeof e!="string"&&(t=e,e=void 0),qce(t)(Bce($ce(t).document().write(Fce()(n,e,!0))))}function qce(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Oe),autolinkProtocol:$,autolinkEmail:$,atxHeading:s(Gt),blockQuote:s(Bt),characterEscape:$,characterReference:$,codeFenced:s(Rt),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Rt,o),codeText:s(vn,o),codeTextData:$,data:$,codeFlowValue:$,definition:s(jt),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(In),hardBreakEscape:s(wn),hardBreakTrailing:s(wn),htmlFlow:s(Jn,o),htmlFlowData:$,htmlText:s(Jn,o),htmlTextData:$,image:s(Zn),label:o,link:s(Oe),listItem:s(Zt),listItemValue:d,listOrdered:s(Ze,h),listUnordered:s(Ze),paragraph:s(Xn),reference:L,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Gt),strong:s(La),thematicBreak:s(Hi)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:yn,autolinkProtocol:_t,blockQuote:l(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:ge,characterReferenceMarkerNumeric:ge,characterReferenceValue:Ne,characterReference:dt,codeFenced:l(y),codeFencedFence:m,codeFencedFenceInfo:f,codeFencedFenceMeta:p,codeFlowValue:R,codeIndented:l(v),codeText:l(re),codeTextData:R,data:R,definition:l(),definitionDestinationString:_,definitionLabelString:b,definitionTitleString:k,emphasis:l(),hardBreakEscape:l(N),hardBreakTrailing:l(N),htmlFlow:l(j),htmlFlowData:R,htmlText:l(Z),htmlTextData:R,image:l(K),label:pe,labelText:ne,lineEnding:G,link:l(J),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:we,resourceDestinationString:B,resourceTitleString:Ce,resource:ae,setextHeading:l(D),setextHeadingLineSequence:O,setextHeadingText:M,strong:l(),thematicBreak:l()}};cD(e,(n||{}).mdastExtensions||[]);const t={};return r;function r(ce){let Ie={type:"root",children:[]};const it={stack:[Ie],tokenStack:[],config:e,enter:a,exit:u,buffer:o,resume:c,data:t},mt=[];let Nt=-1;for(;++Nt<ce.length;)if(ce[Nt][1].type==="listOrdered"||ce[Nt][1].type==="listUnordered")if(ce[Nt][0]==="enter")mt.push(Nt);else{const Qn=mt.pop();Nt=i(ce,Qn,Nt)}for(Nt=-1;++Nt<ce.length;){const Qn=e[ce[Nt][0]];uD.call(Qn,ce[Nt][1].type)&&Qn[ce[Nt][1].type].call(Object.assign({sliceSerialize:ce[Nt][2].sliceSerialize},it),ce[Nt][1])}if(it.tokenStack.length>0){const Qn=it.tokenStack[it.tokenStack.length-1];(Qn[1]||FS).call(it,void 0,Qn[0])}for(Ie.position={start:Fa(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:Fa(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},Nt=-1;++Nt<e.transforms.length;)Ie=e.transforms[Nt](Ie)||Ie;return Ie}function i(ce,Ie,it){let mt=Ie-1,Nt=-1,Qn=!1,pi,lr,mi,er;for(;++mt<=it;){const bn=ce[mt];switch(bn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{bn[0]==="enter"?Nt++:Nt--,er=void 0;break}case"lineEndingBlank":{bn[0]==="enter"&&(pi&&!er&&!Nt&&!mi&&(mi=mt),er=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:er=void 0}if(!Nt&&bn[0]==="enter"&&bn[1].type==="listItemPrefix"||Nt===-1&&bn[0]==="exit"&&(bn[1].type==="listUnordered"||bn[1].type==="listOrdered")){if(pi){let gi=mt;for(lr=void 0;gi--;){const wr=ce[gi];if(wr[1].type==="lineEnding"||wr[1].type==="lineEndingBlank"){if(wr[0]==="exit")continue;lr&&(ce[lr][1].type="lineEndingBlank",Qn=!0),wr[1].type="lineEnding",lr=gi}else if(!(wr[1].type==="linePrefix"||wr[1].type==="blockQuotePrefix"||wr[1].type==="blockQuotePrefixWhitespace"||wr[1].type==="blockQuoteMarker"||wr[1].type==="listItemIndent"))break}mi&&(!lr||mi<lr)&&(pi._spread=!0),pi.end=Object.assign({},lr?ce[lr][1].start:bn[1].end),ce.splice(lr||mt,0,["exit",pi,bn[2]]),mt++,it++}if(bn[1].type==="listItemPrefix"){const gi={type:"listItem",_spread:!1,start:Object.assign({},bn[1].start),end:void 0};pi=gi,ce.splice(mt,0,["enter",gi,bn[2]]),mt++,it++,mi=void 0,er=!0}}}return ce[Ie][1]._spread=Qn,it}function s(ce,Ie){return it;function it(mt){a.call(this,ce(mt),mt),Ie&&Ie.call(this,mt)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(ce,Ie,it){this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([Ie,it||void 0]),ce.position={start:Fa(Ie.start),end:void 0}}function l(ce){return Ie;function Ie(it){ce&&ce.call(this,it),u.call(this,it)}}function u(ce,Ie){const it=this.stack.pop(),mt=this.tokenStack.pop();if(mt)mt[0].type!==ce.type&&(Ie?Ie.call(this,ce,mt[0]):(mt[1]||FS).call(this,ce,mt[0]));else throw new Error("Cannot close `"+ce.type+"` ("+bf({start:ce.start,end:ce.end})+"): it\u2019s not open");it.position.end=Fa(ce.end)}function c(){return Cw(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function d(ce){if(this.data.expectingFirstListItemValue){const Ie=this.stack[this.stack.length-2];Ie.start=Number.parseInt(this.sliceSerialize(ce),10),this.data.expectingFirstListItemValue=void 0}}function f(){const ce=this.resume(),Ie=this.stack[this.stack.length-1];Ie.lang=ce}function p(){const ce=this.resume(),Ie=this.stack[this.stack.length-1];Ie.meta=ce}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const ce=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const ce=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=ce.replace(/(\r?\n|\r)$/g,"")}function b(ce){const Ie=this.resume(),it=this.stack[this.stack.length-1];it.label=Ie,it.identifier=Ps(this.sliceSerialize(ce)).toLowerCase()}function k(){const ce=this.resume(),Ie=this.stack[this.stack.length-1];Ie.title=ce}function _(){const ce=this.resume(),Ie=this.stack[this.stack.length-1];Ie.url=ce}function C(ce){const Ie=this.stack[this.stack.length-1];if(!Ie.depth){const it=this.sliceSerialize(ce).length;Ie.depth=it}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function O(ce){const Ie=this.stack[this.stack.length-1];Ie.depth=this.sliceSerialize(ce).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function $(ce){const it=this.stack[this.stack.length-1].children;let mt=it[it.length-1];(!mt||mt.type!=="text")&&(mt=Zr(),mt.position={start:Fa(ce.start),end:void 0},it.push(mt)),this.stack.push(mt)}function R(ce){const Ie=this.stack.pop();Ie.value+=this.sliceSerialize(ce),Ie.position.end=Fa(ce.end)}function G(ce){const Ie=this.stack[this.stack.length-1];if(this.data.atHardBreak){const it=Ie.children[Ie.children.length-1];it.position.end=Fa(ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ie.type)&&($.call(this,ce),R.call(this,ce))}function N(){this.data.atHardBreak=!0}function j(){const ce=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=ce}function Z(){const ce=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=ce}function re(){const ce=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=ce}function J(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const Ie=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=Ie,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function K(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const Ie=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=Ie,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function ne(ce){const Ie=this.sliceSerialize(ce),it=this.stack[this.stack.length-2];it.label=lD(Ie),it.identifier=Ps(Ie).toLowerCase()}function pe(){const ce=this.stack[this.stack.length-1],Ie=this.resume(),it=this.stack[this.stack.length-1];if(this.data.inReference=!0,it.type==="link"){const mt=ce.children;it.children=mt}else it.alt=Ie}function B(){const ce=this.resume(),Ie=this.stack[this.stack.length-1];Ie.url=ce}function Ce(){const ce=this.resume(),Ie=this.stack[this.stack.length-1];Ie.title=ce}function ae(){this.data.inReference=void 0}function L(){this.data.referenceType="collapsed"}function we(ce){const Ie=this.resume(),it=this.stack[this.stack.length-1];it.label=Ie,it.identifier=Ps(this.sliceSerialize(ce)).toLowerCase(),this.data.referenceType="full"}function ge(ce){this.data.characterReferenceType=ce.type}function Ne(ce){const Ie=this.sliceSerialize(ce),it=this.data.characterReferenceType;let mt;it?(mt=XI(Ie,it==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):mt=Mw(Ie);const Nt=this.stack[this.stack.length-1];Nt.value+=mt}function dt(ce){const Ie=this.stack.pop();Ie.position.end=Fa(ce.end)}function _t(ce){R.call(this,ce);const Ie=this.stack[this.stack.length-1];Ie.url=this.sliceSerialize(ce)}function yn(ce){R.call(this,ce);const Ie=this.stack[this.stack.length-1];Ie.url="mailto:"+this.sliceSerialize(ce)}function Bt(){return{type:"blockquote",children:[]}}function Rt(){return{type:"code",lang:null,meta:null,value:""}}function vn(){return{type:"inlineCode",value:""}}function jt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function In(){return{type:"emphasis",children:[]}}function Gt(){return{type:"heading",depth:0,children:[]}}function wn(){return{type:"break"}}function Jn(){return{type:"html",value:""}}function Zn(){return{type:"image",title:null,url:"",alt:null}}function Oe(){return{type:"link",title:null,url:"",children:[]}}function Ze(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function Zt(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function Xn(){return{type:"paragraph",children:[]}}function La(){return{type:"strong",children:[]}}function Zr(){return{type:"text",value:""}}function Hi(){return{type:"thematicBreak"}}}function Fa(n){return{line:n.line,column:n.column,offset:n.offset}}function cD(n,e){let t=-1;for(;++t<e.length;){const r=e[t];Array.isArray(r)?cD(n,r):Wce(n,r)}}function Wce(n,e){let t;for(t in e)if(uD.call(e,t))switch(t){case"canContainEols":{const r=e[t];r&&n[t].push(...r);break}case"transforms":{const r=e[t];r&&n[t].push(...r);break}case"enter":case"exit":{const r=e[t];r&&Object.assign(n[t],r);break}}}function FS(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+bf({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+bf({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+bf({start:e.start,end:e.end})+") is still open")}function Yv(n){const e=this;e.parser=t;function t(r){return Vce(r,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}const zS={}.hasOwnProperty;function jce(n,e){const t=e||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&zS.call(i,n)){const l=String(i[n]);o=zS.call(a,l)?a[l]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=t.handlers||{},r.invalid=t.invalid,r.unknown=t.unknown,r}const Zce={}.hasOwnProperty;function hD(n,e){let t=-1,r;if(e.extensions)for(;++t<e.extensions.length;)hD(n,e.extensions[t]);for(r in e)if(Zce.call(e,r))switch(r){case"extensions":break;case"unsafe":{HS(n[r],e[r]);break}case"join":{HS(n[r],e[r]);break}case"handlers":{Uce(n[r],e[r]);break}default:n.options[r]=e[r]}return n}function HS(n,e){e&&n.push(...e)}function Uce(n,e){e&&Object.assign(n,e)}function Gce(n,e,t,r){const i=t.enter("blockquote"),s=t.createTracker(r);s.move("> "),s.shift(2);const o=t.indentLines(t.containerFlow(n,s.current()),Kce);return i(),o}function Kce(n,e,t){return">"+(t?"":" ")+n}function dD(n,e){return VS(n,e.inConstruct,!0)&&!VS(n,e.notInConstruct,!1)}function VS(n,e,t){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return t;let r=-1;for(;++r<e.length;)if(n.includes(e[r]))return!0;return!1}function qS(n,e,t,r){let i=-1;for(;++i<t.unsafe.length;)if(t.unsafe[i].character===`
`&&dD(t.stack,t.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function fD(n,e){const t=String(n);let r=t.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=t.indexOf(e,i);return o}function Jv(n,e){return Boolean(e.options.fences===!1&&n.value&&!n.lang&&/[^ \r\n]/.test(n.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(n.value))}function Yce(n){const e=n.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Jce(n,e,t,r){const i=Yce(t),s=n.value||"",o=i==="`"?"GraveAccent":"Tilde";if(Jv(n,t)){const h=t.enter("codeIndented"),d=t.indentLines(s,Xce);return h(),d}const a=t.createTracker(r),l=i.repeat(Math.max(fD(s,i)+1,3)),u=t.enter("codeFenced");let c=a.move(l);if(n.lang){const h=t.enter(`codeFencedLang${o}`);c+=a.move(t.safe(n.lang,{before:c,after:" ",encode:["`"],...a.current()})),h()}if(n.lang&&n.meta){const h=t.enter(`codeFencedMeta${o}`);c+=a.move(" "),c+=a.move(t.safe(n.meta,{before:c,after:`
`,encode:["`"],...a.current()})),h()}return c+=a.move(`
`),s&&(c+=a.move(s+`
`)),c+=a.move(l),u(),c}function Xce(n,e,t){return(t?"":"    ")+n}function _w(n){const e=n.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Qce(n,e,t,r){const i=_w(t),s=i==='"'?"Quote":"Apostrophe",o=t.enter("definition");let a=t.enter("label");const l=t.createTracker(r);let u=l.move("[");return u+=l.move(t.safe(t.associationId(n),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!n.url||/[\0- \u007F]/.test(n.url)?(a=t.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(t.safe(n.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=t.enter("destinationRaw"),u+=l.move(t.safe(n.url,{before:u,after:n.title?" ":`
`,...l.current()}))),a(),n.title&&(a=t.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(t.safe(n.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),o(),u}function ehe(n){const e=n.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Al(n){return"&#x"+n.toString(16).toUpperCase()+";"}function C2(n,e,t){const r=s0(n),i=s0(e);return r===void 0?i===void 0?t==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}pD.peek=the;function pD(n,e,t,r){const i=ehe(t),s=t.enter("emphasis"),o=t.createTracker(r),a=o.move(i);let l=o.move(t.containerPhrasing(n,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),c=C2(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=Al(u)+l.slice(1));const h=l.charCodeAt(l.length-1),d=C2(r.after.charCodeAt(0),h,i);d.inside&&(l=l.slice(0,-1)+Al(h));const f=o.move(i);return s(),t.attentionEncodeSurroundingInfo={after:d.outside,before:c.outside},a+l+f}function the(n,e,t){return t.options.emphasis||"*"}const L4=function(n){if(n==null)return she;if(typeof n=="function")return P4(n);if(typeof n=="object")return Array.isArray(n)?nhe(n):rhe(n);if(typeof n=="string")return ihe(n);throw new Error("Expected function, string, or object as test")};function nhe(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=L4(n[t]);return P4(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function rhe(n){const e=n;return P4(t);function t(r){const i=r;let s;for(s in n)if(i[s]!==e[s])return!1;return!0}}function ihe(n){return P4(e);function e(t){return t&&t.type===n}}function P4(n){return e;function e(t,r,i){return Boolean(ohe(t)&&n.call(this,t,typeof r=="number"?r:void 0,i||void 0))}}function she(){return!0}function ohe(n){return n!==null&&typeof n=="object"&&"type"in n}const mD=[],ahe=!0,Xv=!1,Qv="skip";function Tw(n,e,t,r){let i;typeof e=="function"&&typeof t!="function"?(r=t,t=e):i=e;const s=L4(i),o=r?-1:1;a(n,void 0,[])();function a(l,u,c){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const f=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return d;function d(){let f=mD,p,m,y;if((!e||s(l,u,c[c.length-1]||void 0))&&(f=lhe(t(l,c)),f[0]===Xv))return f;if("children"in l&&l.children){const v=l;if(v.children&&f[0]!==Qv)for(m=(r?v.children.length:-1)+o,y=c.concat(v);m>-1&&m<v.children.length;){const b=v.children[m];if(p=a(b,m,y)(),p[0]===Xv)return p;m=typeof p[1]=="number"?p[1]:m+o}}return f}}}function lhe(n){return Array.isArray(n)?n:typeof n=="number"?[ahe,n]:n==null?mD:[n]}function Rl(n,e,t,r){let i,s,o;typeof e=="function"&&typeof t!="function"?(s=void 0,o=e,i=t):(s=e,o=t,i=r),Tw(n,s,a,i);function a(l,u){const c=u[u.length-1],h=c?c.children.indexOf(l):void 0;return o(l,h,c)}}function gD(n,e){let t=!1;return Rl(n,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return t=!0,Xv}),Boolean((!n.depth||n.depth<3)&&Cw(n)&&(e.options.setext||t))}function uhe(n,e,t,r){const i=Math.max(Math.min(6,n.depth||1),1),s=t.createTracker(r);if(gD(n,t)){const c=t.enter("headingSetext"),h=t.enter("phrasing"),d=t.containerPhrasing(n,{...s.current(),before:`
`,after:`
`});return h(),c(),d+`
`+(i===1?"=":"-").repeat(d.length-(Math.max(d.lastIndexOf("\r"),d.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=t.enter("headingAtx"),l=t.enter("phrasing");s.move(o+" ");let u=t.containerPhrasing(n,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=Al(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,t.options.closeAtx&&(u+=" "+o),l(),a(),u}yD.peek=che;function yD(n){return n.value||""}function che(){return"<"}vD.peek=hhe;function vD(n,e,t,r){const i=_w(t),s=i==='"'?"Quote":"Apostrophe",o=t.enter("image");let a=t.enter("label");const l=t.createTracker(r);let u=l.move("![");return u+=l.move(t.safe(n.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(a=t.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(t.safe(n.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=t.enter("destinationRaw"),u+=l.move(t.safe(n.url,{before:u,after:n.title?" ":")",...l.current()}))),a(),n.title&&(a=t.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(t.safe(n.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),o(),u}function hhe(){return"!"}wD.peek=dhe;function wD(n,e,t,r){const i=n.referenceType,s=t.enter("imageReference");let o=t.enter("label");const a=t.createTracker(r);let l=a.move("![");const u=t.safe(n.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const c=t.stack;t.stack=[],o=t.enter("reference");const h=t.safe(t.associationId(n),{before:l,after:"]",...a.current()});return o(),t.stack=c,s(),i==="full"||!u||u!==h?l+=a.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function dhe(){return"!"}bD.peek=fhe;function bD(n,e,t){let r=n.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<t.unsafe.length;){const o=t.unsafe[s],a=t.compilePattern(o);let l;if(!!o.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function fhe(){return"`"}function kD(n,e){const t=Cw(n);return Boolean(!e.options.resourceLink&&n.url&&!n.title&&n.children&&n.children.length===1&&n.children[0].type==="text"&&(t===n.url||"mailto:"+t===n.url)&&/^[a-z][a-z+.-]+:/i.test(n.url)&&!/[\0- <>\u007F]/.test(n.url))}xD.peek=phe;function xD(n,e,t,r){const i=_w(t),s=i==='"'?"Quote":"Apostrophe",o=t.createTracker(r);let a,l;if(kD(n,t)){const c=t.stack;t.stack=[],a=t.enter("autolink");let h=o.move("<");return h+=o.move(t.containerPhrasing(n,{before:h,after:">",...o.current()})),h+=o.move(">"),a(),t.stack=c,h}a=t.enter("link"),l=t.enter("label");let u=o.move("[");return u+=o.move(t.containerPhrasing(n,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(l=t.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(t.safe(n.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=t.enter("destinationRaw"),u+=o.move(t.safe(n.url,{before:u,after:n.title?" ":")",...o.current()}))),l(),n.title&&(l=t.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(t.safe(n.title,{before:u,after:i,...o.current()})),u+=o.move(i),l()),u+=o.move(")"),a(),u}function phe(n,e,t){return kD(n,t)?"<":"["}SD.peek=mhe;function SD(n,e,t,r){const i=n.referenceType,s=t.enter("linkReference");let o=t.enter("label");const a=t.createTracker(r);let l=a.move("[");const u=t.containerPhrasing(n,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const c=t.stack;t.stack=[],o=t.enter("reference");const h=t.safe(t.associationId(n),{before:l,after:"]",...a.current()});return o(),t.stack=c,s(),i==="full"||!u||u!==h?l+=a.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function mhe(){return"["}function Ew(n){const e=n.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function ghe(n){const e=Ew(n),t=n.options.bulletOther;if(!t)return e==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+t+"`) to be different");return t}function yhe(n){const e=n.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function CD(n){const e=n.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function vhe(n,e,t,r){const i=t.enter("list"),s=t.bulletCurrent;let o=n.ordered?yhe(t):Ew(t);const a=n.ordered?o==="."?")":".":ghe(t);let l=e&&t.bulletLastUsed?o===t.bulletLastUsed:!1;if(!n.ordered){const c=n.children?n.children[0]:void 0;if((o==="*"||o==="-")&&c&&(!c.children||!c.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(l=!0),CD(t)===o&&c){let h=-1;for(;++h<n.children.length;){const d=n.children[h];if(d&&d.type==="listItem"&&d.children&&d.children[0]&&d.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),t.bulletCurrent=o;const u=t.containerFlow(n,r);return t.bulletLastUsed=o,t.bulletCurrent=s,i(),u}function whe(n){const e=n.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function bhe(n,e,t,r){const i=whe(t);let s=t.bulletCurrent||Ew(t);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(n))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||n.spread))&&(o=Math.ceil(o/4)*4);const a=t.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=t.enter("listItem"),u=t.indentLines(t.containerFlow(n,a.current()),c);return l(),u;function c(h,d,f){return d?(f?"":" ".repeat(o))+h:(f?s:s+" ".repeat(o-s.length))+h}}function khe(n,e,t,r){const i=t.enter("paragraph"),s=t.enter("phrasing"),o=t.containerPhrasing(n,r);return s(),i(),o}const xhe=L4(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function She(n,e,t,r){return(n.children.some(function(o){return xhe(o)})?t.containerPhrasing:t.containerFlow).call(t,n,r)}function Che(n){const e=n.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}MD.peek=Mhe;function MD(n,e,t,r){const i=Che(t),s=t.enter("strong"),o=t.createTracker(r),a=o.move(i+i);let l=o.move(t.containerPhrasing(n,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),c=C2(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=Al(u)+l.slice(1));const h=l.charCodeAt(l.length-1),d=C2(r.after.charCodeAt(0),h,i);d.inside&&(l=l.slice(0,-1)+Al(h));const f=o.move(i+i);return s(),t.attentionEncodeSurroundingInfo={after:d.outside,before:c.outside},a+l+f}function Mhe(n,e,t){return t.options.strong||"*"}function Ahe(n,e,t,r){return t.safe(n.value,r)}function _he(n){const e=n.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function The(n,e,t){const r=(CD(t)+(t.options.ruleSpaces?" ":"")).repeat(_he(t));return t.options.ruleSpaces?r.slice(0,-1):r}const Ow={blockquote:Gce,break:qS,code:Jce,definition:Qce,emphasis:pD,hardBreak:qS,heading:uhe,html:yD,image:vD,imageReference:wD,inlineCode:bD,link:xD,linkReference:SD,list:vhe,listItem:bhe,paragraph:khe,root:She,strong:MD,text:Ahe,thematicBreak:The},Ehe=[Ohe];function Ohe(n,e,t,r){if(e.type==="code"&&Jv(e,r)&&(n.type==="list"||n.type===e.type&&Jv(n,r)))return!1;if("spread"in t&&typeof t.spread=="boolean")return n.type==="paragraph"&&(n.type===e.type||e.type==="definition"||e.type==="heading"&&gD(e,r))?void 0:t.spread?1:0}const Yl=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],Ihe=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Yl},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Yl},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Yl},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Yl},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Yl},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Yl},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Yl},{atBreak:!0,character:"~"}];function Dhe(n){return n.label||!n.identifier?n.label||"":lD(n.identifier)}function Nhe(n){if(!n._compiled){const e=(n.atBreak?"[\\r\\n][\\t ]*":"")+(n.before?"(?:"+n.before+")":"");n._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(n.character)?"\\":"")+n.character+(n.after?"(?:"+n.after+")":""),"g")}return n._compiled}function Lhe(n,e,t){const r=e.indexStack,i=n.children||[],s=[];let o=-1,a=t.before,l;r.push(-1);let u=e.createTracker(t);for(;++o<i.length;){const c=i[o];let h;if(r[r.length-1]=o,o+1<i.length){let p=e.handle.handlers[i[o+1].type];p&&p.peek&&(p=p.peek),h=p?p(i[o+1],n,e,{before:"",after:"",...u.current()}).charAt(0):""}else h=t.after;s.length>0&&(a==="\r"||a===`
`)&&c.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),a=" ",u=e.createTracker(t),u.move(s.join("")));let d=e.handle(c,n,e,{...u.current(),after:h,before:a});l&&l===d.slice(0,1)&&(d=Al(l.charCodeAt(0))+d.slice(1));const f=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,l=void 0,f&&(s.length>0&&f.before&&a===s[s.length-1].slice(-1)&&(s[s.length-1]=s[s.length-1].slice(0,-1)+Al(a.charCodeAt(0))),f.after&&(l=h)),u.move(d),s.push(d),a=d.slice(-1)}return r.pop(),s.join("")}function Phe(n,e,t){const r=e.indexStack,i=n.children||[],s=e.createTracker(t),o=[];let a=-1;for(r.push(-1);++a<i.length;){const l=i[a];r[r.length-1]=a,o.push(s.move(e.handle(l,n,e,{before:`
`,after:`
`,...s.current()}))),l.type!=="list"&&(e.bulletLastUsed=void 0),a<i.length-1&&o.push(s.move(Rhe(l,i[a+1],n,e)))}return r.pop(),o.join("")}function Rhe(n,e,t,r){let i=r.join.length;for(;i--;){const s=r.join[i](n,e,t,r);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}const $he=/\r?\n|\r/g;function Bhe(n,e){const t=[];let r=0,i=0,s;for(;s=$he.exec(n);)o(n.slice(r,s.index)),t.push(s[0]),r=s.index+s[0].length,i++;return o(n.slice(r)),t.join("");function o(a){t.push(e(a,i,!a))}}function Fhe(n,e,t){const r=(t.before||"")+(e||"")+(t.after||""),i=[],s=[],o={};let a=-1;for(;++a<n.unsafe.length;){const c=n.unsafe[a];if(!dD(n.stack,c))continue;const h=n.compilePattern(c);let d;for(;d=h.exec(r);){const f="before"in c||Boolean(c.atBreak),p="after"in c,m=d.index+(f?d[1].length:0);i.includes(m)?(o[m].before&&!f&&(o[m].before=!1),o[m].after&&!p&&(o[m].after=!1)):(i.push(m),o[m]={before:f,after:p})}}i.sort(zhe);let l=t.before?t.before.length:0;const u=r.length-(t.after?t.after.length:0);for(a=-1;++a<i.length;){const c=i[a];c<l||c>=u||c+1<u&&i[a+1]===c+1&&o[c].after&&!o[c+1].before&&!o[c+1].after||i[a-1]===c-1&&o[c].before&&!o[c-1].before&&!o[c-1].after||(l!==c&&s.push(WS(r.slice(l,c),"\\")),l=c,/[!-/:-@[-`{-~]/.test(r.charAt(c))&&(!t.encode||!t.encode.includes(r.charAt(c)))?s.push("\\"):(s.push(Al(r.charCodeAt(c))),l++))}return s.push(WS(r.slice(l,u),t.after)),s.join("")}function zhe(n,e){return n-e}function WS(n,e){const t=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],s=n+e;let o=-1,a=0,l;for(;l=t.exec(s);)r.push(l.index);for(;++o<r.length;)a!==r[o]&&i.push(n.slice(a,r[o])),i.push("\\"),a=r[o];return i.push(n.slice(a)),i.join("")}function Hhe(n){const e=n||{},t=e.now||{};let r=e.lineShift||0,i=t.line||1,s=t.column||1;return{move:l,current:o,shift:a};function o(){return{now:{line:i,column:s},lineShift:r}}function a(u){r+=u}function l(u){const c=u||"",h=c.split(/\r?\n|\r/g),d=h[h.length-1];return i+=h.length-1,s=h.length===1?s+d.length:1+d.length+r,c}}function Vhe(n,e){const t=e||{},r={associationId:Dhe,containerPhrasing:Zhe,containerFlow:Uhe,createTracker:Hhe,compilePattern:Nhe,enter:s,handlers:{...Ow},handle:void 0,indentLines:Bhe,indexStack:[],join:[...Ehe],options:{},safe:Ghe,stack:[],unsafe:[...Ihe]};hD(r,t),r.options.tightDefinitions&&r.join.push(jhe),r.handle=jce("type",{invalid:qhe,unknown:Whe,handlers:r.handlers});let i=r.handle(n,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function s(o){return r.stack.push(o),a;function a(){r.stack.pop()}}}function qhe(n){throw new Error("Cannot handle value `"+n+"`, expected node")}function Whe(n){const e=n;throw new Error("Cannot handle unknown node `"+e.type+"`")}function jhe(n,e){if(n.type==="definition"&&n.type===e.type)return 0}function Zhe(n,e){return Lhe(n,this,e)}function Uhe(n,e){return Phe(n,this,e)}function Ghe(n,e){return Fhe(this,n,e)}function e3(n){const e=this;e.compiler=t;function t(r){return Vhe(r,{...e.data("settings"),...n,extensions:e.data("toMarkdownExtensions")||[]})}}function jS(n){if(n)throw n}var cg=Object.prototype.hasOwnProperty,AD=Object.prototype.toString,ZS=Object.defineProperty,US=Object.getOwnPropertyDescriptor,GS=function(e){return typeof Array.isArray=="function"?Array.isArray(e):AD.call(e)==="[object Array]"},KS=function(e){if(!e||AD.call(e)!=="[object Object]")return!1;var t=cg.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&cg.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!r)return!1;var i;for(i in e);return typeof i>"u"||cg.call(e,i)},YS=function(e,t){ZS&&t.name==="__proto__"?ZS(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},JS=function(e,t){if(t==="__proto__")if(cg.call(e,t)){if(US)return US(e,t).value}else return;return e[t]},C8=function n(){var e,t,r,i,s,o,a=arguments[0],l=1,u=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(e=arguments[l],e!=null)for(t in e)r=JS(a,t),i=JS(e,t),a!==i&&(c&&i&&(KS(i)||(s=GS(i)))?(s?(s=!1,o=r&&GS(r)?r:[]):o=r&&KS(r)?r:{},YS(a,{name:t,newValue:n(c,o,i)})):typeof i<"u"&&YS(a,{name:t,newValue:i}));return a};function t3(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function Khe(){const n=[],e={run:t,use:r};return e;function t(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const c=n[++s];let h=-1;if(l){o(l);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,c?Yhe(c,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return n.push(i),e}}function Yhe(n,e){let t;return r;function r(...o){const a=n.length>o.length;let l;a&&o.push(i);try{l=n.apply(this,o)}catch(u){const c=u;if(a&&t)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){t||(t=!0,e(o,...a))}function s(o){i(null,o)}}class hi extends Error{constructor(e,t,r){super(),typeof t=="string"&&(r=t,t=void 0);let i="",s={},o=!1;if(t&&("line"in t&&"column"in t?s={place:t}:"start"in t&&"end"in t?s={place:t}:"type"in t?s={ancestors:[t],place:t.position}:s={...t}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=bf(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}hi.prototype.file="";hi.prototype.name="";hi.prototype.reason="";hi.prototype.message="";hi.prototype.stack="";hi.prototype.column=void 0;hi.prototype.line=void 0;hi.prototype.ancestors=void 0;hi.prototype.cause=void 0;hi.prototype.fatal=void 0;hi.prototype.place=void 0;hi.prototype.ruleId=void 0;hi.prototype.source=void 0;const so={basename:Jhe,dirname:Xhe,extname:Qhe,join:e0e,sep:"/"};function Jhe(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');hp(n);let t=0,r=-1,i=n.length,s;if(e===void 0||e.length===0||e.length>n.length){for(;i--;)if(n.codePointAt(i)===47){if(s){t=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":n.slice(t,r)}if(e===n)return"";let o=-1,a=e.length-1;for(;i--;)if(n.codePointAt(i)===47){if(s){t=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(n.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return t===r?r=o:r<0&&(r=n.length),n.slice(t,r)}function Xhe(n){if(hp(n),n.length===0)return".";let e=-1,t=n.length,r;for(;--t;)if(n.codePointAt(t)===47){if(r){e=t;break}}else r||(r=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function Qhe(n){hp(n);let e=n.length,t=-1,r=0,i=-1,s=0,o;for(;e--;){const a=n.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}t<0&&(o=!0,t=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||t<0||s===0||s===1&&i===t-1&&i===r+1?"":n.slice(i,t)}function e0e(...n){let e=-1,t;for(;++e<n.length;)hp(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":t0e(t)}function t0e(n){hp(n);const e=n.codePointAt(0)===47;let t=n0e(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function n0e(n,e){let t="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=n.length;){if(o<n.length)a=n.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(t.length<2||r!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(l=t.lastIndexOf("/"),l!==t.length-1){l<0?(t="",r=0):(t=t.slice(0,l),r=t.length-1-t.lastIndexOf("/")),i=o,s=0;continue}}else if(t.length>0){t="",r=0,i=o,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+n.slice(i+1,o):t=n.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return t}function hp(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const r0e={cwd:i0e};function i0e(){return"/"}function n3(n){return Boolean(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function s0e(n){if(typeof n=="string")n=new URL(n);else if(!n3(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return o0e(n)}function o0e(n){if(n.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const r=e.codePointAt(t+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const M8=["history","path","basename","stem","extname","dirname"];class a0e{constructor(e){let t;e?n3(e)?t={path:e}:typeof e=="string"||l0e(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":r0e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<M8.length;){const s=M8[r];s in t&&t[s]!==void 0&&t[s]!==null&&(this[s]=s==="history"?[...t[s]]:t[s])}let i;for(i in t)M8.includes(i)||(this[i]=t[i])}get basename(){return typeof this.path=="string"?so.basename(this.path):void 0}set basename(e){_8(e,"basename"),A8(e,"basename"),this.path=so.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?so.dirname(this.path):void 0}set dirname(e){XS(this.basename,"dirname"),this.path=so.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?so.extname(this.path):void 0}set extname(e){if(A8(e,"extname"),XS(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=so.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){n3(e)&&(e=s0e(e)),_8(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?so.basename(this.path,this.extname):void 0}set stem(e){_8(e,"stem"),A8(e,"stem"),this.path=so.join(this.dirname||"",e+(this.extname||""))}fail(e,t,r){const i=this.message(e,t,r);throw i.fatal=!0,i}info(e,t,r){const i=this.message(e,t,r);return i.fatal=void 0,i}message(e,t,r){const i=new hi(e,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function A8(n,e){if(n&&n.includes(so.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+so.sep+"`")}function _8(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function XS(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function l0e(n){return Boolean(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const u0e=function(n){const r=this.constructor.prototype,i=r[n],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},c0e={}.hasOwnProperty;class Iw extends u0e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Khe()}copy(){const e=new Iw;let t=-1;for(;++t<this.attachers.length;){const r=this.attachers[t];e.use(...r)}return e.data(C8(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(O8("data",this.frozen),this.namespace[e]=t,this):c0e.call(this.namespace,e)&&this.namespace[e]||void 0:e?(O8("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=t.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=vm(e),r=this.parser||this.Parser;return T8("parse",r),r(String(t),t)}process(e,t){const r=this;return this.freeze(),T8("process",this.parser||this.Parser),E8("process",this.compiler||this.Compiler),t?i(void 0,t):new Promise(i);function i(s,o){const a=vm(e),l=r.parse(a);r.run(l,a,function(c,h,d){if(c||!h||!d)return u(c);const f=h,p=r.stringify(f,d);d0e(p)?d.value=p:d.result=p,u(c,d)});function u(c,h){c||!h?o(c):s?s(h):t(void 0,h)}}}processSync(e){let t=!1,r;return this.freeze(),T8("processSync",this.parser||this.Parser),E8("processSync",this.compiler||this.Compiler),this.process(e,i),eC("processSync","process",t),r;function i(s,o){t=!0,jS(s),r=o}}run(e,t,r){QS(e),this.freeze();const i=this.transformers;return!r&&typeof t=="function"&&(r=t,t=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=vm(t);i.run(e,l,u);function u(c,h,d){const f=h||e;c?a(c):o?o(f):r(void 0,f,d)}}}runSync(e,t){let r=!1,i;return this.run(e,t,s),eC("runSync","run",r),i;function s(o,a){jS(o),i=a,r=!0}}stringify(e,t){this.freeze();const r=vm(t),i=this.compiler||this.Compiler;return E8("stringify",i),QS(e),i(e,r)}use(e,...t){const r=this.attachers,i=this.namespace;if(O8("use",this.frozen),e!=null)if(typeof e=="function")l(e,t);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...h]=u;l(c,h)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=C8(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const h=u[c];s(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let h=-1,d=-1;for(;++h<r.length;)if(r[h][0]===u){d=h;break}if(d===-1)r.push([u,...c]);else if(c.length>0){let[f,...p]=c;const m=r[d][1];t3(m)&&t3(f)&&(f=C8(!0,m,f)),r[d]=[u,f,...p]}}}}const r3=new Iw().freeze();function T8(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function E8(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function O8(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function QS(n){if(!t3(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function eC(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function vm(n){return h0e(n)?n:new a0e(n)}function h0e(n){return Boolean(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function d0e(n){return typeof n=="string"||f0e(n)}function f0e(n){return Boolean(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}var _D=n=>{throw TypeError(n)},TD=(n,e,t)=>e.has(n)||_D("Cannot "+t),kt=(n,e,t)=>(TD(n,e,"read from private field"),t?t.call(n):e.get(n)),$n=(n,e,t)=>e.has(n)?_D("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),cn=(n,e,t,r)=>(TD(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),no,Nd,hg,dg,fg,Ld,Pd,Go,Rd,pg,mg,$d,gg,Bd,yg,vg,Pc,ou,wg,Fd;class ED{}class OD{constructor(){this.elements=[],this.size=()=>this.elements.length,this.top=()=>this.elements.at(-1),this.push=e=>{var t;(t=this.top())==null||t.push(e)},this.open=e=>{this.elements.push(e)},this.close=()=>{const e=this.elements.pop();if(!e)throw zI();return e}}}class Dw extends ED{constructor(e,t,r){super(),this.type=e,this.content=t,this.attrs=r}push(e,...t){this.content.push(e,...t)}pop(){return this.content.pop()}static create(e,t,r){return new Dw(e,t,r)}}const i3=class extends OD{constructor(e){super(),$n(this,no),$n(this,Nd),$n(this,hg),$n(this,dg),$n(this,fg),$n(this,Ld),$n(this,Pd),cn(this,no,vt.none),cn(this,Nd,t=>t.isText),cn(this,hg,(t,r)=>{if(kt(this,Nd).call(this,t)&&kt(this,Nd).call(this,r)&&vt.sameSet(t.marks,r.marks))return this.schema.text(t.text+r.text,t.marks)}),cn(this,dg,t=>{const r=Object.values({...this.schema.nodes,...this.schema.marks}).find(i=>i.spec.parseMarkdown.match(t));if(!r)throw hle(t);return r}),cn(this,fg,t=>{const r=kt(this,dg).call(this,t);r.spec.parseMarkdown.runner(this,t,r)}),this.injectRoot=(t,r,i)=>(this.openNode(r,i),this.next(t.children),this),this.openNode=(t,r)=>(this.open(Dw.create(t,[],r)),this),cn(this,Ld,()=>{cn(this,no,vt.none);const t=this.close();return kt(this,Pd).call(this,t.type,t.attrs,t.content)}),this.closeNode=()=>{try{kt(this,Ld).call(this)}catch(t){console.error(t)}return this},cn(this,Pd,(t,r,i)=>{const s=t.createAndFill(r,i,kt(this,no));if(!s)throw cle(t,r,i);return this.push(s),s}),this.addNode=(t,r,i)=>{try{kt(this,Pd).call(this,t,r,i)}catch(s){console.error(s)}return this},this.openMark=(t,r)=>{const i=t.create(r);return cn(this,no,i.addToSet(kt(this,no))),this},this.closeMark=t=>(cn(this,no,t.removeFromSet(kt(this,no))),this),this.addText=t=>{try{const r=this.top();if(!r)throw zI();const i=r.pop(),s=this.schema.text(t,kt(this,no));if(!i)return r.push(s),this;const o=kt(this,hg).call(this,i,s);return o?(r.push(o),this):(r.push(i,s),this)}catch(r){return console.error(r),this}},this.build=()=>{let t;do t=kt(this,Ld).call(this);while(this.size());return t},this.next=(t=[])=>([t].flat().forEach(r=>kt(this,fg).call(this,r)),this),this.toDoc=()=>this.build(),this.run=(t,r)=>{const i=t.runSync(t.parse(r),r);return this.next(i),this},this.schema=e}};no=new WeakMap;Nd=new WeakMap;hg=new WeakMap;dg=new WeakMap;fg=new WeakMap;Ld=new WeakMap;Pd=new WeakMap;i3.create=(n,e)=>{const t=new i3(n);return r=>(t.run(e,r),t.toDoc())};let p0e=i3;const s3=class extends ED{constructor(e,t,r,i={}){super(),this.type=e,this.children=t,this.value=r,this.props=i,this.push=(s,...o)=>{this.children||(this.children=[]),this.children.push(s,...o)},this.pop=()=>{var s;return(s=this.children)==null?void 0:s.pop()}}};s3.create=(n,e,t,r={})=>new s3(n,e,t,r);let tC=s3;const m0e=n=>Object.prototype.hasOwnProperty.call(n,"size"),o3=class extends OD{constructor(e){super(),$n(this,Go),$n(this,Rd),$n(this,pg),$n(this,mg),$n(this,$d),$n(this,gg),$n(this,Bd),$n(this,yg),$n(this,vg),$n(this,Pc),$n(this,ou),$n(this,wg),$n(this,Fd),cn(this,Go,vt.none),cn(this,Rd,t=>{const r=Object.values({...this.schema.nodes,...this.schema.marks}).find(i=>i.spec.toMarkdown.match(t));if(!r)throw dle(t.type);return r}),cn(this,pg,t=>kt(this,Rd).call(this,t).spec.toMarkdown.runner(this,t)),cn(this,mg,(t,r)=>kt(this,Rd).call(this,t).spec.toMarkdown.runner(this,t,r)),cn(this,$d,t=>{const{marks:r}=t,i=a=>{var l;return(l=a.type.spec.priority)!=null?l:50};[...r].sort((a,l)=>i(a)-i(l)).every(a=>!kt(this,mg).call(this,a,t))&&kt(this,pg).call(this,t),r.forEach(a=>kt(this,Fd).call(this,a))}),cn(this,gg,(t,r)=>{var l;if(t.type===r||((l=t.children)==null?void 0:l.length)!==1)return t;const i=u=>{var h;if(u.type===r)return u;if(((h=u.children)==null?void 0:h.length)!==1)return null;const[c]=u.children;return c?i(c):null},s=i(t);if(!s)return t;const o=s.children?[...s.children]:void 0,a={...t,children:o};return a.children=o,s.children=[a],s}),cn(this,Bd,t=>{const{children:r}=t;return r&&(t.children=r.reduce((i,s,o)=>{if(o===0)return[s];const a=i.at(-1);if(a&&a.isMark&&s.isMark){s=kt(this,gg).call(this,s,a.type);const{children:l,...u}=s,{children:c,...h}=a;if(s.type===a.type&&l&&c&&JSON.stringify(u)===JSON.stringify(h)){const d={...h,children:[...c,...l]};return i.slice(0,-1).concat(kt(this,Bd).call(this,d))}}return i.concat(s)},[])),t}),cn(this,yg,t=>{const r={...t.props,type:t.type};return t.children&&(r.children=t.children),t.value&&(r.value=t.value),r}),this.openNode=(t,r,i)=>(this.open(tC.create(t,void 0,r,i)),this),cn(this,vg,(t,r)=>{let i="",s="";const o=t.children;let a=-1,l=-1;const u=h=>{!h||h.forEach((d,f)=>{d.type==="text"&&d.value&&(a<0&&(a=f),l=f)})};if(o){u(o);const h=o==null?void 0:o[l],d=o==null?void 0:o[a];if(h&&h.value.endsWith(" ")){const f=h.value,p=f.trimEnd();s=f.slice(p.length),h.value=p}if(d&&d.value.startsWith(" ")){const f=d.value,p=f.trimStart();i=f.slice(0,f.length-p.length),d.value=p}}i.length&&kt(this,ou).call(this,"text",void 0,i);const c=r();return s.length&&kt(this,ou).call(this,"text",void 0,s),c}),cn(this,Pc,(t=!1)=>{const r=this.close(),i=()=>kt(this,ou).call(this,r.type,r.children,r.value,r.props);return t?kt(this,vg).call(this,r,i):i()}),this.closeNode=()=>(kt(this,Pc).call(this),this),cn(this,ou,(t,r,i,s)=>{const o=tC.create(t,r,i,s),a=kt(this,Bd).call(this,kt(this,yg).call(this,o));return this.push(a),a}),this.addNode=(t,r,i,s)=>(kt(this,ou).call(this,t,r,i,s),this),cn(this,wg,(t,r,i,s)=>t.isInSet(kt(this,Go))?this:(cn(this,Go,t.addToSet(kt(this,Go))),this.openNode(r,i,{...s,isMark:!0}))),cn(this,Fd,t=>{!t.isInSet(kt(this,Go))||(cn(this,Go,t.type.removeFromSet(kt(this,Go))),kt(this,Pc).call(this,!0))}),this.withMark=(t,r,i,s)=>(kt(this,wg).call(this,t,r,i,s),this),this.closeMark=t=>(kt(this,Fd).call(this,t),this),this.build=()=>{let t=null;do t=kt(this,Pc).call(this);while(this.size());return t},this.next=t=>m0e(t)?(t.forEach(r=>{kt(this,$d).call(this,r)}),this):(kt(this,$d).call(this,t),this),this.toString=t=>t.stringify(this.build()),this.run=t=>(this.next(t),this),this.schema=e}};Go=new WeakMap;Rd=new WeakMap;pg=new WeakMap;mg=new WeakMap;$d=new WeakMap;gg=new WeakMap;Bd=new WeakMap;yg=new WeakMap;vg=new WeakMap;Pc=new WeakMap;ou=new WeakMap;wg=new WeakMap;Fd=new WeakMap;o3.create=(n,e)=>{const t=new o3(n);return r=>(t.run(r),t.toString(e))};let g0e=o3;const Nw=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function ID(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const DD=(n,e,t)=>{let r=ID(n,t);if(!r)return!1;let i=Lw(r);if(!i){let o=r.blockRange(),a=o&&C4(o);return a==null?!1:(e&&e(n.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(RD(n,i,e,-1))return!0;if(r.parent.content.size==0&&(o0(s,"end")||Je.isSelectable(s)))for(let o=r.depth;;o--){let a=A4(n.doc,r.before(o),r.after(o),Le.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=n.tr.step(a);l.setSelection(o0(s,"end")?lt.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Je.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},y0e=(n,e,t)=>{let r=ID(n,t);if(!r)return!1;let i=Lw(r);return i?v0e(n,i,e):!1};function v0e(n,e,t){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let c=a.firstChild;if(!c)return!1;a=c}let u=A4(n.doc,s,l,Le.empty);if(!u||u.from!=s||u instanceof nr&&u.slice.size>=l-s)return!1;if(t){let c=n.tr.step(u);c.setSelection(Ue.create(c.doc,s)),t(c.scrollIntoView())}return!0}function o0(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const ND=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=Lw(r)}let o=s&&s.nodeBefore;return!o||!Je.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Je.create(n.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function Lw(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function w0e(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const b0e=(n,e,t)=>{let r=w0e(n,t);if(!r)return!1;let i=LD(r);if(!i)return!1;let s=i.nodeAfter;if(RD(n,i,e,1))return!0;if(r.parent.content.size==0&&(o0(s,"start")||Je.isSelectable(s))){let o=A4(n.doc,r.before(),r.after(),Le.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=n.tr.step(o);a.setSelection(o0(s,"start")?lt.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Je.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},k0e=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=LD(r)}let o=s&&s.nodeAfter;return!o||!Je.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Je.create(n.doc,s.pos)).scrollIntoView()),!0)};function LD(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const x0e=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Pw(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const PD=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),s=t.indexAfter(-1),o=Pw(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=t.after(),l=n.tr.replaceWith(a,a,o.createAndFill());l.setSelection(lt.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},S0e=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof oi||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=Pw(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=n.tr.insert(o,s.createAndFill());a.setSelection(Ue.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},C0e=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(vf(n.doc,s))return e&&e(n.tr.split(s).scrollIntoView()),!0}let r=t.blockRange(),i=r&&C4(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)};function M0e(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Je&&e.selection.node.isBlock)return!r.parentOffset||!vf(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,a,l=!1,u=!1;for(let f=r.depth;;f--)if(r.node(f).isBlock){l=r.end(f)==r.pos+(r.depth-f),u=r.start(f)==r.pos-(r.depth-f),a=Pw(r.node(f-1).contentMatchAt(r.indexAfter(f-1)));let m=n&&n(i.parent,l,r);s.unshift(m||(l&&a?{type:a}:null)),o=f;break}else{if(f==1)return!1;s.unshift(null)}let c=e.tr;(e.selection instanceof Ue||e.selection instanceof oi)&&c.deleteSelection();let h=c.mapping.map(r.pos),d=vf(c.doc,h,s.length,s);if(d||(s[0]=a?{type:a}:null,d=vf(c.doc,h,s.length,s)),!d)return!1;if(c.split(h,s.length,s),!l&&u&&r.node(o).type!=a){let f=c.mapping.map(r.before(o)),p=c.doc.resolve(f);a&&r.node(o-1).canReplaceWith(p.index(),p.index()+1,a)&&c.setNodeMarkup(c.mapping.map(r.before(o)),a)}return t&&t(c.scrollIntoView()),!0}}const A0e=M0e(),_0e=(n,e)=>(e&&e(n.tr.setSelection(new oi(n.doc))),!0);function T0e(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||M4(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function RD(n,e,t,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&T0e(n,e,t))return!0;let u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(t){let f=e.pos+s.nodeSize,p=be.empty;for(let v=o.length-1;v>=0;v--)p=be.from(o[v].create(null,p));p=be.from(i.copy(p));let m=n.tr.step(new _r(e.pos-1,f,e.pos,f,new Le(p,1,0),o.length,!0)),y=m.doc.resolve(f+2*o.length);y.nodeAfter&&y.nodeAfter.type==i.type&&M4(m.doc,y.pos)&&m.join(y.pos),t(m.scrollIntoView())}return!0}let c=s.type.spec.isolating||r>0&&l?null:lt.findFrom(e,1),h=c&&c.$from.blockRange(c.$to),d=h&&C4(h);if(d!=null&&d>=e.depth)return t&&t(n.tr.lift(h,d).scrollIntoView()),!0;if(u&&o0(s,"start",!0)&&o0(i,"end")){let f=i,p=[];for(;p.push(f),!f.isTextblock;)f=f.lastChild;let m=s,y=1;for(;!m.isTextblock;m=m.firstChild)y++;if(f.canReplace(f.childCount,f.childCount,m.content)){if(t){let v=be.empty;for(let k=p.length-1;k>=0;k--)v=be.from(p[k].copy(v));let b=n.tr.step(new _r(e.pos-p.length,e.pos+s.nodeSize,e.pos+y,e.pos+s.nodeSize-y,new Le(v,p.length,0),0,!0));t(b.scrollIntoView())}return!0}}return!1}function $D(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(t&&t(e.tr.setSelection(Ue.create(e.doc,n<0?i.start(s):i.end(s)))),!0):!1}}const E0e=$D(-1),O0e=$D(1);function Rw(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s),a=o&&bw(o,n,e);return a?(r&&r(t.tr.wrap(o,a).scrollIntoView()),!0):!1}}function s1(n,e=null){return function(t,r){let i=!1;for(let s=0;s<t.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=t.selection.ranges[s];t.doc.nodesBetween(o,a,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(n,e)))if(l.type==n)i=!0;else{let c=t.doc.resolve(u),h=c.index();i=c.parent.canReplaceWith(h,h+1,n)}})}if(!i)return!1;if(r){let s=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=t.selection.ranges[o];s.setBlockType(a,l,n,e)}r(s.scrollIntoView())}return!0}}function I0e(n,e,t,r){for(let i=0;i<e.length;i++){let{$from:s,$to:o}=e[i],a=s.depth==0?n.inlineContent&&n.type.allowsMarkType(t):!1;if(n.nodesBetween(s.pos,o.pos,(l,u)=>{if(a||!r&&l.isAtom&&l.isInline&&u>=s.pos&&u+l.nodeSize<=o.pos)return!1;a=l.inlineContent&&l.type.allowsMarkType(t)}),a)return!0}return!1}function D0e(n){let e=[];for(let t=0;t<n.length;t++){let{$from:r,$to:i}=n[t];r.doc.nodesBetween(r.pos,i.pos,(s,o)=>{if(s.isAtom&&s.content.size&&s.isInline&&o>=r.pos&&o+s.nodeSize<=i.pos)return o+1>r.pos&&e.push(new x2(r,r.doc.resolve(o+1))),r=r.doc.resolve(o+1+s.content.size),!1}),r.pos<i.pos&&e.push(new x2(r,i))}return e}function R4(n,e=null,t){let r=(t&&t.removeWhenPresent)!==!1,i=(t&&t.enterInlineAtoms)!==!1,s=!(t&&t.includeWhitespace);return function(o,a){let{empty:l,$cursor:u,ranges:c}=o.selection;if(l&&!u||!I0e(o.doc,c,n,i))return!1;if(a)if(u)n.isInSet(o.storedMarks||u.marks())?a(o.tr.removeStoredMark(n)):a(o.tr.addStoredMark(n.create(e)));else{let h,d=o.tr;i||(c=D0e(c)),r?h=!c.some(f=>o.doc.rangeHasMark(f.$from.pos,f.$to.pos,n)):h=!c.every(f=>{let p=!1;return d.doc.nodesBetween(f.$from.pos,f.$to.pos,(m,y,v)=>{if(p)return!1;p=!n.isInSet(m.marks)&&!!v&&v.type.allowsMarkType(n)&&!(m.isText&&/^\s*$/.test(m.textBetween(Math.max(0,f.$from.pos-y),Math.min(m.nodeSize,f.$to.pos-y))))}),!p});for(let f=0;f<c.length;f++){let{$from:p,$to:m}=c[f];if(!h)d.removeMark(p.pos,m.pos,n);else{let y=p.pos,v=m.pos,b=p.nodeAfter,k=m.nodeBefore,_=s&&b&&b.isText?/^\s*/.exec(b.text)[0].length:0,C=s&&k&&k.isText?/\s*$/.exec(k.text)[0].length:0;y+_<v&&(y+=_,v-=C),d.addMark(y,v,n.create(e))}}a(d.scrollIntoView())}return!0}}function T0(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}let I8=T0(Nw,DD,ND),nC=T0(Nw,b0e,k0e);const ea={Enter:T0(x0e,S0e,C0e,A0e),"Mod-Enter":PD,Backspace:I8,"Mod-Backspace":I8,"Shift-Backspace":I8,Delete:nC,"Mod-Delete":nC,"Mod-a":_0e},BD={"Ctrl-h":ea.Backspace,"Alt-Backspace":ea["Mod-Backspace"],"Ctrl-d":ea.Delete,"Ctrl-Alt-Backspace":ea["Mod-Delete"],"Alt-Delete":ea["Mod-Delete"],"Alt-d":ea["Mod-Delete"],"Ctrl-a":E0e,"Ctrl-e":O0e};for(let n in ea)BD[n]=ea[n];const N0e=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,L0e=N0e?BD:ea,P0e=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),R0e=typeof navigator<"u"&&/Win/.test(navigator.platform);function $0e(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))P0e?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),o&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function B0e(n){let e=Object.create(null);for(let t in n)e[$0e(t)]=n[t];return e}function D8(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function FD(n){return new fn({props:{handleKeyDown:$w(n)}})}function $w(n){let e=B0e(n);return function(t,r){let i=_E(r),s,o=e[D8(i,r)];if(o&&o(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[D8(i,r,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(R0e&&r.ctrlKey&&r.altKey)&&(s=ka[r.keyCode])&&s!=i){let a=e[D8(s,r)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const pr=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},a0=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let a3=null;const Qo=function(n,e,t){let r=a3||(a3=document.createRange());return r.setEnd(n,t==null?n.nodeValue.length:t),r.setStart(n,e||0),r},F0e=function(){a3=null},hc=function(n,e,t,r){return t&&(rC(n,e,t,r,-1)||rC(n,e,t,r,1))},z0e=/^(img|br|input|textarea|hr)$/i;function rC(n,e,t,r,i){for(var s;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Ji(n))){let o=n.parentNode;if(!o||o.nodeType!=1||dp(n)||z0e.test(n.nodeName)||n.contentEditable=="false")return!1;e=pr(n)+(i<0?0:1),n=o}else if(n.nodeType==1){let o=n.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else n=o,e=i<0?Ji(n):0}else return!1}}function Ji(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function H0e(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Ji(n)}else if(n.parentNode&&!dp(n))e=pr(n),n=n.parentNode;else return null}}function V0e(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!dp(n))e=pr(n)+1,n=n.parentNode;else return null}}function q0e(n,e,t){for(let r=e==0,i=e==Ji(n);r||i;){if(n==t)return!0;let s=pr(n);if(n=n.parentNode,!n)return!1;r=r&&s==0,i=i&&s==Ji(n)}}function dp(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const $4=function(n){return n.focusNode&&hc(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function fu(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function W0e(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function j0e(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Ji(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Ji(r.startContainer),r.startOffset)}}}const Oo=typeof navigator<"u"?navigator:null,iC=typeof document<"u"?document:null,$l=Oo&&Oo.userAgent||"",l3=/Edge\/(\d+)/.exec($l),zD=/MSIE \d/.exec($l),u3=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec($l),ai=!!(zD||u3||l3),gl=zD?document.documentMode:u3?+u3[1]:l3?+l3[1]:0,hs=!ai&&/gecko\/(\d+)/i.test($l);hs&&+(/Firefox\/(\d+)/.exec($l)||[0,0])[1];const c3=!ai&&/Chrome\/(\d+)/.exec($l),Mr=!!c3,HD=c3?+c3[1]:0,zr=!ai&&!!Oo&&/Apple Computer/.test(Oo.vendor),l0=zr&&(/Mobile\/\w+/.test($l)||!!Oo&&Oo.maxTouchPoints>2),Ui=l0||(Oo?/Mac/.test(Oo.platform):!1),Z0e=Oo?/Win/.test(Oo.platform):!1,fa=/Android \d/.test($l),fp=!!iC&&"webkitFontSmoothing"in iC.documentElement.style,U0e=fp?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function G0e(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function jo(n,e){return typeof n=="number"?n:n[e]}function K0e(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function sC(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let o=t||n.dom;o;){if(o.nodeType!=1){o=a0(o);continue}let a=o,l=a==s.body,u=l?G0e(s):K0e(a),c=0,h=0;if(e.top<u.top+jo(r,"top")?h=-(u.top-e.top+jo(i,"top")):e.bottom>u.bottom-jo(r,"bottom")&&(h=e.bottom-e.top>u.bottom-u.top?e.top+jo(i,"top")-u.top:e.bottom-u.bottom+jo(i,"bottom")),e.left<u.left+jo(r,"left")?c=-(u.left-e.left+jo(i,"left")):e.right>u.right-jo(r,"right")&&(c=e.right-u.right+jo(i,"right")),c||h)if(l)s.defaultView.scrollBy(c,h);else{let f=a.scrollLeft,p=a.scrollTop;h&&(a.scrollTop+=h),c&&(a.scrollLeft+=c);let m=a.scrollLeft-f,y=a.scrollTop-p;e={left:e.left-m,top:e.top-y,right:e.right-m,bottom:e.bottom-y}}let d=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(d))break;o=d=="absolute"?o.offsetParent:a0(o)}}function Y0e(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=n.root.elementFromPoint(s,o);if(!a||a==n.dom||!n.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=t-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:VD(n.dom)}}function VD(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=a0(r));return e}function J0e({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;qD(t,r==0?0:r-e)}function qD(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:s}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Ic=null;function X0e(n){if(n.setActive)return n.setActive();if(Ic)return n.focus(Ic);let e=VD(n);n.focus(Ic==null?{get preventScroll(){return Ic={preventScroll:!0},!0}}:void 0),Ic||(Ic=!1,qD(e,0))}function WD(n,e){let t,r=2e8,i,s=0,o=e.top,a=e.top,l,u;for(let c=n.firstChild,h=0;c;c=c.nextSibling,h++){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=Qo(c).getClientRects();else continue;for(let f=0;f<d.length;f++){let p=d[f];if(p.top<=o&&p.bottom>=a){o=Math.max(p.bottom,o),a=Math.min(p.top,a);let m=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(m<r){t=c,r=m,i=m&&t.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,c.nodeType==1&&m&&(s=h+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!l&&p.left<=e.left&&p.right>=e.left&&(l=c,u={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!t&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(s=h+1)}}return!t&&l&&(t=l,i=u,r=0),t&&t.nodeType==3?Q0e(t,i):!t||r&&t.nodeType==1?{node:n,offset:s}:WD(t,i)}function Q0e(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let s=Wa(r,1);if(s.top!=s.bottom&&Bw(e,s))return{node:n,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}function Bw(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function ede(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function tde(n,e,t){let{node:r,offset:i}=WD(e,t),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return n.docView.posFromDOM(r,i,s)}function nde(n,e,t,r){let i=-1;for(let s=e,o=!1;s!=n.dom;){let a=n.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function jD(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),s=i;;){let o=n.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(Bw(e,u))return jD(o,e,u)}}if((s=(s+1)%r)==i)break}return n}function rde(n,e){let t=n.dom.ownerDocument,r,i=0,s=j0e(t,e.left,e.top);s&&({node:r,offset:i}=s);let o=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),a;if(!o||!n.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=n.dom.getBoundingClientRect();if(!Bw(e,u)||(o=jD(n.dom,e,u),!o))return null}if(zr)for(let u=o;r&&u;u=a0(u))u.draggable&&(r=void 0);if(o=ede(o,e),r){if(hs&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],h;c.nodeName=="IMG"&&(h=c.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&i++}let u;fp&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=nde(n,r,i,e))}a==null&&(a=tde(n,o,e));let l=n.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function oC(n){return n.top<n.bottom||n.left<n.right}function Wa(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(oC(r))return r}return Array.prototype.find.call(t,oC)||n.getBoundingClientRect()}const ide=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function ZD(n,e,t){let{node:r,offset:i,atom:s}=n.docView.domFromPos(e,t<0?-1:1),o=fp||hs;if(r.nodeType==3)if(o&&(ide.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let l=Wa(Qo(r,i,i),t);if(hs&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Wa(Qo(r,i-1,i-1),-1);if(u.top==l.top){let c=Wa(Qo(r,i,i+1),-1);if(c.top!=l.top)return fd(c,c.left<u.left)}}return l}else{let l=i,u=i,c=t<0?1:-1;return t<0&&!i?(u++,c=-1):t>=0&&i==r.nodeValue.length?(l--,c=1):t<0?l--:u++,fd(Wa(Qo(r,l,u),c),c<0)}if(!n.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(t<0||i==Ji(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return N8(l.getBoundingClientRect(),!1)}if(s==null&&i<Ji(r)){let l=r.childNodes[i];if(l.nodeType==1)return N8(l.getBoundingClientRect(),!0)}return N8(r.getBoundingClientRect(),t>=0)}if(s==null&&i&&(t<0||i==Ji(r))){let l=r.childNodes[i-1],u=l.nodeType==3?Qo(l,Ji(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return fd(Wa(u,1),!1)}if(s==null&&i<Ji(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Qo(l,0,o?0:1):l.nodeType==1?l:null:null;if(u)return fd(Wa(u,-1),!0)}return fd(Wa(r.nodeType==3?Qo(r):r,-t),t>=0)}function fd(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function N8(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function UD(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function sde(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return UD(n,e,()=>{let{node:s}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let a=n.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=ZD(n,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Qo(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(t=="up"?o.top-c.top>(c.bottom-o.top)*2:c.bottom-o.bottom>(o.bottom-c.top)*2))return!1}}return!0})}const ode=/[\u0590-\u08ac]/;function ade(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=n.domSelection();return a?!ode.test(r.parent.textContent)||!a.modify?t=="left"||t=="backward"?s:o:UD(n,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:h}=n.domSelectionRange(),d=a.caretBidiLevel;a.modify("move",t,"character");let f=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:p,focusOffset:m}=n.domSelectionRange(),y=p&&!f.contains(p.nodeType==1?p:p.parentNode)||l==p&&u==m;try{a.collapse(c,h),l&&(l!=c||u!=h)&&a.extend&&a.extend(l,u)}catch{}return d!=null&&(a.caretBidiLevel=d),y}):r.pos==r.start()||r.pos==r.end()}let aC=null,lC=null,uC=!1;function lde(n,e,t){return aC==e&&lC==t?uC:(aC=e,lC=t,uC=t=="up"||t=="down"?sde(n,e,t):ade(n,e,t))}const ds=0,cC=1,bu=2,Io=3;class pp{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=ds,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>pr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return(i==null?r>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!t||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof KD){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof GD&&s.side>=0;r--);if(t<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&t&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?pr(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?pr(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],u=o+l.size;if(i==-1&&e<=u){let c=o+l.border;if(e>=c&&t<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,c);e=o;for(let h=a;h>0;h--){let d=this.children[h-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=pr(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(u>t||a==this.children.length-1)){t=u;for(let c=a+1;c<this.children.length;c++){let h=this.children[c];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){s=pr(h.dom);break}t+=h.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let s=Math.min(e,t),o=Math.max(e,t);for(let f=0,p=0;f<this.children.length;f++){let m=this.children[f],y=p+m.size;if(s>p&&o<y)return m.setSelection(e-p-m.border,t-p-m.border,r,i);p=y}let a=this.domFromPos(e,e?-1:1),l=t==e?a:this.domFromPos(t,t?-1:1),u=r.root.getSelection(),c=r.domSelectionRange(),h=!1;if((hs||zr)&&e==t){let{node:f,offset:p}=a;if(f.nodeType==3){if(h=!!(p&&f.nodeValue[p-1]==`
`),h&&p==f.nodeValue.length)for(let m=f,y;m;m=m.parentNode){if(y=m.nextSibling){y.nodeName=="BR"&&(a=l={node:y.parentNode,offset:pr(y)+1});break}let v=m.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let m=f.childNodes[p-1];h=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(hs&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let f=c.focusNode.childNodes[c.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||h&&zr)&&hc(a.node,a.offset,c.anchorNode,c.anchorOffset)&&hc(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((u.extend||e==t)&&!(h&&hs)){u.collapse(a.node,a.offset);try{e!=t&&u.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>t){let p=a;a=l,l=p}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&t>=r:e<o&&t>r){let a=r+s.border,l=o-s.border;if(e>=a&&t<=l){this.dirty=e==r||t==o?bu:cC,e==a&&t==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Io:s.markDirty(e-a,t-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?bu:Io}r=o}this.dirty=bu}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?bu:cC;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class GD extends pp{constructor(e,t,r,i){let s,o=t.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==ds&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class ude extends pp{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class dc extends pp{constructor(e,t,r,i,s){super(e,[],r,i),this.mark=t,this.spec=s}static create(e,t,r,i){let s=i.nodeViews[t.type.name],o=s&&s(t,i,r);return(!o||!o.dom)&&(o=yc.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new dc(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Io||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Io&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=ds){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ds}}slice(e,t,r){let i=dc.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;t<o&&(s=d3(s,t,o,r)),e>0&&(s=d3(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class yl extends pp{constructor(e,t,r,i,s,o,a,l,u){super(e,[],s,o),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,t,r,i,s,o){let a=s.nodeViews[t.type.name],l,u=a&&a(t,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),c=u&&u.dom,h=u&&u.contentDOM;if(t.isText){if(!c)c=document.createTextNode(t.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:h}=yc.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!h&&!t.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let d=c;return c=XD(c,r,t),u?l=new cde(e,t,r,i,c,h||null,d,u,s,o+1):t.isText?new B4(e,t,r,i,c,d,s):new yl(e,t,r,i,c,h||null,d,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>be.empty)}return e}matchesNode(e,t,r){return this.dirty==ds&&e.eq(this.node)&&M2(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,s=e.composing?this.localCompositionInfo(e,t):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new dde(this,o&&o.node,e);mde(this.node,this.innerDeco,(u,c,h)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!h&&l.syncToMarks(c==this.node.childCount?vt.none:this.node.child(c).marks,r,e),l.placeWidget(u,e,i)},(u,c,h,d)=>{l.syncToMarks(u.marks,r,e);let f;l.findNodeMatch(u,c,h,d)||a&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(f=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(u,c,h,f,e)||l.updateNextNode(u,c,h,e,d,i)||l.addNode(u,c,h,e,i),i+=u.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==bu)&&(o&&this.protectLocalComposition(e,o),YD(this.contentDOM,this.children,e),l0&&gde(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ue)||r<t||i>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=yde(this.node.content,o,r-t,i-t);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new ude(this,s,t,i);e.input.compositionNodes.push(o),this.children=d3(this.children,r,r+i.length,e,o)}update(e,t,r,i){return this.dirty==Io||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=ds}updateOuterDeco(e){if(M2(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=JD(this.dom,this.nodeDOM,h3(this.outerDeco,this.node,t),h3(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function hC(n,e,t,r,i){XD(r,e,n);let s=new yl(void 0,n,e,t,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class B4 extends yl{constructor(e,t,r,i,s,o,a){super(e,t,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==Io||this.dirty!=ds&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=ds||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=ds,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),s=document.createTextNode(i.text);return new B4(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Io)}get domAtom(){return!1}isText(e){return this.node.text==e}}class KD extends pp{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==ds&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class cde extends yl{constructor(e,t,r,i,s,o,a,l,u,c){super(e,t,r,i,s,o,a,u,c),this.spec=l}update(e,t,r,i){if(this.dirty==Io)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,r);return s&&this.updateInner(e,t,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function YD(n,e,t){let r=n.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==n){for(;a!=r;)r=dC(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(a,r);if(o instanceof dc){let l=r?r.previousSibling:n.lastChild;YD(o.contentDOM,o.children,t),r=l?l.nextSibling:n.firstChild}}for(;r;)r=dC(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const kf=function(n){n&&(this.nodeName=n)};kf.prototype=Object.create(null);const ku=[new kf];function h3(n,e,t){if(n.length==0)return ku;let r=t?ku[0]:new kf,i=[r];for(let s=0;s<n.length;s++){let o=n[s].type.attrs;if(!!o){o.nodeName&&i.push(r=new kf(o.nodeName));for(let a in o){let l=o[a];l!=null&&(t&&i.length==1&&i.push(r=new kf(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function JD(n,e,t,r){if(t==ku&&r==ku)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=n&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=ku[0]),i=l}hde(i,a||ku[0],o)}return i}function hde(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&n.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&n.classList.add(i[s]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function XD(n,e,t){return JD(n,n,ku,h3(e,t,n.nodeType!=1))}function M2(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function dC(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class dde{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=fde(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=ds,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[s])&&!this.isLocked(u.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=dc.create(this.top,e[s],t,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(e,t,r)&&!this.preMatch.matched.has(u)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,r,i,s){let o=this.top.children[i];return o.dirty==Io&&o.dom==o.contentDOM&&(o.dirty=bu),o.update(e,t,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof yl){let u=this.preMatch.matched.get(l);if(u!=null&&u!=s)return!1;let c=l.dom,h,d=this.isLocked(c)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Io&&M2(t,l.outerDeco));if(!d&&l.update(e,t,r,i))return this.destroyBetween(this.index,a),l.dom!=c&&(this.changed=!0),this.index++,!0;if(!d&&(h=this.recreateWrapper(l,e,t,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=bu,h.updateChildren(i,o+1),h.dirty=ds),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,s,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!M2(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=yl.create(this.top,t,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,t,r,i,s){let o=yl.create(this.top,e,t,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new GD(this.top,e,t,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof dc;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof B4)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((zr||Mr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new KD(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function fde(n,e){let t=e,r=t.children.length,i=n.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let u=t.children[r-1];if(u instanceof dc)t=u,r=u.children.length;else{a=u,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let l=a.node;if(!!l){if(l!=n.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function pde(n,e){return n.type.side-e.type.side}function mde(n,e,t,r){let i=e.locals(n),s=0;if(i.length==0){for(let u=0;u<n.childCount;u++){let c=n.child(u);r(c,i,e.forChild(s,c),u),s+=c.nodeSize}return}let o=0,a=[],l=null;for(let u=0;;){let c,h;for(;o<i.length&&i[o].to==s;){let y=i[o++];y.widget&&(c?(h||(h=[c])).push(y):c=y)}if(c)if(h){h.sort(pde);for(let y=0;y<h.length;y++)t(h[y],u,!!l)}else t(c,u,!!l);let d,f;if(l)f=-1,d=l,l=null;else if(u<n.childCount)f=u,d=n.child(u++);else break;for(let y=0;y<a.length;y++)a[y].to<=s&&a.splice(y--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let p=s+d.nodeSize;if(d.isText){let y=p;o<i.length&&i[o].from<y&&(y=i[o].from);for(let v=0;v<a.length;v++)a[v].to<y&&(y=a[v].to);y<p&&(l=d.cut(y-s),d=d.cut(0,y-s),p=y,f=-1)}else for(;o<i.length&&i[o].to<p;)o++;let m=d.isInline&&!d.isLeaf?a.filter(y=>!y.inline):a.slice();r(d,m,e.forChild(s,d),f),s=p}}function gde(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function yde(n,e,t,r){for(let i=0,s=0;i<n.childCount&&s<=r;){let o=n.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<n.childCount;){let u=n.child(i++);if(s+=u.nodeSize,!u.isText)break;l+=u.text}if(s>=t){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let u=a<r?l.lastIndexOf(e,r-a-1):-1;if(u>=0&&u+e.length+a>=t)return a+u;if(t==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function d3(n,e,t,r,i){let s=[];for(let o=0,a=0;o<n.length;o++){let l=n[o],u=a,c=a+=l.size;u>=t||c<=e?s.push(l):(u<e&&s.push(l.slice(0,e-u,r)),i&&(s.push(i),i=void 0),c>t&&s.push(l.slice(t-u,l.size,r)))}return s}function Fw(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),s=i&&i.size==0,o=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,u;if($4(t)){for(l=o;i&&!i.node;)i=i.parent;let h=i.node;if(i&&h.isAtom&&Je.isSelectable(h)&&i.parent&&!(h.isInline&&q0e(t.focusNode,t.focusOffset,i.dom))){let d=i.posBefore;u=new Je(o==d?a:r.resolve(d))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let h=o,d=o;for(let f=0;f<t.rangeCount;f++){let p=t.getRangeAt(f);h=Math.min(h,n.docView.posFromDOM(p.startContainer,p.startOffset,1)),d=Math.max(d,n.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(h<0)return null;[l,o]=d==n.state.selection.anchor?[d,h]:[h,d],a=r.resolve(o)}else l=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(l<0)return null}let c=r.resolve(l);if(!u){let h=e=="pointer"||n.state.selection.head<a.pos&&!s?1:-1;u=zw(n,c,a,h)}return u}function QD(n){return n.editable?n.hasFocus():tN(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function ya(n,e=!1){let t=n.state.selection;if(eN(n,t),!!QD(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Mr){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&hc(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)wde(n);else{let{anchor:r,head:i}=t,s,o;fC&&!(t instanceof Ue)&&(t.$from.parent.inlineContent||(s=pC(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=pC(n,t.to))),n.docView.setSelection(r,i,n,e),fC&&(s&&mC(s),o&&mC(o)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&vde(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const fC=zr||Mr&&HD<63;function pC(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,s=r?t.childNodes[r-1]:null;if(zr&&i&&i.contentEditable=="false")return L8(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return L8(i);if(s)return L8(s)}}function L8(n){return n.contentEditable="true",zr&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function mC(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function vde(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!QD(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function wde(n){let e=n.domSelection();if(!e)return;let t=n.cursorWrapper.dom,r=t.nodeName=="IMG";r?e.collapse(t.parentNode,pr(t)+1):e.collapse(t,0),!r&&!n.state.selection.visible&&ai&&gl<=11&&(t.disabled=!0,t.disabled=!1)}function eN(n,e){if(e instanceof Je){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(gC(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else gC(n)}function gC(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function zw(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||Ue.between(e,t,r)}function yC(n){return n.editable&&!n.hasFocus()?!1:tN(n)}function tN(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function bde(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return hc(e.node,e.offset,t.anchorNode,t.anchorOffset)}function f3(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),s=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return s&&lt.findFrom(s,e)}function Ja(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function vC(n,e,t){let r=n.state.selection;if(r instanceof Ue)if(t.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=n.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Ja(n,new Ue(r.$anchor,o))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=f3(n.state,e);return i&&i instanceof Je?Ja(n,i):!1}else if(!(Ui&&t.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=n.docView.descAt(a))&&!o.contentDOM?Je.isSelectable(s)?Ja(n,new Je(e<0?n.state.doc.resolve(i.pos-s.nodeSize):i)):fp?Ja(n,new Ue(n.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Je&&r.node.isInline)return Ja(n,new Ue(e>0?r.$to:r.$from));{let i=f3(n.state,e);return i?Ja(n,i):!1}}}function A2(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function xf(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Dc(n,e){return e<0?kde(n):xde(n)}function kde(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,s,o=!1;for(hs&&t.nodeType==1&&r<A2(t)&&xf(t.childNodes[r],-1)&&(o=!0);;)if(r>0){if(t.nodeType!=1)break;{let a=t.childNodes[r-1];if(xf(a,-1))i=t,s=--r;else if(a.nodeType==3)t=a,r=t.nodeValue.length;else break}}else{if(nN(t))break;{let a=t.previousSibling;for(;a&&xf(a,-1);)i=t.parentNode,s=pr(a),a=a.previousSibling;if(a)t=a,r=A2(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}o?p3(n,t,r):i&&p3(n,i,s)}function xde(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=A2(t),s,o;for(;;)if(r<i){if(t.nodeType!=1)break;let a=t.childNodes[r];if(xf(a,1))s=t,o=++r;else break}else{if(nN(t))break;{let a=t.nextSibling;for(;a&&xf(a,1);)s=a.parentNode,o=pr(a)+1,a=a.nextSibling;if(a)t=a,r=0,i=A2(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}s&&p3(n,s,o)}function nN(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function Sde(n,e){for(;n&&e==n.childNodes.length&&!dp(n);)e=pr(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function Cde(n,e){for(;n&&!e&&!dp(n);)e=pr(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function p3(n,e,t){if(e.nodeType!=3){let s,o;(o=Sde(e,t))?(e=o,t=0):(s=Cde(e,t))&&(e=s,t=s.nodeValue.length)}let r=n.domSelection();if(!r)return;if($4(r)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&ya(n)},50)}function wC(n,e){let t=n.state.doc.resolve(e);if(!(Mr||Z0e)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let s=n.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<t.end()){let s=n.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function bC(n,e,t){let r=n.state.selection;if(r instanceof Ue&&!r.empty||t.indexOf("s")>-1||Ui&&t.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let o=f3(n.state,e);if(o&&o instanceof Je)return Ja(n,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof oi?lt.near(o,e):lt.findFrom(o,e);return a?Ja(n,a):!1}return!1}function kC(n,e){if(!(n.state.selection instanceof Ue))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let o=n.state.tr;return e<0?o.delete(t.pos-s.nodeSize,t.pos):o.delete(t.pos,t.pos+s.nodeSize),n.dispatch(o),!0}return!1}function xC(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function Mde(n){if(!zr||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;xC(n,r,"true"),setTimeout(()=>xC(n,r,"false"),20)}return!1}function Ade(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function _de(n,e){let t=e.keyCode,r=Ade(e);if(t==8||Ui&&t==72&&r=="c")return kC(n,-1)||Dc(n,-1);if(t==46&&!e.shiftKey||Ui&&t==68&&r=="c")return kC(n,1)||Dc(n,1);if(t==13||t==27)return!0;if(t==37||Ui&&t==66&&r=="c"){let i=t==37?wC(n,n.state.selection.from)=="ltr"?-1:1:-1;return vC(n,i,r)||Dc(n,i)}else if(t==39||Ui&&t==70&&r=="c"){let i=t==39?wC(n,n.state.selection.from)=="ltr"?1:-1:1;return vC(n,i,r)||Dc(n,i)}else{if(t==38||Ui&&t==80&&r=="c")return bC(n,-1,r)||Dc(n,-1);if(t==40||Ui&&t==78&&r=="c")return Mde(n)||bC(n,1,r)||Dc(n,1);if(r==(Ui?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Hw(n,e){n.someProp("transformCopied",f=>{e=f(e,n)});let t=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let f=r.firstChild;t.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),r=f.content}let o=n.someProp("clipboardSerializer")||yc.fromSchema(n.state.schema),a=lN(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let u=l.firstChild,c,h=0;for(;u&&u.nodeType==1&&(c=aN[u.nodeName.toLowerCase()]);){for(let f=c.length-1;f>=0;f--){let p=a.createElement(c[f]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),h++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${s}${h?` -${h}`:""} ${JSON.stringify(t)}`);let d=n.someProp("clipboardTextSerializer",f=>f(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:d,slice:e}}function rN(n,e,t,r,i){let s=i.parent.type.spec.code,o,a;if(!t&&!e)return null;let l=!!e&&(r||s||!t);if(l){if(n.someProp("transformPastedText",d=>{e=d(e,s||r,n)}),s)return a=new Le(be.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),n.someProp("transformPasted",d=>{a=d(a,n,!0)}),a;let h=n.someProp("clipboardTextParser",d=>d(e,i,r,n));if(h)a=h;else{let d=i.marks(),{schema:f}=n.state,p=yc.fromSchema(f);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let y=o.appendChild(document.createElement("p"));m&&y.appendChild(p.serializeNode(f.text(m,d)))})}}else n.someProp("transformPastedHTML",h=>{t=h(t,n)}),o=Ide(t),fp&&Dde(o);let u=o&&o.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let h=+c[3];h>0;h--){let d=o.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;o=d}if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||lc.fromSchema(n.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!Tde.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)a=Nde(SC(a,+c[1],+c[2]),c[4]);else if(a=Le.maxOpen(Ede(a.content,i),!0),a.openStart||a.openEnd){let h=0,d=0;for(let f=a.content.firstChild;h<a.openStart&&!f.type.spec.isolating;h++,f=f.firstChild);for(let f=a.content.lastChild;d<a.openEnd&&!f.type.spec.isolating;d++,f=f.lastChild);a=SC(a,h,d)}return n.someProp("transformPasted",h=>{a=h(a,n,l)}),a}const Tde=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Ede(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),s,o=[];if(n.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),u;if(!l)return o=null;if(u=o.length&&s.length&&sN(l,s,a,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=oN(o[o.length-1],s.length));let c=iN(a,l);o.push(c),i=i.matchType(c.type),s=l}}),o)return be.from(o)}return n}function iN(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,be.from(n));return n}function sN(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let s=sN(n,e,t,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(be.from(iN(t,n,i+1))))}}function oN(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,oN(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(be.empty,!0);return n.copy(t.append(r))}function m3(n,e,t,r,i,s){let o=e<0?n.firstChild:n.lastChild,a=o.content;return n.childCount>1&&(s=0),i<r-1&&(a=m3(a,e,t,r,i+1,s)),i>=t&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(be.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,o.copy(a))}function SC(n,e,t){return e<n.openStart&&(n=new Le(m3(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new Le(m3(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const aN={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let CC=null;function lN(){return CC||(CC=document.implementation.createHTMLDocument("title"))}let P8=null;function Ode(n){let e=window.trustedTypes;return e?(P8||(P8=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),P8.createHTML(n)):n}function Ide(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=lN().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&aN[r[1].toLowerCase()])&&(n=i.map(s=>"<"+s+">").join("")+n+i.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=Ode(n),i)for(let s=0;s<i.length;s++)t=t.querySelector(i[s])||t;return t}function Dde(n){let e=n.querySelectorAll(Mr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function Nde(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:s,openEnd:o}=n;for(let a=r.length-2;a>=0;a-=2){let l=t.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=be.from(l.create(r[a+1],i)),s++,o++}return new Le(i,s,o)}const Hr={},Vr={},Lde={touchstart:!0,touchmove:!0};class Pde{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Rde(n){for(let e in Hr){let t=Hr[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{Bde(n,r)&&!Vw(n,r)&&(n.editable||!(r.type in Vr))&&t(n,r)},Lde[e]?{passive:!0}:void 0)}zr&&n.dom.addEventListener("input",()=>null),g3(n)}function dl(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function $de(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function g3(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>Vw(n,r))})}function Vw(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function Bde(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function Fde(n,e){!Vw(n,e)&&Hr[e.type]&&(n.editable||!(e.type in Vr))&&Hr[e.type](n,e)}Vr.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!cN(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(fa&&Mr&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),l0&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,fu(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||_de(n,t)?t.preventDefault():dl(n,"key")};Vr.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Vr.keypress=(n,e)=>{let t=e;if(cN(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Ui&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof Ue)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode),s=()=>n.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",o=>o(n,r.$from.pos,r.$to.pos,i,s))&&n.dispatch(s()),t.preventDefault()}};function F4(n){return{left:n.clientX,top:n.clientY}}function zde(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function qw(n,e,t,r,i){if(r==-1)return!1;let s=n.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(n.someProp(e,a=>o>s.depth?a(n,t,s.nodeAfter,s.before(o),i,!0):a(n,t,s.node(o),s.before(o),i,!1)))return!0;return!1}function sh(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);t=="pointer"&&r.setMeta("pointer",!0),n.dispatch(r)}function Hde(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&Je.isSelectable(r)?(sh(n,new Je(t),"pointer"),!0):!1}function Vde(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof Je&&(r=t.node);let s=n.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(Je.isSelectable(a)){r&&t.$from.depth>0&&o>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?i=s.before(t.$from.depth):i=s.before(o);break}}return i!=null?(sh(n,Je.create(n.state.doc,i),"pointer"),!0):!1}function qde(n,e,t,r,i){return qw(n,"handleClickOn",e,t,r)||n.someProp("handleClick",s=>s(n,e,r))||(i?Vde(n,t):Hde(n,t))}function Wde(n,e,t,r){return qw(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function jde(n,e,t,r){return qw(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||Zde(n,t,r)}function Zde(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(sh(n,Ue.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)sh(n,Ue.create(r,a+1,a+1+o.content.size),"pointer");else if(Je.isSelectable(o))sh(n,Je.create(r,a),"pointer");else continue;return!0}}function Ww(n){return _2(n)}const uN=Ui?"metaKey":"ctrlKey";Hr.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=Ww(n),i=Date.now(),s="singleClick";i-n.input.lastClick.time<500&&zde(t,n.input.lastClick)&&!t[uN]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:s,button:t.button};let o=n.posAtCoords(F4(t));!o||(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new Ude(n,o,t,!!r)):(s=="doubleClick"?Wde:jde)(n,o.pos,o.inside,t)?t.preventDefault():dl(n,"pointer"))};class Ude{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[uN],this.allowDefault=r.shiftKey;let s,o;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),o=t.inside;else{let c=e.state.doc.resolve(t.pos);s=c.parent,o=c.depth?c.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:u}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof Je&&u.from<=o&&u.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&hs&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),dl(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ya(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(F4(e))),this.updateAllowDefault(e),this.allowDefault||!t?dl(this.view,"pointer"):qde(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||zr&&this.mightDrag&&!this.mightDrag.node.isAtom||Mr&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(sh(this.view,lt.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):dl(this.view,"pointer")}move(e){this.updateAllowDefault(e),dl(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Hr.touchstart=n=>{n.input.lastTouch=Date.now(),Ww(n),dl(n,"pointer")};Hr.touchmove=n=>{n.input.lastTouch=Date.now(),dl(n,"pointer")};Hr.contextmenu=n=>Ww(n);function cN(n,e){return n.composing?!0:zr&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const Gde=fa?5e3:-1;Vr.compositionstart=Vr.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof Ue&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),_2(n,!0),n.markCursor=null;else if(_2(n,!e.selection.empty),hs&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=n.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}n.input.composing=!0}hN(n,Gde)};Vr.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,hN(n,20))};function hN(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>_2(n),e))}function dN(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=Yde());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function Kde(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=H0e(e.focusNode,e.focusOffset),r=V0e(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,s=n.domObserver.lastChangedTextNode;if(t==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return r}}return t||r}function Yde(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function _2(n,e=!1){if(!(fa&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),dN(n),e||n.docView&&n.docView.dirty){let t=Fw(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function Jde(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const o1=ai&&gl<15||l0&&U0e<604;Hr.copy=Vr.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let s=o1?null:t.clipboardData,o=r.content(),{dom:a,text:l}=Hw(n,o);s?(t.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):Jde(n,a),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Xde(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function Qde(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?a1(n,r.value,null,i,e):a1(n,r.textContent,r.innerHTML,i,e)},50)}function a1(n,e,t,r,i){let s=rN(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",l=>l(n,i,s||Le.empty)))return!0;if(!s)return!1;let o=Xde(s),a=o?n.state.tr.replaceSelectionWith(o,r):n.state.tr.replaceSelection(s);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function fN(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Vr.paste=(n,e)=>{let t=e;if(n.composing&&!fa)return;let r=o1?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&a1(n,fN(r),r.getData("text/html"),i,t)?t.preventDefault():Qde(n,t)};class pN{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const efe=Ui?"altKey":"ctrlKey";function mN(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t!=null?t:!e[efe]}Hr.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,s=i.empty?null:n.posAtCoords(F4(t)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Je?i.to-1:i.to))){if(r&&r.mightDrag)o=Je.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let h=n.docView.nearestDesc(t.target,!0);h&&h.node.type.spec.draggable&&h!=n.docView&&(o=Je.create(n.state.doc,h.posBefore))}}let a=(o||n.state.selection).content(),{dom:l,text:u,slice:c}=Hw(n,a);(!t.dataTransfer.files.length||!Mr||HD>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(o1?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",o1||t.dataTransfer.setData("text/plain",u),n.dragging=new pN(c,mN(n,t),o)};Hr.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Vr.dragover=Vr.dragenter=(n,e)=>e.preventDefault();Vr.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(F4(t));if(!i)return;let s=n.state.doc.resolve(i.pos),o=r&&r.slice;o?n.someProp("transformPasted",p=>{o=p(o,n,!1)}):o=rN(n,fN(t.dataTransfer),o1?null:t.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&mN(n,t));if(n.someProp("handleDrop",p=>p(n,t,o||Le.empty,a))){t.preventDefault();return}if(!o)return;t.preventDefault();let l=o?Gae(n.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let u=n.state.tr;if(a){let{node:p}=r;p?p.replace(u):u.deleteSelection()}let c=u.mapping.map(l),h=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,d=u.doc;if(h?u.replaceRangeWith(c,c,o.content.firstChild):u.replaceRange(c,c,o),u.doc.eq(d))return;let f=u.doc.resolve(c);if(h&&Je.isSelectable(o.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new Je(f));else{let p=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((m,y,v,b)=>p=b),u.setSelection(zw(n,f,u.doc.resolve(p)))}n.focus(),n.dispatch(u.setMeta("uiEvent","drop"))};Hr.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&ya(n)},20))};Hr.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Hr.beforeinput=(n,e)=>{if(Mr&&fa&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,fu(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in Vr)Hr[n]=Vr[n];function l1(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class T2{constructor(e,t){this.toDOM=e,this.spec=t||ju,this.side=this.spec.side||0}map(e,t,r,i){let{pos:s,deleted:o}=e.mapResult(t.from+i,this.side<0?-1:1);return o?null:new Vn(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof T2&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&l1(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class vl{constructor(e,t){this.attrs=e,this.spec=t||ju}map(e,t,r,i){let s=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Vn(s,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof vl&&l1(this.attrs,e.attrs)&&l1(this.spec,e.spec)}static is(e){return e.type instanceof vl}destroy(){}}class jw{constructor(e,t){this.attrs=e,this.spec=t||ju}map(e,t,r,i){let s=e.mapResult(t.from+i,1);if(s.deleted)return null;let o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Vn(s.pos-r,o.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),s;return i==t.from&&!(s=e.child(r)).isText&&i+s.nodeSize==t.to}eq(e){return this==e||e instanceof jw&&l1(this.attrs,e.attrs)&&l1(this.spec,e.spec)}destroy(){}}class Vn{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Vn(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Vn(e,e,new T2(t,r))}static inline(e,t,r,i){return new Vn(e,t,new vl(r,i))}static node(e,t,r,i){return new Vn(e,t,new jw(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof vl}get widget(){return this.type instanceof T2}}const Rc=[],ju={};class nn{constructor(e,t){this.local=e.length?e:Rc,this.children=t.length?t:Rc}static create(e,t){return t.length?E2(t,e,0,ju):br}find(e,t,r){let i=[];return this.findInner(e==null?0:e,t==null?1e9:t,i,0,r),i}findInner(e,t,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=t&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,t-a,r,i+a,s)}}map(e,t,r){return this==br||e.maps.length==0?this:this.mapInner(e,t,0,0,r||ju)}mapInner(e,t,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(t,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?tfe(this.children,o||[],e,t,r,i,s):o?new nn(o.sort(Zu),Rc):br}add(e,t){return t.length?this==br?nn.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,s=0;e.forEach((a,l)=>{let u=l+r,c;if(!!(c=yN(t,a,u))){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,c,u+1):i.splice(s,0,l,l+a.nodeSize,E2(c,a,u+1,ju)),s+=3}});let o=gN(s?vN(t):t,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new nn(o.length?this.local.concat(o).sort(Zu):this.local,i||this.children)}remove(e){return e.length==0||this==br?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+t,l=r[s+1]+t;for(let c=0,h;c<e.length;c++)(h=e[c])&&h.from>a&&h.to<l&&(e[c]=null,(o||(o=[])).push(h));if(!o)continue;r==this.children&&(r=this.children.slice());let u=r[s+2].removeInner(o,a+1);u!=br?r[s+2]=u:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,t)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new nn(i,r):br}forChild(e,t){if(this==br)return this;if(t.isLeaf)return nn.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+t.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof vl){let u=Math.max(s,l.from)-s,c=Math.min(o,l.to)-s;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let a=new nn(i.sort(Zu),Rc);return r?new rl([a,r]):a}return r||br}eq(e){if(this==e)return!0;if(!(e instanceof nn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Zw(this.localsInner(e))}localsInner(e){if(this==br)return Rc;if(e.inlineContent||!this.local.some(vl.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof vl||t.push(this.local[r]);return t}forEachSet(e){e(this)}}nn.empty=new nn([],[]);nn.removeOverlap=Zw;const br=nn.empty;class rl{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,ju));return rl.from(r)}forChild(e,t){if(t.isLeaf)return nn.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,t);s!=br&&(s instanceof rl?r=r.concat(s.members):r.push(s))}return rl.from(r)}eq(e){if(!(e instanceof rl)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(!!s.length)if(!t)t=s;else{r&&(t=t.slice(),r=!1);for(let o=0;o<s.length;o++)t.push(s[o])}}return t?Zw(r?t:t.sort(Zu)):Rc}static from(e){switch(e.length){case 0:return br;case 1:return e[0];default:return new rl(e.every(t=>t instanceof nn)?e:e.reduce((t,r)=>t.concat(r instanceof nn?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function tfe(n,e,t,r,i,s,o){let a=n.slice();for(let u=0,c=s;u<t.maps.length;u++){let h=0;t.maps[u].forEach((d,f,p,m)=>{let y=m-p-(f-d);for(let v=0;v<a.length;v+=3){let b=a[v+1];if(b<0||d>b+c-h)continue;let k=a[v]+c-h;f>=k?a[v+1]=d<=k?-2:-1:d>=c&&y&&(a[v]+=y,a[v+1]+=y)}h+=y}),c=t.maps[u].map(c,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let c=t.map(n[u]+s),h=c-i;if(h<0||h>=r.content.size){l=!0;continue}let d=t.map(n[u+1]+s,-1),f=d-i,{index:p,offset:m}=r.content.findIndex(h),y=r.maybeChild(p);if(y&&m==h&&m+y.nodeSize==f){let v=a[u+2].mapInner(t,y,c+1,n[u]+s+1,o);v!=br?(a[u]=h,a[u+1]=f,a[u+2]=v):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=nfe(a,n,e,t,i,s,o),c=E2(u,r,0,o);e=c.local;for(let h=0;h<a.length;h+=3)a[h+1]<0&&(a.splice(h,3),h-=3);for(let h=0,d=0;h<c.children.length;h+=3){let f=c.children[h];for(;d<a.length&&a[d]<f;)d+=3;a.splice(d,0,c.children[h],c.children[h+1],c.children[h+2])}}return new nn(e.sort(Zu),a)}function gN(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new Vn(i.from+e,i.to+e,i.type))}return t}function nfe(n,e,t,r,i,s,o){function a(l,u){for(let c=0;c<l.local.length;c++){let h=l.local[c].map(r,i,u);h?t.push(h):o.onRemove&&o.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)a(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<n.length;l+=3)n[l+1]==-1&&a(n[l+2],e[l]+s+1);return t}function yN(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let s=0,o;s<n.length;s++)(o=n[s])&&o.from>t&&o.to<r&&((i||(i=[])).push(o),n[s]=null);return i}function vN(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function E2(n,e,t,r){let i=[],s=!1;e.forEach((a,l)=>{let u=yN(n,a,l+t);if(u){s=!0;let c=E2(u,a,t+l+1,r);c!=br&&i.push(l,l+a.nodeSize,c)}});let o=gN(s?vN(n):n,-t).sort(Zu);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new nn(o,i):br}function Zu(n,e){return n.from-e.from||n.to-e.to}function Zw(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==n&&(e=n.slice()),e[i]=s.copy(s.from,r.to),MC(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,s.from),MC(e,i,r.copy(s.from,r.to)));break}}}return e}function MC(n,e,t){for(;e<n.length&&Zu(t,n[e])>0;)e++;n.splice(e,0,t)}function R8(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=br&&e.push(r)}),n.cursorWrapper&&e.push(nn.create(n.state.doc,[n.cursorWrapper.deco])),rl.from(e)}const rfe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},ife=ai&&gl<=11;class sfe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class ofe{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new sfe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);ai&&gl<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),ife&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,rfe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!yC(this.view)){if(this.suppressingSelectionUpdates)return ya(this.view);if(ai&&gl<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&hc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let s=e.focusNode;s;s=a0(s))t.add(s);for(let s=e.anchorNode;s;s=a0(s))if(t.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&yC(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let c=0;c<t.length;c++){let h=this.registerMutation(t[c],l);h&&(s=s<0?h.from:Math.min(h.from,s),o=o<0?h.to:Math.max(h.to,o),h.typeOver&&(a=!0))}if(hs&&l.length){let c=l.filter(h=>h.nodeName=="BR");if(c.length==2){let[h,d]=c;h.parentNode&&h.parentNode.parentNode==d.parentNode?d.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let d of c){let f=d.parentNode;f&&f.nodeName=="LI"&&(!h||ufe(e,h)!=f)&&d.remove()}}}let u=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&$4(r)&&(u=Fw(e))&&u.eq(lt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ya(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),afe(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||ya(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++){let h=e.addedNodes[c];t.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(ai&&gl<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:h,nextSibling:d}=e.addedNodes[c];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(i=h),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(s=d)}let o=i&&i.parentNode==e.target?pr(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?pr(s):e.target.childNodes.length,u=r.localPosFromDOM(e.target,l,1);return{from:a,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let AC=new WeakMap,_C=!1;function afe(n){if(!AC.has(n)&&(AC.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=hs,_C)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),_C=!0}}function TC(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=n.domAtPos(n.state.selection.anchor);return hc(o.node,o.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function lfe(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return TC(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?TC(n,t):null}function ufe(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function cfe(n,e,t){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=n.docView.parseRange(e,t),l=n.domSelectionRange(),u,c=l.anchorNode;if(c&&n.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],$4(l)||u.push({node:l.focusNode,offset:l.focusOffset})),Mr&&n.input.lastKeyCode===8)for(let y=s;y>i;y--){let v=r.childNodes[y-1],b=v.pmViewDesc;if(v.nodeName=="BR"&&!b){s=y;break}if(!b||b.size)break}let h=n.state.doc,d=n.someProp("domParser")||lc.fromSchema(n.state.schema),f=h.resolve(o),p=null,m=d.parse(r,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:i,to:s,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:hfe,context:f});if(u&&u[0].pos!=null){let y=u[0].pos,v=u[1]&&u[1].pos;v==null&&(v=y),p={anchor:y+o,head:v+o}}return{doc:m,sel:p,from:o,to:a}}function hfe(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(zr&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||zr&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const dfe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function ffe(n,e,t,r,i){let s=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let O=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,D=Fw(n,O);if(D&&!n.state.selection.eq(D)){if(Mr&&fa&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",R=>R(n,fu(13,"Enter"))))return;let $=n.state.tr.setSelection(D);O=="pointer"?$.setMeta("pointer",!0):O=="key"&&$.scrollIntoView(),s&&$.setMeta("composition",s),n.dispatch($)}return}let o=n.state.doc.resolve(e),a=o.sharedDepth(t);e=o.before(a+1),t=n.state.doc.resolve(t).after(a+1);let l=n.state.selection,u=cfe(n,e,t),c=n.state.doc,h=c.slice(u.from,u.to),d,f;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(d=n.state.selection.to,f="end"):(d=n.state.selection.from,f="start"),n.input.lastKeyCode=null;let p=gfe(h.content,u.doc.content,u.from,d,f);if(p&&n.input.domChangeCount++,(l0&&n.input.lastIOSEnter>Date.now()-225||fa)&&i.some(O=>O.nodeType==1&&!dfe.test(O.nodeName))&&(!p||p.endA>=p.endB)&&n.someProp("handleKeyDown",O=>O(n,fu(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!p)if(r&&l instanceof Ue&&!l.empty&&l.$head.sameParent(l.$anchor)&&!n.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let O=EC(n,n.state.doc,u.sel);if(O&&!O.eq(n.state.selection)){let D=n.state.tr.setSelection(O);s&&D.setMeta("composition",s),n.dispatch(D)}}return}n.state.selection.from<n.state.selection.to&&p.start==p.endB&&n.state.selection instanceof Ue&&(p.start>n.state.selection.from&&p.start<=n.state.selection.from+2&&n.state.selection.from>=u.from?p.start=n.state.selection.from:p.endA<n.state.selection.to&&p.endA>=n.state.selection.to-2&&n.state.selection.to<=u.to&&(p.endB+=n.state.selection.to-p.endA,p.endA=n.state.selection.to)),ai&&gl<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>u.from&&u.doc.textBetween(p.start-u.from-1,p.start-u.from+1)==" \xA0"&&(p.start--,p.endA--,p.endB--);let m=u.doc.resolveNoCache(p.start-u.from),y=u.doc.resolveNoCache(p.endB-u.from),v=c.resolve(p.start),b=m.sameParent(y)&&m.parent.inlineContent&&v.end()>=p.endA;if((l0&&n.input.lastIOSEnter>Date.now()-225&&(!b||i.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!b&&m.pos<u.doc.content.size&&(!m.sameParent(y)||!m.parent.inlineContent)&&m.pos<y.pos&&!/\S/.test(u.doc.textBetween(m.pos,y.pos,"","")))&&n.someProp("handleKeyDown",O=>O(n,fu(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>p.start&&mfe(c,p.start,p.endA,m,y)&&n.someProp("handleKeyDown",O=>O(n,fu(8,"Backspace")))){fa&&Mr&&n.domObserver.suppressSelectionUpdates();return}Mr&&p.endB==p.start&&(n.input.lastChromeDelete=Date.now()),fa&&!b&&m.start()!=y.start()&&y.parentOffset==0&&m.depth==y.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==p.endA&&(p.endB-=2,y=u.doc.resolveNoCache(p.endB-u.from),setTimeout(()=>{n.someProp("handleKeyDown",function(O){return O(n,fu(13,"Enter"))})},20));let k=p.start,_=p.endA,C=O=>{let D=O||n.state.tr.replace(k,_,u.doc.slice(p.start-u.from,p.endB-u.from));if(u.sel){let $=EC(n,D.doc,u.sel);$&&!(Mr&&n.composing&&$.empty&&(p.start!=p.endB||n.input.lastChromeDelete<Date.now()-100)&&($.head==k||$.head==D.mapping.map(_)-1)||ai&&$.empty&&$.head==k)&&D.setSelection($)}return s&&D.setMeta("composition",s),D.scrollIntoView()},M;if(b)if(m.pos==y.pos){ai&&gl<=11&&m.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>ya(n),20));let O=C(n.state.tr.delete(k,_)),D=c.resolve(p.start).marksAcross(c.resolve(p.endA));D&&O.ensureMarks(D),n.dispatch(O)}else if(p.endA==p.endB&&(M=pfe(m.parent.content.cut(m.parentOffset,y.parentOffset),v.parent.content.cut(v.parentOffset,p.endA-v.start())))){let O=C(n.state.tr);M.type=="add"?O.addMark(k,_,M.mark):O.removeMark(k,_,M.mark),n.dispatch(O)}else if(m.parent.child(m.index()).isText&&m.index()==y.index()-(y.textOffset?0:1)){let O=m.parent.textBetween(m.parentOffset,y.parentOffset),D=()=>C(n.state.tr.insertText(O,k,_));n.someProp("handleTextInput",$=>$(n,k,_,O,D))||n.dispatch(D())}else n.dispatch(C());else n.dispatch(C())}function EC(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:zw(n,e.resolve(t.anchor),e.resolve(t.head))}function pfe(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,s=r,o,a,l;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<t.length;c++)s=t[c].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=c=>c.mark(a.addToSet(c.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=c=>c.mark(a.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(l(e.child(c)));if(be.from(u).eq(n))return{mark:a,type:o}}function mfe(n,e,t,r,i){if(t-e<=i.pos-r.pos||$8(r,!0,!1)<i.pos)return!1;let s=n.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&t==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=n.resolve($8(s,!0,!0));return!o.parent.isTextblock||o.pos>t||$8(o,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function $8(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function gfe(n,e,t,r,i){let s=n.findDiffStart(e,t);if(s==null)return null;let{a:o,b:a}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&n.size<e.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<e.size&&OC(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<n.size&&OC(n.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function OC(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class Uw{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Pde,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(PC),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=NC(this),DC(this),this.nodeViews=LC(this),this.docView=hC(this.state.doc,IC(this),R8(this),this.dom,this),this.domObserver=new ofe(this,(r,i,s,o)=>ffe(this,r,i,s,o)),this.domObserver.start(),Rde(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&g3(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(PC),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(dN(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let f=LC(this);vfe(f,this.nodeViews)&&(this.nodeViews=f,s=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&g3(this),this.editable=NC(this),DC(this);let l=R8(this),u=IC(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",h=s||!this.docView.matchesNode(e.doc,u,l);(h||!e.selection.eq(i.selection))&&(o=!0);let d=c=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Y0e(this);if(o){this.domObserver.stop();let f=h&&(ai||Mr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&yfe(i.selection,e.selection);if(h){let p=Mr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Kde(this)),(s||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=hC(e.doc,u,l,this.dom,this)),p&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&bde(this))?ya(this,f):(eN(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),((r=this.dragging)===null||r===void 0?void 0:r.node)&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():d&&J0e(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Je){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&sC(this,t.getBoundingClientRect(),e)}else sC(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new pN(e.slice,e.move,i<0?void 0:Je.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=t?t(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=t?t(a):a))return i}}hasFocus(){if(ai){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&X0e(this.dom),ya(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return rde(this,e)}coordsAtPos(e,t=1){return ZD(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return lde(this,t||this.state,e)}pasteHTML(e,t){return a1(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return a1(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return Hw(this,e)}destroy(){!this.docView||($de(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],R8(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,F0e())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Fde(this,e)}domSelectionRange(){let e=this.domSelection();return e?zr&&this.root.nodeType===11&&W0e(this.dom.ownerDocument)==this.dom&&lfe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Uw.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function IC(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Vn.node(0,n.state.doc.content.size,e)]}function DC(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Vn.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function NC(n){return!n.someProp("editable",e=>e(n.state)===!1)}function yfe(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function LC(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function vfe(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function PC(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}function Oa(n,e){return n.meta={package:"@milkdown/core",group:"System",...e},n}const wN={text:(n,e,t,r)=>{const i=n.value;return/^[^*_\\]*\s+$/.test(i)?i:t.safe(i,{...r,encode:[]})},strong:(n,e,t,r)=>{const i=n.marker||t.options.strong||"*",s=t.enter("strong"),o=t.createTracker(r);let a=o.move(i+i);return a+=o.move(t.containerPhrasing(n,{before:a,after:i,...o.current()})),a+=o.move(i+i),s(),a},emphasis:(n,e,t,r)=>{const i=n.marker||t.options.emphasis||"*",s=t.enter("emphasis"),o=t.createTracker(r);let a=o.move(i);return a+=o.move(t.containerPhrasing(n,{before:a,after:i,...o.current()})),a+=o.move(i),s(),a}},an=Ct({},"editorView"),zd=Ct({},"editorState"),B8=Ct([],"initTimer"),y3=Ct({},"editor"),u1=Ct([],"inputRules"),_l=Ct([],"prosePlugins"),c1=Ct([],"remarkPlugins"),h1=Ct([],"nodeView"),d1=Ct([],"markView"),Uu=Ct(r3().use(Yv).use(e3),"remark"),Sf=Ct({handlers:wN,encode:[]},"remarkStringifyOptions"),bg=Po("ConfigReady");function wfe(n){const e=t=>(t.record(bg),async()=>(await n(t),t.done(bg),()=>{t.clearTimer(bg)}));return Oa(e,{displayName:"Config"}),e}const Gu=Po("InitReady");function bfe(n){const e=t=>(t.inject(y3,n).inject(_l,[]).inject(c1,[]).inject(u1,[]).inject(h1,[]).inject(d1,[]).inject(Sf,{handlers:wN,encode:[]}).inject(Uu,r3().use(Yv).use(e3)).inject(B8,[bg]).record(Gu),async()=>{await t.waitTimers(B8);const r=t.get(Sf);return t.set(Uu,r3().use(Yv).use(e3,r)),t.done(Gu),()=>{t.remove(y3).remove(_l).remove(c1).remove(u1).remove(h1).remove(d1).remove(Sf).remove(Uu).remove(B8).clearTimer(Gu)}});return Oa(e,{displayName:"Init"}),e}const Br=Po("SchemaReady"),F8=Ct([],"schemaTimer"),Mo=Ct({},"schema"),Cf=Ct([],"nodes"),Mf=Ct([],"marks");function RC(n){var e;return{...n,parseDOM:(e=n.parseDOM)==null?void 0:e.map(t=>({priority:n.priority,...t}))}}const bN=n=>(n.inject(Mo,{}).inject(Cf,[]).inject(Mf,[]).inject(F8,[Gu]).record(Br),async()=>{await n.waitTimers(F8);const e=n.get(Uu),r=n.get(c1).reduce((a,l)=>a.use(l.plugin,l.options),e);n.set(Uu,r);const i=Object.fromEntries(n.get(Cf).map(([a,l])=>[a,RC(l)])),s=Object.fromEntries(n.get(Mf).map(([a,l])=>[a,RC(l)])),o=new SI({nodes:i,marks:s});return n.set(Mo,o),n.done(Br),()=>{n.remove(Mo).remove(Cf).remove(Mf).remove(F8).clearTimer(Br)}});Oa(bN,{displayName:"Schema"});var _u,Zi;class kN{constructor(){Ee(this,_u,void 0);Ee(this,Zi,void 0);de(this,_u,new KI),de(this,Zi,null),this.setCtx=e=>{de(this,Zi,e)},this.chain=()=>{if(Y(this,Zi)==null)throw b8();const e=Y(this,Zi),t=[],r=this.get.bind(this),i={run:()=>{const o=T0(...t),a=e.get(an);return o(a.state,a.dispatch,a)},inline:o=>(t.push(o),i),pipe:s.bind(this)};function s(o,a){const l=r(o);return t.push(l(a)),i}return i}}get ctx(){return Y(this,Zi)}create(e,t){const r=e.create(Y(this,_u).sliceMap);return r.set(t),r}get(e){return Y(this,_u).get(e).get()}remove(e){return Y(this,_u).remove(e)}call(e,t){if(Y(this,Zi)==null)throw b8();const i=this.get(e)(t),s=Y(this,Zi).get(an);return i(s.state,s.dispatch,s)}inline(e){if(Y(this,Zi)==null)throw b8();const t=Y(this,Zi).get(an);return e(t.state,t.dispatch,t)}}_u=new WeakMap,Zi=new WeakMap;function kfe(n="cmdKey"){return Ct(()=>()=>!1,n)}const We=Ct(new kN,"commands"),z8=Ct([Br],"commandsTimer"),Af=Po("CommandsReady"),xN=n=>{const e=new kN;return e.setCtx(n),n.inject(We,e).inject(z8,[Br]).record(Af),async()=>(await n.waitTimers(z8),n.done(Af),()=>{n.remove(We).remove(z8).clearTimer(Af)})};Oa(xN,{displayName:"Commands"});function xfe(n){const e=T0(sle,Nw,y0e,ND);return n.Backspace=e,n}var Tu,Gr;class SN{constructor(){Ee(this,Tu,void 0);Ee(this,Gr,void 0);de(this,Tu,null),de(this,Gr,[]),this.setCtx=e=>{de(this,Tu,e)},this.add=e=>(Y(this,Gr).push(e),()=>{de(this,Gr,Y(this,Gr).filter(t=>t!==e))}),this.addObjectKeymap=e=>{const t=[];return Object.entries(e).forEach(([r,i])=>{if(typeof i=="function"){const s={key:r,onRun:()=>i};Y(this,Gr).push(s),t.push(()=>{de(this,Gr,Y(this,Gr).filter(o=>o!==s))})}else Y(this,Gr).push(i),t.push(()=>{de(this,Gr,Y(this,Gr).filter(s=>s!==i))})}),()=>{t.forEach(r=>r())}},this.addBaseKeymap=()=>{const e=xfe(L0e);return this.addObjectKeymap(e)},this.build=()=>{const e={};return Y(this,Gr).forEach(r=>{e[r.key]=[...e[r.key]||[],r]}),Object.fromEntries(Object.entries(e).map(([r,i])=>{const s=i.sort((a,l)=>{var u,c;return((u=l.priority)!=null?u:50)-((c=a.priority)!=null?c:50)});return[r,(a,l,u)=>{const c=Y(this,Tu);if(c==null)throw E4();const h=s.map(f=>f.onRun(c));return T0(...h)(a,l,u)}]}))}}get ctx(){return Y(this,Tu)}}Tu=new WeakMap,Gr=new WeakMap;const O2=Ct(new SN,"keymap"),H8=Ct([Br],"keymapTimer"),_f=Po("KeymapReady"),Sfe=n=>{const e=new SN;return e.setCtx(n),n.inject(O2,e).inject(H8,[Br]).record(_f),async()=>(await n.waitTimers(H8),n.done(_f),()=>{n.remove(O2).remove(H8).clearTimer(_f)})},kg=Po("ParserReady"),CN=()=>{throw E4()},Tf=Ct(CN,"parser"),V8=Ct([],"parserTimer"),MN=n=>(n.inject(Tf,CN).inject(V8,[Br]).record(kg),async()=>{await n.waitTimers(V8);const e=n.get(Uu),t=n.get(Mo);return n.set(Tf,p0e.create(t,e)),n.done(kg),()=>{n.remove(Tf).remove(V8).clearTimer(kg)}});Oa(MN,{displayName:"Parser"});const Ef=Po("SerializerReady"),q8=Ct([],"serializerTimer"),AN=()=>{throw E4()},oh=Ct(AN,"serializer"),_N=n=>(n.inject(oh,AN).inject(q8,[Br]).record(Ef),async()=>{await n.waitTimers(q8);const e=n.get(Uu),t=n.get(Mo);return n.set(oh,g0e.create(t,e)),n.done(Ef),()=>{n.remove(oh).remove(q8).clearTimer(Ef)}});Oa(_N,{displayName:"Serializer"});const xg=Ct("","defaultValue"),W8=Ct(n=>n,"stateOptions"),j8=Ct([],"editorStateTimer"),Sg=Po("EditorStateReady");function Cfe(n,e,t){if(typeof n=="string")return e(n);if(n.type==="html")return lc.fromSchema(t).parse(n.dom);if(n.type==="json")return cs.fromJSON(t,n.value);throw ale(n)}const Mfe=new pn("MILKDOWN_STATE_TRACKER"),TN=n=>(n.inject(xg,"").inject(zd,{}).inject(W8,e=>e).inject(j8,[kg,Ef,Af,_f]).record(Sg),async()=>{await n.waitTimers(j8);const e=n.get(Mo),t=n.get(Tf),r=n.get(u1),i=n.get(W8),s=n.get(_l),o=n.get(xg),a=Cfe(o,t,e),l=n.get(O2),u=l.addBaseKeymap(),c=[...s,new fn({key:Mfe,state:{init:()=>{},apply:(f,p,m,y)=>{n.set(zd,y)}}}),Cle({rules:r}),FD(l.build())];n.set(_l,c);const h=i({schema:e,doc:a,plugins:c}),d=wu.create(h);return n.set(zd,d),n.done(Sg),()=>{u(),n.remove(xg).remove(zd).remove(W8).remove(j8).clearTimer(Sg)}});Oa(TN,{displayName:"EditorState"});const f1=Ct([],"pasteRule"),Z8=Ct([Br],"pasteRuleTimer"),Cg=Po("PasteRuleReady"),EN=n=>(n.inject(f1,[]).inject(Z8,[Br]).record(Cg),async()=>(await n.waitTimers(Z8),n.done(Cg),()=>{n.remove(f1).remove(Z8).clearTimer(Cg)}));Oa(EN,{displayName:"PasteRule"});const Mg=Po("EditorViewReady"),U8=Ct([],"editorViewTimer"),Of=Ct({},"editorViewOptions"),Ag=Ct(null,"root"),v3=Ct(null,"rootDOM"),w3=Ct({},"rootAttrs");function Afe(n,e){const t=document.createElement("div");t.className="milkdown",n.appendChild(t),e.set(v3,t);const r=e.get(w3);return Object.entries(r).forEach(([i,s])=>t.setAttribute(i,s)),t}function _fe(n){n.classList.add("editor"),n.setAttribute("role","textbox")}const Tfe=new pn("MILKDOWN_VIEW_CLEAR"),ON=n=>(n.inject(Ag,document.body).inject(an,{}).inject(Of,{}).inject(v3,null).inject(w3,{}).inject(U8,[Sg,Cg]).record(Mg),async()=>{await n.wait(Gu);const e=n.get(Ag)||document.body,t=typeof e=="string"?document.querySelector(e):e;n.update(_l,l=>[new fn({key:Tfe,view:u=>{const c=t?Afe(t,n):void 0;return(()=>{if(c&&t){const d=u.dom;t.replaceChild(c,d),c.appendChild(d)}})(),{destroy:()=>{c!=null&&c.parentNode&&(c==null||c.parentNode.replaceChild(u.dom,c)),c==null||c.remove()}}}}),...l]),await n.waitTimers(U8);const r=n.get(zd),i=n.get(Of),s=Object.fromEntries(n.get(h1)),o=Object.fromEntries(n.get(d1)),a=new Uw(t,{state:r,nodeViews:s,markViews:o,transformPasted:(l,u,c)=>(n.get(f1).sort((h,d)=>{var f,p;return((f=d.priority)!=null?f:50)-((p=h.priority)!=null?p:50)}).map(h=>h.run).forEach(h=>{l=h(l,u,c)}),l),...i});return _fe(a.dom),n.set(an,a),n.done(Mg),()=>{a==null||a.destroy(),n.remove(Ag).remove(an).remove(Of).remove(v3).remove(w3).remove(U8).clearTimer(Mg)}});Oa(ON,{displayName:"EditorView"});var I2=(n=>(n.Idle="Idle",n.OnCreate="OnCreate",n.Created="Created",n.OnDestroy="OnDestroy",n.Destroyed="Destroyed",n))(I2||{}),Eu,Si,aa,kh,O1,I1,Kr,la,Ou,D1,Iu,xh,N1,al,Sh;const mk=class{constructor(){Ee(this,Eu,void 0);Ee(this,Si,void 0);Ee(this,aa,void 0);Ee(this,kh,void 0);Ee(this,O1,void 0);Ee(this,I1,void 0);Ee(this,Kr,void 0);Ee(this,la,void 0);Ee(this,Ou,void 0);Ee(this,D1,void 0);Ee(this,Iu,void 0);Ee(this,xh,void 0);Ee(this,N1,void 0);Ee(this,al,void 0);Ee(this,Sh,void 0);de(this,Eu,!1),de(this,Si,"Idle"),de(this,aa,[]),de(this,kh,()=>{}),de(this,O1,new KI),de(this,I1,new Vle),de(this,Kr,new Map),de(this,la,new Map),de(this,Ou,new Zv(Y(this,O1),Y(this,I1))),de(this,D1,()=>{const e=wfe(async r=>{await Promise.all(Y(this,aa).map(i=>Promise.resolve(i(r))))}),t=[bN,MN,_N,xN,Sfe,EN,TN,ON,bfe(this),e];Y(this,Iu).call(this,t,Y(this,la))}),de(this,Iu,(e,t)=>{e.forEach(r=>{const i=Y(this,Ou).produce(Y(this,Eu)?r.meta:void 0),s=r(i);t.set(r,{ctx:i,handler:s,cleanup:void 0})})}),de(this,xh,(e,t=!1)=>Promise.all([e].flat().map(async r=>{const i=Y(this,Kr).get(r),s=i==null?void 0:i.cleanup;return t?Y(this,Kr).delete(r):Y(this,Kr).set(r,{ctx:void 0,handler:void 0,cleanup:void 0}),typeof s=="function"?s():s}))),de(this,N1,async()=>{await Promise.all([...Y(this,la).entries()].map(async([e,{cleanup:t}])=>typeof t=="function"?t():t)),Y(this,la).clear()}),de(this,al,e=>{de(this,Si,e),Y(this,kh).call(this,e)}),de(this,Sh,e=>[...e.entries()].map(async([t,r])=>{const{ctx:i,handler:s}=r;if(!s)return;const o=await s();e.set(t,{ctx:i,handler:s,cleanup:o})})),this.enableInspector=(e=!0)=>(de(this,Eu,e),this),this.onStatusChange=e=>(de(this,kh,e),this),this.config=e=>(Y(this,aa).push(e),this),this.removeConfig=e=>(de(this,aa,Y(this,aa).filter(t=>t!==e)),this),this.use=e=>{const t=[e].flat();return t.flat().forEach(r=>{Y(this,Kr).set(r,{ctx:void 0,handler:void 0,cleanup:void 0})}),Y(this,Si)==="Created"&&Y(this,Iu).call(this,t,Y(this,Kr)),this},this.remove=async e=>Y(this,Si)==="OnCreate"?(console.warn("[Milkdown]: You are trying to remove plugins when the editor is creating, this is not recommended, please check your code."),new Promise(t=>{setTimeout(()=>{t(this.remove(e))},50)})):(await Y(this,xh).call(this,[e].flat(),!0),this),this.create=async()=>Y(this,Si)==="OnCreate"?this:(Y(this,Si)==="Created"&&await this.destroy(),Y(this,al).call(this,"OnCreate"),Y(this,D1).call(this),Y(this,Iu).call(this,[...Y(this,Kr).keys()],Y(this,Kr)),await Promise.all([Y(this,Sh).call(this,Y(this,la)),Y(this,Sh).call(this,Y(this,Kr))].flat()),Y(this,al).call(this,"Created"),this),this.destroy=async(e=!1)=>Y(this,Si)==="Destroyed"||Y(this,Si)==="OnDestroy"?this:Y(this,Si)==="OnCreate"?new Promise(t=>{setTimeout(()=>{t(this.destroy(e))},50)}):(e&&de(this,aa,[]),Y(this,al).call(this,"OnDestroy"),await Y(this,xh).call(this,[...Y(this,Kr).keys()],e),await Y(this,N1).call(this),Y(this,al).call(this,"Destroyed"),this),this.action=e=>e(Y(this,Ou)),this.inspect=()=>Y(this,Eu)?[...Y(this,la).values(),...Y(this,Kr).values()].map(({ctx:e})=>{var t;return(t=e==null?void 0:e.inspector)==null?void 0:t.read()}).filter(e=>Boolean(e)):(console.warn("[Milkdown]: You are trying to collect inspection when inspector is disabled, please enable inspector by `editor.enableInspector()` first."),[])}static make(){return new mk}get ctx(){return Y(this,Ou)}get status(){return Y(this,Si)}};let b3=mk;Eu=new WeakMap,Si=new WeakMap,aa=new WeakMap,kh=new WeakMap,O1=new WeakMap,I1=new WeakMap,Kr=new WeakMap,la=new WeakMap,Ou=new WeakMap,D1=new WeakMap,Iu=new WeakMap,xh=new WeakMap,N1=new WeakMap,al=new WeakMap,Sh=new WeakMap;let Efe=n=>crypto.getRandomValues(new Uint8Array(n)),Ofe=(n,e,t)=>{let r=(2<<Math.log2(n.length-1))-1,i=-~(1.6*r*e/n.length);return(s=e)=>{let o="";for(;;){let a=t(i),l=i|0;for(;l--;)if(o+=n[a[l]&r]||"",o.length>=s)return o}}},Ife=(n,e=21)=>Ofe(n,e|0,Efe);Ife("abcedfghicklmn",10);function at(n,e){const t=kfe(n),r=i=>async()=>{r.key=t,await i.wait(Af);const s=e(i);return i.get(We).create(t,s),r.run=o=>i.get(We).call(n,o),()=>{i.get(We).remove(t)}};return r}function Er(n){const e=t=>async()=>{await t.wait(Br);const r=n(t);return t.update(u1,i=>[...i,r]),e.inputRule=r,()=>{t.update(u1,i=>i.filter(s=>s!==r))}};return e}function Dfe(n){const e=t=>async()=>{await t.wait(Br);const r=n(t);return t.update(f1,i=>[...i,r]),e.pasteRule=r,()=>{t.update(f1,i=>i.filter(s=>s!==r))}};return e}function Nfe(n,e){const t=r=>async()=>{const i=e(r);return r.update(Mf,s=>[...s.filter(o=>o[0]!==n),[n,i]]),t.id=n,t.schema=i,()=>{r.update(Mf,s=>s.filter(([o])=>o!==n))}};return t.type=r=>{const i=r.get(Mo).marks[n];if(!i)throw mle(n);return i},t}function Gw(n,e){const t=r=>async()=>{const i=e(r);return r.update(Cf,s=>[...s.filter(o=>o[0]!==n),[n,i]]),t.id=n,t.schema=i,()=>{r.update(Cf,s=>s.filter(([o])=>o!==n))}};return t.type=r=>{const i=r.get(Mo).nodes[n];if(!i)throw ple(n);return i},t}function Wn(n){let e;const t=r=>async()=>(await r.wait(Br),e=n(r),r.update(_l,i=>[...i,e]),()=>{r.update(_l,i=>i.filter(s=>s!==e))});return t.plugin=()=>e,t.key=()=>e.spec.key,t}function IN(n){const e=t=>async()=>{await t.wait(_f);const r=t.get(O2),i=n(t),s=r.addObjectKeymap(i);return e.keymap=i,()=>{s()}};return e}function mp(n,e){const t=r=>async()=>{await r.wait(Br);const i=e(r);return n.type(r)instanceof r0?r.update(h1,s=>[...s,[n.id,i]]):r.update(d1,s=>[...s,[n.id,i]]),t.view=i,t.type=n,()=>{n.type(r)instanceof r0?r.update(h1,s=>s.filter(o=>o[0]!==n.id)):r.update(d1,s=>s.filter(o=>o[0]!==n.id))}};return t}function Ut(n,e){const t=Ct(n,e),r=i=>(i.inject(t),()=>()=>{i.remove(t)});return r.key=t,r}function Pn(n,e){const t=Ut(e,n),r=Gw(n,s=>s.get(t.key)(s)),i=[t,r];return i.id=r.id,i.node=r,i.type=s=>r.type(s),i.ctx=t,i.key=t.key,i.extendSchema=s=>{const o=s(e);return Pn(n,o)},i}function E0(n,e){const t=Ut(e,n),r=Nfe(n,s=>s.get(t.key)(s)),i=[t,r];return i.id=r.id,i.mark=r,i.type=s=>r.type(s),i.ctx=t,i.key=t.key,i.extendSchema=s=>{const o=s(e);return E0(n,o)},i}function di(n,e){const t=Object.fromEntries(Object.entries(e).map(([o,{shortcuts:a,priority:l}])=>[o,{shortcuts:a,priority:l}])),r=Ut(t,`${n}Keymap`),i=IN(o=>{const a=o.get(r.key),l=Object.entries(e).flatMap(([u,{command:c}])=>{const h=a[u],d=[h.shortcuts].flat(),f=h.priority;return d.map(p=>[p,{key:p,onRun:c,priority:f}])});return Object.fromEntries(l)}),s=[r,i];return s.ctx=r,s.shortcuts=i,s.key=r.key,s.keymap=i.keymap,s}const js=(n,e=()=>({}))=>Ut(e,`${n}Attr`),gp=(n,e=()=>({}))=>Ut(e,`${n}Attr`);function Ro(n,e,t){const r=Ut(t!=null?t:{},n),i=o=>async()=>{await o.wait(Gu);const l={plugin:e(o),options:o.get(r.key)};return o.update(c1,u=>[...u,l]),()=>{o.update(c1,u=>u.filter(c=>c!==l))}},s=[r,i];return s.id=n,s.plugin=i,s.options=r,s}function Lfe(n){return e=>{const t=e.get(an),r=e.get(Mo),i=e.get(oh);if(!n)return i(t.state.doc);const o=t.state.doc.slice(n.from,n.to,!0),a=r.topNodeType.createAndFill(null,o.content);return a?i(a):(console.error("No document found"),"")}}const k3=Math.min,ah=Math.max,D2=Math.round,Ao=n=>({x:n,y:n}),Pfe={left:"right",right:"left",bottom:"top",top:"bottom"},Rfe={start:"end",end:"start"};function $C(n,e,t){return ah(n,k3(e,t))}function z4(n,e){return typeof n=="function"?n(e):n}function fc(n){return n.split("-")[0]}function H4(n){return n.split("-")[1]}function DN(n){return n==="x"?"y":"x"}function NN(n){return n==="y"?"height":"width"}const $fe=new Set(["top","bottom"]);function fl(n){return $fe.has(fc(n))?"y":"x"}function LN(n){return DN(fl(n))}function Bfe(n,e,t){t===void 0&&(t=!1);const r=H4(n),i=LN(n),s=NN(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=N2(o)),[o,N2(o)]}function Ffe(n){const e=N2(n);return[x3(n),e,x3(e)]}function x3(n){return n.replace(/start|end/g,e=>Rfe[e])}const BC=["left","right"],FC=["right","left"],zfe=["top","bottom"],Hfe=["bottom","top"];function Vfe(n,e,t){switch(n){case"top":case"bottom":return t?e?FC:BC:e?BC:FC;case"left":case"right":return e?zfe:Hfe;default:return[]}}function qfe(n,e,t,r){const i=H4(n);let s=Vfe(fc(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(x3)))),s}function N2(n){return n.replace(/left|right|bottom|top/g,e=>Pfe[e])}function Wfe(n){return{top:0,right:0,bottom:0,left:0,...n}}function jfe(n){return typeof n!="number"?Wfe(n):{top:n,right:n,bottom:n,left:n}}function L2(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function zC(n,e,t){let{reference:r,floating:i}=n;const s=fl(e),o=LN(e),a=NN(o),l=fc(e),u=s==="y",c=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:c,y:r.y-i.height};break;case"bottom":f={x:c,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-i.width,y:h};break;default:f={x:r.x,y:r.y}}switch(H4(e)){case"start":f[o]-=d*(t&&u?-1:1);break;case"end":f[o]+=d*(t&&u?-1:1);break}return f}const Zfe=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:c,y:h}=zC(u,r,l),d=r,f={},p=0;for(let m=0;m<a.length;m++){const{name:y,fn:v}=a[m],{x:b,y:k,data:_,reset:C}=await v({x:c,y:h,initialPlacement:r,placement:d,strategy:i,middlewareData:f,rects:u,platform:o,elements:{reference:n,floating:e}});c=b!=null?b:c,h=k!=null?k:h,f={...f,[y]:{...f[y],..._}},C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(d=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):C.rects),{x:c,y:h}=zC(u,d,l)),m=-1)}return{x:c,y:h,placement:d,strategy:i,middlewareData:f}};async function PN(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=z4(e,n),p=jfe(f),y=a[d?h==="floating"?"reference":"floating":h],v=L2(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(y)))==null||t?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),b=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),_=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},C=L2(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:k,strategy:l}):b);return{top:(v.top-C.top+p.top)/_.y,bottom:(C.bottom-v.bottom+p.bottom)/_.y,left:(v.left-C.left+p.left)/_.x,right:(C.right-v.right+p.right)/_.x}}const Ufe=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...y}=z4(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const v=fc(i),b=fl(a),k=fc(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),C=d||(k||!m?[N2(a)]:Ffe(a)),M=p!=="none";!d&&M&&C.push(...qfe(a,m,p,_));const O=[a,...C],D=await PN(e,y),$=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&$.push(D[v]),h){const Z=Bfe(i,o,_);$.push(D[Z[0]],D[Z[1]])}if(R=[...R,{placement:i,overflows:$}],!$.every(Z=>Z<=0)){var G,N;const Z=(((G=s.flip)==null?void 0:G.index)||0)+1,re=O[Z];if(re&&(!(h==="alignment"?b!==fl(re):!1)||R.every(ne=>fl(ne.placement)===b?ne.overflows[0]>0:!0)))return{data:{index:Z,overflows:R},reset:{placement:re}};let J=(N=R.filter(K=>K.overflows[0]<=0).sort((K,ne)=>K.overflows[1]-ne.overflows[1])[0])==null?void 0:N.placement;if(!J)switch(f){case"bestFit":{var j;const K=(j=R.filter(ne=>{if(M){const pe=fl(ne.placement);return pe===b||pe==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(pe=>pe>0).reduce((pe,B)=>pe+B,0)]).sort((ne,pe)=>ne[1]-pe[1])[0])==null?void 0:j[0];K&&(J=K);break}case"initialPlacement":J=a;break}if(i!==J)return{reset:{placement:J}}}return{}}}};const Gfe=new Set(["left","top"]);async function Kfe(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=fc(t),a=H4(t),l=fl(t)==="y",u=Gfe.has(o)?-1:1,c=s&&l?-1:1,h=z4(e,n);let{mainAxis:d,crossAxis:f,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),l?{x:f*c,y:d*u}:{x:d*u,y:f*c}}const Yfe=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Kfe(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Jfe=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:v,y:b}=y;return{x:v,y:b}}},...l}=z4(n,e),u={x:t,y:r},c=await PN(e,l),h=fl(fc(i)),d=DN(h);let f=u[d],p=u[h];if(s){const y=d==="y"?"top":"left",v=d==="y"?"bottom":"right",b=f+c[y],k=f-c[v];f=$C(b,f,k)}if(o){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",b=p+c[y],k=p-c[v];p=$C(b,p,k)}const m=a.fn({...e,[d]:f,[h]:p});return{...m,data:{x:m.x-t,y:m.y-r,enabled:{[d]:s,[h]:o}}}}}};function V4(){return typeof window<"u"}function O0(n){return RN(n)?(n.nodeName||"").toLowerCase():"#document"}function Li(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ia(n){var e;return(e=(RN(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function RN(n){return V4()?n instanceof Node||n instanceof Li(n).Node:!1}function zs(n){return V4()?n instanceof Element||n instanceof Li(n).Element:!1}function Do(n){return V4()?n instanceof HTMLElement||n instanceof Li(n).HTMLElement:!1}function HC(n){return!V4()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Li(n).ShadowRoot}const Xfe=new Set(["inline","contents"]);function yp(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Hs(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!Xfe.has(i)}const Qfe=new Set(["table","td","th"]);function e1e(n){return Qfe.has(O0(n))}const t1e=[":popover-open",":modal"];function q4(n){return t1e.some(e=>{try{return n.matches(e)}catch{return!1}})}const n1e=["transform","translate","scale","rotate","perspective"],r1e=["transform","translate","scale","rotate","perspective","filter"],i1e=["paint","layout","strict","content"];function Kw(n){const e=Yw(),t=zs(n)?Hs(n):n;return n1e.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||r1e.some(r=>(t.willChange||"").includes(r))||i1e.some(r=>(t.contain||"").includes(r))}function s1e(n){let e=Tl(n);for(;Do(e)&&!u0(e);){if(Kw(e))return e;if(q4(e))return null;e=Tl(e)}return null}function Yw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const o1e=new Set(["html","body","#document"]);function u0(n){return o1e.has(O0(n))}function Hs(n){return Li(n).getComputedStyle(n)}function W4(n){return zs(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Tl(n){if(O0(n)==="html")return n;const e=n.assignedSlot||n.parentNode||HC(n)&&n.host||Ia(n);return HC(e)?e.host:e}function $N(n){const e=Tl(n);return u0(e)?n.ownerDocument?n.ownerDocument.body:n.body:Do(e)&&yp(e)?e:$N(e)}function S3(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=$N(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Li(i);if(s){const a=C3(o);return e.concat(o,o.visualViewport||[],yp(i)?i:[],a&&t?S3(a):[])}return e.concat(i,S3(i,[],t))}function C3(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function BN(n){const e=Hs(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Do(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=D2(t)!==s||D2(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function FN(n){return zs(n)?n:n.contextElement}function lh(n){const e=FN(n);if(!Do(e))return Ao(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=BN(e);let o=(s?D2(t.width):t.width)/r,a=(s?D2(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const a1e=Ao(0);function zN(n){const e=Li(n);return!Yw()||!e.visualViewport?a1e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function l1e(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Li(n)?!1:e}function p1(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=FN(n);let o=Ao(1);e&&(r?zs(r)&&(o=lh(r)):o=lh(n));const a=l1e(s,t,r)?zN(s):Ao(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,c=i.width/o.x,h=i.height/o.y;if(s){const d=Li(s),f=r&&zs(r)?Li(r):r;let p=d,m=C3(p);for(;m&&r&&f!==p;){const y=lh(m),v=m.getBoundingClientRect(),b=Hs(m),k=v.left+(m.clientLeft+parseFloat(b.paddingLeft))*y.x,_=v.top+(m.clientTop+parseFloat(b.paddingTop))*y.y;l*=y.x,u*=y.y,c*=y.x,h*=y.y,l+=k,u+=_,p=Li(m),m=C3(p)}}return L2({width:c,height:h,x:l,y:u})}function j4(n,e){const t=W4(n).scrollLeft;return e?e.left+t:p1(Ia(n)).left+t}function HN(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-j4(n,t),i=t.top+e.scrollTop;return{x:r,y:i}}function u1e(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=Ia(r),a=e?q4(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},u=Ao(1);const c=Ao(0),h=Do(r);if((h||!h&&!s)&&((O0(r)!=="body"||yp(o))&&(l=W4(r)),Do(r))){const f=p1(r);u=lh(r),c.x=f.x+r.clientLeft,c.y=f.y+r.clientTop}const d=o&&!h&&!s?HN(o,l):Ao(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:t.y*u.y-l.scrollTop*u.y+c.y+d.y}}function c1e(n){return Array.from(n.getClientRects())}function h1e(n){const e=Ia(n),t=W4(n),r=n.ownerDocument.body,i=ah(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ah(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+j4(n);const a=-t.scrollTop;return Hs(r).direction==="rtl"&&(o+=ah(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const VC=25;function d1e(n,e){const t=Li(n),r=Ia(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=Yw();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=j4(r);if(u<=0){const c=r.ownerDocument,h=c.body,d=getComputedStyle(h),f=c.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,p=Math.abs(r.clientWidth-h.clientWidth-f);p<=VC&&(s-=p)}else u<=VC&&(s+=u);return{width:s,height:o,x:a,y:l}}const f1e=new Set(["absolute","fixed"]);function p1e(n,e){const t=p1(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Do(n)?lh(n):Ao(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function qC(n,e,t){let r;if(e==="viewport")r=d1e(n,t);else if(e==="document")r=h1e(Ia(n));else if(zs(e))r=p1e(e,t);else{const i=zN(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return L2(r)}function VN(n,e){const t=Tl(n);return t===e||!zs(t)||u0(t)?!1:Hs(t).position==="fixed"||VN(t,e)}function m1e(n,e){const t=e.get(n);if(t)return t;let r=S3(n,[],!1).filter(a=>zs(a)&&O0(a)!=="body"),i=null;const s=Hs(n).position==="fixed";let o=s?Tl(n):n;for(;zs(o)&&!u0(o);){const a=Hs(o),l=Kw(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&f1e.has(i.position)||yp(o)&&!l&&VN(n,o))?r=r.filter(c=>c!==o):i=a,o=Tl(o)}return e.set(n,r),r}function g1e(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?q4(e)?[]:m1e(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((u,c)=>{const h=qC(e,c,i);return u.top=ah(h.top,u.top),u.right=k3(h.right,u.right),u.bottom=k3(h.bottom,u.bottom),u.left=ah(h.left,u.left),u},qC(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function y1e(n){const{width:e,height:t}=BN(n);return{width:e,height:t}}function v1e(n,e,t){const r=Do(e),i=Ia(e),s=t==="fixed",o=p1(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ao(0);function u(){l.x=j4(i)}if(r||!r&&!s)if((O0(e)!=="body"||yp(i))&&(a=W4(e)),r){const f=p1(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&u();s&&!r&&i&&u();const c=i&&!r&&!s?HN(i,a):Ao(0),h=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:h,y:d,width:o.width,height:o.height}}function G8(n){return Hs(n).position==="static"}function WC(n,e){if(!Do(n)||Hs(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ia(n)===t&&(t=t.ownerDocument.body),t}function qN(n,e){const t=Li(n);if(q4(n))return t;if(!Do(n)){let i=Tl(n);for(;i&&!u0(i);){if(zs(i)&&!G8(i))return i;i=Tl(i)}return t}let r=WC(n,e);for(;r&&e1e(r)&&G8(r);)r=WC(r,e);return r&&u0(r)&&G8(r)&&!Kw(r)?t:r||s1e(n)||t}const w1e=async function(n){const e=this.getOffsetParent||qN,t=this.getDimensions,r=await t(n.floating);return{reference:v1e(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function b1e(n){return Hs(n).direction==="rtl"}const k1e={convertOffsetParentRelativeRectToViewportRelativeRect:u1e,getDocumentElement:Ia,getClippingRect:g1e,getOffsetParent:qN,getElementRects:w1e,getClientRects:c1e,getDimensions:y1e,getScale:lh,isElement:zs,isRTL:b1e},El=Yfe,jC=Jfe,P2=Ufe,Vs=(n,e,t)=>{const r=new Map,i={platform:k1e,...t},s={...i.platform,_c:r};return Zfe(n,e,{...i,platform:s})};function vp(n,e){return Object.assign(n,{meta:{package:"@milkdown/plugin-block",...e}}),n}const x1e=n=>!Co(t=>t.type.name==="table")(n),Z4=Ut({filterNodes:x1e},"blockConfig");vp(Z4,{displayName:"Ctx<blockConfig>"});function S1e(n,e,t){var i;if(!n.dom.parentElement)return null;try{const s=(i=n.posAtCoords({left:e.x,top:e.y}))==null?void 0:i.inside;if(s==null||s<0)return null;let o=n.state.doc.resolve(s),a=n.state.doc.nodeAt(s),l=n.nodeDOM(s);const u=h=>{const d=o.depth>=1&&o.index(o.depth)===0;if(!(h||d))return;const p=o.before(o.depth);a=n.state.doc.nodeAt(p),l=n.nodeDOM(p),o=n.state.doc.resolve(p),t(o,a)||u(!0)},c=t(o,a);return u(!c),!l||!a?null:{node:a,$pos:o,el:l}}catch{return null}}const ZC=ym.ie&&ym.ie_version<15||ym.ios&&ym.webkit_version<604,UC=20;var Ch,L1,Du,Ts,Mh,Es,e4,WN,Nu,Hd,Lu,Pu,P1,Ah,_h,Th,R1,Ru;class C1e{constructor(){Ee(this,e4);Ee(this,Nu);Ee(this,Ch,void 0);Ee(this,L1,void 0);Ee(this,Du,void 0);Ee(this,Ts,void 0);Ee(this,Mh,void 0);Ee(this,Es,void 0);Ee(this,Lu,void 0);Ee(this,Pu,void 0);Ee(this,P1,void 0);Ee(this,Ah,void 0);Ee(this,_h,void 0);Ee(this,Th,void 0);Ee(this,R1,void 0);Ee(this,Ru,void 0);de(this,L1,()=>{if(!Y(this,Ts))return null;const e=Y(this,Ts),t=Y(this,Nu,Hd);if(t&&Je.isSelectable(e.node)){const r=Je.create(t.state.doc,e.$pos.pos);return t.dispatch(t.state.tr.setSelection(r)),t.focus(),de(this,Du,r),r}return null}),de(this,Du,null),de(this,Ts,null),de(this,Mh,void 0),de(this,Es,!1),de(this,Pu,()=>{var e;(e=Y(this,Lu))==null||e.call(this,{type:"hide"}),de(this,Ts,null)}),de(this,P1,e=>{var t;de(this,Ts,e),(t=Y(this,Lu))==null||t.call(this,{type:"show",active:e})}),this.bind=(e,t)=>{de(this,Ch,e),de(this,Lu,t)},this.addEvent=e=>{e.addEventListener("mousedown",Y(this,Ah)),e.addEventListener("mouseup",Y(this,_h)),e.addEventListener("dragstart",Y(this,Th))},this.removeEvent=e=>{e.removeEventListener("mousedown",Y(this,Ah)),e.removeEventListener("mouseup",Y(this,_h)),e.removeEventListener("dragstart",Y(this,Th))},this.unBind=()=>{de(this,Lu,void 0)},de(this,Ah,()=>{var e;de(this,Mh,(e=Y(this,Ts))==null?void 0:e.el.getBoundingClientRect()),Y(this,L1).call(this)}),de(this,_h,()=>{if(!Y(this,Es)){requestAnimationFrame(()=>{var e;!Y(this,Mh)||(e=Y(this,Nu,Hd))==null||e.focus()});return}de(this,Es,!1),de(this,Du,null)}),de(this,Th,e=>{var i;de(this,Es,!0);const t=Y(this,Nu,Hd);if(!t)return;t.dom.dataset.dragging="true";const r=Y(this,Du);if(e.dataTransfer&&r){const s=r.content();e.dataTransfer.effectAllowed="copyMove";const{dom:o,text:a}=t.serializeForClipboard(s);e.dataTransfer.clearData(),e.dataTransfer.setData(ZC?"Text":"text/html",o.innerHTML),ZC||e.dataTransfer.setData("text/plain",a);const l=(i=Y(this,Ts))==null?void 0:i.el;l&&e.dataTransfer.setDragImage(l,0,0),t.dragging={slice:s,move:!0}}}),this.keydownCallback=e=>(Y(this,Pu).call(this),de(this,Es,!1),e.dom.dataset.dragging="false",!1),de(this,R1,c4((e,t)=>{if(!e.editable)return;const r=e.dom.getBoundingClientRect(),i=r.left+r.width/2;if(!(e.root.elementFromPoint(i,t.clientY)instanceof Element)){Y(this,Pu).call(this);return}const o=Y(this,e4,WN);if(!o)return;const a=S1e(e,{x:i,y:t.clientY},o);if(!a){Y(this,Pu).call(this);return}Y(this,P1).call(this,a)},200)),this.mousemoveCallback=(e,t)=>(e.composing||!e.editable||Y(this,R1).call(this,e,t),!1),this.dragoverCallback=(e,t)=>{var r;if(Y(this,Es)){const i=(r=Y(this,Nu,Hd))==null?void 0:r.dom.parentElement;if(!i)return!1;const s=i.scrollHeight>i.clientHeight,o=i.getBoundingClientRect();if(s){if(i.scrollTop>0&&Math.abs(t.y-o.y)<UC){const u=i.scrollTop>10?i.scrollTop-10:0;return i.scrollTop=u,!1}const a=Math.round(e.dom.getBoundingClientRect().height);if(Math.round(i.scrollTop+o.height)<a&&Math.abs(t.y-(o.height+o.y))<UC){const u=i.scrollTop+10;return i.scrollTop=u,!1}}}return!1},this.dragenterCallback=e=>{!e.dragging||(de(this,Es,!0),e.dom.dataset.dragging="true")},this.dragleaveCallback=(e,t)=>{const r=t.clientX,i=t.clientY;(r<0||i<0||r>window.innerWidth||i>window.innerHeight)&&(de(this,Ts,null),Y(this,Ru).call(this,e))},this.dropCallback=e=>(Y(this,Ru).call(this,e),!1),this.dragendCallback=e=>{Y(this,Ru).call(this,e)},de(this,Ru,e=>{de(this,Es,!1),e.dom.dataset.dragging="false"})}}Ch=new WeakMap,L1=new WeakMap,Du=new WeakMap,Ts=new WeakMap,Mh=new WeakMap,Es=new WeakMap,e4=new WeakSet,WN=function(){var e;try{return(e=Y(this,Ch))==null?void 0:e.get(Z4.key).filterNodes}catch{return}},Nu=new WeakSet,Hd=function(){var e;return(e=Y(this,Ch))==null?void 0:e.get(an)},Lu=new WeakMap,Pu=new WeakMap,P1=new WeakMap,Ah=new WeakMap,_h=new WeakMap,Th=new WeakMap,R1=new WeakMap,Ru=new WeakMap;const Jw=Ut(()=>new C1e,"blockService"),U4=Ut({},"blockServiceInstance");vp(Jw,{displayName:"Ctx<blockService>"});vp(U4,{displayName:"Ctx<blockServiceInstance>"});const G4=Ut({},"blockSpec");vp(G4,{displayName:"Ctx<blockSpec>"});const Xw=Wn(n=>{const e=new pn("MILKDOWN_BLOCK"),r=n.get(Jw.key)();n.set(U4.key,r);const i=n.get(G4.key);return new fn({key:e,...i,props:{...i.props,handleDOMEvents:{drop:s=>r.dropCallback(s),pointermove:(s,o)=>r.mousemoveCallback(s,o),keydown:s=>r.keydownCallback(s),dragover:(s,o)=>r.dragoverCallback(s,o),dragleave:(s,o)=>r.dragleaveCallback(s,o),dragenter:s=>r.dragenterCallback(s),dragend:s=>r.dragendCallback(s)}}})});vp(Xw,{displayName:"Prose<block>"});var Yr,ua,$u,Bu,$1,Eh,B1,F1,Oh,Ih,Dh,t4,jN;class M1e{constructor(e){Ee(this,t4);Ee(this,Yr,void 0);Ee(this,ua,void 0);Ee(this,$u,void 0);Ee(this,Bu,void 0);Ee(this,$1,void 0);Ee(this,Eh,void 0);Ee(this,B1,void 0);Ee(this,F1,void 0);Ee(this,Oh,void 0);Ee(this,Ih,void 0);Ee(this,Dh,void 0);var t,r;de(this,Bu,null),de(this,Eh,!1),this.update=()=>{requestAnimationFrame(()=>{if(!Y(this,Eh))try{Hp(this,t4,jN).call(this),de(this,Eh,!0)}catch{}})},this.destroy=()=>{var i,s;(i=Y(this,$u))==null||i.unBind(),(s=Y(this,$u))==null||s.removeEvent(Y(this,Yr)),Y(this,Yr).remove()},this.show=i=>{const s=i.el,o=Y(this,ua).get(an).dom,a={ctx:Y(this,ua),active:i,editorDom:o,blockDom:Y(this,Yr)},l={contextElement:s,getBoundingClientRect:()=>Y(this,Ih)?Y(this,Ih).call(this,a):s.getBoundingClientRect()},u=[P2()];if(Y(this,Oh)){const c=Y(this,Oh).call(this,a),h=El(c);u.push(h)}Vs(l,Y(this,Yr),{placement:Y(this,Dh)?Y(this,Dh).call(this,a):"left",middleware:[...u,...Y(this,B1)],...Y(this,F1)}).then(({x:c,y:h})=>{Object.assign(Y(this,Yr).style,{left:`${c}px`,top:`${h}px`}),Y(this,Yr).dataset.show="true"}).catch(console.error)},this.hide=()=>{Y(this,Yr).dataset.show="false"},de(this,ua,e.ctx),de(this,Yr,e.content),de(this,Oh,e.getOffset),de(this,Ih,e.getPosition),de(this,Dh,e.getPlacement),de(this,B1,(t=e.middleware)!=null?t:[]),de(this,F1,(r=e.floatingUIOptions)!=null?r:{}),de(this,$1,e.root),this.hide()}get active(){return Y(this,Bu)}}Yr=new WeakMap,ua=new WeakMap,$u=new WeakMap,Bu=new WeakMap,$1=new WeakMap,Eh=new WeakMap,B1=new WeakMap,F1=new WeakMap,Oh=new WeakMap,Ih=new WeakMap,Dh=new WeakMap,t4=new WeakSet,jN=function(){var i,s;const e=Y(this,ua).get(an);((s=(i=Y(this,$1))!=null?i:e.dom.parentElement)!=null?s:document.body).appendChild(Y(this,Yr));const r=Y(this,ua).get(U4.key);r.bind(Y(this,ua),o=>{o.type==="hide"?(this.hide(),de(this,Bu,null)):o.type==="show"&&(this.show(o.active),de(this,Bu,o.active))}),de(this,$u,r),Y(this,$u).addEvent(Y(this,Yr)),Y(this,Yr).draggable=!0};const K4=[G4,Z4,Jw,U4,Xw];K4.key=G4.key;K4.pluginKey=Xw.key;function A1e(n,e){return function(t,r){let{$from:i,$to:s,node:o}=t.selection;if(o&&o.isBlock||i.depth<2||!i.sameParent(s))return!1;let a=i.node(-1);if(a.type!=n)return!1;if(i.parent.content.size==0&&i.node(-1).childCount==i.indexAfter(-1)){if(i.depth==3||i.node(-3).type!=n||i.index(-2)!=i.node(-2).childCount-1)return!1;if(r){let h=be.empty,d=i.index(-1)?1:i.index(-2)?2:3;for(let v=i.depth-d;v>=i.depth-3;v--)h=be.from(i.node(v).copy(h));let f=i.indexAfter(-1)<i.node(-2).childCount?1:i.indexAfter(-2)<i.node(-3).childCount?2:3;h=h.append(be.from(n.createAndFill()));let p=i.before(i.depth-(d-1)),m=t.tr.replace(p,i.after(-f),new Le(h,4-d,0)),y=-1;m.doc.nodesBetween(p,m.doc.content.size,(v,b)=>{if(y>-1)return!1;v.isTextblock&&v.content.size==0&&(y=b+1)}),y>-1&&m.setSelection(lt.near(m.doc.resolve(y))),r(m.scrollIntoView())}return!0}let l=s.pos==i.end()?a.contentMatchAt(0).defaultType:null,u=t.tr.delete(i.pos,s.pos),c=l?[e?{type:n,attrs:e}:null,{type:l}]:void 0;return vf(u.doc,i.pos,2,c)?(r&&r(u.split(i.pos,2,c).scrollIntoView()),!0):!1}}function _1e(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==n);return s?t?r.node(s.depth-1).type==n?T1e(e,t,n,s):E1e(e,t,s):!0:!1}}function T1e(n,e,t,r){let i=n.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new _r(s-1,o,s,o,new Le(be.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new mI(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=C4(r);if(a==null)return!1;i.lift(r,a);let l=i.doc.resolve(i.mapping.map(s,-1)-1);return M4(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function E1e(n,e,t){let r=n.tr,i=t.parent;for(let f=t.end,p=t.endIndex-1,m=t.startIndex;p>m;p--)f-=i.child(p).nodeSize,r.delete(f-1,f+1);let s=r.doc.resolve(t.start),o=s.nodeAfter;if(r.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,l=t.endIndex==i.childCount,u=s.node(-1),c=s.index(-1);if(!u.canReplace(c+(a?0:1),c+1,o.content.append(l?be.empty:be.from(i))))return!1;let h=s.pos,d=h+o.nodeSize;return r.step(new _r(h-(a?1:0),d+(l?1:0),h+1,d-1,new Le((a?be.empty:be.from(i.copy(be.empty))).append(l?be.empty:be.from(i.copy(be.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function O1e(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==n);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=n)return!1;if(t){let u=l.lastChild&&l.lastChild.type==a.type,c=be.from(u?n.create():null),h=new Le(be.from(n.create(null,be.from(a.type.create(null,c)))),u?3:1,0),d=s.start,f=s.end;t(e.tr.step(new _r(d-(u?3:1),f,d,f,h,1,!0)).scrollIntoView())}return!0}}function I1e(n){const e=new Map;if(!n||!n.type)throw new Error("mdast-util-definitions expected node");return Rl(n,"definition",function(r){const i=GC(r.identifier);i&&!e.get(i)&&e.set(i,r)}),t;function t(r){const i=GC(r);return e.get(i)}}function GC(n){return String(n||"").toUpperCase()}function D1e(){return function(n){const e=I1e(n);Rl(n,function(t,r,i){if(t.type==="definition"&&i!==void 0&&typeof r=="number")return i.children.splice(r,1),[Qv,r];if(t.type==="imageReference"||t.type==="linkReference"){const s=e(t.identifier);if(s&&i&&typeof r=="number")return i.children[r]=t.type==="imageReference"?{type:"image",url:s.url,title:s.title,alt:t.alt}:{type:"link",url:s.url,title:s.title,children:t.children},[Qv,r]}})}}function ZN(n,e){var i;if(!(e.childCount>=1&&((i=e.lastChild)==null?void 0:i.type.name)==="hardbreak")){n.next(e.content);return}const r=[];e.content.forEach((s,o,a)=>{a!==e.childCount-1&&r.push(s)}),n.next(be.fromArray(r))}function me(n,e){return Object.assign(n,{meta:{package:"@milkdown/preset-commonmark",...e}}),n}const Qw=gp("emphasis");me(Qw,{displayName:"Attr<emphasis>",group:"Emphasis"});const vc=E0("emphasis",n=>({attrs:{marker:{default:n.get(Sf).emphasis||"*",validate:"string"}},parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:e=>e==="italic"}],toDOM:e=>["em",n.get(Qw.key)(e)],parseMarkdown:{match:e=>e.type==="emphasis",runner:(e,t,r)=>{e.openMark(r,{marker:t.marker}),e.next(t.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="emphasis",runner:(e,t)=>{e.withMark(t,"emphasis",void 0,{marker:t.attrs.marker})}}}));me(vc.mark,{displayName:"MarkSchema<emphasis>",group:"Emphasis"});me(vc.ctx,{displayName:"MarkSchemaCtx<emphasis>",group:"Emphasis"});const Y4=at("ToggleEmphasis",n=>()=>R4(vc.type(n)));me(Y4,{displayName:"Command<toggleEmphasisCommand>",group:"Emphasis"});const UN=Er(n=>up(/(?:^|[^*])\*([^*]+)\*$/,vc.type(n),{getAttr:()=>({marker:"*"}),updateCaptured:({fullMatch:e,start:t})=>e.startsWith("*")?{}:{fullMatch:e.slice(1),start:t+1}}));me(UN,{displayName:"InputRule<emphasis>|Star",group:"Emphasis"});const GN=Er(n=>up(/\b_(?![_\s])(.*?[^_\s])_\b/,vc.type(n),{getAttr:()=>({marker:"_"}),updateCaptured:({fullMatch:e,start:t})=>e.startsWith("_")?{}:{fullMatch:e.slice(1),start:t+1}}));me(GN,{displayName:"InputRule<emphasis>|Underscore",group:"Emphasis"});const e7=di("emphasisKeymap",{ToggleEmphasis:{shortcuts:"Mod-i",command:n=>{const e=n.get(We);return()=>e.call(Y4.key)}}});me(e7.ctx,{displayName:"KeymapCtx<emphasis>",group:"Emphasis"});me(e7.shortcuts,{displayName:"Keymap<emphasis>",group:"Emphasis"});const t7=gp("strong");me(t7,{displayName:"Attr<strong>",group:"Strong"});const I0=E0("strong",n=>({attrs:{marker:{default:n.get(Sf).strong||"*",validate:"string"}},parseDOM:[{tag:"b",getAttrs:e=>e.style.fontWeight!="normal"&&null},{tag:"strong"},{style:"font-style",getAttrs:e=>e==="bold"},{style:"font-weight=400",clearMark:e=>e.type.name=="strong"},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM:e=>["strong",n.get(t7.key)(e)],parseMarkdown:{match:e=>e.type==="strong",runner:(e,t,r)=>{e.openMark(r,{marker:t.marker}),e.next(t.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="strong",runner:(e,t)=>{e.withMark(t,"strong",void 0,{marker:t.attrs.marker})}}}));me(I0.mark,{displayName:"MarkSchema<strong>",group:"Strong"});me(I0.ctx,{displayName:"MarkSchemaCtx<strong>",group:"Strong"});const J4=at("ToggleStrong",n=>()=>R4(I0.type(n)));me(J4,{displayName:"Command<toggleStrongCommand>",group:"Strong"});const KN=Er(n=>up(new RegExp("(?<![\\w:/])(?:\\*\\*|__)([^*_]+?)(?:\\*\\*|__)(?![\\w/])$"),I0.type(n),{getAttr:e=>({marker:e[0].startsWith("*")?"*":"_"})}));me(KN,{displayName:"InputRule<strong>",group:"Strong"});const n7=di("strongKeymap",{ToggleBold:{shortcuts:["Mod-b"],command:n=>{const e=n.get(We);return()=>e.call(J4.key)}}});me(n7.ctx,{displayName:"KeymapCtx<strong>",group:"Strong"});me(n7.shortcuts,{displayName:"Keymap<strong>",group:"Strong"});const r7=gp("inlineCode");me(r7,{displayName:"Attr<inlineCode>",group:"InlineCode"});const pa=E0("inlineCode",n=>({priority:100,code:!0,parseDOM:[{tag:"code"}],toDOM:e=>["code",n.get(r7.key)(e)],parseMarkdown:{match:e=>e.type==="inlineCode",runner:(e,t,r)=>{e.openMark(r),e.addText(t.value),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="inlineCode",runner:(e,t,r)=>{e.withMark(t,"inlineCode",r.text||"")}}}));me(pa.mark,{displayName:"MarkSchema<inlineCode>",group:"InlineCode"});me(pa.ctx,{displayName:"MarkSchemaCtx<inlineCode>",group:"InlineCode"});const X4=at("ToggleInlineCode",n=>()=>(e,t)=>{const{selection:r,tr:i}=e;if(r.empty)return!1;const{from:s,to:o}=r;return e.doc.rangeHasMark(s,o,pa.type(n))?(t==null||t(i.removeMark(s,o,pa.type(n))),!0):(Object.keys(e.schema.marks).filter(u=>u!==pa.type.name).map(u=>e.schema.marks[u]).forEach(u=>{i.removeMark(s,o,u)}),t==null||t(i.addMark(s,o,pa.type(n).create())),!0)});me(X4,{displayName:"Command<toggleInlineCodeCommand>",group:"InlineCode"});const YN=Er(n=>up(/(?:`)([^`]+)(?:`)$/,pa.type(n)));me(YN,{displayName:"InputRule<inlineCodeInputRule>",group:"InlineCode"});const i7=di("inlineCodeKeymap",{ToggleInlineCode:{shortcuts:"Mod-e",command:n=>{const e=n.get(We);return()=>e.call(X4.key)}}});me(i7.ctx,{displayName:"KeymapCtx<inlineCode>",group:"InlineCode"});me(i7.shortcuts,{displayName:"Keymap<inlineCode>",group:"InlineCode"});const s7=gp("link");me(s7,{displayName:"Attr<link>",group:"Link"});const Rs=E0("link",n=>({attrs:{href:{validate:"string"},title:{default:null,validate:"string|null"}},parseDOM:[{tag:"a[href]",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Ws(e);return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM:e=>["a",{...n.get(s7.key)(e),...e.attrs}],parseMarkdown:{match:e=>e.type==="link",runner:(e,t,r)=>{const i=t.url,s=t.title;e.openMark(r,{href:i,title:s}),e.next(t.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="link",runner:(e,t)=>{e.withMark(t,"link",void 0,{title:t.attrs.title,url:t.attrs.href})}}}));me(Rs.mark,{displayName:"MarkSchema<link>",group:"Link"});const JN=at("ToggleLink",n=>(e={})=>R4(Rs.type(n),e));me(JN,{displayName:"Command<toggleLinkCommand>",group:"Link"});const XN=at("UpdateLink",n=>(e={})=>(t,r)=>{if(!r)return!1;let i,s=-1;const{selection:o}=t,{from:a,to:l}=o;if(t.doc.nodesBetween(a,a===l?l+1:l,(p,m)=>{if(Rs.type(n).isInSet(p.marks))return i=p,s=m,!1}),!i)return!1;const u=i.marks.find(({type:p})=>p===Rs.type(n));if(!u)return!1;const c=s,h=s+i.nodeSize,{tr:d}=t,f=Rs.type(n).create({...u.attrs,...e});return f?(r(d.removeMark(c,h,u).addMark(c,h,f).setSelection(new Ue(d.selection.$anchor)).scrollIntoView()),!0):!1});me(XN,{displayName:"Command<updateLinkCommand>",group:"Link"});const QN=Gw("doc",()=>({content:"block+",parseMarkdown:{match:({type:n})=>n==="root",runner:(n,e,t)=>{n.injectRoot(e,t)}},toMarkdown:{match:n=>n.type.name==="doc",runner:(n,e)=>{n.openNode("root"),n.next(e.content)}}}));me(QN,{displayName:"NodeSchema<doc>",group:"Doc"});function N1e(n){return Tw(n,e=>{var t;return e.type==="html"&&["<br />","<br>","<br >","<br/>"].includes((t=e.value)==null?void 0:t.trim())},(e,t)=>{if(!t.length)return;const r=t[t.length-1];if(!r)return;const i=r.children.indexOf(e);i!==-1&&r.children.splice(i,1)},!0)}const Q4=Ro("remark-preserve-empty-line",()=>()=>N1e);me(Q4.plugin,{displayName:"Remark<remarkPreserveEmptyLine>",group:"Remark"});me(Q4.options,{displayName:"RemarkConfig<remarkPreserveEmptyLine>",group:"Remark"});const o7=js("paragraph");me(o7,{displayName:"Attr<paragraph>",group:"Paragraph"});const Zs=Pn("paragraph",n=>({content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:e=>["p",n.get(o7.key)(e),0],parseMarkdown:{match:e=>e.type==="paragraph",runner:(e,t,r)=>{e.openNode(r),t.children?e.next(t.children):e.addText(t.value||""),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="paragraph",runner:(e,t)=>{var s;const i=(s=n.get(an).state)==null?void 0:s.doc.lastChild;e.openNode("paragraph"),(!t.content||t.content.size===0)&&t!==i&&L1e(n)?e.addNode("html",void 0,"<br />"):ZN(e,t),e.closeNode()}}}));function L1e(n){let e=!1;try{n.get(Q4.id),e=!0}catch{e=!1}return e}me(Zs.node,{displayName:"NodeSchema<paragraph>",group:"Paragraph"});me(Zs.ctx,{displayName:"NodeSchemaCtx<paragraph>",group:"Paragraph"});const a7=at("TurnIntoText",n=>()=>s1(Zs.type(n)));me(a7,{displayName:"Command<turnIntoTextCommand>",group:"Paragraph"});const l7=di("paragraphKeymap",{TurnIntoText:{shortcuts:"Mod-Alt-0",command:n=>{const e=n.get(We);return()=>e.call(a7.key)}}});me(l7.ctx,{displayName:"KeymapCtx<paragraph>",group:"Paragraph"});me(l7.shortcuts,{displayName:"Keymap<paragraph>",group:"Paragraph"});const P1e=Array(6).fill(0).map((n,e)=>e+1);function R1e(n){return n.textContent.toLowerCase().trim().replace(/\s+/g,"-")}const ey=Ut(R1e,"headingIdGenerator");me(ey,{displayName:"Ctx<HeadingIdGenerator>",group:"Heading"});const u7=js("heading");me(u7,{displayName:"Attr<heading>",group:"Heading"});const _i=Pn("heading",n=>{const e=n.get(ey.key);return{content:"inline*",group:"block",defining:!0,attrs:{id:{default:"",validate:"string"},level:{default:1,validate:"number"}},parseDOM:P1e.map(t=>({tag:`h${t}`,getAttrs:r=>{if(!(r instanceof HTMLElement))throw Ws(r);return{level:t,id:r.id}}})),toDOM:t=>[`h${t.attrs.level}`,{...n.get(u7.key)(t),id:t.attrs.id||e(t)},0],parseMarkdown:{match:({type:t})=>t==="heading",runner:(t,r,i)=>{const s=r.depth;t.openNode(i,{level:s}),t.next(r.children),t.closeNode()}},toMarkdown:{match:t=>t.type.name==="heading",runner:(t,r)=>{t.openNode("heading",void 0,{depth:r.attrs.level}),ZN(t,r),t.closeNode()}}}});me(_i.node,{displayName:"NodeSchema<heading>",group:"Heading"});me(_i.ctx,{displayName:"NodeSchemaCtx<heading>",group:"Heading"});const eL=Er(n=>Sw(/^(?<hashes>#+)\s$/,_i.type(n),e=>{var o,a;const t=((a=(o=e.groups)==null?void 0:o.hashes)==null?void 0:a.length)||0,r=n.get(an),{$from:i}=r.state.selection,s=i.node();if(s.type.name==="heading"){let l=Number(s.attrs.level)+Number(t);return l>6&&(l=6),{level:l}}return{level:t}}));me(eL,{displayName:"InputRule<wrapInHeadingInputRule>",group:"Heading"});const Xa=at("WrapInHeading",n=>e=>(e!=null||(e=1),e<1?s1(Zs.type(n)):s1(_i.type(n),{level:e})));me(Xa,{displayName:"Command<wrapInHeadingCommand>",group:"Heading"});const c7=at("DowngradeHeading",n=>()=>(e,t,r)=>{const{$from:i}=e.selection,s=i.node();if(s.type!==_i.type(n)||!e.selection.empty||i.parentOffset!==0)return!1;const o=s.attrs.level-1;return o?(t==null||t(e.tr.setNodeMarkup(e.selection.$from.before(),void 0,{...s.attrs,level:o})),!0):s1(Zs.type(n))(e,t,r)});me(c7,{displayName:"Command<downgradeHeadingCommand>",group:"Heading"});const h7=di("headingKeymap",{TurnIntoH1:{shortcuts:"Mod-Alt-1",command:n=>{const e=n.get(We);return()=>e.call(Xa.key,1)}},TurnIntoH2:{shortcuts:"Mod-Alt-2",command:n=>{const e=n.get(We);return()=>e.call(Xa.key,2)}},TurnIntoH3:{shortcuts:"Mod-Alt-3",command:n=>{const e=n.get(We);return()=>e.call(Xa.key,3)}},TurnIntoH4:{shortcuts:"Mod-Alt-4",command:n=>{const e=n.get(We);return()=>e.call(Xa.key,4)}},TurnIntoH5:{shortcuts:"Mod-Alt-5",command:n=>{const e=n.get(We);return()=>e.call(Xa.key,5)}},TurnIntoH6:{shortcuts:"Mod-Alt-6",command:n=>{const e=n.get(We);return()=>e.call(Xa.key,6)}},DowngradeHeading:{shortcuts:["Delete","Backspace"],command:n=>{const e=n.get(We);return()=>e.call(c7.key)}}});me(h7.ctx,{displayName:"KeymapCtx<heading>",group:"Heading"});me(h7.shortcuts,{displayName:"Keymap<heading>",group:"Heading"});const d7=js("blockquote");me(d7,{displayName:"Attr<blockquote>",group:"Blockquote"});const D0=Pn("blockquote",n=>({content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:e=>["blockquote",n.get(d7.key)(e),0],parseMarkdown:{match:({type:e})=>e==="blockquote",runner:(e,t,r)=>{e.openNode(r).next(t.children).closeNode()}},toMarkdown:{match:e=>e.type.name==="blockquote",runner:(e,t)=>{e.openNode("blockquote").next(t.content).closeNode()}}}));me(D0.node,{displayName:"NodeSchema<blockquote>",group:"Blockquote"});me(D0.ctx,{displayName:"NodeSchemaCtx<blockquote>",group:"Blockquote"});const tL=Er(n=>xw(/^\s*>\s$/,D0.type(n)));me(tL,{displayName:"InputRule<wrapInBlockquoteInputRule>",group:"Blockquote"});const f7=at("WrapInBlockquote",n=>()=>Rw(D0.type(n)));me(f7,{displayName:"Command<wrapInBlockquoteCommand>",group:"Blockquote"});const p7=di("blockquoteKeymap",{WrapInBlockquote:{shortcuts:"Mod-Shift-b",command:n=>{const e=n.get(We);return()=>e.call(f7.key)}}});me(p7.ctx,{displayName:"KeymapCtx<blockquote>",group:"Blockquote"});me(p7.shortcuts,{displayName:"Keymap<blockquote>",group:"Blockquote"});const m7=js("codeBlock",()=>({pre:{},code:{}}));me(m7,{displayName:"Attr<codeBlock>",group:"CodeBlock"});const No=Pn("code_block",n=>({content:"text*",group:"block",marks:"",defining:!0,code:!0,attrs:{language:{default:"",validate:"string"}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Ws(e);return{language:e.dataset.language}}}],toDOM:e=>{const t=n.get(m7.key)(e),r=e.attrs.language,i=r&&r.length>0?{"data-language":r}:void 0;return["pre",{...t.pre,...i},["code",t.code,0]]},parseMarkdown:{match:({type:e})=>e==="code",runner:(e,t,r)=>{var o;const i=(o=t.lang)!=null?o:"",s=t.value;e.openNode(r,{language:i}),s&&e.addText(s),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="code_block",runner:(e,t)=>{var r;e.addNode("code",void 0,((r=t.content.firstChild)==null?void 0:r.text)||"",{lang:t.attrs.language})}}}));me(No.node,{displayName:"NodeSchema<codeBlock>",group:"CodeBlock"});me(No.ctx,{displayName:"NodeSchemaCtx<codeBlock>",group:"CodeBlock"});const nL=Er(n=>Sw(/^```(?<language>[a-z]*)?[\s\n]$/,No.type(n),e=>{var t,r;return{language:(r=(t=e.groups)==null?void 0:t.language)!=null?r:""}}));me(nL,{displayName:"InputRule<createCodeBlockInputRule>",group:"CodeBlock"});const g7=at("CreateCodeBlock",n=>(e="")=>s1(No.type(n),{language:e}));me(g7,{displayName:"Command<createCodeBlockCommand>",group:"CodeBlock"});const $1e=at("UpdateCodeBlockLanguage",()=>({pos:n,language:e}={pos:-1,language:""})=>(t,r)=>n>=0?(r==null||r(t.tr.setNodeAttribute(n,"language",e)),!0):!1);me($1e,{displayName:"Command<updateCodeBlockLanguageCommand>",group:"CodeBlock"});const y7=di("codeBlockKeymap",{CreateCodeBlock:{shortcuts:"Mod-Alt-c",command:n=>{const e=n.get(We);return()=>e.call(g7.key)}}});me(y7.ctx,{displayName:"KeymapCtx<codeBlock>",group:"CodeBlock"});me(y7.shortcuts,{displayName:"Keymap<codeBlock>",group:"CodeBlock"});const v7=js("image");me(v7,{displayName:"Attr<image>",group:"Image"});const wc=Pn("image",n=>({inline:!0,group:"inline",selectable:!0,draggable:!0,marks:"",atom:!0,defining:!0,isolating:!0,attrs:{src:{default:"",validate:"string"},alt:{default:"",validate:"string"},title:{default:"",validate:"string"}},parseDOM:[{tag:"img[src]",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Ws(e);return{src:e.getAttribute("src")||"",alt:e.getAttribute("alt")||"",title:e.getAttribute("title")||e.getAttribute("alt")||""}}}],toDOM:e=>["img",{...n.get(v7.key)(e),...e.attrs}],parseMarkdown:{match:({type:e})=>e==="image",runner:(e,t,r)=>{const i=t.url,s=t.alt,o=t.title;e.addNode(r,{src:i,alt:s,title:o})}},toMarkdown:{match:e=>e.type.name==="image",runner:(e,t)=>{e.addNode("image",void 0,void 0,{title:t.attrs.title,url:t.attrs.src,alt:t.attrs.alt})}}}));me(wc.node,{displayName:"NodeSchema<image>",group:"Image"});me(wc.ctx,{displayName:"NodeSchemaCtx<image>",group:"Image"});const rL=at("InsertImage",n=>(e={})=>(t,r)=>{if(!r)return!0;const{src:i="",alt:s="",title:o=""}=e,a=wc.type(n).create({src:i,alt:s,title:o});return a&&r(t.tr.replaceSelectionWith(a).scrollIntoView()),!0});me(rL,{displayName:"Command<insertImageCommand>",group:"Image"});const iL=at("UpdateImage",n=>(e={})=>(t,r)=>{const i=Ble(t.selection,wc.type(n));if(!i)return!1;const{node:s,pos:o}=i,a={...s.attrs},{src:l,alt:u,title:c}=e;return l!==void 0&&(a.src=l),u!==void 0&&(a.alt=u),c!==void 0&&(a.title=c),r==null||r(t.tr.setNodeMarkup(o,void 0,a).scrollIntoView()),!0});me(iL,{displayName:"Command<updateImageCommand>",group:"Image"});const B1e=Er(n=>new ui(/!\[(?<alt>.*?)]\((?<filename>.*?)\s*(?="|\))"?(?<title>[^"]+)?"?\)/,(e,t,r,i)=>{const[s,o,a="",l]=t;return s?e.tr.replaceWith(r,i,wc.type(n).create({src:a,alt:o,title:l})):null}));me(B1e,{displayName:"InputRule<insertImageInputRule>",group:"Image"});const R2=js("hardbreak",n=>({"data-type":"hardbreak","data-is-inline":n.attrs.isInline}));me(R2,{displayName:"Attr<hardbreak>",group:"Hardbreak"});const Ku=Pn("hardbreak",n=>({inline:!0,group:"inline",attrs:{isInline:{default:!1,validate:"boolean"}},selectable:!1,parseDOM:[{tag:"br"},{tag:'span[data-type="hardbreak"]',getAttrs:()=>({isInline:!0})}],toDOM:e=>e.attrs.isInline?["span",n.get(R2.key)(e)," "]:["br",n.get(R2.key)(e)],parseMarkdown:{match:({type:e})=>e==="break",runner:(e,t,r)=>{var i;e.addNode(r,{isInline:Boolean((i=t.data)==null?void 0:i.isInline)})}},leafText:()=>`
`,toMarkdown:{match:e=>e.type.name==="hardbreak",runner:(e,t)=>{t.attrs.isInline?e.addNode("text",void 0,`
`):e.addNode("break")}}}));me(Ku.node,{displayName:"NodeSchema<hardbreak>",group:"Hardbreak"});me(Ku.ctx,{displayName:"NodeSchemaCtx<hardbreak>",group:"Hardbreak"});const w7=at("InsertHardbreak",n=>()=>(e,t)=>{var s;const{selection:r,tr:i}=e;if(!(r instanceof Ue))return!1;if(r.empty){const o=r.$from.node();if(o.childCount>0&&((s=o.lastChild)==null?void 0:s.type.name)==="hardbreak")return t==null||t(i.replaceRangeWith(r.to-1,r.to,e.schema.node("paragraph")).setSelection(lt.near(i.doc.resolve(r.to))).scrollIntoView()),!0}return t==null||t(i.setMeta("hardbreak",!0).replaceSelectionWith(Ku.type(n).create()).scrollIntoView()),!0});me(w7,{displayName:"Command<insertHardbreakCommand>",group:"Hardbreak"});const b7=di("hardbreakKeymap",{InsertHardbreak:{shortcuts:"Shift-Enter",command:n=>{const e=n.get(We);return()=>e.call(w7.key)}}});me(b7.ctx,{displayName:"KeymapCtx<hardbreak>",group:"Hardbreak"});me(b7.shortcuts,{displayName:"Keymap<hardbreak>",group:"Hardbreak"});const k7=js("hr");me(k7,{displayName:"Attr<hr>",group:"Hr"});const N0=Pn("hr",n=>({group:"block",parseDOM:[{tag:"hr"}],toDOM:e=>["hr",n.get(k7.key)(e)],parseMarkdown:{match:({type:e})=>e==="thematicBreak",runner:(e,t,r)=>{e.addNode(r)}},toMarkdown:{match:e=>e.type.name==="hr",runner:e=>{e.addNode("thematicBreak")}}}));me(N0.node,{displayName:"NodeSchema<hr>",group:"Hr"});me(N0.ctx,{displayName:"NodeSchemaCtx<hr>",group:"Hr"});const sL=Er(n=>new ui(/^(?:---|___\s|\*\*\*\s)$/,(e,t,r,i)=>{const{tr:s}=e;return t[0]&&s.replaceWith(r-1,i,N0.type(n).create()),s}));me(sL,{displayName:"InputRule<insertHrInputRule>",group:"Hr"});const oL=at("InsertHr",n=>()=>(e,t)=>{if(!t)return!0;const r=Zs.node.type(n).create(),{tr:i,selection:s}=e,{from:o}=s,a=N0.type(n).create();if(!a)return!0;const l=i.replaceSelectionWith(a).insert(o,r),u=lt.findFrom(l.doc.resolve(o),1,!0);return u&&t(l.setSelection(u).scrollIntoView()),!0});me(oL,{displayName:"Command<insertHrCommand>",group:"Hr"});const x7=js("bulletList");me(x7,{displayName:"Attr<bulletList>",group:"BulletList"});const bc=Pn("bullet_list",n=>({content:"listItem+",group:"block",attrs:{spread:{default:!1,validate:"boolean"}},parseDOM:[{tag:"ul",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Ws(e);return{spread:e.dataset.spread==="true"}}}],toDOM:e=>["ul",{...n.get(x7.key)(e),"data-spread":e.attrs.spread},0],parseMarkdown:{match:({type:e,ordered:t})=>e==="list"&&!t,runner:(e,t,r)=>{const i=t.spread!=null?`${t.spread}`:"false";e.openNode(r,{spread:i}).next(t.children).closeNode()}},toMarkdown:{match:e=>e.type.name==="bullet_list",runner:(e,t)=>{e.openNode("list",void 0,{ordered:!1,spread:t.attrs.spread}).next(t.content).closeNode()}}}));me(bc.node,{displayName:"NodeSchema<bulletList>",group:"BulletList"});me(bc.ctx,{displayName:"NodeSchemaCtx<bulletList>",group:"BulletList"});const aL=Er(n=>xw(/^\s*([-+*])\s$/,bc.type(n)));me(aL,{displayName:"InputRule<wrapInBulletListInputRule>",group:"BulletList"});const S7=at("WrapInBulletList",n=>()=>Rw(bc.type(n)));me(S7,{displayName:"Command<wrapInBulletListCommand>",group:"BulletList"});const C7=di("bulletListKeymap",{WrapInBulletList:{shortcuts:"Mod-Alt-8",command:n=>{const e=n.get(We);return()=>e.call(S7.key)}}});me(C7.ctx,{displayName:"KeymapCtx<bulletListKeymap>",group:"BulletList"});me(C7.shortcuts,{displayName:"Keymap<bulletListKeymap>",group:"BulletList"});const M7=js("orderedList");me(M7,{displayName:"Attr<orderedList>",group:"OrderedList"});const kc=Pn("ordered_list",n=>({content:"listItem+",group:"block",attrs:{order:{default:1,validate:"number"},spread:{default:!1,validate:"boolean"}},parseDOM:[{tag:"ol",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Ws(e);return{spread:e.dataset.spread,order:e.hasAttribute("start")?Number(e.getAttribute("start")):1}}}],toDOM:e=>["ol",{...n.get(M7.key)(e),...e.attrs.order===1?{}:e.attrs.order,"data-spread":e.attrs.spread},0],parseMarkdown:{match:({type:e,ordered:t})=>e==="list"&&!!t,runner:(e,t,r)=>{const i=t.spread!=null?`${t.spread}`:"true";e.openNode(r,{spread:i}).next(t.children).closeNode()}},toMarkdown:{match:e=>e.type.name==="ordered_list",runner:(e,t)=>{e.openNode("list",void 0,{ordered:!0,start:1,spread:t.attrs.spread==="true"}),e.next(t.content),e.closeNode()}}}));me(kc.node,{displayName:"NodeSchema<orderedList>",group:"OrderedList"});me(kc.ctx,{displayName:"NodeSchemaCtx<orderedList>",group:"OrderedList"});const lL=Er(n=>xw(/^\s*(\d+)\.\s$/,kc.type(n),e=>({order:Number(e[1])}),(e,t)=>t.childCount+t.attrs.order===Number(e[1])));me(lL,{displayName:"InputRule<wrapInOrderedListInputRule>",group:"OrderedList"});const A7=at("WrapInOrderedList",n=>()=>Rw(kc.type(n)));me(A7,{displayName:"Command<wrapInOrderedListCommand>",group:"OrderedList"});const _7=di("orderedListKeymap",{WrapInOrderedList:{shortcuts:"Mod-Alt-7",command:n=>{const e=n.get(We);return()=>e.call(A7.key)}}});me(_7.ctx,{displayName:"KeymapCtx<orderedList>",group:"OrderedList"});me(_7.shortcuts,{displayName:"Keymap<orderedList>",group:"OrderedList"});const T7=js("listItem");me(T7,{displayName:"Attr<listItem>",group:"ListItem"});const Us=Pn("list_item",n=>({group:"listItem",content:"paragraph block*",attrs:{label:{default:"\u2022",validate:"string"},listType:{default:"bullet",validate:"string"},spread:{default:!0,validate:"boolean"}},defining:!0,parseDOM:[{tag:"li",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Ws(e);return{label:e.dataset.label,listType:e.dataset.listType,spread:e.dataset.spread==="true"}}}],toDOM:e=>["li",{...n.get(T7.key)(e),"data-label":e.attrs.label,"data-list-type":e.attrs.listType,"data-spread":e.attrs.spread},0],parseMarkdown:{match:({type:e})=>e==="listItem",runner:(e,t,r)=>{const i=t.label!=null?`${t.label}.`:"\u2022",s=t.label!=null?"ordered":"bullet",o=t.spread!=null?`${t.spread}`:"true";e.openNode(r,{label:i,listType:s,spread:o}),e.next(t.children),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="list_item",runner:(e,t)=>{e.openNode("listItem",void 0,{spread:t.attrs.spread}),e.next(t.content),e.closeNode()}}}));me(Us.node,{displayName:"NodeSchema<listItem>",group:"ListItem"});me(Us.ctx,{displayName:"NodeSchemaCtx<listItem>",group:"ListItem"});const E7=at("SinkListItem",n=>()=>O1e(Us.type(n)));me(E7,{displayName:"Command<sinkListItemCommand>",group:"ListItem"});const O7=at("LiftListItem",n=>()=>_1e(Us.type(n)));me(O7,{displayName:"Command<liftListItemCommand>",group:"ListItem"});const I7=at("SplitListItem",n=>()=>A1e(Us.type(n)));me(I7,{displayName:"Command<splitListItemCommand>",group:"ListItem"});function F1e(n){return(e,t,r)=>{const{selection:i}=e;if(!(i instanceof Ue))return!1;const{empty:s,$from:o}=i;return!s||o.parentOffset!==0||o.node(-1).type!==Us.type(n)?!1:DD(e,t,r)}}const D7=at("LiftFirstListItem",n=>()=>F1e(n));me(D7,{displayName:"Command<liftFirstListItemCommand>",group:"ListItem"});const N7=di("listItemKeymap",{NextListItem:{shortcuts:"Enter",command:n=>{const e=n.get(We);return()=>e.call(I7.key)}},SinkListItem:{shortcuts:["Tab","Mod-]"],command:n=>{const e=n.get(We);return()=>e.call(E7.key)}},LiftListItem:{shortcuts:["Shift-Tab","Mod-["],command:n=>{const e=n.get(We);return()=>e.call(O7.key)}},LiftFirstListItem:{shortcuts:["Backspace","Delete"],command:n=>{const e=n.get(We);return()=>e.call(D7.key)}}});me(N7.ctx,{displayName:"KeymapCtx<listItem>",group:"ListItem"});me(N7.shortcuts,{displayName:"Keymap<listItem>",group:"ListItem"});const uL=Gw("text",()=>({group:"inline",parseMarkdown:{match:({type:n})=>n==="text",runner:(n,e)=>{n.addText(e.value)}},toMarkdown:{match:n=>n.type.name==="text",runner:(n,e)=>{n.addNode("text",void 0,e.text)}}}));me(uL,{displayName:"NodeSchema<text>",group:"Text"});const L7=js("html");me(L7,{displayName:"Attr<html>",group:"Html"});const P7=Pn("html",n=>({atom:!0,group:"inline",inline:!0,attrs:{value:{default:"",validate:"string"}},toDOM:e=>{const t=document.createElement("span"),r={...n.get(L7.key)(e),"data-value":e.attrs.value,"data-type":"html"};return t.textContent=e.attrs.value,["span",r,e.attrs.value]},parseDOM:[{tag:'span[data-type="html"]',getAttrs:e=>{var t;return{value:(t=e.dataset.value)!=null?t:""}}}],parseMarkdown:{match:({type:e})=>Boolean(e==="html"),runner:(e,t,r)=>{e.addNode(r,{value:t.value})}},toMarkdown:{match:e=>e.type.name==="html",runner:(e,t)=>{e.addNode("html",void 0,t.attrs.value)}}}));me(P7.node,{displayName:"NodeSchema<html>",group:"Html"});me(P7.ctx,{displayName:"NodeSchemaCtx<html>",group:"Html"});const z1e=[QN,o7,Zs,ey,u7,_i,R2,Ku,d7,D0,m7,No,k7,N0,v7,wc,x7,bc,M7,kc,T7,Us,Qw,vc,t7,I0,r7,pa,s7,Rs,L7,P7,uL].flat(),H1e=[tL,aL,lL,nL,sL,eL].flat(),V1e=[UN,GN,YN,KN],$c=at("IsMarkSelected",()=>n=>e=>{if(!n)return!1;const{doc:t,selection:r}=e;return t.rangeHasMark(r.from,r.to,n)}),cL=at("IsNoteSelected",()=>n=>e=>n?GI(e,n).hasNode:!1),cr=at("ClearTextInCurrentBlock",()=>()=>(n,e)=>{let t=n.tr;const{$from:r,$to:i}=t.selection,{pos:s}=r,{pos:o}=i,a=s-r.node().content.size;return a<0?!1:(t=t.deleteRange(a,o),e==null||e(t),!0)}),Ko=at("SetBlockType",()=>n=>(e,t)=>{const{nodeType:r,attrs:i=null}=n!=null?n:{};if(!r)return!1;const s=e.tr,{from:o,to:a}=s.selection;try{s.setBlockType(o,a,r,i)}catch{return!1}return t==null||t(s),!0}),Vd=at("WrapInBlockType",()=>n=>(e,t)=>{const{nodeType:r,attrs:i=null}=n!=null?n:{};if(!r)return!1;let s=e.tr;try{const{$from:o,$to:a}=s.selection,l=o.blockRange(a),u=l&&bw(l,r,i);if(!u)return!1;s=s.wrap(l,u)}catch{return!1}return t==null||t(s),!0}),qd=at("AddBlockType",()=>n=>(e,t)=>{const{nodeType:r,attrs:i=null}=n!=null?n:{};if(!r)return!1;const s=e.tr;try{const o=r instanceof cs?r:r.createAndFill(i);if(!o)return!1;s.replaceSelectionWith(o)}catch{return!1}return t==null||t(s),!0}),hL=at("SelectTextNearPos",()=>n=>(e,t)=>{const{pos:r}=n!=null?n:{};if(r==null)return!1;const i=(o,a,l)=>Math.min(Math.max(o,a),l),s=e.tr;try{const o=e.doc.resolve(i(r,0,e.doc.content.size));s.setSelection(Ue.near(o))}catch{return!1}return t==null||t(s.scrollIntoView()),!0}),q1e=[a7,f7,Xa,c7,g7,w7,oL,rL,iL,A7,S7,E7,I7,O7,D7,Y4,X4,J4,JN,XN,$c,cL,cr,Ko,Vd,qd,hL],W1e=[p7,y7,b7,h7,N7,_7,C7,l7,e7,i7,n7].flat(),R7=Ro("remarkAddOrderInList",()=>()=>n=>{Rl(n,"list",e=>{var t;if(e.ordered){const r=(t=e.start)!=null?t:1;e.children.forEach((i,s)=>{i.label=s+r})}})});me(R7.plugin,{displayName:"Remark<remarkAddOrderInListPlugin>",group:"Remark"});me(R7.options,{displayName:"RemarkConfig<remarkAddOrderInListPlugin>",group:"Remark"});const $7=Ro("remarkLineBreak",()=>()=>n=>{const e=/[\t ]*(?:\r?\n|\r)/g;Rl(n,"text",(t,r,i)=>{if(!t.value||typeof t.value!="string")return;const s=[];let o=0;e.lastIndex=0;let a=e.exec(t.value);for(;a;){const u=a.index;o!==u&&s.push({type:"text",value:t.value.slice(o,u)}),s.push({type:"break",data:{isInline:!0}}),o=u+a[0].length,a=e.exec(t.value)}if(!!(s.length>0&&i&&typeof r=="number"))return o<t.value.length&&s.push({type:"text",value:t.value.slice(o)}),i.children.splice(r,1,...s),r+s.length})});me($7.plugin,{displayName:"Remark<remarkLineBreak>",group:"Remark"});me($7.options,{displayName:"RemarkConfig<remarkLineBreak>",group:"Remark"});const B7=Ro("remarkInlineLink",()=>D1e);me(B7.plugin,{displayName:"Remark<remarkInlineLinkPlugin>",group:"Remark"});me(B7.options,{displayName:"RemarkConfig<remarkInlineLinkPlugin>",group:"Remark"});const j1e=n=>!!n.children,Z1e=n=>n.type==="html";function U1e(n,e){return t(n,0,null)[0];function t(r,i,s){if(j1e(r)){const o=[];for(let a=0,l=r.children.length;a<l;a++){const u=r.children[a];if(u){const c=t(u,a,r);if(c)for(let h=0,d=c.length;h<d;h++){const f=c[h];f&&o.push(f)}}}r.children=o}return e(r,i,s)}}const G1e=["root","blockquote","listItem"],F7=Ro("remarkHTMLTransformer",()=>()=>n=>{U1e(n,(e,t,r)=>Z1e(e)?(r&&G1e.includes(r.type)&&(e.children=[{...e}],delete e.value,e.type="paragraph"),[e]):[e])});me(F7.plugin,{displayName:"Remark<remarkHtmlTransformer>",group:"Remark"});me(F7.options,{displayName:"RemarkConfig<remarkHtmlTransformer>",group:"Remark"});const z7=Ro("remarkMarker",()=>()=>(n,e)=>{const t=r=>e.value.charAt(r.position.start.offset);Rl(n,r=>["strong","emphasis"].includes(r.type),r=>{r.marker=t(r)})});me(z7.plugin,{displayName:"Remark<remarkMarker>",group:"Remark"});me(z7.options,{displayName:"RemarkConfig<remarkMarker>",group:"Remark"});const dL=Wn(()=>{let n=!1;const e=new pn("MILKDOWN_INLINE_NODES_CURSOR"),t=new fn({key:e,state:{init(){return!1},apply(r){if(!r.selection.empty)return!1;const i=r.selection.$from,s=i.nodeBefore,o=i.nodeAfter;return!!(s&&o&&s.isInline&&!s.isText&&o.isInline&&!o.isText)}},props:{handleDOMEvents:{compositionend:(r,i)=>n?(n=!1,requestAnimationFrame(()=>{if(t.getState(r.state)){const o=r.state.selection.from;i.preventDefault(),r.dispatch(r.state.tr.insertText(i.data||"",o))}}),!0):!1,compositionstart:r=>(t.getState(r.state)&&(n=!0),!1),beforeinput:(r,i)=>{if(t.getState(r.state)&&i instanceof InputEvent&&i.data&&!n){const o=r.state.selection.from;return i.preventDefault(),r.dispatch(r.state.tr.insertText(i.data||"",o)),!0}return!1}},decorations(r){if(t.getState(r)){const o=r.selection.$from.pos,a=document.createElement("span"),l=Vn.widget(o,a,{side:-1}),u=document.createElement("span"),c=Vn.widget(o,u);return setTimeout(()=>{a.contentEditable="true",u.contentEditable="true"}),nn.create(r.doc,[l,c])}return nn.empty}}});return t});me(dL,{displayName:"Prose<inlineNodesCursorPlugin>",group:"Prose"});const fL=Wn(n=>new fn({key:new pn("MILKDOWN_HARDBREAK_MARKS"),appendTransaction:(e,t,r)=>{if(!e.length)return;const[i]=e;if(!i)return;const[s]=i.steps;if(i.getMeta("hardbreak")){if(!(s instanceof nr))return;const{from:l}=s;return r.tr.setNodeMarkup(l,Ku.type(n),void 0,[])}if(s instanceof da){let l=r.tr;const{from:u,to:c}=s;return r.doc.nodesBetween(u,c,(h,d)=>{h.type===Ku.type(n)&&(l=l.setNodeMarkup(d,Ku.type(n),void 0,[]))}),l}}}));me(fL,{displayName:"Prose<hardbreakClearMarkPlugin>",group:"Prose"});const H7=Ut(["table","code_block"],"hardbreakFilterNodes");me(H7,{displayName:"Ctx<hardbreakFilterNodes>",group:"Prose"});const pL=Wn(n=>{const e=n.get(H7.key);return new fn({key:new pn("MILKDOWN_HARDBREAK_FILTER"),filterTransaction:(t,r)=>{const i=t.getMeta("hardbreak"),[s]=t.steps;if(i&&s){const{from:o}=s,a=r.doc.resolve(o);let l=a.depth,u=!0;for(;l>0;)e.includes(a.node(l).type.name)&&(u=!1),l--;return u}return!0}})});me(pL,{displayName:"Prose<hardbreakFilterPlugin>",group:"Prose"});const mL=Wn(n=>{const e=new pn("MILKDOWN_HEADING_ID"),t=r=>{if(r.composing)return;const i=n.get(ey.key),s=r.state.tr.setMeta("addToHistory",!1);let o=!1;const a={};r.state.doc.descendants((l,u)=>{if(l.type===_i.type(n)){if(l.textContent.trim().length===0)return;const c=l.attrs;let h=i(l);a[h]?(a[h]+=1,h+=`-#${a[h]}`):a[h]=1,c.id!==h&&(o=!0,s.setMeta(e,!0).setNodeMarkup(u,void 0,{...c,id:h}))}}),o&&r.dispatch(s)};return new fn({key:e,view:r=>(t(r),{update:(i,s)=>{i.state.doc.eq(s.doc)||t(i)}})})});me(mL,{displayName:"Prose<syncHeadingIdPlugin>",group:"Prose"});const gL=Wn(n=>{const e=(t,r,i)=>{if(!i.selection||t.some(h=>h.getMeta("addToHistory")===!1||!h.isGeneric))return null;const s=kc.type(n),o=bc.type(n),a=Us.type(n),l=(h,d)=>{let f=!1;const p=`${d+1}.`;return h.label!==p&&(h.label=p,f=!0),f};let u=i.tr,c=!1;return i.doc.descendants((h,d,f,p)=>{if(h.type===o){const m=h.maybeChild(0);(m==null?void 0:m.type)===a&&m.attrs.listType==="ordered"&&(c=!0,u.setNodeMarkup(d,s,{spread:"true"}),h.descendants((y,v,b,k)=>{if(y.type===a){const _={...y.attrs};l(_,k)&&(u=u.setNodeMarkup(v,void 0,_))}return!1}))}else if(h.type===a&&(f==null?void 0:f.type)===s){const m={...h.attrs};let y=!1;m.listType!=="ordered"&&(m.listType="ordered",y=!0),(f==null?void 0:f.maybeChild(0))&&(y=l(m,p)),y&&(u=u.setNodeMarkup(d,void 0,m),c=!0)}}),c?u.setMeta("addToHistory",!1):null};return new fn({key:new pn("MILKDOWN_KEEP_LIST_ORDER"),appendTransaction:e})});me(gL,{displayName:"Prose<syncListOrderPlugin>",group:"Prose"});const K1e=[fL,H7,pL,dL,R7,B7,$7,F7,z7,Q4,mL,gL].flat(),Y1e=[z1e,H1e,V1e,q1e,W1e,K1e].flat();function J1e(n){const e=Ut({},`${n}_SLASH_SPEC`),t=Wn(i=>{const s=i.get(e.key);return new fn({key:new pn(`${n}_SLASH`),...s})}),r=[e,t];return r.key=e.key,r.pluginKey=t.key,e.meta={package:"@milkdown/plugin-slash",displayName:`Ctx<slashSpec>|${n}`},t.meta={package:"@milkdown/plugin-slash",displayName:`Prose<slash>|${n}`},r}var Nh,z1,H1,V1,q1,Fu,W1,Lh,j1,Z1,n4,yL;class X1e{constructor(e){Ee(this,n4);Ee(this,Nh,void 0);Ee(this,z1,void 0);Ee(this,H1,void 0);Ee(this,V1,void 0);Ee(this,q1,void 0);Ee(this,Fu,void 0);Ee(this,W1,void 0);Ee(this,Lh,void 0);Ee(this,j1,void 0);Ee(this,Z1,void 0);var t,r,i,s,o;de(this,Nh,!1),this.onShow=()=>{},this.onHide=()=>{},de(this,Z1,(a,l)=>{var b,k;const{state:u,composing:c}=a,{selection:h,doc:d}=u,{ranges:f}=h,p=Math.min(...f.map(_=>_.$from.pos)),m=Math.max(...f.map(_=>_.$to.pos)),y=l&&l.doc.eq(d)&&l.selection.eq(h);if(Y(this,Nh)||(((k=(b=Y(this,V1))!=null?b:a.dom.parentElement)!=null?k:document.body).appendChild(this.element),de(this,Nh,!0)),c||y)return;if(!Y(this,W1).call(this,a,l)){this.hide();return}Vs({getBoundingClientRect:()=>I4(a,p,m)},this.element,{placement:"bottom-start",middleware:[P2(),El(Y(this,j1)),...Y(this,z1)],...Y(this,H1)}).then(({x:_,y:C})=>{Object.assign(this.element.style,{left:`${_}px`,top:`${C}px`})}).catch(console.error),this.show()}),this.update=(a,l)=>{Y(this,Lh).call(this,a,l)},this.getContent=(a,l=u=>u.type.name==="paragraph")=>{const{selection:u}=a.state,{empty:c,$from:h}=u,d=a.state.selection instanceof Ue;if(typeof document>"u")return;const f=this.element.contains(document.activeElement),p=!a.hasFocus()&&!f,m=!a.editable,v=!$le(l)(a.state.selection);if(!(p||m||!c||!d||v))return h.parent.textBetween(Math.max(0,h.parentOffset-500),h.parentOffset,void 0,"\uFFFC")},this.destroy=()=>{Y(this,Lh).cancel()},this.show=()=>{this.element.dataset.show="true",this.onShow()},this.hide=()=>{this.element.dataset.show="false",this.onHide()},this.element=e.content,de(this,q1,(t=e.debounce)!=null?t:200),de(this,W1,(r=e.shouldShow)!=null?r:Hp(this,n4,yL)),de(this,Fu,(i=e.trigger)!=null?i:"/"),de(this,j1,e.offset),de(this,z1,(s=e.middleware)!=null?s:[]),de(this,H1,(o=e.floatingUIOptions)!=null?o:{}),de(this,V1,e.root),de(this,Lh,i4(Y(this,Z1),Y(this,q1)))}}Nh=new WeakMap,z1=new WeakMap,H1=new WeakMap,V1=new WeakMap,q1=new WeakMap,Fu=new WeakMap,W1=new WeakMap,Lh=new WeakMap,j1=new WeakMap,Z1=new WeakMap,n4=new WeakSet,yL=function(e){const t=this.getContent(e);if(!t)return!1;const r=t.at(-1);return r?Array.isArray(Y(this,Fu))?Y(this,Fu).includes(r):Y(this,Fu)===r:!1};function vL(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=vL(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function vr(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=vL(n))&&(r&&(r+=" "),r+=e);return r}/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:wL,setPrototypeOf:KC,isFrozen:Q1e,getPrototypeOf:epe,getOwnPropertyDescriptor:tpe}=Object;let{freeze:qr,seal:ps,create:M3}=Object,{apply:A3,construct:_3}=typeof Reflect<"u"&&Reflect;qr||(qr=function(e){return e});ps||(ps=function(e){return e});A3||(A3=function(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return e.apply(t,i)});_3||(_3=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return new e(...r)});const wm=Wr(Array.prototype.forEach),npe=Wr(Array.prototype.lastIndexOf),YC=Wr(Array.prototype.pop),pd=Wr(Array.prototype.push),rpe=Wr(Array.prototype.splice),_g=Wr(String.prototype.toLowerCase),K8=Wr(String.prototype.toString),Y8=Wr(String.prototype.match),md=Wr(String.prototype.replace),ipe=Wr(String.prototype.indexOf),spe=Wr(String.prototype.trim),As=Wr(Object.prototype.hasOwnProperty),Ir=Wr(RegExp.prototype.test),gd=ope(TypeError);function Wr(n){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return A3(n,e,r)}}function ope(n){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return _3(n,t)}}function Mt(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_g;KC&&KC(n,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=t(i);s!==i&&(Q1e(e)||(e[r]=s),i=s)}n[i]=!0}return n}function ape(n){for(let e=0;e<n.length;e++)As(n,e)||(n[e]=null);return n}function Yo(n){const e=M3(null);for(const[t,r]of wL(n))As(n,t)&&(Array.isArray(r)?e[t]=ape(r):r&&typeof r=="object"&&r.constructor===Object?e[t]=Yo(r):e[t]=r);return e}function yd(n,e){for(;n!==null;){const r=tpe(n,e);if(r){if(r.get)return Wr(r.get);if(typeof r.value=="function")return Wr(r.value)}n=epe(n)}function t(){return null}return t}const JC=qr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),J8=qr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),X8=qr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),lpe=qr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Q8=qr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),upe=qr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),XC=qr(["#text"]),QC=qr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),e6=qr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),eM=qr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),bm=qr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),cpe=ps(/\{\{[\w\W]*|[\w\W]*\}\}/gm),hpe=ps(/<%[\w\W]*|[\w\W]*%>/gm),dpe=ps(/\$\{[\w\W]*/gm),fpe=ps(/^data-[\-\w.\u00B7-\uFFFF]+$/),ppe=ps(/^aria-[\-\w]+$/),bL=ps(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),mpe=ps(/^(?:\w+script|data):/i),gpe=ps(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),kL=ps(/^html$/i),ype=ps(/^[a-z][.\w]*(-[.\w]+)+$/i);var tM=Object.freeze({__proto__:null,ARIA_ATTR:ppe,ATTR_WHITESPACE:gpe,CUSTOM_ELEMENT:ype,DATA_ATTR:fpe,DOCTYPE_NAME:kL,ERB_EXPR:hpe,IS_ALLOWED_URI:bL,IS_SCRIPT_OR_DATA:mpe,MUSTACHE_EXPR:cpe,TMPLIT_EXPR:dpe});const vd={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},vpe=function(){return typeof window>"u"?null:window},wpe=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(r=t.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},nM=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function xL(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vpe();const e=Ke=>xL(Ke);if(e.version="3.3.0",e.removed=[],!n||!n.document||n.document.nodeType!==vd.document||!n.Element)return e.isSupported=!1,e;let{document:t}=n;const r=t,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:u,NamedNodeMap:c=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:h,DOMParser:d,trustedTypes:f}=n,p=l.prototype,m=yd(p,"cloneNode"),y=yd(p,"remove"),v=yd(p,"nextSibling"),b=yd(p,"childNodes"),k=yd(p,"parentNode");if(typeof o=="function"){const Ke=t.createElement("template");Ke.content&&Ke.content.ownerDocument&&(t=Ke.content.ownerDocument)}let _,C="";const{implementation:M,createNodeIterator:O,createDocumentFragment:D,getElementsByTagName:$}=t,{importNode:R}=r;let G=nM();e.isSupported=typeof wL=="function"&&typeof k=="function"&&M&&M.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:N,ERB_EXPR:j,TMPLIT_EXPR:Z,DATA_ATTR:re,ARIA_ATTR:J,IS_SCRIPT_OR_DATA:K,ATTR_WHITESPACE:ne,CUSTOM_ELEMENT:pe}=tM;let{IS_ALLOWED_URI:B}=tM,Ce=null;const ae=Mt({},[...JC,...J8,...X8,...Q8,...XC]);let L=null;const we=Mt({},[...QC,...e6,...eM,...bm]);let ge=Object.seal(M3(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ne=null,dt=null;const _t=Object.seal(M3(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let yn=!0,Bt=!0,Rt=!1,vn=!0,jt=!1,In=!0,Gt=!1,wn=!1,Jn=!1,Zn=!1,Oe=!1,Ze=!1,Zt=!0,Xn=!1;const La="user-content-";let Zr=!0,Hi=!1,ce={},Ie=null;const it=Mt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let mt=null;const Nt=Mt({},["audio","video","img","source","image","track"]);let Qn=null;const pi=Mt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),lr="http://www.w3.org/1998/Math/MathML",mi="http://www.w3.org/2000/svg",er="http://www.w3.org/1999/xhtml";let bn=er,gi=!1,wr=null;const Lp=Mt({},[lr,mi,er],K8);let Vl=Mt({},["mi","mo","mn","ms","mtext"]),ql=Mt({},["annotation-xml"]);const Pp=Mt({},["title","style","font","a","script"]);let Pa=null;const Rp=["application/xhtml+xml","text/html"],$p="text/html";let Dn=null,Vo=null;const Bp=t.createElement("form"),q0=function(Q){return Q instanceof RegExp||Q instanceof Function},Cc=function(){let Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Vo&&Vo===Q)){if((!Q||typeof Q!="object")&&(Q={}),Q=Yo(Q),Pa=Rp.indexOf(Q.PARSER_MEDIA_TYPE)===-1?$p:Q.PARSER_MEDIA_TYPE,Dn=Pa==="application/xhtml+xml"?K8:_g,Ce=As(Q,"ALLOWED_TAGS")?Mt({},Q.ALLOWED_TAGS,Dn):ae,L=As(Q,"ALLOWED_ATTR")?Mt({},Q.ALLOWED_ATTR,Dn):we,wr=As(Q,"ALLOWED_NAMESPACES")?Mt({},Q.ALLOWED_NAMESPACES,K8):Lp,Qn=As(Q,"ADD_URI_SAFE_ATTR")?Mt(Yo(pi),Q.ADD_URI_SAFE_ATTR,Dn):pi,mt=As(Q,"ADD_DATA_URI_TAGS")?Mt(Yo(Nt),Q.ADD_DATA_URI_TAGS,Dn):Nt,Ie=As(Q,"FORBID_CONTENTS")?Mt({},Q.FORBID_CONTENTS,Dn):it,Ne=As(Q,"FORBID_TAGS")?Mt({},Q.FORBID_TAGS,Dn):Yo({}),dt=As(Q,"FORBID_ATTR")?Mt({},Q.FORBID_ATTR,Dn):Yo({}),ce=As(Q,"USE_PROFILES")?Q.USE_PROFILES:!1,yn=Q.ALLOW_ARIA_ATTR!==!1,Bt=Q.ALLOW_DATA_ATTR!==!1,Rt=Q.ALLOW_UNKNOWN_PROTOCOLS||!1,vn=Q.ALLOW_SELF_CLOSE_IN_ATTR!==!1,jt=Q.SAFE_FOR_TEMPLATES||!1,In=Q.SAFE_FOR_XML!==!1,Gt=Q.WHOLE_DOCUMENT||!1,Zn=Q.RETURN_DOM||!1,Oe=Q.RETURN_DOM_FRAGMENT||!1,Ze=Q.RETURN_TRUSTED_TYPE||!1,Jn=Q.FORCE_BODY||!1,Zt=Q.SANITIZE_DOM!==!1,Xn=Q.SANITIZE_NAMED_PROPS||!1,Zr=Q.KEEP_CONTENT!==!1,Hi=Q.IN_PLACE||!1,B=Q.ALLOWED_URI_REGEXP||bL,bn=Q.NAMESPACE||er,Vl=Q.MATHML_TEXT_INTEGRATION_POINTS||Vl,ql=Q.HTML_INTEGRATION_POINTS||ql,ge=Q.CUSTOM_ELEMENT_HANDLING||{},Q.CUSTOM_ELEMENT_HANDLING&&q0(Q.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ge.tagNameCheck=Q.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Q.CUSTOM_ELEMENT_HANDLING&&q0(Q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ge.attributeNameCheck=Q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Q.CUSTOM_ELEMENT_HANDLING&&typeof Q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ge.allowCustomizedBuiltInElements=Q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),jt&&(Bt=!1),Oe&&(Zn=!0),ce&&(Ce=Mt({},XC),L=[],ce.html===!0&&(Mt(Ce,JC),Mt(L,QC)),ce.svg===!0&&(Mt(Ce,J8),Mt(L,e6),Mt(L,bm)),ce.svgFilters===!0&&(Mt(Ce,X8),Mt(L,e6),Mt(L,bm)),ce.mathMl===!0&&(Mt(Ce,Q8),Mt(L,eM),Mt(L,bm))),Q.ADD_TAGS&&(typeof Q.ADD_TAGS=="function"?_t.tagCheck=Q.ADD_TAGS:(Ce===ae&&(Ce=Yo(Ce)),Mt(Ce,Q.ADD_TAGS,Dn))),Q.ADD_ATTR&&(typeof Q.ADD_ATTR=="function"?_t.attributeCheck=Q.ADD_ATTR:(L===we&&(L=Yo(L)),Mt(L,Q.ADD_ATTR,Dn))),Q.ADD_URI_SAFE_ATTR&&Mt(Qn,Q.ADD_URI_SAFE_ATTR,Dn),Q.FORBID_CONTENTS&&(Ie===it&&(Ie=Yo(Ie)),Mt(Ie,Q.FORBID_CONTENTS,Dn)),Zr&&(Ce["#text"]=!0),Gt&&Mt(Ce,["html","head","body"]),Ce.table&&(Mt(Ce,["tbody"]),delete Ne.tbody),Q.TRUSTED_TYPES_POLICY){if(typeof Q.TRUSTED_TYPES_POLICY.createHTML!="function")throw gd('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Q.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw gd('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_=Q.TRUSTED_TYPES_POLICY,C=_.createHTML("")}else _===void 0&&(_=wpe(f,i)),_!==null&&typeof C=="string"&&(C=_.createHTML(""));qr&&qr(Q),Vo=Q}},W0=Mt({},[...J8,...X8,...lpe]),j0=Mt({},[...Q8,...upe]),Fp=function(Q){let _e=k(Q);(!_e||!_e.tagName)&&(_e={namespaceURI:bn,tagName:"template"});const je=_g(Q.tagName),Qt=_g(_e.tagName);return wr[Q.namespaceURI]?Q.namespaceURI===mi?_e.namespaceURI===er?je==="svg":_e.namespaceURI===lr?je==="svg"&&(Qt==="annotation-xml"||Vl[Qt]):Boolean(W0[je]):Q.namespaceURI===lr?_e.namespaceURI===er?je==="math":_e.namespaceURI===mi?je==="math"&&ql[Qt]:Boolean(j0[je]):Q.namespaceURI===er?_e.namespaceURI===mi&&!ql[Qt]||_e.namespaceURI===lr&&!Vl[Qt]?!1:!j0[je]&&(Pp[je]||!W0[je]):!!(Pa==="application/xhtml+xml"&&wr[Q.namespaceURI]):!1},yi=function(Q){pd(e.removed,{element:Q});try{k(Q).removeChild(Q)}catch{y(Q)}},Ys=function(Q,_e){try{pd(e.removed,{attribute:_e.getAttributeNode(Q),from:_e})}catch{pd(e.removed,{attribute:null,from:_e})}if(_e.removeAttribute(Q),Q==="is")if(Zn||Oe)try{yi(_e)}catch{}else try{_e.setAttribute(Q,"")}catch{}},Z0=function(Q){let _e=null,je=null;if(Jn)Q="<remove></remove>"+Q;else{const kn=Y8(Q,/^[\r\n\t ]+/);je=kn&&kn[0]}Pa==="application/xhtml+xml"&&bn===er&&(Q='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Q+"</body></html>");const Qt=_?_.createHTML(Q):Q;if(bn===er)try{_e=new d().parseFromString(Qt,Pa)}catch{}if(!_e||!_e.documentElement){_e=M.createDocument(bn,"template",null);try{_e.documentElement.innerHTML=gi?C:Qt}catch{}}const Un=_e.body||_e.documentElement;return Q&&je&&Un.insertBefore(t.createTextNode(je),Un.childNodes[0]||null),bn===er?$.call(_e,Gt?"html":"body")[0]:Gt?_e.documentElement:Un},U0=function(Q){return O.call(Q.ownerDocument||Q,Q,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Mc=function(Q){return Q instanceof h&&(typeof Q.nodeName!="string"||typeof Q.textContent!="string"||typeof Q.removeChild!="function"||!(Q.attributes instanceof c)||typeof Q.removeAttribute!="function"||typeof Q.setAttribute!="function"||typeof Q.namespaceURI!="string"||typeof Q.insertBefore!="function"||typeof Q.hasChildNodes!="function")},G0=function(Q){return typeof a=="function"&&Q instanceof a};function Vi(Ke,Q,_e){wm(Ke,je=>{je.call(e,Q,_e,Vo)})}const K0=function(Q){let _e=null;if(Vi(G.beforeSanitizeElements,Q,null),Mc(Q))return yi(Q),!0;const je=Dn(Q.nodeName);if(Vi(G.uponSanitizeElement,Q,{tagName:je,allowedTags:Ce}),In&&Q.hasChildNodes()&&!G0(Q.firstElementChild)&&Ir(/<[/\w!]/g,Q.innerHTML)&&Ir(/<[/\w!]/g,Q.textContent)||Q.nodeType===vd.progressingInstruction||In&&Q.nodeType===vd.comment&&Ir(/<[/\w]/g,Q.data))return yi(Q),!0;if(!(_t.tagCheck instanceof Function&&_t.tagCheck(je))&&(!Ce[je]||Ne[je])){if(!Ne[je]&&J0(je)&&(ge.tagNameCheck instanceof RegExp&&Ir(ge.tagNameCheck,je)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(je)))return!1;if(Zr&&!Ie[je]){const Qt=k(Q)||Q.parentNode,Un=b(Q)||Q.childNodes;if(Un&&Qt){const kn=Un.length;for(let ur=kn-1;ur>=0;--ur){const qi=m(Un[ur],!0);qi.__removalCount=(Q.__removalCount||0)+1,Qt.insertBefore(qi,v(Q))}}}return yi(Q),!0}return Q instanceof l&&!Fp(Q)||(je==="noscript"||je==="noembed"||je==="noframes")&&Ir(/<\/no(script|embed|frames)/i,Q.innerHTML)?(yi(Q),!0):(jt&&Q.nodeType===vd.text&&(_e=Q.textContent,wm([N,j,Z],Qt=>{_e=md(_e,Qt," ")}),Q.textContent!==_e&&(pd(e.removed,{element:Q.cloneNode()}),Q.textContent=_e)),Vi(G.afterSanitizeElements,Q,null),!1)},Y0=function(Q,_e,je){if(Zt&&(_e==="id"||_e==="name")&&(je in t||je in Bp))return!1;if(!(Bt&&!dt[_e]&&Ir(re,_e))){if(!(yn&&Ir(J,_e))){if(!(_t.attributeCheck instanceof Function&&_t.attributeCheck(_e,Q))){if(!L[_e]||dt[_e]){if(!(J0(Q)&&(ge.tagNameCheck instanceof RegExp&&Ir(ge.tagNameCheck,Q)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(Q))&&(ge.attributeNameCheck instanceof RegExp&&Ir(ge.attributeNameCheck,_e)||ge.attributeNameCheck instanceof Function&&ge.attributeNameCheck(_e,Q))||_e==="is"&&ge.allowCustomizedBuiltInElements&&(ge.tagNameCheck instanceof RegExp&&Ir(ge.tagNameCheck,je)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(je))))return!1}else if(!Qn[_e]){if(!Ir(B,md(je,ne,""))){if(!((_e==="src"||_e==="xlink:href"||_e==="href")&&Q!=="script"&&ipe(je,"data:")===0&&mt[Q])){if(!(Rt&&!Ir(K,md(je,ne,"")))){if(je)return!1}}}}}}}return!0},J0=function(Q){return Q!=="annotation-xml"&&Y8(Q,pe)},X0=function(Q){Vi(G.beforeSanitizeAttributes,Q,null);const{attributes:_e}=Q;if(!_e||Mc(Q))return;const je={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:L,forceKeepAttr:void 0};let Qt=_e.length;for(;Qt--;){const Un=_e[Qt],{name:kn,namespaceURI:ur,value:qi}=Un,qo=Dn(kn),Ac=qi;let Rn=kn==="value"?Ac:spe(Ac);if(je.attrName=qo,je.attrValue=Rn,je.keepAttr=!0,je.forceKeepAttr=void 0,Vi(G.uponSanitizeAttribute,Q,je),Rn=je.attrValue,Xn&&(qo==="id"||qo==="name")&&(Ys(kn,Q),Rn=La+Rn),In&&Ir(/((--!?|])>)|<\/(style|title|textarea)/i,Rn)){Ys(kn,Q);continue}if(qo==="attributename"&&Y8(Rn,"href")){Ys(kn,Q);continue}if(je.forceKeepAttr)continue;if(!je.keepAttr){Ys(kn,Q);continue}if(!vn&&Ir(/\/>/i,Rn)){Ys(kn,Q);continue}jt&&wm([N,j,Z],ed=>{Rn=md(Rn,ed," ")});const Q0=Dn(Q.nodeName);if(!Y0(Q0,qo,Rn)){Ys(kn,Q);continue}if(_&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!ur)switch(f.getAttributeType(Q0,qo)){case"TrustedHTML":{Rn=_.createHTML(Rn);break}case"TrustedScriptURL":{Rn=_.createScriptURL(Rn);break}}if(Rn!==Ac)try{ur?Q.setAttributeNS(ur,kn,Rn):Q.setAttribute(kn,Rn),Mc(Q)?yi(Q):YC(e.removed)}catch{Ys(kn,Q)}}Vi(G.afterSanitizeAttributes,Q,null)},zp=function Ke(Q){let _e=null;const je=U0(Q);for(Vi(G.beforeSanitizeShadowDOM,Q,null);_e=je.nextNode();)Vi(G.uponSanitizeShadowNode,_e,null),K0(_e),X0(_e),_e.content instanceof s&&Ke(_e.content);Vi(G.afterSanitizeShadowDOM,Q,null)};return e.sanitize=function(Ke){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=null,je=null,Qt=null,Un=null;if(gi=!Ke,gi&&(Ke="<!-->"),typeof Ke!="string"&&!G0(Ke))if(typeof Ke.toString=="function"){if(Ke=Ke.toString(),typeof Ke!="string")throw gd("dirty is not a string, aborting")}else throw gd("toString is not a function");if(!e.isSupported)return Ke;if(wn||Cc(Q),e.removed=[],typeof Ke=="string"&&(Hi=!1),Hi){if(Ke.nodeName){const qi=Dn(Ke.nodeName);if(!Ce[qi]||Ne[qi])throw gd("root node is forbidden and cannot be sanitized in-place")}}else if(Ke instanceof a)_e=Z0("<!---->"),je=_e.ownerDocument.importNode(Ke,!0),je.nodeType===vd.element&&je.nodeName==="BODY"||je.nodeName==="HTML"?_e=je:_e.appendChild(je);else{if(!Zn&&!jt&&!Gt&&Ke.indexOf("<")===-1)return _&&Ze?_.createHTML(Ke):Ke;if(_e=Z0(Ke),!_e)return Zn?null:Ze?C:""}_e&&Jn&&yi(_e.firstChild);const kn=U0(Hi?Ke:_e);for(;Qt=kn.nextNode();)K0(Qt),X0(Qt),Qt.content instanceof s&&zp(Qt.content);if(Hi)return Ke;if(Zn){if(Oe)for(Un=D.call(_e.ownerDocument);_e.firstChild;)Un.appendChild(_e.firstChild);else Un=_e;return(L.shadowroot||L.shadowrootmode)&&(Un=R.call(r,Un,!0)),Un}let ur=Gt?_e.outerHTML:_e.innerHTML;return Gt&&Ce["!doctype"]&&_e.ownerDocument&&_e.ownerDocument.doctype&&_e.ownerDocument.doctype.name&&Ir(kL,_e.ownerDocument.doctype.name)&&(ur="<!DOCTYPE "+_e.ownerDocument.doctype.name+`>
`+ur),jt&&wm([N,j,Z],qi=>{ur=md(ur,qi," ")}),_&&Ze?_.createHTML(ur):ur},e.setConfig=function(){let Ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Cc(Ke),wn=!0},e.clearConfig=function(){Vo=null,wn=!1},e.isValidAttribute=function(Ke,Q,_e){Vo||Cc({});const je=Dn(Ke),Qt=Dn(Q);return Y0(je,Qt,_e)},e.addHook=function(Ke,Q){typeof Q=="function"&&pd(G[Ke],Q)},e.removeHook=function(Ke,Q){if(Q!==void 0){const _e=npe(G[Ke],Q);return _e===-1?void 0:rpe(G[Ke],_e,1)[0]}return YC(G[Ke])},e.removeHooks=function(Ke){G[Ke]=[]},e.removeAllHooks=function(){G=nM()},e}var ws=xL();function c0({icon:n,class:e,onClick:t}){return oe("span",{class:vr("milkdown-icon",e),onPointerdown:t,ref:r=>{r&&n&&(r.innerHTML=ws.sanitize(n.trim()))}})}c0.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};let bpe=n=>crypto.getRandomValues(new Uint8Array(n)),kpe=(n,e,t)=>{let r=(2<<Math.log2(n.length-1))-1,i=-~(1.6*r*e/n.length);return(s=e)=>{let o="";for(;;){let a=t(i),l=i|0;for(;l--;)if(o+=n[a[l]&r]||"",o.length>=s)return o}}},SL=(n,e=21)=>kpe(n,e|0,bpe);var xpe=Object.defineProperty,rM=Object.getOwnPropertySymbols,Spe=Object.prototype.hasOwnProperty,Cpe=Object.prototype.propertyIsEnumerable,iM=(n,e,t)=>e in n?xpe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Mpe=(n,e)=>{for(var t in e||(e={}))Spe.call(e,t)&&iM(n,t,e[t]);if(rM)for(var t of rM(e))Cpe.call(e,t)&&iM(n,t,e[t]);return n};function wp(n,e){return Object.assign(n,{meta:Mpe({package:"@milkdown/components"},e)}),n}const Ape={imageIcon:"\u{1F30C}",captionIcon:"\u{1F4AC}",uploadButton:"Upload file",confirmButton:"Confirm \u23CE",uploadPlaceholderText:"or paste the image link ...",captionPlaceholderText:"Image caption",onUpload:n=>Promise.resolve(URL.createObjectURL(n))},ty=Ut(Ape,"imageBlockConfigCtx");wp(ty,{displayName:"Config<image-block>",group:"ImageBlock"});function _pe(n){return Rl(n,"paragraph",(e,t,r)=>{var i,s;if(((i=e.children)==null?void 0:i.length)!==1)return;const o=(s=e.children)==null?void 0:s[0];if(!o||o.type!=="image")return;const{url:a,alt:l,title:u}=o,c={type:"image-block",url:a,alt:l,title:u};r.children.splice(t,1,c)})}const V7=Ro("remark-image-block",()=>()=>_pe);wp(V7.plugin,{displayName:"Remark<remarkImageBlock>",group:"ImageBlock"});wp(V7.options,{displayName:"RemarkConfig<remarkImageBlock>",group:"ImageBlock"});var Tpe=Object.defineProperty,sM=Object.getOwnPropertySymbols,Epe=Object.prototype.hasOwnProperty,Ope=Object.prototype.propertyIsEnumerable,oM=(n,e,t)=>e in n?Tpe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ipe=(n,e)=>{for(var t in e||(e={}))Epe.call(e,t)&&oM(n,t,e[t]);if(sM)for(var t of sM(e))Ope.call(e,t)&&oM(n,t,e[t]);return n};const T3="image-block",ny=Pn("image-block",()=>({inline:!1,group:"block",selectable:!0,draggable:!0,isolating:!0,marks:"",atom:!0,priority:100,attrs:{src:{default:"",validate:"string"},caption:{default:"",validate:"string"},ratio:{default:1,validate:"number"}},parseDOM:[{tag:`img[data-type="${T3}"]`,getAttrs:n=>{var e;if(!(n instanceof HTMLElement))throw Ws(n);return{src:n.getAttribute("src")||"",caption:n.getAttribute("caption")||"",ratio:Number((e=n.getAttribute("ratio"))!=null?e:1)}}}],toDOM:n=>["img",Ipe({"data-type":T3},n.attrs)],parseMarkdown:{match:({type:n})=>n==="image-block",runner:(n,e,t)=>{const r=e.url,i=e.title;let s=Number(e.alt||1);(Number.isNaN(s)||s===0)&&(s=1),n.addNode(t,{src:r,caption:i,ratio:s})}},toMarkdown:{match:n=>n.type.name==="image-block",runner:(n,e)=>{n.openNode("paragraph"),n.addNode("image",void 0,void 0,{title:e.attrs.caption,url:e.attrs.src,alt:`${Number.parseFloat(e.attrs.ratio).toFixed(2)}`}),n.closeNode()}}}));wp(ny.node,{displayName:"NodeSchema<image-block>",group:"ImageBlock"});function If({icon:n,class:e,onClick:t}){return oe("span",{class:vr("milkdown-icon",e),onPointerdown:t,ref:r=>{r&&n&&(r.innerHTML=ws.sanitize(n.trim()))}})}If.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};const Dpe=SL("abcdefg",8),Npe=he({props:{src:{type:Object,required:!0},selected:{type:Object,required:!0},readonly:{type:Object,required:!0},setLink:{type:Function,required:!0},imageIcon:{type:String,required:!1},uploadButton:{type:String,required:!1},confirmButton:{type:String,required:!1},uploadPlaceholderText:{type:String,required:!1},onUpload:{type:Function,required:!0}},setup({readonly:n,src:e,setLink:t,onUpload:r,imageIcon:i,uploadButton:s,confirmButton:o,uploadPlaceholderText:a,className:l}){var u,c;const h=V(!1),d=V(),f=V((u=e.value)!=null?u:""),p=V(Dpe()),m=V(((c=e.value)==null?void 0:c.length)!==0),y=_=>{const M=_.target.value;m.value=M.length!==0,f.value=M},v=_=>{var C,M;_.key==="Enter"&&t((M=(C=d.value)==null?void 0:C.value)!=null?M:"")},b=()=>{var _,C;t((C=(_=d.value)==null?void 0:_.value)!=null?C:"")},k=_=>{var C;const M=(C=_.target.files)==null?void 0:C[0];!M||r(M).then(O=>{!O||(t(O),m.value=!0)}).catch(O=>{console.error("An error occurred while uploading image"),console.error(O)})};return()=>oe("div",{class:vr("image-edit",l)},oe(If,{icon:i,class:"image-icon"}),oe("div",{class:vr("link-importer",h.value&&"focus")},oe("input",{ref:d,draggable:"true",onDragstart:_=>{_.preventDefault(),_.stopPropagation()},disabled:n.value,class:"link-input-area",value:f.value,onInput:y,onKeydown:v,onFocus:()=>h.value=!0,onBlur:()=>h.value=!1}),!m.value&&oe("div",{class:"placeholder"},oe("input",{disabled:n.value,class:"hidden",id:p.value,type:"file",accept:"image/*",onChange:k}),oe("label",{class:"uploader",for:p.value},oe(If,{icon:s})),oe("span",{class:"text",onClick:()=>{var _;return(_=d.value)==null?void 0:_.focus()}},a))),f.value&&oe("div",{class:"confirm",onClick:()=>b()},oe(If,{icon:o})))}}),Lpe=he({props:{src:{type:Object,required:!0},caption:{type:Object,required:!0},ratio:{type:Object,required:!0},selected:{type:Object,required:!0},readonly:{type:Object,required:!0},setAttr:{type:Function,required:!0},config:{type:Object,required:!0}},setup({src:n,caption:e,ratio:t,readonly:r,setAttr:i,config:s}){var o;const a=V(),l=V(),u=V(Boolean((o=e.value)==null?void 0:o.length)),c=V(0),h=()=>{var b;const k=a.value;if(!k)return;const _=k.closest(".milkdown-image-block");if(!_)return;const C=_.getBoundingClientRect().width;if(!C)return;const M=k.height,O=k.width,D=O<C?M:C*(M/O),$=(D*((b=t.value)!=null?b:1)).toFixed(2);k.dataset.origin=D.toFixed(2),k.dataset.height=$,k.style.height=`${$}px`},d=b=>{b.preventDefault(),b.stopPropagation(),!r.value&&(u.value=!u.value)},f=b=>{const _=b.target.value;c.value&&window.clearTimeout(c.value),c.value=window.setTimeout(()=>{i("caption",_)},1e3)},p=b=>{const _=b.target.value;c.value&&(window.clearTimeout(c.value),c.value=0),i("caption",_)},m=b=>{b.preventDefault();const k=a.value;if(!k)return;const _=k.getBoundingClientRect().top,C=b.clientY-_,M=Number(C<100?100:C).toFixed(2);k.dataset.height=M,k.style.height=`${M}px`},y=()=>{window.removeEventListener("pointermove",m),window.removeEventListener("pointerup",y);const b=a.value;if(!b)return;const k=Number(b.dataset.origin),_=Number(b.dataset.height),C=Number.parseFloat(Number(_/k).toFixed(2));Number.isNaN(C)||i("ratio",C)},v=b=>{r.value||(b.preventDefault(),b.stopPropagation(),window.addEventListener("pointermove",m),window.addEventListener("pointerup",y))};return()=>oe(Ve,null,oe("div",{class:"image-wrapper"},oe("div",{class:"operation"},oe("div",{class:"operation-item",onPointerdown:d},oe(If,{icon:s.captionIcon}))),oe("img",{ref:a,"data-type":T3,onLoad:h,src:n.value,alt:e.value}),oe("div",{ref:l,class:"image-resize-handle",onPointerdown:v})),u.value&&oe("input",{draggable:"true",onDragstart:b=>{b.preventDefault(),b.stopPropagation()},class:"caption-input",placeholder:s==null?void 0:s.captionPlaceholderText,onInput:f,onBlur:p,value:e.value}))}});var Ppe=Object.defineProperty,aM=Object.getOwnPropertySymbols,Rpe=Object.prototype.hasOwnProperty,$pe=Object.prototype.propertyIsEnumerable,lM=(n,e,t)=>e in n?Ppe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Bpe=(n,e)=>{for(var t in e||(e={}))Rpe.call(e,t)&&lM(n,t,e[t]);if(aM)for(var t of aM(e))$pe.call(e,t)&&lM(n,t,e[t]);return n};const Fpe=he({props:{src:{type:Object,required:!0},caption:{type:Object,required:!0},ratio:{type:Object,required:!0},selected:{type:Object,required:!0},readonly:{type:Object,required:!0},setAttr:{type:Function,required:!0},config:{type:Object,required:!0}},setup(n){const{src:e}=n;return()=>{var t;return(t=e.value)!=null&&t.length?oe(Lpe,Bpe({},n)):oe(Npe,{src:n.src,selected:n.selected,readonly:n.readonly,setLink:r=>n.setAttr("src",r),imageIcon:n.config.imageIcon,uploadButton:n.config.uploadButton,confirmButton:n.config.confirmButton,uploadPlaceholderText:n.config.uploadPlaceholderText,onUpload:n.config.onUpload})}}}),CL=mp(ny.node,n=>(e,t,r)=>{const i=V(e.attrs.src),s=V(e.attrs.caption),o=V(e.attrs.ratio),a=V(!1),l=V(!t.editable),u=(y,v)=>{if(!t.editable)return;const b=r();b!=null&&t.dispatch(t.state.tr.setNodeAttribute(b,y,y==="src"?ws.sanitize(v):v))},c=n.get(ty.key),h=qs(Fpe,{src:i,caption:s,ratio:o,selected:a,readonly:l,setAttr:u,config:c}),d=document.createElement("div");d.className="milkdown-image-block";const f=v0(()=>{a.value?d.classList.add("selected"):d.classList.remove("selected")}),p=c.proxyDomURL,m=y=>{if(!p)i.value=y.attrs.src;else{const v=p(y.attrs.src);typeof v=="string"?i.value=v:v.then(b=>{i.value=b}).catch(console.error)}o.value=y.attrs.ratio,s.value=y.attrs.caption,l.value=!t.editable};return m(e),h.mount(d),{dom:d,update:y=>y.type!==e.type?!1:(m(y),!0),stopEvent:y=>y.target instanceof HTMLInputElement,selectNode:()=>{a.value=!0},deselectNode:()=>{a.value=!1},destroy:()=>{f(),h.unmount(),d.remove()}}});wp(CL,{displayName:"NodeView<image-block>",group:"ImageBlock"});const zpe=[V7,ny,CL,ty].flat();var E3,O3;if(typeof WeakMap<"u"){let n=new WeakMap;E3=e=>n.get(e),O3=(e,t)=>(n.set(e,t),t)}else{const n=[];let t=0;E3=r=>{for(let i=0;i<n.length;i+=2)if(n[i]==r)return n[i+1]},O3=(r,i)=>(t==10&&(t=0),n[t++]=r,n[t++]=i)}var Wt=class{constructor(n,e,t,r){this.width=n,this.height=e,this.map=t,this.problems=r}findCell(n){for(let e=0;e<this.map.length;e++){const t=this.map[e];if(t!=n)continue;const r=e%this.width,i=e/this.width|0;let s=r+1,o=i+1;for(let a=1;s<this.width&&this.map[e+a]==t;a++)s++;for(let a=1;o<this.height&&this.map[e+this.width*a]==t;a++)o++;return{left:r,top:i,right:s,bottom:o}}throw new RangeError(`No cell with offset ${n} found`)}colCount(n){for(let e=0;e<this.map.length;e++)if(this.map[e]==n)return e%this.width;throw new RangeError(`No cell with offset ${n} found`)}nextCell(n,e,t){const{left:r,right:i,top:s,bottom:o}=this.findCell(n);return e=="horiz"?(t<0?r==0:i==this.width)?null:this.map[s*this.width+(t<0?r-1:i)]:(t<0?s==0:o==this.height)?null:this.map[r+this.width*(t<0?s-1:o)]}rectBetween(n,e){const{left:t,right:r,top:i,bottom:s}=this.findCell(n),{left:o,right:a,top:l,bottom:u}=this.findCell(e);return{left:Math.min(t,o),top:Math.min(i,l),right:Math.max(r,a),bottom:Math.max(s,u)}}cellsInRect(n){const e=[],t={};for(let r=n.top;r<n.bottom;r++)for(let i=n.left;i<n.right;i++){const s=r*this.width+i,o=this.map[s];t[o]||(t[o]=!0,!(i==n.left&&i&&this.map[s-1]==o||r==n.top&&r&&this.map[s-this.width]==o)&&e.push(o))}return e}positionAt(n,e,t){for(let r=0,i=0;;r++){const s=i+t.child(r).nodeSize;if(r==n){let o=e+n*this.width;const a=(n+1)*this.width;for(;o<a&&this.map[o]<i;)o++;return o==a?s-1:this.map[o]}i=s}}static get(n){return E3(n)||O3(n,Hpe(n))}};function Hpe(n){if(n.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+n.type.name);const e=Vpe(n),t=n.childCount,r=[];let i=0,s=null;const o=[];for(let u=0,c=e*t;u<c;u++)r[u]=0;for(let u=0,c=0;u<t;u++){const h=n.child(u);c++;for(let p=0;;p++){for(;i<r.length&&r[i]!=0;)i++;if(p==h.childCount)break;const m=h.child(p),{colspan:y,rowspan:v,colwidth:b}=m.attrs;for(let k=0;k<v;k++){if(k+u>=t){(s||(s=[])).push({type:"overlong_rowspan",pos:c,n:v-k});break}const _=i+k*e;for(let C=0;C<y;C++){r[_+C]==0?r[_+C]=c:(s||(s=[])).push({type:"collision",row:u,pos:c,n:y-C});const M=b&&b[C];if(M){const O=(_+C)%e*2,D=o[O];D==null||D!=M&&o[O+1]==1?(o[O]=M,o[O+1]=1):D==M&&o[O+1]++}}}i+=y,c+=m.nodeSize}const d=(u+1)*e;let f=0;for(;i<d;)r[i++]==0&&f++;f&&(s||(s=[])).push({type:"missing",row:u,n:f}),c++}(e===0||t===0)&&(s||(s=[])).push({type:"zero_sized"});const a=new Wt(e,t,r,s);let l=!1;for(let u=0;!l&&u<o.length;u+=2)o[u]!=null&&o[u+1]<t&&(l=!0);return l&&qpe(a,o,n),a}function Vpe(n){let e=-1,t=!1;for(let r=0;r<n.childCount;r++){const i=n.child(r);let s=0;if(t)for(let o=0;o<r;o++){const a=n.child(o);for(let l=0;l<a.childCount;l++){const u=a.child(l);o+u.attrs.rowspan>r&&(s+=u.attrs.colspan)}}for(let o=0;o<i.childCount;o++){const a=i.child(o);s+=a.attrs.colspan,a.attrs.rowspan>1&&(t=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function qpe(n,e,t){n.problems||(n.problems=[]);const r={};for(let i=0;i<n.map.length;i++){const s=n.map[i];if(r[s])continue;r[s]=!0;const o=t.nodeAt(s);if(!o)throw new RangeError(`No cell with offset ${s} found`);let a=null;const l=o.attrs;for(let u=0;u<l.colspan;u++){const c=(i+u)%n.width,h=e[c*2];h!=null&&(!l.colwidth||l.colwidth[u]!=h)&&((a||(a=Wpe(l)))[u]=h)}a&&n.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:a})}}function Wpe(n){if(n.colwidth)return n.colwidth.slice();const e=[];for(let t=0;t<n.colspan;t++)e.push(0);return e}function uM(n,e){if(typeof n=="string")return{};const t=n.getAttribute("data-colwidth"),r=t&&/^\d+(,\d+)*$/.test(t)?t.split(",").map(o=>Number(o)):null,i=Number(n.getAttribute("colspan")||1),s={colspan:i,rowspan:Number(n.getAttribute("rowspan")||1),colwidth:r&&r.length==i?r:null};for(const o in e){const a=e[o].getFromDOM,l=a&&a(n);l!=null&&(s[o]=l)}return s}function cM(n,e){const t={};n.attrs.colspan!=1&&(t.colspan=n.attrs.colspan),n.attrs.rowspan!=1&&(t.rowspan=n.attrs.rowspan),n.attrs.colwidth&&(t["data-colwidth"]=n.attrs.colwidth.join(","));for(const r in e){const i=e[r].setDOMAttr;i&&i(n.attrs[r],t)}return t}function jpe(n){if(n!==null){if(!Array.isArray(n))throw new TypeError("colwidth must be null or an array");for(const e of n)if(typeof e!="number")throw new TypeError("colwidth must be null or an array of numbers")}}function Zpe(n){const e=n.cellAttributes||{},t={colspan:{default:1,validate:"number"},rowspan:{default:1,validate:"number"},colwidth:{default:null,validate:jpe}};for(const r in e)t[r]={default:e[r].default,validate:e[r].validate};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:n.tableGroup,parseDOM:[{tag:"table"}],toDOM(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM(){return["tr",0]}},table_cell:{content:n.cellContent,attrs:t,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:r=>uM(r,e)}],toDOM(r){return["td",cM(r,e),0]}},table_header:{content:n.cellContent,attrs:t,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:r=>uM(r,e)}],toDOM(r){return["th",cM(r,e),0]}}}}function ms(n){let e=n.cached.tableNodeTypes;if(!e){e=n.cached.tableNodeTypes={};for(const t in n.nodes){const r=n.nodes[t],i=r.spec.tableRole;i&&(e[i]=r)}}return e}var il=new pn("selectingCells");function bp(n){for(let e=n.depth-1;e>0;e--)if(n.node(e).type.spec.tableRole=="row")return n.node(0).resolve(n.before(e+1));return null}function bs(n){const e=n.selection.$head;for(let t=e.depth;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return!0;return!1}function ry(n){const e=n.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const t=bp(e.$head)||Upe(e.$head);if(t)return t;throw new RangeError(`No cell found around position ${e.head}`)}function Upe(n){for(let e=n.nodeAfter,t=n.pos;e;e=e.firstChild,t++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return n.doc.resolve(t)}for(let e=n.nodeBefore,t=n.pos;e;e=e.lastChild,t--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return n.doc.resolve(t-e.nodeSize)}}function I3(n){return n.parent.type.spec.tableRole=="row"&&!!n.nodeAfter}function Gpe(n){return n.node(0).resolve(n.pos+n.nodeAfter.nodeSize)}function q7(n,e){return n.depth==e.depth&&n.pos>=e.start(-1)&&n.pos<=e.end(-1)}function ML(n,e,t){const r=n.node(-1),i=Wt.get(r),s=n.start(-1),o=i.nextCell(n.pos-s,e,t);return o==null?null:n.node(0).resolve(s+o)}function pc(n,e,t=1){const r={...n,colspan:n.colspan-t};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,t),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function Kpe(n,e,t=1){const r={...n,colspan:n.colspan+t};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<t;i++)r.colwidth.splice(e,0,0)}return r}function Ype(n,e,t){const r=ms(e.type.schema).header_cell;for(let i=0;i<n.height;i++)if(e.nodeAt(n.map[t+i*n.width]).type!=r)return!1;return!0}var sn=class Jo extends lt{constructor(e,t=e){const r=e.node(-1),i=Wt.get(r),s=e.start(-1),o=i.rectBetween(e.pos-s,t.pos-s),a=e.node(0),l=i.cellsInRect(o).filter(c=>c!=t.pos-s);l.unshift(t.pos-s);const u=l.map(c=>{const h=r.nodeAt(c);if(!h)throw RangeError(`No cell with offset ${c} found`);const d=s+c+1;return new x2(a.resolve(d),a.resolve(d+h.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=t}map(e,t){const r=e.resolve(t.map(this.$anchorCell.pos)),i=e.resolve(t.map(this.$headCell.pos));if(I3(r)&&I3(i)&&q7(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?Jo.rowSelection(r,i):s&&this.isColSelection()?Jo.colSelection(r,i):new Jo(r,i)}return Ue.between(r,i)}content(){const e=this.$anchorCell.node(-1),t=Wt.get(e),r=this.$anchorCell.start(-1),i=t.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},o=[];for(let l=i.top;l<i.bottom;l++){const u=[];for(let c=l*t.width+i.left,h=i.left;h<i.right;h++,c++){const d=t.map[c];if(s[d])continue;s[d]=!0;const f=t.findCell(d);let p=e.nodeAt(d);if(!p)throw RangeError(`No cell with offset ${d} found`);const m=i.left-f.left,y=f.right-i.right;if(m>0||y>0){let v=p.attrs;if(m>0&&(v=pc(v,0,m)),y>0&&(v=pc(v,v.colspan-y,y)),f.left<i.left){if(p=p.type.createAndFill(v),!p)throw RangeError(`Could not create cell with attrs ${JSON.stringify(v)}`)}else p=p.type.create(v,p.content)}if(f.top<i.top||f.bottom>i.bottom){const v={...p.attrs,rowspan:Math.min(f.bottom,i.bottom)-Math.max(f.top,i.top)};f.top<i.top?p=p.type.createAndFill(v):p=p.type.create(v,p.content)}u.push(p)}o.push(e.child(l).copy(be.from(u)))}const a=this.isColSelection()&&this.isRowSelection()?e:o;return new Le(be.from(a),1,1)}replace(e,t=Le.empty){const r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){const{$from:a,$to:l}=i[o],u=e.mapping.slice(r);e.replace(u.map(a.pos),u.map(l.pos),o?Le.empty:t)}const s=lt.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,t){this.replace(e,new Le(be.from(t),0,0))}forEachCell(e){const t=this.$anchorCell.node(-1),r=Wt.get(t),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let o=0;o<s.length;o++)e(t.nodeAt(s[o]),i+s[o])}isColSelection(){const e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,t=e){const r=e.node(-1),i=Wt.get(r),s=e.start(-1),o=i.findCell(e.pos-s),a=i.findCell(t.pos-s),l=e.node(0);return o.top<=a.top?(o.top>0&&(e=l.resolve(s+i.map[o.left])),a.bottom<i.height&&(t=l.resolve(s+i.map[i.width*(i.height-1)+a.right-1]))):(a.top>0&&(t=l.resolve(s+i.map[a.left])),o.bottom<i.height&&(e=l.resolve(s+i.map[i.width*(i.height-1)+o.right-1]))),new Jo(e,t)}isRowSelection(){const e=this.$anchorCell.node(-1),t=Wt.get(e),r=this.$anchorCell.start(-1),i=t.colCount(this.$anchorCell.pos-r),s=t.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const o=i+this.$anchorCell.nodeAfter.attrs.colspan,a=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,a)==t.width}eq(e){return e instanceof Jo&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,t=e){const r=e.node(-1),i=Wt.get(r),s=e.start(-1),o=i.findCell(e.pos-s),a=i.findCell(t.pos-s),l=e.node(0);return o.left<=a.left?(o.left>0&&(e=l.resolve(s+i.map[o.top*i.width])),a.right<i.width&&(t=l.resolve(s+i.map[i.width*(a.top+1)-1]))):(a.left>0&&(t=l.resolve(s+i.map[a.top*i.width])),o.right<i.width&&(e=l.resolve(s+i.map[i.width*(o.top+1)-1]))),new Jo(e,t)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,t){return new Jo(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){return new Jo(e.resolve(t),e.resolve(r))}getBookmark(){return new Jpe(this.$anchorCell.pos,this.$headCell.pos)}};sn.prototype.visible=!1;lt.jsonID("cell",sn);var Jpe=class AL{constructor(e,t){this.anchor=e,this.head=t}map(e){return new AL(e.map(this.anchor),e.map(this.head))}resolve(e){const t=e.resolve(this.anchor),r=e.resolve(this.head);return t.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&t.index()<t.parent.childCount&&r.index()<r.parent.childCount&&q7(t,r)?new sn(t,r):lt.near(r,1)}};function Xpe(n){if(!(n.selection instanceof sn))return null;const e=[];return n.selection.forEachCell((t,r)=>{e.push(Vn.node(r,r+t.nodeSize,{class:"selectedCell"}))}),nn.create(n.doc,e)}function Qpe({$from:n,$to:e}){if(n.pos==e.pos||n.pos<e.pos-6)return!1;let t=n.pos,r=e.pos,i=n.depth;for(;i>=0&&!(n.after(i+1)<n.end(i));i--,t++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,r--);return t==r&&/row|table/.test(n.node(i).type.spec.tableRole)}function eme({$from:n,$to:e}){let t,r;for(let i=n.depth;i>0;i--){const s=n.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){t=s;break}}for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return t!==r&&e.parentOffset===0}function tme(n,e,t){const r=(e||n).selection,i=(e||n).doc;let s,o;if(r instanceof Je&&(o=r.node.type.spec.tableRole)){if(o=="cell"||o=="header_cell")s=sn.create(i,r.from);else if(o=="row"){const a=i.resolve(r.from+1);s=sn.rowSelection(a,a)}else if(!t){const a=Wt.get(r.node),l=r.from+1,u=l+a.map[a.width*a.height-1];s=sn.create(i,l+1,u)}}else r instanceof Ue&&Qpe(r)?s=Ue.create(i,r.from):r instanceof Ue&&eme(r)&&(s=Ue.create(i,r.$from.start(),r.$from.end()));return s&&(e||(e=n.tr)).setSelection(s),e}var nme=new pn("fix-tables");function _L(n,e,t,r){const i=n.childCount,s=e.childCount;e:for(let o=0,a=0;o<s;o++){const l=e.child(o);for(let u=a,c=Math.min(i,o+3);u<c;u++)if(n.child(u)==l){a=u+1,t+=l.nodeSize;continue e}r(l,t),a<i&&n.child(a).sameMarkup(l)?_L(n.child(a),l,t+1,r):l.nodesBetween(0,l.content.size,r,t+1),t+=l.nodeSize}}function rme(n,e){let t;const r=(i,s)=>{i.type.spec.tableRole=="table"&&(t=ime(n,i,s,t))};return e?e.doc!=n.doc&&_L(e.doc,n.doc,0,r):n.doc.descendants(r),t}function ime(n,e,t,r){const i=Wt.get(e);if(!i.problems)return r;r||(r=n.tr);const s=[];for(let l=0;l<i.height;l++)s.push(0);for(let l=0;l<i.problems.length;l++){const u=i.problems[l];if(u.type=="collision"){const c=e.nodeAt(u.pos);if(!c)continue;const h=c.attrs;for(let d=0;d<h.rowspan;d++)s[u.row+d]+=u.n;r.setNodeMarkup(r.mapping.map(t+1+u.pos),null,pc(h,h.colspan-u.n,u.n))}else if(u.type=="missing")s[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const c=e.nodeAt(u.pos);if(!c)continue;r.setNodeMarkup(r.mapping.map(t+1+u.pos),null,{...c.attrs,rowspan:c.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const c=e.nodeAt(u.pos);if(!c)continue;r.setNodeMarkup(r.mapping.map(t+1+u.pos),null,{...c.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const c=r.mapping.map(t);r.delete(c,c+e.nodeSize)}}let o,a;for(let l=0;l<s.length;l++)s[l]&&(o==null&&(o=l),a=l);for(let l=0,u=t+1;l<i.height;l++){const c=e.child(l),h=u+c.nodeSize,d=s[l];if(d>0){let f="cell";c.firstChild&&(f=c.firstChild.type.spec.tableRole);const p=[];for(let y=0;y<d;y++){const v=ms(n.schema)[f].createAndFill();v&&p.push(v)}const m=(l==0||o==l-1)&&a==l?u+1:h-1;r.insert(r.mapping.map(m),p)}u=h}return r.setMeta(nme,{fixTables:!0})}function TL(n){const e=Wt.get(n),t=[],r=e.height,i=e.width;for(let s=0;s<r;s++){const o=[];for(let a=0;a<i;a++){const l=s*i+a,u=e.map[l];if(s>0){const c=l-i,h=e.map[c];if(u===h){o.push(null);continue}}if(a>0){const c=l-1,h=e.map[c];if(u===h){o.push(null);continue}}o.push(n.nodeAt(u))}t.push(o)}return t}function EL(n,e){const t=[],r=Wt.get(n),i=r.height,s=r.width;for(let a=0;a<i;a++){const l=n.child(a),u=[];for(let h=0;h<s;h++){const d=e[a][h];if(!d)continue;const f=r.map[a*r.width+h],p=n.nodeAt(f);if(!p)continue;const m=p.type.createChecked(d.attrs,d.content,d.marks);u.push(m)}const c=l.type.createChecked(l.attrs,u,l.marks);t.push(c)}return n.type.createChecked(n.attrs,t,n.marks)}function L0(n){return sme(e=>e.type.spec.tableRole==="table",n)}function sme(n,e){for(let t=e.depth;t>=0;t-=1){const r=e.node(t);if(n(r)){const i=t===0?0:e.before(t),s=e.start(t);return{node:r,pos:i,start:s,depth:t}}}return null}function Bc(n,e){const t=L0(e.$from);if(!t)return;const r=Wt.get(t.node);return n<0||n>r.width-1?void 0:r.cellsInRect({left:n,right:n+1,top:0,bottom:r.height}).map(s=>{const o=t.node.nodeAt(s),a=s+t.start;return{pos:a,start:a+1,node:o,depth:t.depth+2}})}function Fc(n,e){const t=L0(e.$from);if(!t)return;const r=Wt.get(t.node);return n<0||n>r.height-1?void 0:r.cellsInRect({left:0,right:r.width,top:n,bottom:n+1}).map(s=>{const o=t.node.nodeAt(s),a=s+t.start;return{pos:a,start:a+1,node:o,depth:t.depth+2}})}function hM(n,e,t=e){let r=e,i=t;for(let h=e;h>=0;h--){const d=Bc(h,n.selection);d&&d.forEach(f=>{const p=f.node.attrs.colspan+h-1;p>=r&&(r=h),p>i&&(i=p)})}for(let h=e;h<=i;h++){const d=Bc(h,n.selection);d&&d.forEach(f=>{const p=f.node.attrs.colspan+h-1;f.node.attrs.colspan>1&&p>i&&(i=p)})}const s=[];for(let h=r;h<=i;h++){const d=Bc(h,n.selection);d&&d.length>0&&s.push(h)}r=s[0],i=s[s.length-1];const o=Bc(r,n.selection),a=Fc(0,n.selection);if(!o||!a)return;const l=n.doc.resolve(o[o.length-1].pos);let u;for(let h=i;h>=r;h--){const d=Bc(h,n.selection);if(d&&d.length>0){for(let f=a.length-1;f>=0;f--)if(a[f].pos===d[0].pos){u=d[0];break}if(u)break}}if(!u)return;const c=n.doc.resolve(u.pos);return{$anchor:l,$head:c,indexes:s}}function dM(n,e,t=e){let r=e,i=t;for(let h=e;h>=0;h--){const d=Fc(h,n.selection);d&&d.forEach(f=>{const p=f.node.attrs.rowspan+h-1;p>=r&&(r=h),p>i&&(i=p)})}for(let h=e;h<=i;h++){const d=Fc(h,n.selection);d&&d.forEach(f=>{const p=f.node.attrs.rowspan+h-1;f.node.attrs.rowspan>1&&p>i&&(i=p)})}const s=[];for(let h=r;h<=i;h++){const d=Fc(h,n.selection);d&&d.length>0&&s.push(h)}r=s[0],i=s[s.length-1];const o=Fc(r,n.selection),a=Bc(0,n.selection);if(!o||!a)return;const l=n.doc.resolve(o[o.length-1].pos);let u;for(let h=i;h>=r;h--){const d=Fc(h,n.selection);if(d&&d.length>0){for(let f=a.length-1;f>=0;f--)if(a[f].pos===d[0].pos){u=d[0];break}if(u)break}}if(!u)return;const c=n.doc.resolve(u.pos);return{$anchor:l,$head:c,indexes:s}}function OL(n,e,t,r){const i=e[0]>t[0]?-1:1,s=n.splice(e[0],e.length),o=s.length%2===0?1:0;let a;return r===-1&&i===1?a=t[0]-1:r===1&&i===-1?a=t[t.length-1]-o+1:a=i===-1?t[0]:t[t.length-1]-o,n.splice(a,0,...s),n}function fM(n){return n[0].map((e,t)=>n.map(r=>r[t]))}function ome(n){var e,t;const{tr:r,originIndex:i,targetIndex:s,select:o,pos:a}=n,l=r.doc.resolve(a),u=L0(l);if(!u)return!1;const c=(e=hM(r,i))==null?void 0:e.indexes,h=(t=hM(r,s))==null?void 0:t.indexes;if(!c||!h||c.includes(s))return!1;const d=ame(u.node,c,h,0);if(r.replaceWith(u.pos,u.pos+u.node.nodeSize,d),!o)return!0;const f=Wt.get(d),p=u.start,m=s,y=f.positionAt(f.height-1,m,d),v=r.doc.resolve(p+y),b=f.positionAt(0,m,d),k=r.doc.resolve(p+b);return r.setSelection(sn.colSelection(v,k)),!0}function ame(n,e,t,r){let i=fM(TL(n));return i=OL(i,e,t,r),i=fM(i),EL(n,i)}function lme(n){var e,t;const{tr:r,originIndex:i,targetIndex:s,select:o,pos:a}=n,l=r.doc.resolve(a),u=L0(l);if(!u)return!1;const c=(e=dM(r,i))==null?void 0:e.indexes,h=(t=dM(r,s))==null?void 0:t.indexes;if(!c||!h||c.includes(s))return!1;const d=ume(u.node,c,h,0);if(r.replaceWith(u.pos,u.pos+u.node.nodeSize,d),!o)return!0;const f=Wt.get(d),p=u.start,m=s,y=f.positionAt(m,f.width-1,d),v=r.doc.resolve(p+y),b=f.positionAt(m,0,d),k=r.doc.resolve(p+b);return r.setSelection(sn.rowSelection(v,k)),!0}function ume(n,e,t,r){let i=TL(n);return i=OL(i,e,t,r),EL(n,i)}function Bl(n){const e=n.selection,t=ry(n),r=t.node(-1),i=t.start(-1),s=Wt.get(r);return{...e instanceof sn?s.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):s.findCell(t.pos-i),tableStart:i,map:s,table:r}}function IL(n,{map:e,tableStart:t,table:r},i){let s=i>0?-1:0;Ype(e,r,i+s)&&(s=i==0||i==e.width?null:0);for(let o=0;o<e.height;o++){const a=o*e.width+i;if(i>0&&i<e.width&&e.map[a-1]==e.map[a]){const l=e.map[a],u=r.nodeAt(l);n.setNodeMarkup(n.mapping.map(t+l),null,Kpe(u.attrs,i-e.colCount(l))),o+=u.attrs.rowspan-1}else{const l=s==null?ms(r.type.schema).cell:r.nodeAt(e.map[a+s]).type,u=e.positionAt(o,i,r);n.insert(n.mapping.map(t+u),l.createAndFill())}}return n}function cme(n,e){if(!bs(n))return!1;if(e){const t=Bl(n);e(IL(n.tr,t,t.left))}return!0}function hme(n,e){if(!bs(n))return!1;if(e){const t=Bl(n);e(IL(n.tr,t,t.right))}return!0}function dme(n,{map:e,table:t,tableStart:r},i){const s=n.mapping.maps.length;for(let o=0;o<e.height;){const a=o*e.width+i,l=e.map[a],u=t.nodeAt(l),c=u.attrs;if(i>0&&e.map[a-1]==l||i<e.width-1&&e.map[a+1]==l)n.setNodeMarkup(n.mapping.slice(s).map(r+l),null,pc(c,i-e.colCount(l)));else{const h=n.mapping.slice(s).map(r+l);n.delete(h,h+u.nodeSize)}o+=c.rowspan}}function fme(n,e){if(!bs(n))return!1;if(e){const t=Bl(n),r=n.tr;if(t.left==0&&t.right==t.map.width)return!1;for(let i=t.right-1;dme(r,t,i),i!=t.left;i--){const s=t.tableStart?r.doc.nodeAt(t.tableStart-1):r.doc;if(!s)throw RangeError("No table found");t.table=s,t.map=Wt.get(s)}e(r)}return!0}function pme(n,{map:e,table:t,tableStart:r},i){let s=0;for(let u=0;u<i;u++)s+=t.child(u).nodeSize;const o=s+t.child(i).nodeSize,a=n.mapping.maps.length;n.delete(s+r,o+r);const l=new Set;for(let u=0,c=i*e.width;u<e.width;u++,c++){const h=e.map[c];if(!l.has(h)){if(l.add(h),i>0&&h==e.map[c-e.width]){const d=t.nodeAt(h).attrs;n.setNodeMarkup(n.mapping.slice(a).map(h+r),null,{...d,rowspan:d.rowspan-1}),u+=d.colspan-1}else if(i<e.height&&h==e.map[c+e.width]){const d=t.nodeAt(h),f=d.attrs,p=d.type.create({...f,rowspan:d.attrs.rowspan-1},d.content),m=e.positionAt(i+1,u,t);n.insert(n.mapping.slice(a).map(r+m),p),u+=f.colspan-1}}}}function mme(n,e){if(!bs(n))return!1;if(e){const t=Bl(n),r=n.tr;if(t.top==0&&t.bottom==t.map.height)return!1;for(let i=t.bottom-1;pme(r,t,i),i!=t.top;i--){const s=t.tableStart?r.doc.nodeAt(t.tableStart-1):r.doc;if(!s)throw RangeError("No table found");t.table=s,t.map=Wt.get(t.table)}e(r)}return!0}function gme(n,e){return function(t,r){if(!bs(t))return!1;const i=ry(t);if(i.nodeAfter.attrs[n]===e)return!1;if(r){const s=t.tr;t.selection instanceof sn?t.selection.forEachCell((o,a)=>{o.attrs[n]!==e&&s.setNodeMarkup(a,null,{...o.attrs,[n]:e})}):s.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[n]:e}),r(s)}return!0}}function yme(n){return function(e,t){if(!bs(e))return!1;if(t){const r=ms(e.schema),i=Bl(e),s=e.tr,o=i.map.cellsInRect(n=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:n=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),a=o.map(l=>i.table.nodeAt(l));for(let l=0;l<o.length;l++)a[l].type==r.header_cell&&s.setNodeMarkup(i.tableStart+o[l],r.cell,a[l].attrs);if(s.steps.length==0)for(let l=0;l<o.length;l++)s.setNodeMarkup(i.tableStart+o[l],r.header_cell,a[l].attrs);t(s)}return!0}}function pM(n,e,t){const r=e.map.cellsInRect({left:0,top:0,right:n=="row"?e.map.width:1,bottom:n=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const s=e.table.nodeAt(r[i]);if(s&&s.type!==t.header_cell)return!1}return!0}function W7(n,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?yme(n):function(t,r){if(!bs(t))return!1;if(r){const i=ms(t.schema),s=Bl(t),o=t.tr,a=pM("row",s,i),l=pM("column",s,i),c=(n==="column"?a:n==="row"?l:!1)?1:0,h=n=="column"?{left:0,top:c,right:1,bottom:s.map.height}:n=="row"?{left:c,top:0,right:s.map.width,bottom:1}:s,d=n=="column"?l?i.cell:i.header_cell:n=="row"?a?i.cell:i.header_cell:i.cell;s.map.cellsInRect(h).forEach(f=>{const p=f+s.tableStart,m=o.doc.nodeAt(p);m&&o.setNodeMarkup(p,d,m.attrs)}),r(o)}return!0}}W7("row",{useDeprecatedLogic:!0});W7("column",{useDeprecatedLogic:!0});W7("cell",{useDeprecatedLogic:!0});function vme(n,e){if(e<0){const t=n.nodeBefore;if(t)return n.pos-t.nodeSize;for(let r=n.index(-1)-1,i=n.before();r>=0;r--){const s=n.node(-1).child(r),o=s.lastChild;if(o)return i-1-o.nodeSize;i-=s.nodeSize}}else{if(n.index()<n.parent.childCount-1)return n.pos+n.nodeAfter.nodeSize;const t=n.node(-1);for(let r=n.indexAfter(-1),i=n.after();r<t.childCount;r++){const s=t.child(r);if(s.childCount)return i+1;i+=s.nodeSize}}return null}function DL(n){return function(e,t){if(!bs(e))return!1;const r=vme(ry(e),n);if(r==null)return!1;if(t){const i=e.doc.resolve(r);t(e.tr.setSelection(Ue.between(i,Gpe(i))).scrollIntoView())}return!0}}function wme(n,e){const t=n.selection.$anchor;for(let r=t.depth;r>0;r--)if(t.node(r).type.spec.tableRole=="table")return e&&e(n.tr.delete(t.before(r),t.after(r)).scrollIntoView()),!0;return!1}function km(n,e){const t=n.selection;if(!(t instanceof sn))return!1;if(e){const r=n.tr,i=ms(n.schema).cell.createAndFill().content;t.forEachCell((s,o)=>{s.content.eq(i)||r.replace(r.mapping.map(o+1),r.mapping.map(o+s.nodeSize-1),new Le(i,0,0))}),r.docChanged&&e(r)}return!0}function bme(n){return(e,t)=>{const{from:r,to:i,select:s=!0,pos:o=e.selection.from}=n,a=e.tr;return lme({tr:a,originIndex:r,targetIndex:i,select:s,pos:o})?(t==null||t(a),!0):!1}}function kme(n){return(e,t)=>{const{from:r,to:i,select:s=!0,pos:o=e.selection.from}=n,a=e.tr;return ome({tr:a,originIndex:r,targetIndex:i,select:s,pos:o})?(t==null||t(a),!0):!1}}function xme(n){if(!n.size)return null;let{content:e,openStart:t,openEnd:r}=n;for(;e.childCount==1&&(t>0&&r>0||e.child(0).type.spec.tableRole=="table");)t--,r--,e=e.child(0).content;const i=e.child(0),s=i.type.spec.tableRole,o=i.type.schema,a=[];if(s=="row")for(let l=0;l<e.childCount;l++){let u=e.child(l).content;const c=l?0:Math.max(0,t-1),h=l<e.childCount-1?0:Math.max(0,r-1);(c||h)&&(u=D3(ms(o).row,new Le(u,c,h)).content),a.push(u)}else if(s=="cell"||s=="header_cell")a.push(t||r?D3(ms(o).row,new Le(e,t,r)).content:e);else return null;return Sme(o,a)}function Sme(n,e){const t=[];for(let i=0;i<e.length;i++){const s=e[i];for(let o=s.childCount-1;o>=0;o--){const{rowspan:a,colspan:l}=s.child(o).attrs;for(let u=i;u<i+a;u++)t[u]=(t[u]||0)+l}}let r=0;for(let i=0;i<t.length;i++)r=Math.max(r,t[i]);for(let i=0;i<t.length;i++)if(i>=e.length&&e.push(be.empty),t[i]<r){const s=ms(n).cell.createAndFill(),o=[];for(let a=t[i];a<r;a++)o.push(s);e[i]=e[i].append(be.from(o))}return{height:e.length,width:r,rows:e}}function D3(n,e){const t=n.createAndFill();return new $I(t).replace(0,t.content.size,e).doc}function Cme({width:n,height:e,rows:t},r,i){if(n!=r){const s=[],o=[];for(let a=0;a<t.length;a++){const l=t[a],u=[];for(let c=s[a]||0,h=0;c<r;h++){let d=l.child(h%l.childCount);c+d.attrs.colspan>r&&(d=d.type.createChecked(pc(d.attrs,d.attrs.colspan,c+d.attrs.colspan-r),d.content)),u.push(d),c+=d.attrs.colspan;for(let f=1;f<d.attrs.rowspan;f++)s[a+f]=(s[a+f]||0)+d.attrs.colspan}o.push(be.from(u))}t=o,n=r}if(e!=i){const s=[];for(let o=0,a=0;o<i;o++,a++){const l=[],u=t[a%e];for(let c=0;c<u.childCount;c++){let h=u.child(c);o+h.attrs.rowspan>i&&(h=h.type.create({...h.attrs,rowspan:Math.max(1,i-h.attrs.rowspan)},h.content)),l.push(h)}s.push(be.from(l))}t=s,e=i}return{width:n,height:e,rows:t}}function Mme(n,e,t,r,i,s,o){const a=n.doc.type.schema,l=ms(a);let u,c;if(i>e.width)for(let h=0,d=0;h<e.height;h++){const f=t.child(h);d+=f.nodeSize;const p=[];let m;f.lastChild==null||f.lastChild.type==l.cell?m=u||(u=l.cell.createAndFill()):m=c||(c=l.header_cell.createAndFill());for(let y=e.width;y<i;y++)p.push(m);n.insert(n.mapping.slice(o).map(d-1+r),p)}if(s>e.height){const h=[];for(let p=0,m=(e.height-1)*e.width;p<Math.max(e.width,i);p++){const y=p>=e.width?!1:t.nodeAt(e.map[m+p]).type==l.header_cell;h.push(y?c||(c=l.header_cell.createAndFill()):u||(u=l.cell.createAndFill()))}const d=l.row.create(null,be.from(h)),f=[];for(let p=e.height;p<s;p++)f.push(d);n.insert(n.mapping.slice(o).map(r+t.nodeSize-2),f)}return!!(u||c)}function mM(n,e,t,r,i,s,o,a){if(o==0||o==e.height)return!1;let l=!1;for(let u=i;u<s;u++){const c=o*e.width+u,h=e.map[c];if(e.map[c-e.width]==h){l=!0;const d=t.nodeAt(h),{top:f,left:p}=e.findCell(h);n.setNodeMarkup(n.mapping.slice(a).map(h+r),null,{...d.attrs,rowspan:o-f}),n.insert(n.mapping.slice(a).map(e.positionAt(o,p,t)),d.type.createAndFill({...d.attrs,rowspan:f+d.attrs.rowspan-o})),u+=d.attrs.colspan-1}}return l}function gM(n,e,t,r,i,s,o,a){if(o==0||o==e.width)return!1;let l=!1;for(let u=i;u<s;u++){const c=u*e.width+o,h=e.map[c];if(e.map[c-1]==h){l=!0;const d=t.nodeAt(h),f=e.colCount(h),p=n.mapping.slice(a).map(h+r);n.setNodeMarkup(p,null,pc(d.attrs,o-f,d.attrs.colspan-(o-f))),n.insert(p+d.nodeSize,d.type.createAndFill(pc(d.attrs,0,o-f))),u+=d.attrs.rowspan-1}}return l}function yM(n,e,t,r,i){let s=t?n.doc.nodeAt(t-1):n.doc;if(!s)throw new Error("No table found");let o=Wt.get(s);const{top:a,left:l}=r,u=l+i.width,c=a+i.height,h=n.tr;let d=0;function f(){if(s=t?h.doc.nodeAt(t-1):h.doc,!s)throw new Error("No table found");o=Wt.get(s),d=h.mapping.maps.length}Mme(h,o,s,t,u,c,d)&&f(),mM(h,o,s,t,l,u,a,d)&&f(),mM(h,o,s,t,l,u,c,d)&&f(),gM(h,o,s,t,a,c,l,d)&&f(),gM(h,o,s,t,a,c,u,d)&&f();for(let p=a;p<c;p++){const m=o.positionAt(p,l,s),y=o.positionAt(p,u,s);h.replace(h.mapping.slice(d).map(m+t),h.mapping.slice(d).map(y+t),new Le(i.rows[p-a],0,0))}f(),h.setSelection(new sn(h.doc.resolve(t+o.positionAt(a,l,s)),h.doc.resolve(t+o.positionAt(c-1,u-1,s)))),e(h)}var Ame=$w({ArrowLeft:xm("horiz",-1),ArrowRight:xm("horiz",1),ArrowUp:xm("vert",-1),ArrowDown:xm("vert",1),"Shift-ArrowLeft":Sm("horiz",-1),"Shift-ArrowRight":Sm("horiz",1),"Shift-ArrowUp":Sm("vert",-1),"Shift-ArrowDown":Sm("vert",1),Backspace:km,"Mod-Backspace":km,Delete:km,"Mod-Delete":km});function Tg(n,e,t){return t.eq(n.selection)?!1:(e&&e(n.tr.setSelection(t).scrollIntoView()),!0)}function xm(n,e){return(t,r,i)=>{if(!i)return!1;const s=t.selection;if(s instanceof sn)return Tg(t,r,lt.near(s.$headCell,e));if(n!="horiz"&&!s.empty)return!1;const o=NL(i,n,e);if(o==null)return!1;if(n=="horiz")return Tg(t,r,lt.near(t.doc.resolve(s.head+e),e));{const a=t.doc.resolve(o),l=ML(a,n,e);let u;return l?u=lt.near(l,1):e<0?u=lt.near(t.doc.resolve(a.before(-1)),-1):u=lt.near(t.doc.resolve(a.after(-1)),1),Tg(t,r,u)}}}function Sm(n,e){return(t,r,i)=>{if(!i)return!1;const s=t.selection;let o;if(s instanceof sn)o=s;else{const l=NL(i,n,e);if(l==null)return!1;o=new sn(t.doc.resolve(l))}const a=ML(o.$headCell,n,e);return a?Tg(t,r,new sn(o.$anchorCell,a)):!1}}function _me(n,e){const t=n.state.doc,r=bp(t.resolve(e));return r?(n.dispatch(n.state.tr.setSelection(new sn(r))),!0):!1}function Tme(n,e,t){if(!bs(n.state))return!1;let r=xme(t);const i=n.state.selection;if(i instanceof sn){r||(r={width:1,height:1,rows:[be.from(D3(ms(n.state.schema).cell,t))]});const s=i.$anchorCell.node(-1),o=i.$anchorCell.start(-1),a=Wt.get(s).rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o);return r=Cme(r,a.right-a.left,a.bottom-a.top),yM(n.state,n.dispatch,o,a,r),!0}else if(r){const s=ry(n.state),o=s.start(-1);return yM(n.state,n.dispatch,o,Wt.get(s.node(-1)).findCell(s.pos-o),r),!0}else return!1}function Eme(n,e){var t;if(e.ctrlKey||e.metaKey)return;const r=vM(n,e.target);let i;if(e.shiftKey&&n.state.selection instanceof sn)s(n.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=bp(n.state.selection.$anchor))!=null&&((t=t6(n,e))==null?void 0:t.pos)!=i.pos)s(i,e),e.preventDefault();else if(!r)return;function s(l,u){let c=t6(n,u);const h=il.getState(n.state)==null;if(!c||!q7(l,c))if(h)c=l;else return;const d=new sn(l,c);if(h||!n.state.selection.eq(d)){const f=n.state.tr.setSelection(d);h&&f.setMeta(il,l.pos),n.dispatch(f)}}function o(){n.root.removeEventListener("mouseup",o),n.root.removeEventListener("dragstart",o),n.root.removeEventListener("mousemove",a),il.getState(n.state)!=null&&n.dispatch(n.state.tr.setMeta(il,-1))}function a(l){const u=l,c=il.getState(n.state);let h;if(c!=null)h=n.state.doc.resolve(c);else if(vM(n,u.target)!=r&&(h=t6(n,e),!h))return o();h&&s(h,u)}n.root.addEventListener("mouseup",o),n.root.addEventListener("dragstart",o),n.root.addEventListener("mousemove",a)}function NL(n,e,t){if(!(n.state.selection instanceof Ue))return null;const{$head:r}=n.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((t<0?r.index(i):r.indexAfter(i))!=(t<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const a=r.before(i),l=e=="vert"?t>0?"down":"up":t>0?"right":"left";return n.endOfTextblock(l)?a:null}}return null}function vM(n,e){for(;e&&e!=n.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function t6(n,e){const t=n.posAtCoords({left:e.clientX,top:e.clientY});return t&&t?bp(n.state.doc.resolve(t.pos)):null}var Ome=class{constructor(n,e){this.node=n,this.defaultCellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${e}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),N3(n,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(n){return n.type!=this.node.type?!1:(this.node=n,N3(n,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(n){return n.type=="attributes"&&(n.target==this.table||this.colgroup.contains(n.target))}};function N3(n,e,t,r,i,s){var o;let a=0,l=!0,u=e.firstChild;const c=n.firstChild;if(!!c){for(let h=0,d=0;h<c.childCount;h++){const{colspan:f,colwidth:p}=c.child(h).attrs;for(let m=0;m<f;m++,d++){const y=i==d?s:p&&p[m],v=y?y+"px":"";if(a+=y||r,y||(l=!1),u)u.style.width!=v&&(u.style.width=v),u=u.nextSibling;else{const b=document.createElement("col");b.style.width=v,e.appendChild(b)}}}for(;u;){const h=u.nextSibling;(o=u.parentNode)==null||o.removeChild(u),u=h}l?(t.style.width=a+"px",t.style.minWidth=""):(t.style.width="",t.style.minWidth=a+"px")}}var Ei=new pn("tableColumnResizing");function Ime({handleWidth:n=5,cellMinWidth:e=25,defaultCellMinWidth:t=100,View:r=Ome,lastColumnResizable:i=!0}={}){const s=new fn({key:Ei,state:{init(o,a){var l,u;const c=(u=(l=s.spec)==null?void 0:l.props)==null?void 0:u.nodeViews,h=ms(a.schema).table.name;return r&&c&&(c[h]=(d,f)=>new r(d,t,f)),new Dme(-1,!1)},apply(o,a){return a.apply(o)}},props:{attributes:o=>{const a=Ei.getState(o);return a&&a.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(o,a)=>{Nme(o,a,n,i)},mouseleave:o=>{Lme(o)},mousedown:(o,a)=>{Pme(o,a,e,t)}},decorations:o=>{const a=Ei.getState(o);if(a&&a.activeHandle>-1)return zme(o,a.activeHandle)},nodeViews:{}}});return s}var Dme=class Eg{constructor(e,t){this.activeHandle=e,this.dragging=t}apply(e){const t=this,r=e.getMeta(Ei);if(r&&r.setHandle!=null)return new Eg(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new Eg(t.activeHandle,r.setDragging);if(t.activeHandle>-1&&e.docChanged){let i=e.mapping.map(t.activeHandle,-1);return I3(e.doc.resolve(i))||(i=-1),new Eg(i,t.dragging)}return t}};function Nme(n,e,t,r){if(!n.editable)return;const i=Ei.getState(n.state);if(!!i&&!i.dragging){const s=$me(e.target);let o=-1;if(s){const{left:a,right:l}=s.getBoundingClientRect();e.clientX-a<=t?o=wM(n,e,"left",t):l-e.clientX<=t&&(o=wM(n,e,"right",t))}if(o!=i.activeHandle){if(!r&&o!==-1){const a=n.state.doc.resolve(o),l=a.node(-1),u=Wt.get(l),c=a.start(-1);if(u.colCount(a.pos-c)+a.nodeAfter.attrs.colspan-1==u.width-1)return}LL(n,o)}}}function Lme(n){if(!n.editable)return;const e=Ei.getState(n.state);e&&e.activeHandle>-1&&!e.dragging&&LL(n,-1)}function Pme(n,e,t,r){var i;if(!n.editable)return!1;const s=(i=n.dom.ownerDocument.defaultView)!=null?i:window,o=Ei.getState(n.state);if(!o||o.activeHandle==-1||o.dragging)return!1;const a=n.state.doc.nodeAt(o.activeHandle),l=Rme(n,o.activeHandle,a.attrs);n.dispatch(n.state.tr.setMeta(Ei,{setDragging:{startX:e.clientX,startWidth:l}}));function u(h){s.removeEventListener("mouseup",u),s.removeEventListener("mousemove",c);const d=Ei.getState(n.state);d!=null&&d.dragging&&(Bme(n,d.activeHandle,bM(d.dragging,h,t)),n.dispatch(n.state.tr.setMeta(Ei,{setDragging:null})))}function c(h){if(!h.which)return u(h);const d=Ei.getState(n.state);if(!!d&&d.dragging){const f=bM(d.dragging,h,t);kM(n,d.activeHandle,f,r)}}return kM(n,o.activeHandle,l,r),s.addEventListener("mouseup",u),s.addEventListener("mousemove",c),e.preventDefault(),!0}function Rme(n,e,{colspan:t,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=n.domAtPos(e);let a=s.node.childNodes[s.offset].offsetWidth,l=t;if(r)for(let u=0;u<t;u++)r[u]&&(a-=r[u],l--);return a/l}function $me(n){for(;n&&n.nodeName!="TD"&&n.nodeName!="TH";)n=n.classList&&n.classList.contains("ProseMirror")?null:n.parentNode;return n}function wM(n,e,t,r){const i=t=="right"?-r:r,s=n.posAtCoords({left:e.clientX+i,top:e.clientY});if(!s)return-1;const{pos:o}=s,a=bp(n.state.doc.resolve(o));if(!a)return-1;if(t=="right")return a.pos;const l=Wt.get(a.node(-1)),u=a.start(-1),c=l.map.indexOf(a.pos-u);return c%l.width==0?-1:u+l.map[c-1]}function bM(n,e,t){const r=e.clientX-n.startX;return Math.max(t,n.startWidth+r)}function LL(n,e){n.dispatch(n.state.tr.setMeta(Ei,{setHandle:e}))}function Bme(n,e,t){const r=n.state.doc.resolve(e),i=r.node(-1),s=Wt.get(i),o=r.start(-1),a=s.colCount(r.pos-o)+r.nodeAfter.attrs.colspan-1,l=n.state.tr;for(let u=0;u<s.height;u++){const c=u*s.width+a;if(u&&s.map[c]==s.map[c-s.width])continue;const h=s.map[c],d=i.nodeAt(h).attrs,f=d.colspan==1?0:a-s.colCount(h);if(d.colwidth&&d.colwidth[f]==t)continue;const p=d.colwidth?d.colwidth.slice():Fme(d.colspan);p[f]=t,l.setNodeMarkup(o+h,null,{...d,colwidth:p})}l.docChanged&&n.dispatch(l)}function kM(n,e,t,r){const i=n.state.doc.resolve(e),s=i.node(-1),o=i.start(-1),a=Wt.get(s).colCount(i.pos-o)+i.nodeAfter.attrs.colspan-1;let l=n.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;!l||N3(s,l.firstChild,l,r,a,t)}function Fme(n){return Array(n).fill(0)}function zme(n,e){var t;const r=[],i=n.doc.resolve(e),s=i.node(-1);if(!s)return nn.empty;const o=Wt.get(s),a=i.start(-1),l=o.colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;for(let u=0;u<o.height;u++){const c=l+u*o.width;if((l==o.width-1||o.map[c]!=o.map[c+1])&&(u==0||o.map[c]!=o.map[c-o.width])){const h=o.map[c],d=a+h+s.nodeAt(h).nodeSize-1,f=document.createElement("div");f.className="column-resize-handle",(t=Ei.getState(n))!=null&&t.dragging&&r.push(Vn.node(a+h,a+h+s.nodeAt(h).nodeSize,{class:"column-resize-dragging"})),r.push(Vn.widget(d,f))}}return nn.create(n.doc,r)}function Hme({allowTableNodeSelection:n=!1}={}){return new fn({key:il,state:{init(){return null},apply(e,t){const r=e.getMeta(il);if(r!=null)return r==-1?null:r;if(t==null||!e.docChanged)return t;const{deleted:i,pos:s}=e.mapping.mapResult(t);return i?null:s}},props:{decorations:Xpe,handleDOMEvents:{mousedown:Eme},createSelectionBetween(e){return il.getState(e.state)!=null?e.state.selection:null},handleTripleClick:_me,handleKeyDown:Ame,handlePaste:Tme},appendTransaction(e,t,r){return tme(r,rme(r,t),n)}})}var $2=typeof navigator<"u"?navigator:null,j7=$2&&$2.userAgent||"",Vme=/Edge\/(\d+)/.exec(j7),qme=/MSIE \d/.exec(j7),Wme=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(j7),jme=!!(qme||Wme||Vme),Zme=!jme&&!!$2&&/Apple Computer/.test($2.vendor),PL=new pn("safari-ime-span"),L3=!1,Ume={key:PL,props:{decorations:Gme,handleDOMEvents:{compositionstart:()=>{L3=!0},compositionend:()=>{L3=!1}}}};function Gme(n){const{$from:e,$to:t,to:r}=n.selection;if(L3&&e.sameParent(t)){const i=Vn.widget(r,Kme,{ignoreSelection:!0,key:"safari-ime-span"});return nn.create(n.doc,[i])}}function Kme(n){const e=n.dom.ownerDocument.createElement("span");return e.className="ProseMirror-safari-ime-span",e}var Yme=new fn(Zme?Ume:{key:PL});function xM(n,e){const t=String(n);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=t.indexOf(e);for(;i!==-1;)r++,i=t.indexOf(e,i+e.length);return r}function Jme(n){if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Xme(n,e,t){const i=L4((t||{}).ignore||[]),s=Qme(e);let o=-1;for(;++o<s.length;)Tw(n,"text",a);function a(u,c){let h=-1,d;for(;++h<c.length;){const f=c[h],p=d?d.children:void 0;if(i(f,p?p.indexOf(f):void 0,d))return;d=f}if(d)return l(u,c)}function l(u,c){const h=c[c.length-1],d=s[o][0],f=s[o][1];let p=0;const y=h.children.indexOf(u);let v=!1,b=[];d.lastIndex=0;let k=d.exec(u.value);for(;k;){const _=k.index,C={index:k.index,input:k.input,stack:[...c,u]};let M=f(...k,C);if(typeof M=="string"&&(M=M.length>0?{type:"text",value:M}:void 0),M===!1?d.lastIndex=_+1:(p!==_&&b.push({type:"text",value:u.value.slice(p,_)}),Array.isArray(M)?b.push(...M):M&&b.push(M),p=_+k[0].length,v=!0),!d.global)break;k=d.exec(u.value)}return v?(p<u.value.length&&b.push({type:"text",value:u.value.slice(p)}),h.children.splice(y,1,...b)):b=[u],y+b.length}}function Qme(n){const e=[];if(!Array.isArray(n))throw new TypeError("Expected find and replace tuple or list of tuples");const t=!n[0]||Array.isArray(n[0])?n:[n];let r=-1;for(;++r<t.length;){const i=t[r];e.push([ege(i[0]),tge(i[1])])}return e}function ege(n){return typeof n=="string"?new RegExp(Jme(n),"g"):n}function tge(n){return typeof n=="function"?n:function(){return n}}const n6="phrasing",r6=["autolink","link","image","label"];function nge(){return{transforms:[uge],enter:{literalAutolink:ige,literalAutolinkEmail:i6,literalAutolinkHttp:i6,literalAutolinkWww:i6},exit:{literalAutolink:lge,literalAutolinkEmail:age,literalAutolinkHttp:sge,literalAutolinkWww:oge}}}function rge(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:n6,notInConstruct:r6},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:n6,notInConstruct:r6},{character:":",before:"[ps]",after:"\\/",inConstruct:n6,notInConstruct:r6}]}}function ige(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function i6(n){this.config.enter.autolinkProtocol.call(this,n)}function sge(n){this.config.exit.autolinkProtocol.call(this,n)}function oge(n){this.config.exit.data.call(this,n);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(n)}function age(n){this.config.exit.autolinkEmail.call(this,n)}function lge(n){this.exit(n)}function uge(n){Xme(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,cge],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),hge]],{ignore:["link","linkReference"]})}function cge(n,e,t,r,i){let s="";if(!RL(i)||(/^w/i.test(e)&&(t=e+t,e="",s="http://"),!dge(t)))return!1;const o=fge(t+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function hge(n,e,t,r){return!RL(r,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+t,children:[{type:"text",value:e+"@"+t}]}}function dge(n){const e=n.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function fge(n){const e=/[!"&'),.:;<>?\]}]+$/.exec(n);if(!e)return[n,void 0];n=n.slice(0,e.index);let t=e[0],r=t.indexOf(")");const i=xM(n,"(");let s=xM(n,")");for(;r!==-1&&i>s;)n+=t.slice(0,r+1),t=t.slice(r+1),r=t.indexOf(")"),s++;return[n,t]}function RL(n,e){const t=n.input.charCodeAt(n.index-1);return(n.index===0||cc(t)||D4(t))&&(!e||t!==47)}$L.peek=xge;function pge(){this.buffer()}function mge(n){this.enter({type:"footnoteReference",identifier:"",label:""},n)}function gge(){this.buffer()}function yge(n){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},n)}function vge(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=Ps(this.sliceSerialize(n)).toLowerCase(),t.label=e}function wge(n){this.exit(n)}function bge(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=Ps(this.sliceSerialize(n)).toLowerCase(),t.label=e}function kge(n){this.exit(n)}function xge(){return"["}function $L(n,e,t,r){const i=t.createTracker(r);let s=i.move("[^");const o=t.enter("footnoteReference"),a=t.enter("reference");return s+=i.move(t.safe(t.associationId(n),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function Sge(){return{enter:{gfmFootnoteCallString:pge,gfmFootnoteCall:mge,gfmFootnoteDefinitionLabelString:gge,gfmFootnoteDefinition:yge},exit:{gfmFootnoteCallString:vge,gfmFootnoteCall:wge,gfmFootnoteDefinitionLabelString:bge,gfmFootnoteDefinition:kge}}}function Cge(n){let e=!1;return n&&n.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:t,footnoteReference:$L},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function t(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const u=s.enter("footnoteDefinition"),c=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),c(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),e?BL:Mge))),u(),l}}function Mge(n,e,t){return e===0?n:BL(n,e,t)}function BL(n,e,t){return(t?"":"    ")+n}const Age=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];FL.peek=Ige;function _ge(){return{canContainEols:["delete"],enter:{strikethrough:Ege},exit:{strikethrough:Oge}}}function Tge(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Age}],handlers:{delete:FL}}}function Ege(n){this.enter({type:"delete",children:[]},n)}function Oge(n){this.exit(n)}function FL(n,e,t,r){const i=t.createTracker(r),s=t.enter("strikethrough");let o=i.move("~~");return o+=t.containerPhrasing(n,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function Ige(){return"~"}function Dge(n){return n.length}function Nge(n,e){const t=e||{},r=(t.align||[]).concat(),i=t.stringLength||Dge,s=[],o=[],a=[],l=[];let u=0,c=-1;for(;++c<n.length;){const m=[],y=[];let v=-1;for(n[c].length>u&&(u=n[c].length);++v<n[c].length;){const b=Lge(n[c][v]);if(t.alignDelimiters!==!1){const k=i(b);y[v]=k,(l[v]===void 0||k>l[v])&&(l[v]=k)}m.push(b)}o[c]=m,a[c]=y}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<u;)s[h]=SM(r[h]);else{const m=SM(r);for(;++h<u;)s[h]=m}h=-1;const d=[],f=[];for(;++h<u;){const m=s[h];let y="",v="";m===99?(y=":",v=":"):m===108?y=":":m===114&&(v=":");let b=t.alignDelimiters===!1?1:Math.max(1,l[h]-y.length-v.length);const k=y+"-".repeat(b)+v;t.alignDelimiters!==!1&&(b=y.length+b+v.length,b>l[h]&&(l[h]=b),f[h]=b),d[h]=k}o.splice(1,0,d),a.splice(1,0,f),c=-1;const p=[];for(;++c<o.length;){const m=o[c],y=a[c];h=-1;const v=[];for(;++h<u;){const b=m[h]||"";let k="",_="";if(t.alignDelimiters!==!1){const C=l[h]-(y[h]||0),M=s[h];M===114?k=" ".repeat(C):M===99?C%2?(k=" ".repeat(C/2+.5),_=" ".repeat(C/2-.5)):(k=" ".repeat(C/2),_=k):_=" ".repeat(C)}t.delimiterStart!==!1&&!h&&v.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&b==="")&&(t.delimiterStart!==!1||h)&&v.push(" "),t.alignDelimiters!==!1&&v.push(k),v.push(b),t.alignDelimiters!==!1&&v.push(_),t.padding!==!1&&v.push(" "),(t.delimiterEnd!==!1||h!==u-1)&&v.push("|")}p.push(t.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return p.join(`
`)}function Lge(n){return n==null?"":String(n)}function SM(n){const e=typeof n=="string"?n.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Pge(){return{enter:{table:Rge,tableData:CM,tableHeader:CM,tableRow:Bge},exit:{codeText:Fge,table:$ge,tableData:s6,tableHeader:s6,tableRow:s6}}}function Rge(n){const e=n._align;this.enter({type:"table",align:e.map(function(t){return t==="none"?null:t}),children:[]},n),this.data.inTable=!0}function $ge(n){this.exit(n),this.data.inTable=void 0}function Bge(n){this.enter({type:"tableRow",children:[]},n)}function s6(n){this.exit(n)}function CM(n){this.enter({type:"tableCell",children:[]},n)}function Fge(n){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,zge));const t=this.stack[this.stack.length-1];t.type,t.value=e,this.exit(n)}function zge(n,e){return e==="|"?e:n}function Hge(n){const e=n||{},t=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:d,table:o,tableCell:l,tableRow:a}};function o(f,p,m,y){return u(c(f,m,y),f.align)}function a(f,p,m,y){const v=h(f,m,y),b=u([v]);return b.slice(0,b.indexOf(`
`))}function l(f,p,m,y){const v=m.enter("tableCell"),b=m.enter("phrasing"),k=m.containerPhrasing(f,{...y,before:s,after:s});return b(),v(),k}function u(f,p){return Nge(f,{align:p,alignDelimiters:r,padding:t,stringLength:i})}function c(f,p,m){const y=f.children;let v=-1;const b=[],k=p.enter("table");for(;++v<y.length;)b[v]=h(y[v],p,m);return k(),b}function h(f,p,m){const y=f.children;let v=-1;const b=[],k=p.enter("tableRow");for(;++v<y.length;)b[v]=l(y[v],f,p,m);return k(),b}function d(f,p,m){let y=Ow.inlineCode(f,p,m);return m.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function Vge(){return{exit:{taskListCheckValueChecked:MM,taskListCheckValueUnchecked:MM,paragraph:Wge}}}function qge(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:jge}}}function MM(n){const e=this.stack[this.stack.length-2];e.type,e.checked=n.type==="taskListCheckValueChecked"}function Wge(n){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const t=this.stack[this.stack.length-1];t.type;const r=t.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===t&&(r.value=r.value.slice(1),r.value.length===0?t.children.shift():t.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,t.position.start=Object.assign({},r.position.start)))}}this.exit(n)}function jge(n,e,t,r){const i=n.children[0],s=typeof n.checked=="boolean"&&i&&i.type==="paragraph",o="["+(n.checked?"x":" ")+"] ",a=t.createTracker(r);s&&a.move(o);let l=Ow.listItem(n,e,t,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+o}}function Zge(){return[nge(),Sge(),_ge(),Pge(),Vge()]}function Uge(n){return{extensions:[rge(),Cge(n),Tge(),Hge(n),qge()]}}const Gge={tokenize:e2e,partial:!0},zL={tokenize:t2e,partial:!0},HL={tokenize:n2e,partial:!0},VL={tokenize:r2e,partial:!0},Kge={tokenize:i2e,partial:!0},qL={name:"wwwAutolink",tokenize:Xge,previous:jL},WL={name:"protocolAutolink",tokenize:Qge,previous:ZL},Da={name:"emailAutolink",tokenize:Jge,previous:UL},$o={};function Yge(){return{text:$o}}let Jl=48;for(;Jl<123;)$o[Jl]=Da,Jl++,Jl===58?Jl=65:Jl===91&&(Jl=97);$o[43]=Da;$o[45]=Da;$o[46]=Da;$o[95]=Da;$o[72]=[Da,WL];$o[104]=[Da,WL];$o[87]=[Da,qL];$o[119]=[Da,qL];function Jge(n,e,t){const r=this;let i,s;return o;function o(h){return!P3(h)||!UL.call(r,r.previous)||Z7(r.events)?t(h):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),a(h))}function a(h){return P3(h)?(n.consume(h),a):h===64?(n.consume(h),l):t(h)}function l(h){return h===46?n.check(Kge,c,u)(h):h===45||h===95||ri(h)?(s=!0,n.consume(h),l):c(h)}function u(h){return n.consume(h),i=!0,l}function c(h){return s&&i&&Lr(r.previous)?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),e(h)):t(h)}}function Xge(n,e,t){const r=this;return i;function i(o){return o!==87&&o!==119||!jL.call(r,r.previous)||Z7(r.events)?t(o):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(Gge,n.attempt(zL,n.attempt(HL,s),t),t)(o))}function s(o){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),e(o)}}function Qge(n,e,t){const r=this;let i="",s=!1;return o;function o(h){return(h===72||h===104)&&ZL.call(r,r.previous)&&!Z7(r.events)?(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),n.consume(h),a):t(h)}function a(h){if(Lr(h)&&i.length<5)return i+=String.fromCodePoint(h),n.consume(h),a;if(h===58){const d=i.toLowerCase();if(d==="http"||d==="https")return n.consume(h),l}return t(h)}function l(h){return h===47?(n.consume(h),s?u:(s=!0,l)):t(h)}function u(h){return h===null||S2(h)||rn(h)||cc(h)||D4(h)?t(h):n.attempt(zL,n.attempt(HL,c),t)(h)}function c(h){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),e(h)}}function e2e(n,e,t){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,n.consume(o),i):o===46&&r===3?(n.consume(o),s):t(o)}function s(o){return o===null?t(o):e(o)}}function t2e(n,e,t){let r,i,s;return o;function o(u){return u===46||u===95?n.check(VL,l,a)(u):u===null||rn(u)||cc(u)||u!==45&&D4(u)?l(u):(s=!0,n.consume(u),o)}function a(u){return u===95?r=!0:(i=r,r=void 0),n.consume(u),o}function l(u){return i||r||!s?t(u):e(u)}}function n2e(n,e){let t=0,r=0;return i;function i(o){return o===40?(t++,n.consume(o),i):o===41&&r<t?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?n.check(VL,e,s)(o):o===null||rn(o)||cc(o)?e(o):(n.consume(o),i)}function s(o){return o===41&&r++,n.consume(o),i}}function r2e(n,e,t){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(n.consume(a),r):a===38?(n.consume(a),s):a===93?(n.consume(a),i):a===60||a===null||rn(a)||cc(a)?e(a):t(a)}function i(a){return a===null||a===40||a===91||rn(a)||cc(a)?e(a):r(a)}function s(a){return Lr(a)?o(a):t(a)}function o(a){return a===59?(n.consume(a),r):Lr(a)?(n.consume(a),o):t(a)}}function i2e(n,e,t){return r;function r(s){return n.consume(s),i}function i(s){return ri(s)?t(s):e(s)}}function jL(n){return n===null||n===40||n===42||n===95||n===91||n===93||n===126||rn(n)}function ZL(n){return!Lr(n)}function UL(n){return!(n===47||P3(n))}function P3(n){return n===43||n===45||n===46||n===95||ri(n)}function Z7(n){let e=n.length,t=!1;for(;e--;){const r=n[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){t=!0;break}if(r._gfmAutolinkLiteralWalkedInto){t=!1;break}}return n.length>0&&!t&&(n[n.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}const s2e={tokenize:f2e,partial:!0};function o2e(){return{document:{[91]:{name:"gfmFootnoteDefinition",tokenize:c2e,continuation:{tokenize:h2e},exit:d2e}},text:{[91]:{name:"gfmFootnoteCall",tokenize:u2e},[93]:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:a2e,resolveTo:l2e}}}}function a2e(n,e,t){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return t(l);const u=Ps(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?t(l):(n.enter("gfmFootnoteCallLabelMarker"),n.consume(l),n.exit("gfmFootnoteCallLabelMarker"),e(l))}}function l2e(n,e){let t=n.length;for(;t--;)if(n[t][1].type==="labelImage"&&n[t][0]==="enter"){n[t][1];break}n[t+1][1].type="data",n[t+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},n[t+3][1].start),end:Object.assign({},n[n.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},n[t+3][1].end),end:Object.assign({},n[t+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},n[n.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[n[t+1],n[t+2],["enter",r,e],n[t+3],n[t+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],n[n.length-2],n[n.length-1],["exit",r,e]];return n.splice(t,n.length-t+1,...a),n}function u2e(n,e,t){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(h){return n.enter("gfmFootnoteCall"),n.enter("gfmFootnoteCallLabelMarker"),n.consume(h),n.exit("gfmFootnoteCallLabelMarker"),l}function l(h){return h!==94?t(h):(n.enter("gfmFootnoteCallMarker"),n.consume(h),n.exit("gfmFootnoteCallMarker"),n.enter("gfmFootnoteCallString"),n.enter("chunkString").contentType="string",u)}function u(h){if(s>999||h===93&&!o||h===null||h===91||rn(h))return t(h);if(h===93){n.exit("chunkString");const d=n.exit("gfmFootnoteCallString");return i.includes(Ps(r.sliceSerialize(d)))?(n.enter("gfmFootnoteCallLabelMarker"),n.consume(h),n.exit("gfmFootnoteCallLabelMarker"),n.exit("gfmFootnoteCall"),e):t(h)}return rn(h)||(o=!0),s++,n.consume(h),h===92?c:u}function c(h){return h===91||h===92||h===93?(n.consume(h),s++,u):u(h)}}function c2e(n,e,t){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(p){return n.enter("gfmFootnoteDefinition")._container=!0,n.enter("gfmFootnoteDefinitionLabel"),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(p),n.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(n.enter("gfmFootnoteDefinitionMarker"),n.consume(p),n.exit("gfmFootnoteDefinitionMarker"),n.enter("gfmFootnoteDefinitionLabelString"),n.enter("chunkString").contentType="string",c):t(p)}function c(p){if(o>999||p===93&&!a||p===null||p===91||rn(p))return t(p);if(p===93){n.exit("chunkString");const m=n.exit("gfmFootnoteDefinitionLabelString");return s=Ps(r.sliceSerialize(m)),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(p),n.exit("gfmFootnoteDefinitionLabelMarker"),n.exit("gfmFootnoteDefinitionLabel"),d}return rn(p)||(a=!0),o++,n.consume(p),p===92?h:c}function h(p){return p===91||p===92||p===93?(n.consume(p),o++,c):c(p)}function d(p){return p===58?(n.enter("definitionMarker"),n.consume(p),n.exit("definitionMarker"),i.includes(s)||i.push(s),xt(n,f,"gfmFootnoteDefinitionWhitespace")):t(p)}function f(p){return e(p)}}function h2e(n,e,t){return n.check(cp,e,n.attempt(s2e,e,t))}function d2e(n){n.exit("gfmFootnoteDefinition")}function f2e(n,e,t){const r=this;return xt(n,i,"gfmFootnoteDefinitionIndent",4+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):t(s)}}function p2e(n){let t=(n||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return t==null&&(t=!0),{text:{[126]:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let u=l;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[l][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[l][1].end)},h={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[l][1].start)},d=[["enter",c,a],["enter",o[u][1],a],["exit",o[u][1],a],["enter",h,a]],f=a.parser.constructs.insideSpan.null;f&&Ni(d,d.length,0,N4(f,o.slice(u+1,l),a)),Ni(d,d.length,0,[["exit",h,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",c,a]]),Ni(o,u-1,l-u+3,d),l=u+d.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const u=this.previous,c=this.events;let h=0;return d;function d(p){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(p):(o.enter("strikethroughSequenceTemporary"),f(p))}function f(p){const m=s0(u);if(p===126)return h>1?l(p):(o.consume(p),h++,f);if(h<2&&!t)return l(p);const y=o.exit("strikethroughSequenceTemporary"),v=s0(p);return y._open=!v||v===2&&Boolean(m),y._close=!m||m===2&&Boolean(v),a(p)}}}class m2e{constructor(){this.map=[]}add(e,t,r){g2e(this,e,t,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let t=this.map.length;const r=[];for(;t>0;)t-=1,r.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function g2e(n,e,t,r){let i=0;if(!(t===0&&r.length===0)){for(;i<n.map.length;){if(n.map[i][0]===e){n.map[i][1]+=t,n.map[i][2].push(...r);return}i+=1}n.map.push([e,t,r])}}function y2e(n,e){let t=!1;const r=[];for(;e<n.length;){const i=n[e];if(t){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(n[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(n[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(t=!0);e+=1}return r}function v2e(){return{flow:{null:{name:"table",tokenize:w2e,resolveAll:b2e}}}}function w2e(n,e,t){const r=this;let i=0,s=0,o;return a;function a(R){let G=r.events.length-1;for(;G>-1;){const Z=r.events[G][1].type;if(Z==="lineEnding"||Z==="linePrefix")G--;else break}const N=G>-1?r.events[G][1].type:null,j=N==="tableHead"||N==="tableRow"?M:l;return j===M&&r.parser.lazy[r.now().line]?t(R):j(R)}function l(R){return n.enter("tableHead"),n.enter("tableRow"),u(R)}function u(R){return R===124||(o=!0,s+=1),c(R)}function c(R){return R===null?t(R):Ge(R)?s>1?(s=0,r.interrupt=!0,n.exit("tableRow"),n.enter("lineEnding"),n.consume(R),n.exit("lineEnding"),f):t(R):At(R)?xt(n,c,"whitespace")(R):(s+=1,o&&(o=!1,i+=1),R===124?(n.enter("tableCellDivider"),n.consume(R),n.exit("tableCellDivider"),o=!0,c):(n.enter("data"),h(R)))}function h(R){return R===null||R===124||rn(R)?(n.exit("data"),c(R)):(n.consume(R),R===92?d:h)}function d(R){return R===92||R===124?(n.consume(R),h):h(R)}function f(R){return r.interrupt=!1,r.parser.lazy[r.now().line]?t(R):(n.enter("tableDelimiterRow"),o=!1,At(R)?xt(n,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):p(R))}function p(R){return R===45||R===58?y(R):R===124?(o=!0,n.enter("tableCellDivider"),n.consume(R),n.exit("tableCellDivider"),m):C(R)}function m(R){return At(R)?xt(n,y,"whitespace")(R):y(R)}function y(R){return R===58?(s+=1,o=!0,n.enter("tableDelimiterMarker"),n.consume(R),n.exit("tableDelimiterMarker"),v):R===45?(s+=1,v(R)):R===null||Ge(R)?_(R):C(R)}function v(R){return R===45?(n.enter("tableDelimiterFiller"),b(R)):C(R)}function b(R){return R===45?(n.consume(R),b):R===58?(o=!0,n.exit("tableDelimiterFiller"),n.enter("tableDelimiterMarker"),n.consume(R),n.exit("tableDelimiterMarker"),k):(n.exit("tableDelimiterFiller"),k(R))}function k(R){return At(R)?xt(n,_,"whitespace")(R):_(R)}function _(R){return R===124?p(R):R===null||Ge(R)?!o||i!==s?C(R):(n.exit("tableDelimiterRow"),n.exit("tableHead"),e(R)):C(R)}function C(R){return t(R)}function M(R){return n.enter("tableRow"),O(R)}function O(R){return R===124?(n.enter("tableCellDivider"),n.consume(R),n.exit("tableCellDivider"),O):R===null||Ge(R)?(n.exit("tableRow"),e(R)):At(R)?xt(n,O,"whitespace")(R):(n.enter("data"),D(R))}function D(R){return R===null||R===124||rn(R)?(n.exit("data"),O(R)):(n.consume(R),R===92?$:D)}function $(R){return R===92||R===124?(n.consume(R),D):D(R)}}function b2e(n,e){let t=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,u,c,h;const d=new m2e;for(;++t<n.length;){const f=n[t],p=f[1];f[0]==="enter"?p.type==="tableHead"?(a=!1,l!==0&&(AM(d,e,l,u,c),c=void 0,l=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},d.add(t,0,[["enter",u,e]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,h=void 0,s=[0,0,0,0],o=[0,t+1,0,0],a&&(a=!1,c={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},d.add(t,0,[["enter",c,e]])),i=p.type==="tableDelimiterRow"?2:c?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],h=Cm(d,e,s,i,void 0,h),s=[0,0,0,0]),o[2]=t)):p.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],h=Cm(d,e,s,i,void 0,h)),s=o,o=[s[1],t,0,0])):p.type==="tableHead"?(a=!0,l=t):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=t,s[1]!==0?(o[0]=o[1],h=Cm(d,e,s,i,t,h)):o[1]!==0&&(h=Cm(d,e,o,i,t,h)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(o[3]=t)}for(l!==0&&AM(d,e,l,u,c),d.consume(e.events),t=-1;++t<e.events.length;){const f=e.events[t];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=y2e(e.events,t))}return n}function Cm(n,e,t,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";t[0]!==0&&(s.end=Object.assign({},zc(e.events,t[0])),n.add(t[0],0,[["exit",s,e]]));const l=zc(e.events,t[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},n.add(t[1],0,[["enter",s,e]]),t[2]!==0){const u=zc(e.events,t[2]),c=zc(e.events,t[3]),h={type:a,start:Object.assign({},u),end:Object.assign({},c)};if(n.add(t[2],0,[["enter",h,e]]),r!==2){const d=e.events[t[2]],f=e.events[t[3]];if(d[1].end=Object.assign({},f[1].end),d[1].type="chunkText",d[1].contentType="text",t[3]>t[2]+1){const p=t[2]+1,m=t[3]-t[2]-1;n.add(p,m,[])}}n.add(t[3]+1,0,[["exit",h,e]])}return i!==void 0&&(s.end=Object.assign({},zc(e.events,i)),n.add(i,0,[["exit",s,e]]),s=void 0),s}function AM(n,e,t,r,i){const s=[],o=zc(e.events,t);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),n.add(t+1,0,s)}function zc(n,e){const t=n[e],r=t[0]==="enter"?"start":"end";return t[1][r]}const k2e={name:"tasklistCheck",tokenize:S2e};function x2e(){return{text:{[91]:k2e}}}function S2e(n,e,t){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?t(l):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(l),n.exit("taskListCheckMarker"),s)}function s(l){return rn(l)?(n.enter("taskListCheckValueUnchecked"),n.consume(l),n.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(n.enter("taskListCheckValueChecked"),n.consume(l),n.exit("taskListCheckValueChecked"),o):t(l)}function o(l){return l===93?(n.enter("taskListCheckMarker"),n.consume(l),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),a):t(l)}function a(l){return Ge(l)?e(l):At(l)?n.check({tokenize:C2e},e,t)(l):t(l)}}function C2e(n,e,t){return xt(n,r,"whitespace");function r(i){return i===null?t(i):e(i)}}function M2e(n){return JI([Yge(),o2e(),p2e(n),v2e(),x2e()])}const A2e={};function _2e(n){const e=this,t=n||A2e,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(M2e(t)),s.push(Zge()),o.push(Uge(t))}function st(n,e){return Object.assign(n,{meta:{package:"@milkdown/preset-gfm",...e}}),n}const U7=gp("strike_through");st(U7,{displayName:"Attr<strikethrough>",group:"Strikethrough"});const P0=E0("strike_through",n=>({parseDOM:[{tag:"del"},{style:"text-decoration",getAttrs:e=>e==="line-through"}],toDOM:e=>["del",n.get(U7.key)(e)],parseMarkdown:{match:e=>e.type==="delete",runner:(e,t,r)=>{e.openMark(r),e.next(t.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="strike_through",runner:(e,t)=>{e.withMark(t,"delete")}}}));st(P0.mark,{displayName:"MarkSchema<strikethrough>",group:"Strikethrough"});st(P0.ctx,{displayName:"MarkSchemaCtx<strikethrough>",group:"Strikethrough"});const iy=at("ToggleStrikeThrough",n=>()=>R4(P0.type(n)));st(iy,{displayName:"Command<ToggleStrikethrough>",group:"Strikethrough"});const GL=Er(n=>up(new RegExp("(?<![\\w:/])(~{1,2})(.+?)\\1(?!\\w|\\/)"),P0.type(n)));st(GL,{displayName:"InputRule<strikethrough>",group:"Strikethrough"});const G7=di("strikeThroughKeymap",{ToggleStrikethrough:{shortcuts:"Mod-Alt-x",command:n=>{const e=n.get(We);return()=>e.call(iy.key)}}});st(G7.ctx,{displayName:"KeymapCtx<strikethrough>",group:"Strikethrough"});st(G7.shortcuts,{displayName:"Keymap<strikethrough>",group:"Strikethrough"});const kp=Zpe({tableGroup:"block",cellContent:"paragraph",cellAttributes:{alignment:{default:"left",getFromDOM:n=>n.style.textAlign||"left",setDOMAttr:(n,e)=>{e.style=`text-align: ${n||"left"}`}}}}),Fl=Pn("table",()=>({...kp.table,content:"table_header_row table_row+",disableDropCursor:!0,parseMarkdown:{match:n=>n.type==="table",runner:(n,e,t)=>{const r=e.align,i=e.children.map((s,o)=>({...s,align:r,isHeader:o===0}));n.openNode(t),n.next(i),n.closeNode()}},toMarkdown:{match:n=>n.type.name==="table",runner:(n,e)=>{var i;const t=(i=e.content.firstChild)==null?void 0:i.content;if(!t)return;const r=[];t.forEach(s=>{r.push(s.attrs.alignment)}),n.openNode("table",void 0,{align:r}),n.next(e.content),n.closeNode()}}}));st(Fl.node,{displayName:"NodeSchema<table>",group:"Table"});st(Fl.ctx,{displayName:"NodeSchemaCtx<table>",group:"Table"});const sy=Pn("table_header_row",()=>({...kp.table_row,disableDropCursor:!0,content:"(table_header)*",parseDOM:[{tag:"tr[data-is-header]"}],toDOM(){return["tr",{"data-is-header":!0},0]},parseMarkdown:{match:n=>Boolean(n.type==="tableRow"&&n.isHeader),runner:(n,e,t)=>{const r=e.align,i=e.children.map((s,o)=>({...s,align:r[o],isHeader:e.isHeader}));n.openNode(t),n.next(i),n.closeNode()}},toMarkdown:{match:n=>n.type.name==="table_header_row",runner:(n,e)=>{n.openNode("tableRow",void 0,{isHeader:!0}),n.next(e.content),n.closeNode()}}}));st(sy.node,{displayName:"NodeSchema<tableHeaderRow>",group:"Table"});st(sy.ctx,{displayName:"NodeSchemaCtx<tableHeaderRow>",group:"Table"});const xp=Pn("table_row",()=>({...kp.table_row,disableDropCursor:!0,content:"(table_cell)*",parseMarkdown:{match:n=>n.type==="tableRow",runner:(n,e,t)=>{const r=e.align,i=e.children.map((s,o)=>({...s,align:r[o]}));n.openNode(t),n.next(i),n.closeNode()}},toMarkdown:{match:n=>n.type.name==="table_row",runner:(n,e)=>{e.content.size!==0&&(n.openNode("tableRow"),n.next(e.content),n.closeNode())}}}));st(xp.node,{displayName:"NodeSchema<tableRow>",group:"Table"});st(xp.ctx,{displayName:"NodeSchemaCtx<tableRow>",group:"Table"});const Sp=Pn("table_cell",()=>({...kp.table_cell,disableDropCursor:!0,parseMarkdown:{match:n=>n.type==="tableCell"&&!n.isHeader,runner:(n,e,t)=>{const r=e.align;n.openNode(t,{alignment:r}).openNode(n.schema.nodes.paragraph).next(e.children).closeNode().closeNode()}},toMarkdown:{match:n=>n.type.name==="table_cell",runner:(n,e)=>{n.openNode("tableCell").next(e.content).closeNode()}}}));st(Sp.node,{displayName:"NodeSchema<tableCell>",group:"Table"});st(Sp.ctx,{displayName:"NodeSchemaCtx<tableCell>",group:"Table"});const Cp=Pn("table_header",()=>({...kp.table_header,disableDropCursor:!0,parseMarkdown:{match:n=>n.type==="tableCell"&&!!n.isHeader,runner:(n,e,t)=>{const r=e.align;n.openNode(t,{alignment:r}),n.openNode(n.schema.nodes.paragraph),n.next(e.children),n.closeNode(),n.closeNode()}},toMarkdown:{match:n=>n.type.name==="table_header",runner:(n,e)=>{n.openNode("tableCell"),n.next(e.content),n.closeNode()}}}));st(Cp.node,{displayName:"NodeSchema<tableHeader>",group:"Table"});st(Cp.ctx,{displayName:"NodeSchemaCtx<tableHeader>",group:"Table"});function K7(n,e=3,t=3){const r=Array(t).fill(0).map(()=>Sp.type(n).createAndFill()),i=Array(t).fill(0).map(()=>Cp.type(n).createAndFill()),s=Array(e).fill(0).map((o,a)=>a===0?sy.type(n).create(null,i):xp.type(n).create(null,r));return Fl.type(n).create(null,s)}function KL(n){return(e,t)=>r=>{t=t!=null?t:r.selection.from;const i=r.doc.resolve(t),s=UI(l=>l.type.name==="table")(i),o=s?{node:s.node,from:s.start}:void 0,a=n==="row";if(o){const l=Wt.get(o.node);if(e>=0&&e<(a?l.height:l.width)){const u=l.positionAt(a?e:l.height-1,a?l.width-1:e,o.node),c=r.doc.resolve(o.from+u),h=a?sn.rowSelection:sn.colSelection,d=l.positionAt(a?e:0,a?0:e,o.node),f=r.doc.resolve(o.from+d);return ZI(r.setSelection(h(c,f)))}}return r}}const T2e=KL("row"),E2e=KL("col");function YL(n,e,{map:t,tableStart:r,table:i},s){const o=Array(s).fill(0).reduce((l,u,c)=>l+i.child(c).nodeSize,r),a=Array(t.width).fill(0).map((l,u)=>{const c=i.nodeAt(t.map[u]);return Sp.type(n).createAndFill({alignment:c==null?void 0:c.attrs.alignment})});return e.insert(o,xp.type(n).create(null,a)),e}function O2e(n){const e=L0(n.$from);if(!e)return;const t=Wt.get(e.node);return t.cellsInRect({left:0,right:t.width,top:0,bottom:t.height}).map(i=>{const s=e.node.nodeAt(i),o=i+e.start;return{pos:o,start:o+1,node:s}})}function I2e(n){const e=O2e(n.selection);if(e&&e[0]){const t=n.doc.resolve(e[0].pos),r=e[e.length-1];if(r){const i=n.doc.resolve(r.pos);return ZI(n.setSelection(new sn(i,t)))}}return n}const Y7=at("GoToPrevTableCell",()=>()=>DL(-1));st(Y7,{displayName:"Command<goToPrevTableCellCommand>",group:"Table"});const J7=at("GoToNextTableCell",()=>()=>DL(1));st(J7,{displayName:"Command<goToNextTableCellCommand>",group:"Table"});const X7=at("ExitTable",n=>()=>(e,t)=>{if(!bs(e))return!1;const{$head:r}=e.selection,i=Ple(r,Fl.type(n));if(!i)return!1;const{to:s}=i,o=e.tr.replaceWith(s,s,Zs.type(n).createAndFill());return o.setSelection(lt.near(o.doc.resolve(s),1)).scrollIntoView(),t==null||t(o),!0});st(X7,{displayName:"Command<breakTableCommand>",group:"Table"});const JL=at("InsertTable",n=>({row:e,col:t}={})=>(r,i)=>{const{selection:s,tr:o}=r,{from:a}=s,l=K7(n,e,t),u=o.replaceSelectionWith(l),c=lt.findFrom(u.doc.resolve(a),1,!0);return c&&u.setSelection(c),i==null||i(u),!0});st(JL,{displayName:"Command<insertTableCommand>",group:"Table"});const Q7=at("MoveRow",()=>({from:n,to:e,pos:t}={})=>bme({from:n!=null?n:0,to:e!=null?e:0,pos:t}));st(Q7,{displayName:"Command<moveRowCommand>",group:"Table"});const eb=at("MoveCol",()=>({from:n,to:e,pos:t}={})=>kme({from:n!=null?n:0,to:e!=null?e:0,pos:t}));st(eb,{displayName:"Command<moveColCommand>",group:"Table"});const xu=at("SelectRow",()=>(n={index:0})=>(e,t)=>{const{tr:r}=e,i=t==null?void 0:t(T2e(n.index,n.pos)(r));return Boolean(i)});st(xu,{displayName:"Command<selectRowCommand>",group:"Table"});const Su=at("SelectCol",()=>(n={index:0})=>(e,t)=>{const{tr:r}=e,i=t==null?void 0:t(E2e(n.index,n.pos)(r));return Boolean(i)});st(Su,{displayName:"Command<selectColCommand>",group:"Table"});const XL=at("SelectTable",()=>()=>(n,e)=>{const{tr:t}=n,r=e==null?void 0:e(I2e(t));return Boolean(r)});st(XL,{displayName:"Command<selectTableCommand>",group:"Table"});const tb=at("DeleteSelectedCells",()=>()=>(n,e)=>{const{selection:t}=n;if(!(t instanceof sn))return!1;const r=t.isRowSelection(),i=t.isColSelection();return r&&i?wme(n,e):i?fme(n,e):mme(n,e)});st(tb,{displayName:"Command<deleteSelectedCellsCommand>",group:"Table"});const nb=at("AddColBefore",()=>()=>cme);st(nb,{displayName:"Command<addColBeforeCommand>",group:"Table"});const rb=at("AddColAfter",()=>()=>hme);st(rb,{displayName:"Command<addColAfterCommand>",group:"Table"});const ib=at("AddRowBefore",n=>()=>(e,t)=>{if(!bs(e))return!1;if(t){const r=Bl(e);t(YL(n,e.tr,r,r.top))}return!0});st(ib,{displayName:"Command<addRowBeforeCommand>",group:"Table"});const sb=at("AddRowAfter",n=>()=>(e,t)=>{if(!bs(e))return!1;if(t){const r=Bl(e);t(YL(n,e.tr,r,r.bottom))}return!0});st(sb,{displayName:"Command<addRowAfterCommand>",group:"Table"});const ob=at("SetAlign",()=>(n="left")=>gme("alignment",n));st(ob,{displayName:"Command<setAlignCommand>",group:"Table"});const QL=Er(n=>new ui(/^\|(?<col>\d+)[xX](?<row>\d+)\|\s$/,(e,t,r,i)=>{var u,c,h;const s=e.doc.resolve(r);if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),Fl.type(n)))return null;const o=Math.max(Number((c=(u=t.groups)==null?void 0:u.row)!=null?c:0),2),a=K7(n,o,Number((h=t.groups)==null?void 0:h.col)),l=e.tr.replaceRangeWith(r,i,a);return l.setSelection(Ue.create(l.doc,r+3)).scrollIntoView()}));st(QL,{displayName:"InputRule<insertTableInputRule>",group:"Table"});const eP=Dfe(n=>({run:(e,t,r)=>{if(r)return e;let i=e.content;return e.content.forEach((s,o,a)=>{var y,v;if((s==null?void 0:s.type)!==Fl.type(n))return;const l=s.childCount,u=(v=(y=s.lastChild)==null?void 0:y.childCount)!=null?v:0;if(l===0||u===0){i=i.replaceChild(a,Zs.type(n).create());return}const c=s.firstChild;if(!(u>0&&c&&c.childCount===0))return;const d=Array(u).fill(0).map(()=>Cp.type(n).createAndFill()),f=new Le(be.from(d),0,0),p=c.replace(0,0,f),m=s.replace(0,c.nodeSize,new Le(be.from(p),0,0));i=i.replaceChild(a,m)}),new Le(be.from(i),e.openStart,e.openEnd)}}));st(eP,{displayName:"PasteRule<table>",group:"Table"});const ab=di("tableKeymap",{NextCell:{priority:100,shortcuts:["Mod-]","Tab"],command:n=>{const e=n.get(We);return()=>e.call(J7.key)}},PrevCell:{shortcuts:["Mod-[","Shift-Tab"],command:n=>{const e=n.get(We);return()=>e.call(Y7.key)}},ExitTable:{shortcuts:["Mod-Enter","Enter"],command:n=>{const e=n.get(We);return()=>e.call(X7.key)}}});st(ab.ctx,{displayName:"KeymapCtx<table>",group:"Table"});st(ab.shortcuts,{displayName:"Keymap<table>",group:"Table"});const o6="footnote_definition",_M="footnoteDefinition",lb=Pn("footnote_definition",()=>({group:"block",content:"block+",defining:!0,attrs:{label:{default:"",validate:"string"}},parseDOM:[{tag:`dl[data-type="${o6}"]`,getAttrs:n=>{if(!(n instanceof HTMLElement))throw Ws(n);return{label:n.dataset.label}},contentElement:"dd"}],toDOM:n=>{const e=n.attrs.label;return["dl",{"data-label":e,"data-type":o6},["dt",e],["dd",0]]},parseMarkdown:{match:({type:n})=>n===_M,runner:(n,e,t)=>{n.openNode(t,{label:e.label}).next(e.children).closeNode()}},toMarkdown:{match:n=>n.type.name===o6,runner:(n,e)=>{n.openNode(_M,void 0,{label:e.attrs.label,identifier:e.attrs.label}).next(e.content).closeNode()}}}));st(lb.ctx,{displayName:"NodeSchemaCtx<footnodeDef>",group:"footnote"});st(lb.node,{displayName:"NodeSchema<footnodeDef>",group:"footnote"});const a6="footnote_reference",ub=Pn("footnote_reference",()=>({group:"inline",inline:!0,atom:!0,attrs:{label:{default:"",validate:"string"}},parseDOM:[{tag:`sup[data-type="${a6}"]`,getAttrs:n=>{if(!(n instanceof HTMLElement))throw Ws(n);return{label:n.dataset.label}}}],toDOM:n=>{const e=n.attrs.label;return["sup",{"data-label":e,"data-type":a6},e]},parseMarkdown:{match:({type:n})=>n==="footnoteReference",runner:(n,e,t)=>{n.addNode(t,{label:e.label})}},toMarkdown:{match:n=>n.type.name===a6,runner:(n,e)=>{n.addNode("footnoteReference",void 0,void 0,{label:e.attrs.label,identifier:e.attrs.label})}}}));st(ub.ctx,{displayName:"NodeSchemaCtx<footnodeRef>",group:"footnote"});st(ub.node,{displayName:"NodeSchema<footnodeRef>",group:"footnote"});const cb=Us.extendSchema(n=>e=>{const t=n(e);return{...t,attrs:{...t.attrs,checked:{default:null,validate:"boolean|null"}},parseDOM:[{tag:'li[data-item-type="task"]',getAttrs:r=>{if(!(r instanceof HTMLElement))throw Ws(r);return{label:r.dataset.label,listType:r.dataset.listType,spread:r.dataset.spread,checked:r.dataset.checked?r.dataset.checked==="true":null}}},...(t==null?void 0:t.parseDOM)||[]],toDOM:r=>t.toDOM&&r.attrs.checked==null?t.toDOM(r):["li",{"data-item-type":"task","data-label":r.attrs.label,"data-list-type":r.attrs.listType,"data-spread":r.attrs.spread,"data-checked":r.attrs.checked},0],parseMarkdown:{match:({type:r})=>r==="listItem",runner:(r,i,s)=>{if(i.checked==null){t.parseMarkdown.runner(r,i,s);return}const o=i.label!=null?`${i.label}.`:"\u2022",a=i.checked!=null?Boolean(i.checked):null,l=i.label!=null?"ordered":"bullet",u=i.spread!=null?`${i.spread}`:"true";r.openNode(s,{label:o,listType:l,spread:u,checked:a}),r.next(i.children),r.closeNode()}},toMarkdown:{match:r=>r.type.name==="list_item",runner:(r,i)=>{if(i.attrs.checked==null){t.toMarkdown.runner(r,i);return}const s=i.attrs.label,o=i.attrs.listType,a=i.attrs.spread==="true",l=i.attrs.checked;r.openNode("listItem",void 0,{label:s,listType:o,spread:a,checked:l}),r.next(i.content),r.closeNode()}}}});st(cb.node,{displayName:"NodeSchema<taskListItem>",group:"ListItem"});st(cb.ctx,{displayName:"NodeSchemaCtx<taskListItem>",group:"ListItem"});const tP=Er(()=>new ui(/^\[(?<checked>\s|x)\]\s$/,(n,e,t,r)=>{var c;const i=n.doc.resolve(t);let s=0,o=i.node(s);for(;o&&o.type.name!=="list_item";)s--,o=i.node(s);if(!o||o.attrs.checked!=null)return null;const a=Boolean(((c=e.groups)==null?void 0:c.checked)==="x"),l=i.before(s),u=n.tr;return u.deleteRange(t,r).setNodeMarkup(l,void 0,{...o.attrs,checked:a}),u}));st(tP,{displayName:"InputRule<wrapInTaskListInputRule>",group:"ListItem"});const D2e=[G7,ab].flat(),N2e=[QL,tP],L2e=[GL],P2e=[eP],nP=Wn(()=>Yme);st(nP,{displayName:"Prose<autoInsertSpanPlugin>",group:"Prose"});const R2e=Wn(()=>Ime({}));st(R2e,{displayName:"Prose<columnResizingPlugin>",group:"Prose"});const rP=Wn(()=>Hme({allowTableNodeSelection:!0}));st(rP,{displayName:"Prose<tableEditingPlugin>",group:"Prose"});const hb=Ro("remarkGFM",()=>_2e);st(hb.plugin,{displayName:"Remark<remarkGFMPlugin>",group:"Remark"});st(hb.options,{displayName:"RemarkConfig<remarkGFMPlugin>",group:"Remark"});const $2e=new pn("MILKDOWN_KEEP_TABLE_ALIGN_PLUGIN");function B2e(n,e){let t=0;return e.forEach((r,i,s)=>{r===n&&(t=s)}),t}const iP=Wn(()=>new fn({key:$2e,appendTransaction:(n,e,t)=>{let r;const i=(s,o)=>{if(r||(r=t.tr),s.type.name!=="table_cell")return;const a=t.doc.resolve(o),l=a.node(a.depth),c=a.node(a.depth-1).firstChild;if(!c)return;const h=B2e(s,l),d=c.maybeChild(h);if(!d)return;const f=d.attrs.alignment,p=s.attrs.alignment;f!==p&&r.setNodeMarkup(o,void 0,{...s.attrs,alignment:f})};return e.doc!==t.doc&&t.doc.descendants(i),r}}));st(iP,{displayName:"Prose<keepTableAlignPlugin>",group:"Prose"});const F2e=[iP,nP,hb,rP].flat(),z2e=[cb,Fl,sy,xp,Cp,Sp,lb,ub,U7,P0].flat(),H2e=[J7,Y7,X7,JL,Q7,eb,xu,Su,XL,tb,ib,sb,nb,rb,ob,iy],V2e=[z2e,N2e,P2e,L2e,D2e,H2e,F2e].flat(),q2e=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=fb(n.state,t.from);return r.line?W2e(n):r.block?Z2e(n):!1};function db(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return i?(r(t.update(i)),!0):!1}}const W2e=db(K2e,0),j2e=db(sP,0),Z2e=db((n,e)=>sP(n,e,G2e(e)),0);function fb(n,e){let t=n.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const wd=50;function U2e(n,{open:e,close:t},r,i){let s=n.sliceDoc(r-wd,r),o=n.sliceDoc(i,i+wd),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,u=s.length-a;if(s.slice(u-e.length,u)==e&&o.slice(l,l+t.length)==t)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let c,h;i-r<=2*wd?c=h=n.sliceDoc(r,i):(c=n.sliceDoc(r,r+wd),h=n.sliceDoc(i-wd,i));let d=/^\s*/.exec(c)[0].length,f=/\s*$/.exec(h)[0].length,p=h.length-f-t.length;return c.slice(d,d+e.length)==e&&h.slice(p,p+t.length)==t?{open:{pos:r+d+e.length,margin:/\s/.test(c.charAt(d+e.length))?1:0},close:{pos:i-f-t.length,margin:/\s/.test(h.charAt(p-1))?1:0}}:null}function G2e(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to);i.from>r.from&&i.from==t.to&&(i=t.to==r.to+1?r:n.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function sP(n,e,t=e.selection.ranges){let r=t.map(s=>fb(e,s.from).block);if(!r.every(s=>s))return null;let i=t.map((s,o)=>U2e(e,r[o],s.from,s.to));if(n!=2&&!i.every(s=>s))return{changes:e.changes(t.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(n!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=r[o],{open:u,close:c}=a;s.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:c.pos-c.margin,to:c.pos+l.close.length})}return{changes:s}}return null}function K2e(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:o}of t){let a=r.length,l=1e9,u=fb(e,s).line;if(!!u){for(let c=s;c<=o;){let h=e.doc.lineAt(c);if(h.from>i&&(s==o||o>h.from)){i=h.from;let d=/^\s*/.exec(h.text)[0].length,f=d==h.length,p=h.text.slice(d,d+u.length)==u?d:-1;d<h.text.length&&d<l&&(l=d),r.push({line:h,comment:p,token:u,indent:d,empty:f,single:!1})}c=h.to+1}if(l<1e9)for(let c=a;c<r.length;c++)r[c].indent<r[c].line.text.length&&(r[c].indent=l);r.length==a+1&&(r[a].single=!0)}}if(n!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:u,empty:c,single:h}of r)(h||!c)&&s.push({from:a.from+u,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(n!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let u=o.from+a,c=u+l.length;o.text[c-o.from]==" "&&c++,s.push({from:u,to:c})}return{changes:s}}return null}const R3=Ta.define(),Y2e=Ta.define(),J2e=He.define(),oP=He.define({combine(n){return Lo(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,i)=>e(r,i)||t(r,i)})}}),aP=ar.define({create(){return yo.empty},update(n,e){let t=e.state.facet(oP),r=e.annotation(R3);if(r){let l=ii.fromTransaction(e,r.selection),u=r.side,c=u==0?n.undone:n.done;return l?c=B2(c,c.length,t.minDepth,l):c=cP(c,e.startState.selection),new yo(u==0?r.rest:c,u==0?c:r.rest)}let i=e.annotation(Y2e);if((i=="full"||i=="before")&&(n=n.isolate()),e.annotation(zn.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let s=ii.fromTransaction(e),o=e.annotation(zn.time),a=e.annotation(zn.userEvent);return s?n=n.addChanges(s,o,a,t,e):e.selection&&(n=n.addSelection(e.startState.selection,o,a,t.newGroupDelay)),(i=="full"||i=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new yo(n.done.map(ii.fromJSON),n.undone.map(ii.fromJSON))}});function X2e(n={}){return[aP,oP.of(n),ze.domEventHandlers({beforeinput(e,t){let r=e.inputType=="historyUndo"?lP:e.inputType=="historyRedo"?$3:null;return r?(e.preventDefault(),r(t)):!1}})]}function oy(n,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let i=t.field(aP,!1);if(!i)return!1;let s=i.pop(n,t,e);return s?(r(s),!0):!1}}const lP=oy(0,!1),$3=oy(1,!1),Q2e=oy(0,!0),e4e=oy(1,!0);class ii{constructor(e,t,r,i,s){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new ii(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new ii(e.changes&&Kn.fromJSON(e.changes),[],e.mapped&&So.fromJSON(e.mapped),e.startSelection&&ye.fromJSON(e.startSelection),e.selectionsAfter.map(ye.fromJSON))}static fromTransaction(e,t){let r=rs;for(let i of e.startState.facet(J2e)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new ii(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,rs)}static selection(e){return new ii(void 0,rs,void 0,void 0,e)}}function B2(n,e,t,r){let i=e+1>t+20?e-t-1:0,s=n.slice(i,e);return s.push(r),s}function t4e(n,e){let t=[],r=!1;return n.iterChangedRanges((i,s)=>t.push(i,s)),e.iterChangedRanges((i,s,o,a)=>{for(let l=0;l<t.length;){let u=t[l++],c=t[l++];a>=u&&o<=c&&(r=!0)}}),r}function n4e(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,r)=>t.empty!=e.ranges[r].empty).length===0}function uP(n,e){return n.length?e.length?n.concat(e):n:e}const rs=[],r4e=200;function cP(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-r4e));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),B2(n,n.length-1,1e9,t.setSelAfter(r)))}else return[ii.selection([e])]}function i4e(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function l6(n,e){if(!n.length)return n;let t=n.length,r=rs;for(;t;){let i=s4e(n[t-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=n.slice(0,t);return s[t-1]=i,s}else e=i.mapped,t--,r=i.selectionsAfter}return r.length?[ii.selection(r)]:rs}function s4e(n,e,t){let r=uP(n.selectionsAfter.length?n.selectionsAfter.map(a=>a.map(e)):rs,t);if(!n.changes)return ii.selection(r);let i=n.changes.map(e),s=e.mapDesc(n.changes,!0),o=n.mapped?n.mapped.composeDesc(s):s;return new ii(i,ht.mapEffects(n.effects,e),o,n.startSelection.map(s),r)}const o4e=/^(input\.type|delete)($|\.)/;class yo{constructor(e,t,r=0,i=void 0){this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new yo(this.done,this.undone):this}addChanges(e,t,r,i,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||o4e.test(r))&&(!a.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,t4e(a.changes,e.changes))||r=="input.type.compose")?o=B2(o,o.length-1,i.minDepth,new ii(e.changes.compose(a.changes),uP(ht.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,rs)):o=B2(o,o.length,i.minDepth,e),new yo(o,rs,t,r)}addSelection(e,t,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:rs;return s.length>0&&t-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&n4e(s[s.length-1],e)?this:new yo(cP(this.done,e),this.undone,t,r)}addMapping(e){return new yo(l6(this.done,e),l6(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||t.selection;if(r&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:R3.of({side:e,rest:i4e(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=i.length==1?rs:i.slice(0,i.length-1);return s.mapped&&(a=l6(a,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:R3.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}yo.empty=new yo(rs,rs);const a4e=[{key:"Mod-z",run:lP,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:$3,preventDefault:!0},{linux:"Ctrl-Shift-z",run:$3,preventDefault:!0},{key:"Mod-u",run:Q2e,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:e4e,preventDefault:!0}];function R0(n,e){return ye.create(n.ranges.map(e),n.mainIndex)}function Gs(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Ks({state:n,dispatch:e},t){let r=R0(n.selection,t);return r.eq(n.selection,!0)?!1:(e(Gs(n,r)),!0)}function ay(n,e){return ye.cursor(e?n.to:n.from)}function hP(n,e){return Ks(n,t=>t.empty?n.moveByChar(t,e):ay(t,e))}function Or(n){return n.textDirectionAt(n.state.selection.main.head)==dn.LTR}const dP=n=>hP(n,!Or(n)),fP=n=>hP(n,Or(n));function pP(n,e){return Ks(n,t=>t.empty?n.moveByGroup(t,e):ay(t,e))}const l4e=n=>pP(n,!Or(n)),u4e=n=>pP(n,Or(n));function c4e(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function ly(n,e,t){let r=yr(n).resolveInner(e.head),i=t?St.closedBy:St.openedBy;for(let l=e.head;;){let u=t?r.childAfter(l):r.childBefore(l);if(!u)break;c4e(n,u,i)?r=u:l=t?u.to:u.from}let s=r.type.prop(i),o,a;return s&&(o=t?mo(n,r.from,1):mo(n,r.to,-1))&&o.matched?a=t?o.end.to:o.end.from:a=t?r.to:r.from,ye.cursor(a,t?-1:1)}const h4e=n=>Ks(n,e=>ly(n.state,e,!Or(n))),d4e=n=>Ks(n,e=>ly(n.state,e,Or(n)));function mP(n,e){return Ks(n,t=>{if(!t.empty)return ay(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const gP=n=>mP(n,!1),yP=n=>mP(n,!0);function vP(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,i;if(e){for(let s of n.state.facet(ze.scrollMargins)){let o=s(n);o!=null&&o.top&&(t=Math.max(o==null?void 0:o.top,t)),o!=null&&o.bottom&&(r=Math.max(o==null?void 0:o.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function wP(n,e){let t=vP(n),{state:r}=n,i=R0(r.selection,o=>o.empty?n.moveVertically(o,e,t.height):ay(o,e));if(i.eq(r.selection))return!1;let s;if(t.selfScroll){let o=n.coordsAtPos(r.selection.main.head),a=n.scrollDOM.getBoundingClientRect(),l=a.top+t.marginTop,u=a.bottom-t.marginBottom;o&&o.top>l&&o.bottom<u&&(s=ze.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return n.dispatch(Gs(r,i),{effects:s}),!0}const TM=n=>wP(n,!1),B3=n=>wP(n,!0);function zl(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let s=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=ye.cursor(r.from+s))}return i}const f4e=n=>Ks(n,e=>zl(n,e,!0)),p4e=n=>Ks(n,e=>zl(n,e,!1)),m4e=n=>Ks(n,e=>zl(n,e,!Or(n))),g4e=n=>Ks(n,e=>zl(n,e,Or(n))),y4e=n=>Ks(n,e=>ye.cursor(n.lineBlockAt(e.head).from,1)),v4e=n=>Ks(n,e=>ye.cursor(n.lineBlockAt(e.head).to,-1));function w4e(n,e,t){let r=!1,i=R0(n.selection,s=>{let o=mo(n,s.head,-1)||mo(n,s.head,1)||s.head>0&&mo(n,s.head-1,1)||s.head<n.doc.length&&mo(n,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return t?ye.range(s.anchor,a):ye.cursor(a)});return r?(e(Gs(n,i)),!0):!1}const b4e=({state:n,dispatch:e})=>w4e(n,e,!1);function ks(n,e){let t=R0(n.state.selection,r=>{let i=e(r);return ye.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(Gs(n.state,t)),!0)}function bP(n,e){return ks(n,t=>n.moveByChar(t,e))}const kP=n=>bP(n,!Or(n)),xP=n=>bP(n,Or(n));function SP(n,e){return ks(n,t=>n.moveByGroup(t,e))}const k4e=n=>SP(n,!Or(n)),x4e=n=>SP(n,Or(n)),S4e=n=>ks(n,e=>ly(n.state,e,!Or(n))),C4e=n=>ks(n,e=>ly(n.state,e,Or(n)));function CP(n,e){return ks(n,t=>n.moveVertically(t,e))}const MP=n=>CP(n,!1),AP=n=>CP(n,!0);function _P(n,e){return ks(n,t=>n.moveVertically(t,e,vP(n).height))}const EM=n=>_P(n,!1),OM=n=>_P(n,!0),M4e=n=>ks(n,e=>zl(n,e,!0)),A4e=n=>ks(n,e=>zl(n,e,!1)),_4e=n=>ks(n,e=>zl(n,e,!Or(n))),T4e=n=>ks(n,e=>zl(n,e,Or(n))),E4e=n=>ks(n,e=>ye.cursor(n.lineBlockAt(e.head).from)),O4e=n=>ks(n,e=>ye.cursor(n.lineBlockAt(e.head).to)),IM=({state:n,dispatch:e})=>(e(Gs(n,{anchor:0})),!0),DM=({state:n,dispatch:e})=>(e(Gs(n,{anchor:n.doc.length})),!0),NM=({state:n,dispatch:e})=>(e(Gs(n,{anchor:n.selection.main.anchor,head:0})),!0),LM=({state:n,dispatch:e})=>(e(Gs(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),I4e=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),D4e=({state:n,dispatch:e})=>{let t=uy(n).map(({from:r,to:i})=>ye.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:ye.create(t),userEvent:"select"})),!0},N4e=({state:n,dispatch:e})=>{let t=R0(n.selection,r=>{let i=yr(n),s=i.resolveStack(r.from,1);if(r.empty){let o=i.resolveStack(r.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&o.next)return ye.range(a.to,a.from)}return r});return t.eq(n.selection)?!1:(e(Gs(n,t)),!0)};function TP(n,e){let{state:t}=n,r=t.selection,i=t.selection.ranges.slice();for(let s of t.selection.ranges){let o=t.doc.lineAt(s.head);if(e?o.to<n.state.doc.length:o.from>0)for(let a=s;;){let l=n.moveVertically(a,e);if(l.head<o.from||l.head>o.to){i.some(u=>u.head==l.head)||i.push(l);break}else{if(l.head==a.head)break;a=l}}}return i.length==r.ranges.length?!1:(n.dispatch(Gs(t,ye.create(i,i.length-1))),!0)}const L4e=n=>TP(n,!1),P4e=n=>TP(n,!0),R4e=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=ye.create([t.main]):t.main.empty||(r=ye.create([ye.cursor(t.main.head)])),r?(e(Gs(n,r)),!0):!1};function Mp(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(t="delete.backward",l=Mm(n,l,!1)):l>o&&(t="delete.forward",l=Mm(n,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=Mm(n,o,!1),a=Mm(n,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:ye.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?ze.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Mm(n,e,t){if(n instanceof ze)for(let r of n.state.facet(ze.atomicRanges).map(i=>i(n)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=t?s:i)});return e}const EP=(n,e,t)=>Mp(n,r=>{let i=r.from,{state:s}=n,o=s.doc.lineAt(i),a,l;if(t&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,i-o.from))){if(a[a.length-1]=="	")return i-1;let u=A0(a,s.tabSize),c=u%sc(s)||sc(s);for(let h=0;h<c&&a[a.length-1-h]==" ";h++)i--;l=i}else l=gr(o.text,i-o.from,e,e)+o.from,l==i&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,i-o.from))&&(l=gr(o.text,l-o.from,!1,!1)+o.from);return l}),F3=n=>EP(n,!1,!0),OP=n=>EP(n,!0,!1),IP=(n,e)=>Mp(n,t=>{let r=t.head,{state:i}=n,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==t.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=gr(s.text,r-s.from,e)+s.from,u=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),c=o(u);if(a!=null&&c!=a)break;(u!=" "||r!=t.head)&&(a=c),r=l}return r}),DP=n=>IP(n,!1),$4e=n=>IP(n,!0),B4e=n=>Mp(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),F4e=n=>Mp(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),z4e=n=>Mp(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),H4e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Dt.of(["",""])},range:ye.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},V4e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,s=n.doc.lineAt(i),o=i==s.from?i-1:gr(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:gr(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:n.doc.slice(i,a).append(n.doc.slice(o,i))},range:ye.cursor(a)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function uy(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),s=n.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=n.doc.lineAt(r.to-1)),t>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});t=s.number+1}return e}function NP(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let s of uy(n)){if(t?s.to==n.doc.length:s.from==0)continue;let o=n.doc.lineAt(t?s.to+1:s.from-1),a=o.length+1;if(t){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+n.lineBreak});for(let l of s.ranges)i.push(ye.range(Math.min(n.doc.length,l.anchor+a),Math.min(n.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:n.lineBreak+o.text});for(let l of s.ranges)i.push(ye.range(l.anchor-a,l.head-a))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:ye.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const q4e=({state:n,dispatch:e})=>NP(n,e,!1),W4e=({state:n,dispatch:e})=>NP(n,e,!0);function LP(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of uy(n))t?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const j4e=({state:n,dispatch:e})=>LP(n,e,!1),Z4e=({state:n,dispatch:e})=>LP(n,e,!0),U4e=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(uy(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=R0(e.selection,i=>{let s;if(n.lineWrapping){let o=n.lineBlockAt(i.head),a=n.coordsAtPos(i.head,i.assoc||1);a&&(s=o.bottom+n.documentTop-a.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,s)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function G4e(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=yr(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(St.closedBy))&&s.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from&&!/\S/.test(n.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const PM=PP(!1),K4e=PP(!0);function PP(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!n&&s==o&&G4e(e,s);n&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let u=new k4(e,{simulateBreak:s,simulateDoubleBreak:!!l}),c=dw(u,s);for(c==null&&(c=A0(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let h=["",Qf(e,c)];return l&&h.push(Qf(e,u.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:Dt.of(h)},range:ye.cursor(s+1+h[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function pb(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let a=n.doc.lineAt(o);a.number>t&&(r.empty||r.to>a.from)&&(e(a,i,r),t=a.number),o=a.to+1}let s=n.changes(i);return{changes:i,range:ye.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const Y4e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new k4(n,{overrideIndentation:s=>{let o=t[s];return o==null?-1:o}}),i=pb(n,(s,o,a)=>{let l=dw(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let u=/^\s*/.exec(s.text)[0],c=Qf(n,l);(u!=c||a.from<s.from+u.length)&&(t[s.from]=l,o.push({from:s.from,to:s.from+u.length,insert:c}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0},RP=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(pb(n,(t,r)=>{r.push({from:t.from,insert:n.facet(b4)})}),{userEvent:"input.indent"})),!0),$P=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(pb(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let s=A0(i,n.tabSize),o=0,a=Qf(n,Math.max(0,s-sc(n)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:t.from+o,to:t.from+i.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),J4e=n=>(n.setTabFocusMode(),!0),X4e=[{key:"Ctrl-b",run:dP,shift:kP,preventDefault:!0},{key:"Ctrl-f",run:fP,shift:xP},{key:"Ctrl-p",run:gP,shift:MP},{key:"Ctrl-n",run:yP,shift:AP},{key:"Ctrl-a",run:y4e,shift:E4e},{key:"Ctrl-e",run:v4e,shift:O4e},{key:"Ctrl-d",run:OP},{key:"Ctrl-h",run:F3},{key:"Ctrl-k",run:B4e},{key:"Ctrl-Alt-h",run:DP},{key:"Ctrl-o",run:H4e},{key:"Ctrl-t",run:V4e},{key:"Ctrl-v",run:B3}],Q4e=[{key:"ArrowLeft",run:dP,shift:kP,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:l4e,shift:k4e,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:m4e,shift:_4e,preventDefault:!0},{key:"ArrowRight",run:fP,shift:xP,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:u4e,shift:x4e,preventDefault:!0},{mac:"Cmd-ArrowRight",run:g4e,shift:T4e,preventDefault:!0},{key:"ArrowUp",run:gP,shift:MP,preventDefault:!0},{mac:"Cmd-ArrowUp",run:IM,shift:NM},{mac:"Ctrl-ArrowUp",run:TM,shift:EM},{key:"ArrowDown",run:yP,shift:AP,preventDefault:!0},{mac:"Cmd-ArrowDown",run:DM,shift:LM},{mac:"Ctrl-ArrowDown",run:B3,shift:OM},{key:"PageUp",run:TM,shift:EM},{key:"PageDown",run:B3,shift:OM},{key:"Home",run:p4e,shift:A4e,preventDefault:!0},{key:"Mod-Home",run:IM,shift:NM},{key:"End",run:f4e,shift:M4e,preventDefault:!0},{key:"Mod-End",run:DM,shift:LM},{key:"Enter",run:PM,shift:PM},{key:"Mod-a",run:I4e},{key:"Backspace",run:F3,shift:F3,preventDefault:!0},{key:"Delete",run:OP,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:DP,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:$4e,preventDefault:!0},{mac:"Mod-Backspace",run:F4e,preventDefault:!0},{mac:"Mod-Delete",run:z4e,preventDefault:!0}].concat(X4e.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),BP=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:h4e,shift:S4e},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:d4e,shift:C4e},{key:"Alt-ArrowUp",run:q4e},{key:"Shift-Alt-ArrowUp",run:j4e},{key:"Alt-ArrowDown",run:W4e},{key:"Shift-Alt-ArrowDown",run:Z4e},{key:"Mod-Alt-ArrowUp",run:L4e},{key:"Mod-Alt-ArrowDown",run:P4e},{key:"Escape",run:R4e},{key:"Mod-Enter",run:K4e},{key:"Alt-l",mac:"Ctrl-l",run:D4e},{key:"Mod-i",run:N4e,preventDefault:!0},{key:"Mod-[",run:$P},{key:"Mod-]",run:RP},{key:"Mod-Alt-\\",run:Y4e},{key:"Shift-Mod-k",run:U4e},{key:"Shift-Mod-\\",run:b4e},{key:"Mod-/",run:q2e},{key:"Alt-A",run:j2e},{key:"Ctrl-m",mac:"Shift-Alt-m",run:J4e}].concat(Q4e),eye={key:"Tab",run:RP,shift:$P};var F2=200,sr=function(){};sr.prototype.append=function(e){return e.length?(e=sr.from(e),!this.length&&e||e.length<F2&&this.leafAppend(e)||this.length<F2&&e.leafPrepend(this)||this.appendInner(e)):this};sr.prototype.prepend=function(e){return e.length?sr.from(e).append(this):this};sr.prototype.appendInner=function(e){return new tye(this,e)};sr.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?sr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};sr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};sr.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};sr.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},t,r),i};sr.from=function(e){return e instanceof sr?e:e&&e.length?new FP(e):sr.empty};var FP=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=F2)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=F2)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(sr);sr.empty=new FP([]);var tye=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(sr);const nye=500;class Ns{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;t&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,l,u=[],c=[];return this.items.forEach((h,d)=>{if(!h.step){i||(i=this.remapping(r,d+1),s=i.maps.length),s--,c.push(h);return}if(i){c.push(new oo(h.map));let f=h.step.map(i.slice(s)),p;f&&o.maybeStep(f).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],u.push(new oo(p,void 0,void 0,u.length+c.length))),s--,p&&i.appendMap(p,s)}else o.maybeStep(h.step);if(h.selection)return a=i?h.selection.map(i.slice(s)):h.selection,l=new Ns(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,t,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let c=0;c<e.steps.length;c++){let h=e.steps[c].invert(e.docs[c]),d=new oo(e.mapping.maps[c],h,t),f;(f=l&&l.merge(d))&&(d=f,c?s.pop():a=a.slice(0,a.length-1)),s.push(d),t&&(o++,t=void 0),i||(l=d)}let u=o-r.depth;return u>iye&&(a=rye(a,u),o-=u),new Ns(a.append(s),o)}remapping(e,t){let r=new r1;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,t),r}addMaps(e){return this.eventCount==0?this:new Ns(this.items.append(e.map(t=>new oo(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(d=>{d.selection&&a--},i);let l=t;this.items.forEach(d=>{let f=s.getMirror(--l);if(f==null)return;o=Math.min(o,f);let p=s.maps[f];if(d.step){let m=e.steps[f].invert(e.docs[f]),y=d.selection&&d.selection.map(s.slice(l+1,f));y&&a++,r.push(new oo(p,m,y))}else r.push(new oo(p))},i);let u=[];for(let d=t;d<o;d++)u.push(new oo(s.maps[d]));let c=this.items.slice(0,i).append(u).append(r),h=new Ns(c,a);return h.emptyItemCount()>nye&&(h=h.compress(this.items.length-r.length)),h}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(t.slice(r)),u=l&&l.getMap();if(r--,u&&t.appendMap(u,r),l){let c=o.selection&&o.selection.map(t.slice(r));c&&s++;let h=new oo(u.invert(),l,c),d,f=i.length-1;(d=i.length&&i[f].merge(h))?i[f]=d:i.push(h)}}else o.map&&r--},this.items.length,0),new Ns(sr.from(i.reverse()),s)}}Ns.empty=new Ns(sr.empty,0);function rye(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class oo{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new oo(t.getMap().invert(),t,this.selection)}}}class Qa{constructor(e,t,r,i,s){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const iye=20;function sye(n,e,t,r){let i=t.getMeta(Yu),s;if(i)return i.historyState;t.getMeta(lye)&&(n=new Qa(n.done,n.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(o&&o.getMeta(Yu))return o.getMeta(Yu).redo?new Qa(n.done.addTransform(t,void 0,r,Og(e)),n.undone,RM(t.mapping.maps),n.prevTime,n.prevComposition):new Qa(n.done,n.undone.addTransform(t,void 0,r,Og(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=t.getMeta("composition"),l=n.prevTime==0||!o&&n.prevComposition!=a&&(n.prevTime<(t.time||0)-r.newGroupDelay||!oye(t,n.prevRanges)),u=o?u6(n.prevRanges,t.mapping):RM(t.mapping.maps);return new Qa(n.done.addTransform(t,l?e.selection.getBookmark():void 0,r,Og(e)),Ns.empty,u,t.time,a==null?n.prevComposition:a)}else return(s=t.getMeta("rebased"))?new Qa(n.done.rebased(t,s),n.undone.rebased(t,s),u6(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Qa(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),u6(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function oye(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(t=!0)}),t}function RM(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,s,o)=>e.push(s,o));return e}function u6(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),s=e.map(n[r+1],-1);i<=s&&t.push(i,s)}return t}function aye(n,e,t){let r=Og(e),i=Yu.get(e).spec.config,s=(t?n.undone:n.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(t?n.done:n.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),l=new Qa(t?a:s.remaining,t?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(Yu,{redo:t,historyState:l})}let c6=!1,$M=null;function Og(n){let e=n.plugins;if($M!=e){c6=!1,$M=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){c6=!0;break}}return c6}const Yu=new pn("history"),lye=new pn("closeHistory");function uye(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new fn({key:Yu,state:{init(){return new Qa(Ns.empty,Ns.empty,null,0,-1)},apply(e,t,r){return sye(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?cy:r=="historyRedo"?h0:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function zP(n,e){return(t,r)=>{let i=Yu.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let s=aye(i,t,n);s&&r(e?s.scrollIntoView():s)}return!0}}const cy=zP(!1,!0),h0=zP(!0,!0);var cye=Object.defineProperty,BM=Object.getOwnPropertySymbols,hye=Object.prototype.hasOwnProperty,dye=Object.prototype.propertyIsEnumerable,FM=(n,e,t)=>e in n?cye(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,fye=(n,e)=>{for(var t in e||(e={}))hye.call(e,t)&&FM(n,t,e[t]);if(BM)for(var t of BM(e))dye.call(e,t)&&FM(n,t,e[t]);return n};function HP(n,e){return Object.assign(n,{meta:fye({package:"@milkdown/components"},e)}),n}const pye={extensions:[],languages:[],expandIcon:"\u2B07",searchIcon:"\u{1F50D}",clearSearchIcon:"\u232B",searchPlaceholder:"Search language",noResultText:"No result",copyText:"Copy",copyIcon:"\u{1F4CB}",onCopy:()=>{},renderLanguage:n=>n,renderPreview:()=>null,previewToggleButton:n=>n?"Edit":"Hide",previewLabel:"Preview",previewLoading:"Loading..."},Ap=Ut(pye,"codeBlockConfigCtx");HP(Ap,{displayName:"Config<code-block>",group:"CodeBlock"});class mye{constructor(e){this.languages=e,this.map={},e.forEach(t=>{t.alias.forEach(r=>{this.map[r]=t})})}getAll(){return this.languages.map(e=>({name:e.name,alias:e.alias}))}load(e){const r=this.map[e.toLowerCase()];return r?r.support?Promise.resolve(r.support):r.load():Promise.resolve(void 0)}}function uh({icon:n,class:e,onClick:t}){return oe("span",{class:vr("milkdown-icon",e),onPointerdown:t,ref:r=>{r&&n&&(r.innerHTML=ws.sanitize(n.trim()))}})}uh.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};var gye=(n,e,t)=>new Promise((r,i)=>{var s=l=>{try{a(t.next(l))}catch(u){i(u)}},o=l=>{try{a(t.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((t=t.apply(n,e)).next())});function yye(n){return gye(this,null,function*(){try{return navigator.clipboard.writeText(n)}catch{const t=document.createElement("textarea"),r=document.activeElement;t.value=n,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";const i=document.getSelection(),s=i?i.rangeCount>0&&i.getRangeAt(0):null;document.body.appendChild(t),t.select(),t.selectionStart=0,t.selectionEnd=n.length,document.execCommand("copy"),document.body.removeChild(t),s&&(i.removeAllRanges(),i.addRange(s)),r&&r.focus()}})}const vye=he({props:{copyText:{type:String,required:!0},copyIcon:{type:String,required:!0},onCopy:{type:Function,required:!0},text:{type:String,required:!0}},setup(n){const e=()=>{yye(n.text).then(()=>n.onCopy(n.text)).catch(console.error)};return()=>oe(Ve,null,oe("button",{type:"button",class:"copy-button",onClick:e},oe(uh,{icon:n.copyIcon}),n.copyText))}}),wye=he({props:{language:{type:Object,required:!0},getReadOnly:{type:Function,required:!0},config:{type:Object,required:!0},getAllLanguages:{type:Function,required:!0},setLanguage:{type:Function,required:!0}},setup({language:n,config:e,setLanguage:t,getAllLanguages:r,getReadOnly:i}){const s=V(),o=V(!1),a=V(),l=V(),u=V("");Et([o,s,l],()=>{u.value="";const m=s.value,y=l.value;!m||!y||Vs(m,y,{placement:"bottom-start"}).then(({x:v,y:b})=>{Object.assign(y.style,{left:`${v}px`,top:`${b}px`})}).catch(console.error)});const c=m=>{if(m.preventDefault(),m.stopPropagation(),i())return;const y=!o.value;o.value=y,y&&setTimeout(()=>{var v;return(v=a.value)==null?void 0:v.focus()},0)},h=m=>{const y=m.target;u.value=y.value},d=m=>{m.key==="Escape"&&(u.value="")},f=W(()=>{var m;if(!o.value)return[];const y=(m=r())!=null?m:[],v=y.find(k=>k.name.toLowerCase()===n.value.toLowerCase()),b=y.filter(k=>{const _=u.value.toLowerCase();return(k.name.toLowerCase().includes(_)||k.alias.some(C=>C.toLowerCase().includes(_)))&&k!==v});return b.length===0?[]:v?[v,...b]:b}),p=m=>{const y=m.target;if(s.value&&s.value.contains(y))return;const v=l.value,b=s.value;!b||!v||b.dataset.expanded==="true"&&(v.contains(y)||(o.value=!1))};return On(()=>{window.addEventListener("click",p)}),or(()=>{window.removeEventListener("click",p)}),()=>oe(Ve,null,oe("button",{type:"button",ref:s,class:"language-button",onClick:c,"data-expanded":String(o.value)},n.value||"Text",oe("div",{class:"expand-icon"},oe(uh,{icon:e.expandIcon}))),oe("div",{ref:l,class:"language-picker"},o.value?oe("div",{class:"list-wrapper"},oe("div",{class:"search-box"},oe("div",{class:"search-icon"},oe(uh,{icon:e.searchIcon})),oe("input",{ref:a,class:"search-input",placeholder:e.searchPlaceholder,value:u.value,onInput:h,onKeydown:d}),oe("div",{class:vr("clear-icon",u.value.length===0&&"hidden"),onMousedown:m=>{m.preventDefault(),u.value=""}},oe(uh,{icon:e.clearSearchIcon}))),oe("ul",{class:"language-list",role:"listbox",onKeydown:m=>{if(m.key==="Enter"){const y=document.activeElement;y instanceof HTMLElement&&y.dataset.language&&t(y.dataset.language)}}},f.value.length?f.value.map(m=>oe("li",{role:"listitem",tabindex:"0",class:"language-list-item","aria-selected":m.name.toLowerCase()===n.value.toLowerCase(),"data-language":m.name,onClick:()=>{t(m.name),o.value=!1}},e.renderLanguage(m.name,m.name.toLowerCase()===n.value.toLowerCase()))):oe("li",{class:"language-list-item no-result"},e.noResultText))):null))}}),bye=he({props:{text:{type:Object,required:!0},language:{type:Object,required:!0},config:{type:Object,required:!0},previewOnlyMode:{type:Object,required:!0},preview:{type:Object,required:!0}},setup(n){const{previewOnlyMode:e,config:t,preview:r}=n,i=V();return v0(()=>{const s=i.value;if(!s)return;for(;s.firstChild;)s.removeChild(s.firstChild);const o=r.value;(typeof o=="string"||o instanceof Element)&&(s.innerHTML=ws.sanitize(o))}),()=>r.value?oe("div",{class:"preview-panel"},!e.value&&oe(Ve,null,oe("div",{class:"preview-divider"}),oe("div",{class:vr("preview-label",e&&"hidden")},t.previewLabel)),oe("div",{ref:i,class:"preview"})):null}}),kye=he({props:{text:{type:Object,required:!0},selected:{type:Object,required:!0},getReadOnly:{type:Function,required:!0},codemirror:{type:Object,required:!0},language:{type:Object,required:!0},getAllLanguages:{type:Function,required:!0},setLanguage:{type:Function,required:!0},config:{type:Object,required:!0}},setup(n){var e;const t=(e=n.config.previewOnlyByDefault)!=null?e:n.getReadOnly(),r=V(t),i=V(),s=V(null);On(()=>{for(var a;(a=i.value)!=null&&a.firstChild;)i.value.removeChild(i.value.firstChild);i.value&&i.value.appendChild(n.codemirror.dom)}),Et(()=>[n.text.value,n.language.value],()=>{const a=n.config.renderPreview(n.language.value,n.text.value,u=>s.value=u);a&&(s.value=a),a===void 0&&!s.value&&(s.value=ws.sanitize(n.config.previewLoading)),a===null&&(s.value=null)},{immediate:!0});const o=()=>{};return()=>{var a;return oe(Ve,null,oe("div",{class:"tools"},oe(wye,{language:n.language,config:n.config,setLanguage:n.setLanguage,getAllLanguages:n.getAllLanguages,getReadOnly:n.getReadOnly}),oe("div",{class:"tools-button-group"},oe(vye,{copyIcon:n.config.copyIcon,copyText:n.config.copyText,onCopy:(a=n.config.onCopy)!=null?a:o,text:n.text.value}),s.value?oe("button",{class:"preview-toggle-button",onClick:()=>r.value=!r.value},oe(uh,{icon:n.config.previewToggleButton(r.value)})):null)),oe("div",{ref:i,class:vr("codemirror-host",s.value&&r.value&&"hidden")}),oe(bye,{text:n.text,language:n.language,config:n.config,previewOnlyMode:r,preview:s}))}}});class xye{constructor(e,t,r,i,s){this.node=e,this.view=t,this.getPos=r,this.loader=i,this.config=s,this.selected=V(!1),this.language=V(""),this.text=V(""),this.updating=!1,this.languageName="",this.forwardUpdate=o=>{var a;if(this.updating||!this.cm.hasFocus)return;let l=((a=this.getPos())!=null?a:0)+1;const{main:u}=o.state.selection,c=l+u.from,h=l+u.to,d=this.view.state.selection;if(o.docChanged||d.from!==c||d.to!==h){const f=this.view.state.tr;o.changes.iterChanges((p,m,y,v,b)=>{b.length?f.replaceWith(l+p,l+m,this.view.state.schema.text(b.toString())):f.delete(l+p,l+m),l+=v-y-(m-p)}),f.setSelection(Ue.create(f.doc,c,h)),this.view.dispatch(f)}},this.createApp=()=>qs(kye,{text:this.text,selected:this.selected,codemirror:this.cm,language:this.language,getAllLanguages:this.getAllLanguages,getReadOnly:()=>!this.view.editable,setLanguage:this.setLanguage,config:this.config}),this.codeMirrorKeymap=()=>{const o=this.view;return[{key:"ArrowUp",run:()=>this.maybeEscape("line",-1)},{key:"ArrowLeft",run:()=>this.maybeEscape("char",-1)},{key:"ArrowDown",run:()=>this.maybeEscape("line",1)},{key:"ArrowRight",run:()=>this.maybeEscape("char",1)},{key:"Mod-Enter",run:()=>PD(o.state,o.dispatch)?(o.focus(),!0):!1},{key:"Mod-z",run:()=>cy(o.state,o.dispatch)},{key:"Shift-Mod-z",run:()=>h0(o.state,o.dispatch)},{key:"Mod-y",run:()=>h0(o.state,o.dispatch)},{key:"Backspace",run:()=>{var a;const l=this.cm.state.selection.ranges;if(l.length>1)return!1;const u=l[0];if(u&&(!u.empty||u.anchor>0)||this.cm.state.doc.lines>=2)return!1;const c=this.view.state,h=(a=this.getPos())!=null?a:0,d=c.tr.replaceWith(h,h+this.node.nodeSize,c.schema.nodes.paragraph.createChecked({},this.node.content));return d.setSelection(Ue.near(d.doc.resolve(h))),this.view.dispatch(d),this.view.focus(),!0}}]},this.maybeEscape=(o,a)=>{var l;const{state:u}=this.cm;let c=u.selection.main;if(!c.empty||(o==="line"&&(c=u.doc.lineAt(c.head)),a<0?c.from>0:c.to<u.doc.length))return!1;const h=((l=this.getPos())!=null?l:0)+(a<0?0:this.node.nodeSize),d=Ue.near(this.view.state.doc.resolve(h),a),f=this.view.state.tr.setSelection(d).scrollIntoView();return this.view.dispatch(f),this.view.focus(),!0},this.setLanguage=o=>{var a;this.view.dispatch(this.view.state.tr.setNodeAttribute((a=this.getPos())!=null?a:0,"language",o))},this.getAllLanguages=()=>this.loader.getAll(),this.languageConf=new Jh,this.readOnlyConf=new Jh,this.cm=new ze({doc:this.node.textContent,root:this.view.root,extensions:[this.readOnlyConf.of(Tt.readOnly.of(!this.view.editable)),OO(),_0.of(this.codeMirrorKeymap()),this.languageConf.of([]),Tt.changeFilter.of(()=>this.view.editable),...s.extensions,ze.updateListener.of(this.forwardUpdate)]}),this.app=this.createApp(),this.dom=this.createDom(this.app),this.disposeSelectedWatcher=v0(()=>{this.selected.value?this.dom.classList.add("selected"):this.dom.classList.remove("selected")}),this.updateLanguage()}createDom(e){const t=document.createElement("div");return t.className="milkdown-code-block",this.text.value=this.node.textContent,e.mount(t),t}updateLanguage(){const e=this.node.attrs.language;if(e===this.languageName)return;this.language.value=e,this.loader.load(e!=null?e:"").then(r=>{r&&(this.cm.dispatch({effects:this.languageConf.reconfigure(r)}),this.languageName=e)}).catch(console.error)}setSelection(e,t){!this.cm.dom.isConnected||(this.cm.focus(),this.updating=!0,this.cm.dispatch({selection:{anchor:e,head:t}}),this.updating=!1)}update(e){if(e.type!==this.node.type)return!1;if(this.updating)return!0;this.node=e,this.text.value=e.textContent,this.updateLanguage(),this.view.editable===this.cm.state.readOnly&&this.cm.dispatch({effects:this.readOnlyConf.reconfigure(Tt.readOnly.of(!this.view.editable))});const t=Sye(this.cm.state.doc.toString(),e.textContent);return t&&(this.updating=!0,this.cm.dispatch({changes:{from:t.from,to:t.to,insert:t.text},scrollIntoView:!0}),this.updating=!1),!0}selectNode(){this.selected.value=!0,this.cm.focus()}deselectNode(){this.selected.value=!1}stopEvent(){return!0}destroy(){this.app.unmount(),this.cm.destroy(),this.disposeSelectedWatcher()}}function Sye(n,e){if(n===e)return null;let t=0,r=n.length,i=e.length;for(;t<r&&n.charCodeAt(t)===e.charCodeAt(t);)++t;for(;r>t&&i>t&&n.charCodeAt(r-1)===e.charCodeAt(i-1);)r--,i--;return{from:t,to:r,text:e.slice(t,i)}}const VP=mp(No.node,n=>{const e=n.get(Ap.key),t=new mye(e.languages);return(r,i,s)=>new xye(r,i,s,t,e)});HP(VP,{displayName:"NodeView<code-block>",group:"CodeBlock"});const Cye=[VP,Ap],zM=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class d0{constructor(e,t,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?a=>s(zM(a)):zM,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return ei(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=J5(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=ho(e);let i=this.normalize(t);if(i.length)for(let s=0,o=r;;s++){let a=i.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(l)return this.value=l,this;break}o==r&&s<t.length&&t.charCodeAt(s)==a&&o++}}}match(e,t,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:r}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(d0.prototype[Symbol.iterator]=function(){return this});const qP={from:-1,to:-1,match:/.*/.exec("")},mb="gm"+(/x/.unicode==null?"":"u");class WP{constructor(e,t,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=qP,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new jP(e,t,r,i,s);this.re=new RegExp(t,mb+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=z2(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=z2(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const h6=new WeakMap;class ch{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=h6.get(e);if(!i||i.from>=r||i.to<=t){let a=new ch(t,e.sliceString(t,r));return h6.set(e,a),a}if(i.from==t&&i.to==r)return i;let{text:s,from:o}=i;return o>t&&(s=e.sliceString(t,o)+s,o=t),i.to<r&&(s+=e.sliceString(i.to,r)),h6.set(e,new ch(o,s)),new ch(t,s.slice(t-o,r-o))}}class jP{constructor(e,t,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=qP,this.matchPos=z2(e,i),this.re=new RegExp(t,mb+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=ch.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=z2(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=ch.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(WP.prototype[Symbol.iterator]=jP.prototype[Symbol.iterator]=function(){return this});function Mye(n){try{return new RegExp(n,mb),!0}catch{return!1}}function z2(n,e){if(e>=n.length)return e;let t=n.lineAt(e),r;for(;e<t.to&&(r=t.text.charCodeAt(e-t.from))>=56320&&r<57344;)e++;return e}function z3(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=en("input",{class:"cm-textfield",name:"line",value:e}),r=en("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),n.dispatch({effects:Df.of(!1)}),n.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},en("label",n.state.phrase("Go to line"),": ",t)," ",en("button",{class:"cm-button",type:"submit"},n.state.phrase("go")),en("button",{name:"close",onclick:()=>{n.dispatch({effects:Df.of(!1)}),n.focus()},"aria-label":n.state.phrase("close"),type:"button"},["\xD7"]));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:o}=n,a=o.doc.lineAt(o.selection.main.head),[,l,u,c,h]=s,d=c?+c.slice(1):0,f=u?+u:a.number;if(u&&h){let y=f/100;l&&(y=y*(l=="-"?-1:1)+a.number/o.doc.lines),f=Math.round(o.doc.lines*y)}else u&&l&&(f=f*(l=="-"?-1:1)+a.number);let p=o.doc.line(Math.max(1,Math.min(o.doc.lines,f))),m=ye.cursor(p.from+Math.max(0,Math.min(d,p.length)));n.dispatch({effects:[Df.of(!1),ze.scrollIntoView(m.from,{y:"center"})],selection:m}),n.focus()}return{dom:r}}const Df=ht.define(),HM=ar.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(Df)&&(n=t.value);return n},provide:n=>Jf.from(n,e=>e?z3:null)}),Aye=n=>{let e=Yf(n,z3);if(!e){let t=[Df.of(!0)];n.state.field(HM,!1)==null&&t.push(ht.appendConfig.of([HM,_ye])),n.dispatch({effects:t}),e=Yf(n,z3)}return e&&e.dom.querySelector("input").select(),!0},_ye=ze.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),Tye={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},ZP=He.define({combine(n){return Lo(n,Tye,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function Eye(n){let e=[Lye,Nye];return n&&e.push(ZP.of(n)),e}const Oye=Qe.mark({class:"cm-selectionMatch"}),Iye=Qe.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function VM(n,e,t,r){return(t==0||n(e.sliceDoc(t-1,t))!=mn.Word)&&(r==e.doc.length||n(e.sliceDoc(r,r+1))!=mn.Word)}function Dye(n,e,t,r){return n(e.sliceDoc(t,t+1))==mn.Word&&n(e.sliceDoc(r-1,r))==mn.Word}const Nye=qn.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(ZP),{state:t}=n,r=t.selection;if(r.ranges.length>1)return Qe.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return Qe.none;let l=t.wordAt(i.head);if(!l)return Qe.none;o=t.charCategorizer(i.head),s=t.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return Qe.none;if(e.wholeWords){if(s=t.sliceDoc(i.from,i.to),o=t.charCategorizer(i.head),!(VM(o,t,i.from,i.to)&&Dye(o,t,i.from,i.to)))return Qe.none}else if(s=t.sliceDoc(i.from,i.to),!s)return Qe.none}let a=[];for(let l of n.visibleRanges){let u=new d0(t.doc,s,l.from,l.to);for(;!u.next().done;){let{from:c,to:h}=u.value;if((!o||VM(o,t,c,h))&&(i.empty&&c<=i.from&&h>=i.to?a.push(Iye.range(c,h)):(c>=i.to||h<=i.from)&&a.push(Oye.range(c,h)),a.length>e.maxMatches))return Qe.none}}return Qe.set(a)}},{decorations:n=>n.decorations}),Lye=ze.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Pye=({state:n,dispatch:e})=>{let{selection:t}=n,r=ye.create(t.ranges.map(i=>n.wordAt(i.head)||ye.cursor(i.head)),t.mainIndex);return r.eq(t)?!1:(e(n.update({selection:r})),!0)};function Rye(n,e){let{main:t,ranges:r}=n.selection,i=n.wordAt(t.head),s=i&&i.from==t.from&&i.to==t.to;for(let o=!1,a=new d0(n.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new d0(n.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==a.value.from))continue;if(s){let l=n.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const $ye=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return Pye({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=r))return!1;let i=Rye(n,r);return i?(e(n.update({selection:n.selection.addRange(ye.range(i.from,i.to),!1),effects:ze.scrollIntoView(i.to)})),!0):!1},$0=He.define({combine(n){return Lo(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Kye(e),scrollToMatch:e=>ze.scrollIntoView(e)})}});class UP{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Mye(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Hye(this):new Fye(this)}getCursor(e,t=0,r){let i=e.doc?e:Tt.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Vc(this,i,t,r):Hc(this,i,t,r)}}class GP{constructor(e){this.spec=e}}function Hc(n,e,t,r){return new d0(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?Bye(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function Bye(n,e){return(t,r,i,s)=>((s>t||s+i.length<r)&&(s=Math.max(0,t-2),i=n.sliceString(s,Math.min(n.length,r+2))),(e(H2(i,t-s))!=mn.Word||e(V2(i,t-s))!=mn.Word)&&(e(V2(i,r-s))!=mn.Word||e(H2(i,r-s))!=mn.Word))}class Fye extends GP{constructor(e){super(e)}nextMatch(e,t,r){let i=Hc(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);i=Hc(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==r?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let s=Math.max(t,i-1e4-this.spec.unquoted.length),o=Hc(this.spec,e,s,i),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==t)return null;i-=1e4}}prevMatch(e,t,r){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=t||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=Hc(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=Hc(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function Vc(n,e,t,r){return new WP(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?zye(e.charCategorizer(e.selection.main.head)):void 0},t,r)}function H2(n,e){return n.slice(gr(n,e,!1),e)}function V2(n,e){return n.slice(e,gr(n,e))}function zye(n){return(e,t,r)=>!r[0].length||(n(H2(r.input,r.index))!=mn.Word||n(V2(r.input,r.index))!=mn.Word)&&(n(V2(r.input,r.index+r[0].length))!=mn.Word||n(H2(r.input,r.index+r[0].length))!=mn.Word)}class Hye extends GP{nextMatch(e,t,r){let i=Vc(this.spec,e,r,e.doc.length).next();return i.done&&(i=Vc(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let s=Math.max(t,r-i*1e4),o=Vc(this.spec,e,s,r),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==t||a.from>s+10))return a;if(s==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let s=+r.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+r.slice(i)}return t})}matchAll(e,t){let r=Vc(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=Vc(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const m1=ht.define(),gb=ht.define(),wl=ar.define({create(n){return new d6(H3(n).create(),null)},update(n,e){for(let t of e.effects)t.is(m1)?n=new d6(t.value.create(),n.panel):t.is(gb)&&(n=new d6(n.query,t.value?yb:null));return n},provide:n=>Jf.from(n,e=>e.panel)});class d6{constructor(e,t){this.query=e,this.panel=t}}const Vye=Qe.mark({class:"cm-searchMatch"}),qye=Qe.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Wye=qn.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(wl))}update(n){let e=n.state.field(wl);(e!=n.startState.field(wl)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return Qe.none;let{view:t}=this,r=new ba;for(let i=0,s=t.visibleRanges,o=s.length;i<o;i++){let{from:a,to:l}=s[i];for(;i<o-1&&l>s[i+1].from-2*250;)l=s[++i].to;n.highlight(t.state,a,l,(u,c)=>{let h=t.state.selection.ranges.some(d=>d.from==u&&d.to==c);r.add(u,c,h?qye:Vye)})}return r.finish()}},{decorations:n=>n.decorations});function _p(n){return e=>{let t=e.state.field(wl,!1);return t&&t.query.spec.valid?n(e,t):JP(e)}}const q2=_p((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=ye.single(r.from,r.to),s=n.state.facet($0);return n.dispatch({selection:i,effects:[vb(n,r),s.scrollToMatch(i.main,n)],userEvent:"select.search"}),YP(n),!0}),W2=_p((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let s=ye.single(i.from,i.to),o=n.state.facet($0);return n.dispatch({selection:s,effects:[vb(n,i),o.scrollToMatch(s.main,n)],userEvent:"select.search"}),YP(n),!0}),jye=_p((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:ye.create(t.map(r=>ye.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),Zye=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,s=[],o=0;for(let a=new d0(n.doc,n.sliceDoc(r,i));!a.next().done;){if(s.length>1e3)return!1;a.value.from==r&&(o=s.length),s.push(ye.range(a.value.from,a.value.to))}return e(n.update({selection:ye.create(s,o),userEvent:"select.search.matches"})),!0},qM=_p((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,r,r);if(!s)return!1;let o=s,a=[],l,u,c=[];o.from==r&&o.to==i&&(u=t.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:u}),o=e.nextMatch(t,o.from,o.to),c.push(ze.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(r).number)+".")));let h=n.state.changes(a);return o&&(l=ye.single(o.from,o.to).map(h),c.push(vb(n,o)),c.push(t.facet($0).scrollToMatch(l.main,n))),n.dispatch({changes:h,selection:l,effects:c,userEvent:"input.replace"}),!0}),Uye=_p((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:ze.announce.of(r),userEvent:"input.replace.all"}),!0});function yb(n){return n.state.facet($0).createPanel(n)}function H3(n,e){var t,r,i,s,o;let a=n.selection.main,l=a.empty||a.to>a.from+100?"":n.sliceDoc(a.from,a.to);if(e&&!l)return e;let u=n.facet($0);return new UP({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:u.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:u.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:u.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:u.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:u.wholeWord})}function KP(n){let e=Yf(n,yb);return e&&e.dom.querySelector("[main-field]")}function YP(n){let e=KP(n);e&&e==n.root.activeElement&&e.select()}const JP=n=>{let e=n.state.field(wl,!1);if(e&&e.panel){let t=KP(n);if(t&&t!=n.root.activeElement){let r=H3(n.state,e.query.spec);r.valid&&n.dispatch({effects:m1.of(r)}),t.focus(),t.select()}}else n.dispatch({effects:[gb.of(!0),e?m1.of(H3(n.state,e.query.spec)):ht.appendConfig.of(Jye)]});return!0},XP=n=>{let e=n.state.field(wl,!1);if(!e||!e.panel)return!1;let t=Yf(n,yb);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:gb.of(!1)}),!0},Gye=[{key:"Mod-f",run:JP,scope:"editor search-panel"},{key:"F3",run:q2,shift:W2,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:q2,shift:W2,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:XP,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Zye},{key:"Mod-Alt-g",run:Aye},{key:"Mod-d",run:$ye,preventDefault:!0}];class Kye{constructor(e){this.view=e;let t=this.query=e.state.field(wl).query.spec;this.commit=this.commit.bind(this),this.searchField=en("input",{value:t.search,placeholder:vi(e,"Find"),"aria-label":vi(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=en("input",{value:t.replace,placeholder:vi(e,"Replace"),"aria-label":vi(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=en("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=en("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=en("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function r(i,s,o){return en("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=en("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>q2(e),[vi(e,"next")]),r("prev",()=>W2(e),[vi(e,"previous")]),r("select",()=>jye(e),[vi(e,"all")]),en("label",null,[this.caseField,vi(e,"match case")]),en("label",null,[this.reField,vi(e,"regexp")]),en("label",null,[this.wordField,vi(e,"by word")]),...e.state.readOnly?[]:[en("br"),this.replaceField,r("replace",()=>qM(e),[vi(e,"replace")]),r("replaceAll",()=>Uye(e),[vi(e,"replace all")])],en("button",{name:"close",onclick:()=>XP(e),"aria-label":vi(e,"close"),type:"button"},["\xD7"])])}commit(){let e=new UP({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:m1.of(e)}))}keydown(e){Uie(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?W2:q2)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),qM(this.view))}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(m1)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet($0).top}}function vi(n,e){return n.state.phrase(e)}const Am=30,_m=/[\s\.,:;?!]/;function vb(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,s=Math.max(r.from,e-Am),o=Math.min(i,t+Am),a=n.state.sliceDoc(s,o);if(s!=r.from){for(let l=0;l<Am;l++)if(!_m.test(a[l+1])&&_m.test(a[l])){a=a.slice(l);break}}if(o!=i){for(let l=a.length-1;l>a.length-Am;l--)if(!_m.test(a[l-1])&&_m.test(a[l])){a=a.slice(0,l);break}}return ze.announce.of(`${n.state.phrase("current match")}. ${a} ${n.state.phrase("on line")} ${r.number}.`)}const Yye=ze.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Jye=[wl,Nl.low(Wye),Yye];class QP{constructor(e,t,r,i){this.state=e,this.pos=t,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=yr(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),s=i.search(eR(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function WM(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Xye(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=WM(e)+WM(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function Qye(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Xye(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function Hxe(n,e){return t=>{for(let r=yr(t.state).resolveInner(t.pos,-1);r;r=r.parent){if(n.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(t)}}class jM{constructor(e,t,r,i){this.completion=e,this.source=t,this.match=r,this.score=i}}function Ju(n){return n.selection.main.from}function eR(n,e){var t;let{source:r}=n,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?n:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const wb=Ta.define();function e8e(n,e,t,r){let{main:i}=n.selection,s=t-i.from,o=r-i.from;return{...n.changeByRange(a=>{if(a!=i&&t!=r&&n.sliceDoc(a.from+s,a.from+o)!=n.sliceDoc(t,r))return{range:a};let l=n.toText(e);return{changes:{from:a.from+s,to:r==i.from?a.to:a.from+o,insert:l},range:ye.cursor(a.from+s+l.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const ZM=new WeakMap;function t8e(n){if(!Array.isArray(n))return n;let e=ZM.get(n);return e||ZM.set(n,e=Qye(n)),e}const j2=ht.define(),g1=ht.define();class n8e{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=ei(e,t),i=ho(r);this.chars.push(r);let s=e.slice(t,t+i),o=s.toUpperCase();this.folded.push(ei(o==s?s.toLowerCase():o,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:s,byWord:o}=this;if(t.length==1){let b=ei(e,0),k=ho(b),_=k==e.length?0:-100;if(b!=t[0])if(b==r[0])_+=-200;else return null;return this.ret(_,[0,k])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,u=0;if(a<0){for(let b=0,k=Math.min(e.length,200);b<k&&u<l;){let _=ei(e,b);(_==t[u]||_==r[u])&&(i[u++]=b),b+=ho(_)}if(u<l)return null}let c=0,h=0,d=!1,f=0,p=-1,m=-1,y=/[a-z]/.test(e),v=!0;for(let b=0,k=Math.min(e.length,200),_=0;b<k&&h<l;){let C=ei(e,b);a<0&&(c<l&&C==t[c]&&(s[c++]=b),f<l&&(C==t[f]||C==r[f]?(f==0&&(p=b),m=b+1,f++):f=0));let M,O=C<255?C>=48&&C<=57||C>=97&&C<=122?2:C>=65&&C<=90?1:0:(M=J5(C))!=M.toLowerCase()?1:M!=M.toUpperCase()?2:0;(!b||O==1&&y||_==0&&O!=0)&&(t[h]==C||r[h]==C&&(d=!0)?o[h++]=b:o.length&&(v=!1)),_=O,b+=ho(C)}return h==l&&o[0]==0&&v?this.result(-100+(d?-200:0),o,e):f==l&&p==0?this.ret(-200-e.length+(m==e.length?0:-100),[0,m]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):f==l?this.ret(-200+-700-e.length,[p,m]):h==l?this.result(-100+(d?-200:0)+-700+(v?0:-1100),o,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,r){let i=[],s=0;for(let o of t){let a=o+(this.astral?ho(ei(r,o)):1);s&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return this.ret(e-r.length,i)}}class r8e{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const ir=He.define({combine(n){return Lo(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:i8e,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>UM(e(r),t(r)),optionClass:(e,t)=>r=>UM(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function UM(n,e){return n?e?n+" "+e:n:e}function i8e(n,e,t,r,i,s){let o=n.textDirection==dn.RTL,a=o,l=!1,u="top",c,h,d=e.left-i.left,f=i.right-e.right,p=r.right-r.left,m=r.bottom-r.top;if(a&&d<Math.min(p,f)?a=!1:!a&&f<Math.min(p,d)&&(a=!0),p<=(a?d:f))c=Math.max(i.top,Math.min(t.top,i.bottom-m))-e.top,h=Math.min(400,a?d:f);else{l=!0,h=Math.min(400,(o?e.right:i.right-e.left)-30);let b=i.bottom-e.bottom;b>=m||b>e.top?c=t.bottom-e.top:(u="bottom",c=e.bottom-t.top)}let y=(e.bottom-e.top)/s.offsetHeight,v=(e.right-e.left)/s.offsetWidth;return{style:`${u}: ${c/y}px; max-width: ${h/v}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function s8e(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),t.type&&r.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(t,r,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=t.displayLabel||t.label,l=0;for(let u=0;u<s.length;){let c=s[u++],h=s[u++];c>l&&o.appendChild(document.createTextNode(a.slice(l,c)));let d=o.appendChild(document.createElement("span"));d.appendChild(document.createTextNode(a.slice(c,h))),d.className="cm-completionMatchedText",l=h}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(t){if(!t.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}function f6(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class o8e{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:s,selected:o}=i.open,a=e.state.facet(ir);this.optionContent=s8e(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=f6(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:u}=e.state.field(t).open;for(let c=l.target,h;c&&c!=this.dom;c=c.parentNode)if(c.nodeName=="LI"&&(h=/-(\d+)$/.exec(c.id))&&+h[1]<u.length){this.applyCompletion(e,u[+h[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(ir).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:g1.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:o,disabled:a}=r.open;(!i.open||i.open.options!=s)&&(this.range=f6(s.length,o,e.state.facet(ir).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),a!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;(t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=f6(t.options.length,t.selected,this.view.state.facet(ir).maxRenderedOptions),this.showOptions(t.options,e.id));let r=this.updateSelectedOption(t.selected);if(r){this.destroyInfo();let{completion:i}=t.options[t.selected],{info:s}=i;if(!s)return;let o=typeof s=="string"?document.createTextNode(s):s(i);if(!o)return;"then"in o?o.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a,i)}).catch(a=>ni(this.view.state,a,"completion info")):(this.addInfoPane(o,i),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return t&&l8e(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return i.top>Math.min(s.bottom,t.bottom)-10||i.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(ir).positionInfo(this.view,t,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",o=>{o.target==i&&o.preventDefault()});let s=null;for(let o=r.from;o<r.to;o++){let{completion:a,match:l}=e[o],{section:u}=a;if(u){let d=typeof u=="string"?u:u.name;if(d!=s&&(o>r.from||r.from==0))if(s=d,typeof u!="string"&&u.header)i.appendChild(u.header(u));else{let f=i.appendChild(document.createElement("completion-section"));f.textContent=d}}const c=i.appendChild(document.createElement("li"));c.id=t+"-"+o,c.setAttribute("role","option");let h=this.optionClass(a);h&&(c.className=h);for(let d of this.optionContent){let f=d(a,this.view.state,this.view,l);f&&c.appendChild(f)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function a8e(n,e){return t=>new o8e(t,n,e)}function l8e(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=t.height/n.offsetHeight;r.top<t.top?n.scrollTop-=(t.top-r.top)/i:r.bottom>t.bottom&&(n.scrollTop+=(r.bottom-t.bottom)/i)}function GM(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function u8e(n,e){let t=[],r=null,i=null,s=c=>{t.push(c);let{section:h}=c.completion;if(h){r||(r=[]);let d=typeof h=="string"?h:h.name;r.some(f=>f.name==d)||r.push(typeof h=="string"?{name:d}:h)}},o=e.facet(ir);for(let c of n)if(c.hasResult()){let h=c.result.getMatch;if(c.result.filter===!1)for(let d of c.result.options)s(new jM(d,c.source,h?h(d):[],1e9-t.length));else{let d=e.sliceDoc(c.from,c.to),f,p=o.filterStrict?new r8e(d):new n8e(d);for(let m of c.result.options)if(f=p.match(m.label)){let y=m.displayLabel?h?h(m,f.matched):[]:f.matched,v=f.score+(m.boost||0);if(s(new jM(m,c.source,y,v)),typeof m.section=="object"&&m.section.rank==="dynamic"){let{name:b}=m.section;i||(i=Object.create(null)),i[b]=Math.max(v,i[b]||-1e9)}}}}if(r){let c=Object.create(null),h=0,d=(f,p)=>(f.rank==="dynamic"&&p.rank==="dynamic"?i[p.name]-i[f.name]:0)||(typeof f.rank=="number"?f.rank:1e9)-(typeof p.rank=="number"?p.rank:1e9)||(f.name<p.name?-1:1);for(let f of r.sort(d))h-=1e5,c[f.name]=h;for(let f of t){let{section:p}=f.completion;p&&(f.score+=c[typeof p=="string"?p:p.name])}}let a=[],l=null,u=o.compareCompletions;for(let c of t.sort((h,d)=>d.score-h.score||u(h.completion,d.completion))){let h=c.completion;!l||l.label!=h.label||l.detail!=h.detail||l.type!=null&&h.type!=null&&l.type!=h.type||l.apply!=h.apply||l.boost!=h.boost?a.push(c):GM(c.completion)>GM(l)&&(a[a.length-1]=c),l=c.completion}return a}class Kc{constructor(e,t,r,i,s,o){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Kc(this.options,KM(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,s,o){if(i&&!o&&e.some(u=>u.isPending))return i.setDisabled();let a=u8e(e,t);if(!a.length)return i&&e.some(u=>u.isPending)?i.setDisabled():null;let l=t.facet(ir).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let u=i.options[i.selected].completion;for(let c=0;c<a.length;c++)if(a[c].completion==u){l=c;break}}return new Kc(a,KM(r,l),{pos:e.reduce((u,c)=>c.hasResult()?Math.min(u,c.from):u,1e8),create:m8e,above:s.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new Kc(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Kc(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Z2{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new Z2(f8e,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,r=t.facet(ir),s=(r.override||t.languageDataAt("autocomplete",Ju(t)).map(t8e)).map(l=>(this.active.find(c=>c.source==l)||new is(l,this.active.some(c=>c.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((l,u)=>l==this.active[u])&&(s=this.active);let o=this.open,a=e.effects.some(l=>l.is(bb));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!c8e(s,this.active)||a?o=Kc.build(s,t,this.id,o,r,a):o&&o.disabled&&!s.some(l=>l.isPending)&&(o=null),!o&&s.every(l=>!l.isPending)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new is(l.source,0):l));for(let l of e.effects)l.is(nR)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new Z2(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?h8e:d8e}}function c8e(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;r<e.length&&!e[r].hasResult();)r++;let i=t==n.length,s=r==e.length;if(i||s)return i==s;if(n[t++].result!=e[r++].result)return!1}}const h8e={"aria-autocomplete":"list"},d8e={};function KM(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const f8e=[];function tR(n,e){if(n.isUserEvent("input.complete")){let r=n.annotation(wb);if(r&&e.activateOnCompletion(r))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class is{constructor(e,t,r=!1){this.source=e,this.state=t,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let r=tR(e,t),i=this;(r&8||r&16&&this.touches(e))&&(i=new is(i.source,0)),r&4&&i.state==0&&(i=new is(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(j2))i=new is(i.source,1,s.value);else if(s.is(g1))i=new is(i.source,0);else if(s.is(bb))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Ju(e.state))}}class hh extends is{constructor(e,t,r,i,s,o){super(e,3,t),this.limit=r,this.result=i,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,t){var r;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=Ju(e.state);if(a>o||!i||t&2&&(Ju(e.startState)==this.from||a<this.limit))return new is(this.source,t&4?1:0);let l=e.changes.mapPos(this.limit);return p8e(i.validFor,e.state,s,o)?new hh(this.source,this.explicit,l,i,s,o):i.update&&(i=i.update(i,s,o,new QP(e.state,a,!1)))?new hh(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:Ju(e.state)):new is(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new hh(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new is(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function p8e(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return typeof n=="function"?n(i,t,r,e):eR(n,!0).test(i)}const bb=ht.define({map(n,e){return n.map(t=>t.map(e))}}),nR=ht.define(),ti=ar.define({create(){return Z2.start()},update(n,e){return n.update(e)},provide:n=>[hw.from(n,e=>e.tooltip),ze.contentAttributes.from(n,e=>e.attrs)]});function kb(n,e){const t=e.completion.apply||e.completion.label;let r=n.state.field(ti).active.find(i=>i.source==e.source);return r instanceof hh?(typeof t=="string"?n.dispatch({...e8e(n.state,t,r.from,r.to),annotations:wb.of(e.completion)}):t(n,e.completion,r.from,r.to),!0):!1}const m8e=a8e(ti,kb);function Tm(n,e="option"){return t=>{let r=t.state.field(ti,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(ir).interactionDelay)return!1;let i=1,s;e=="page"&&(s=LO(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),t.dispatch({effects:nR.of(a)}),!0}}const g8e=n=>{let e=n.state.field(ti,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(ir).interactionDelay?!1:kb(n,e.open.options[e.open.selected])},p6=n=>n.state.field(ti,!1)?(n.dispatch({effects:j2.of(!0)}),!0):!1,y8e=n=>{let e=n.state.field(ti,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:g1.of(null)}),!0)};class v8e{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const w8e=50,b8e=1e3,k8e=qn.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(ti).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(ti),t=n.state.facet(ir);if(!n.selectionSet&&!n.docChanged&&n.startState.field(ti)==e)return;let r=n.transactions.some(s=>{let o=tR(s,t);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(r||o.context.abortOnDocChange&&n.docChanged||o.updates.length+n.transactions.length>w8e&&Date.now()-o.time>b8e){for(let a of o.context.abortListeners)try{a()}catch(l){ni(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(s=>s.effects.some(o=>o.is(j2)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of n.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(ti);for(let t of e.active)t.isPending&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ir).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=Ju(e),r=new QP(e,t,n.explicit,this.view),i=new v8e(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:g1.of(null)}),ni(this.view.state,s)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ir).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(ir),r=this.view.state.field(ti);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let a=Ju(s.updates.length?s.updates[0].startState:this.view.state),l=Math.min(a,s.done.from+(s.active.explicit?0:1)),u=new hh(s.active.source,s.active.explicit,l,s.done,s.done.from,(n=s.done.to)!==null&&n!==void 0?n:a);for(let c of s.updates)u=u.update(c,t);if(u.hasResult()){e.push(u);continue}}let o=r.active.find(a=>a.source==s.active.source);if(o&&o.isPending)if(s.done==null){let a=new is(s.active.source,0);for(let l of s.updates)a=a.update(l,t);a.isPending||e.push(a)}else this.startQuery(o)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:bb.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(ti,!1);if(e&&e.tooltip&&this.view.state.facet(ir).closeOnBlur){let t=e.open&&LO(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:g1.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:j2.of(!1)}),20),this.composing=0}}}),x8e=typeof navigator=="object"&&/Win/.test(navigator.platform),S8e=Nl.highest(ze.domEventHandlers({keydown(n,e){let t=e.state.field(ti,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(x8e&&n.altKey)||n.metaKey)return!1;let r=t.open.options[t.open.selected],i=t.active.find(o=>o.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(n.key)>-1&&kb(e,r),!1}})),rR=ze.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:`${400}px`,boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:`${30}px`},".cm-completionInfo.cm-completionInfo-right-narrow":{left:`${30}px`},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class C8e{constructor(e,t,r,i){this.field=e,this.line=t,this.from=r,this.to=i}}class xb{constructor(e,t,r){this.field=e,this.from=t,this.to=r}map(e){let t=e.mapPos(this.from,-1,mr.TrackDel),r=e.mapPos(this.to,1,mr.TrackDel);return t==null||r==null?null:new xb(this.field,t,r)}}class Sb{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let r=[],i=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(r.length){let u=o,c=/^\t*/.exec(l)[0].length;for(let h=0;h<c;h++)u+=e.facet(b4);i.push(t+u.length-c),l=u+l.slice(c)}r.push(l),t+=l.length+1}let a=this.fieldPositions.map(l=>new xb(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(e){let t=[],r=[],i=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",u=-1,c=l.replace(/\\[{}]/g,h=>h[1]);for(let h=0;h<t.length;h++)(a!=null?t[h].seq==a:c?t[h].name==c:!1)&&(u=h);if(u<0){let h=0;for(;h<t.length&&(a==null||t[h].seq!=null&&t[h].seq<a);)h++;t.splice(h,0,{seq:a,name:c}),u=h;for(let d of i)d.field>=u&&d.field++}for(let h of i)if(h.line==r.length&&h.from>s.index){let d=s[2]?3+(s[1]||"").length:2;h.from-=d,h.to-=d}i.push(new C8e(u,r.length,s.index,s.index+c.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,u)=>{for(let c of i)c.line==r.length&&c.from>u&&(c.from--,c.to--);return l}),r.push(o)}return new Sb(r,i)}}let M8e=Qe.widget({widget:new class extends Ea{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),A8e=Qe.mark({class:"cm-snippetField"});class B0{constructor(e,t){this.ranges=e,this.active=t,this.deco=Qe.set(e.map(r=>(r.from==r.to?M8e:A8e).range(r.from,r.to)),!0)}map(e){let t=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;t.push(i)}return new B0(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(r=>r.field==this.active&&r.from<=t.from&&r.to>=t.to))}}const Tp=ht.define({map(n,e){return n&&n.map(e)}}),_8e=ht.define(),y1=ar.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(Tp))return t.value;if(t.is(_8e)&&n)return new B0(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>ze.decorations.from(n,e=>e?e.deco:Qe.none)});function Cb(n,e){return ye.create(n.filter(t=>t.field==e).map(t=>ye.range(t.from,t.to)))}function T8e(n){let e=Sb.parse(n);return(t,r,i,s)=>{let{text:o,ranges:a}=e.instantiate(t.state,i),{main:l}=t.state.selection,u={changes:{from:i,to:s==l.from?l.to:s,insert:Dt.of(o)},scrollIntoView:!0,annotations:r?[wb.of(r),zn.userEvent.of("input.complete")]:void 0};if(a.length&&(u.selection=Cb(a,0)),a.some(c=>c.field>0)){let c=new B0(a,0),h=u.effects=[Tp.of(c)];t.state.field(y1,!1)===void 0&&h.push(ht.appendConfig.of([y1,N8e,L8e,rR]))}t.dispatch(t.state.update(u))}}function iR(n){return({state:e,dispatch:t})=>{let r=e.field(y1,!1);if(!r||n<0&&r.active==0)return!1;let i=r.active+n,s=n>0&&!r.ranges.some(o=>o.field==i+n);return t(e.update({selection:Cb(r.ranges,i),effects:Tp.of(s?null:new B0(r.ranges,i)),scrollIntoView:!0})),!0}}const E8e=({state:n,dispatch:e})=>n.field(y1,!1)?(e(n.update({effects:Tp.of(null)})),!0):!1,O8e=iR(1),I8e=iR(-1),D8e=[{key:"Tab",run:O8e,shift:I8e},{key:"Escape",run:E8e}],YM=He.define({combine(n){return n.length?n[0]:D8e}}),N8e=Nl.highest(_0.compute([YM],n=>n.facet(YM)));function Vxe(n,e){return{...e,apply:T8e(n)}}const L8e=ze.domEventHandlers({mousedown(n,e){let t=e.state.field(y1,!1),r;if(!t||(r=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let i=t.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==t.active?!1:(e.dispatch({selection:Cb(t.ranges,i.field),effects:Tp.of(t.ranges.some(s=>s.field>i.field)?new B0(t.ranges,i.field):null),scrollIntoView:!0}),!0)}}),v1={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Cu=ht.define({map(n,e){let t=e.mapPos(n,-1,mr.TrackAfter);return t==null?void 0:t}}),Mb=new class extends tc{};Mb.startSide=1;Mb.endSide=-1;const sR=ar.define({create(){return Lt.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:r=>r>=t.from&&r<=t.to})}for(let t of e.effects)t.is(Cu)&&(n=n.update({add:[Mb.range(t.value,t.value+1)]}));return n}});function P8e(){return[$8e,sR]}const m6="()[]{}<>\xAB\xBB\xBB\xAB\uFF3B\uFF3D\uFF5B\uFF5D";function oR(n){for(let e=0;e<m6.length;e+=2)if(m6.charCodeAt(e)==n)return m6.charAt(e+1);return J5(n<128?n:n+1)}function aR(n,e){return n.languageDataAt("closeBrackets",e)[0]||v1}const R8e=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),$8e=ze.inputHandler.of((n,e,t,r)=>{if((R8e?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&ho(ei(r,0))==1||e!=i.from||t!=i.to)return!1;let s=z8e(n.state,r);return s?(n.dispatch(s),!0):!1}),B8e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=aR(n,n.selection.main.head).brackets||v1.brackets,i=null,s=n.changeByRange(o=>{if(o.empty){let a=H8e(n.doc,o.head);for(let l of r)if(l==a&&hy(n.doc,o.head)==oR(ei(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:ye.cursor(o.head-l.length)}}return{range:i=o}});return i||e(n.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},F8e=[{key:"Backspace",run:B8e}];function z8e(n,e){let t=aR(n,n.selection.main.head),r=t.brackets||v1.brackets;for(let i of r){let s=oR(ei(i,0));if(e==i)return s==i?W8e(n,i,r.indexOf(i+i+i)>-1,t):V8e(n,i,s,t.before||v1.before);if(e==s&&lR(n,n.selection.main.from))return q8e(n,i,s)}return null}function lR(n,e){let t=!1;return n.field(sR).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function hy(n,e){let t=n.sliceString(e,e+2);return t.slice(0,ho(ei(t,0)))}function H8e(n,e){let t=n.sliceString(e-2,e);return ho(ei(t,0))==t.length?t:t.slice(1)}function V8e(n,e,t,r){let i=null,s=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:Cu.of(o.to+e.length),range:ye.range(o.anchor+e.length,o.head+e.length)};let a=hy(n.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+t,from:o.head},effects:Cu.of(o.head+e.length),range:ye.cursor(o.head+e.length)}:{range:i=o}});return i?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function q8e(n,e,t){let r=null,i=n.changeByRange(s=>s.empty&&hy(n.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:ye.cursor(s.head+t.length)}:r={range:s});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function W8e(n,e,t,r){let i=r.stringPrefixes||v1.stringPrefixes,s=null,o=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Cu.of(a.to+e.length),range:ye.range(a.anchor+e.length,a.head+e.length)};let l=a.head,u=hy(n.doc,l),c;if(u==e){if(JM(n,l))return{changes:{insert:e+e,from:l},effects:Cu.of(l+e.length),range:ye.cursor(l+e.length)};if(lR(n,l)){let d=t&&n.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+d.length,insert:d},range:ye.cursor(l+d.length)}}}else{if(t&&n.sliceDoc(l-2*e.length,l)==e+e&&(c=XM(n,l-2*e.length,i))>-1&&JM(n,c))return{changes:{insert:e+e+e+e,from:l},effects:Cu.of(l+e.length),range:ye.cursor(l+e.length)};if(n.charCategorizer(l)(u)!=mn.Word&&XM(n,l,i)>-1&&!j8e(n,l,e,i))return{changes:{insert:e+e,from:l},effects:Cu.of(l+e.length),range:ye.cursor(l+e.length)}}return{range:s=a}});return s?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function JM(n,e){let t=yr(n).resolveInner(e+1);return t.parent&&t.from==e}function j8e(n,e,t,r){let i=yr(n).resolveInner(e,-1),s=r.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+s)),l=a.indexOf(t);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let c=i.firstChild;for(;c&&c.from==i.from&&c.to-c.from>t.length+l;){if(n.sliceDoc(c.to-t.length,c.to)==t)return!1;c=c.firstChild}return!0}let u=i.to==e&&i.parent;if(!u)break;i=u}return!1}function XM(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=mn.Word)return e;for(let i of t){let s=e-i.length;if(n.sliceDoc(s,e)==i&&r(n.sliceDoc(s-1,s))!=mn.Word)return s}return-1}function Z8e(n={}){return[S8e,ti,ir.of(n),k8e,U8e,rR]}const uR=[{key:"Ctrl-Space",run:p6},{mac:"Alt-`",run:p6},{mac:"Alt-i",run:p6},{key:"Escape",run:y8e},{key:"ArrowDown",run:Tm(!0)},{key:"ArrowUp",run:Tm(!1)},{key:"PageDown",run:Tm(!0,"page")},{key:"PageUp",run:Tm(!1,"page")},{key:"Enter",run:g8e}],U8e=Nl.highest(_0.computeN([ir],n=>n.facet(ir).defaultKeymap?[uR]:[]));class QM{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class pu{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=r.facet(w1).markerFilter;i&&(e=i(e,r));let s=e.slice().sort((d,f)=>d.from-f.from||d.to-f.to),o=new ba,a=[],l=0,u=r.doc.iter(),c=0;for(let d=0;;){let f=d==s.length?null:s[d];if(!f&&!a.length)break;let p,m;for(a.length?(p=l,m=a.reduce((b,k)=>Math.min(b,k.to),f&&f.from>p?f.from:1e8)):(p=f.from,m=f.to,a.push(f),d++);d<s.length;){let b=s[d];if(b.from==p&&(b.to>b.from||b.to==p))a.push(b),d++,m=Math.min(b.to,m);else{m=Math.min(b.from,m);break}}let y=!1;if(a.some(b=>b.from==p&&b.to==m)&&(y=p==m,!y&&m-p<10)){let b=p-(c+u.value.length);b>0&&(u.next(b),c=p);for(let k=p;;){if(k>=m){y=!0;break}if(!u.lineBreak&&c+u.value.length>k)break;k=c+u.value.length,c+=u.value.length,u.next()}}let v=o6e(a);if(y)o.add(p,p,Qe.widget({widget:new n6e(v),diagnostics:a.slice()}));else{let b=a.reduce((k,_)=>_.markClass?k+" "+_.markClass:k,"");o.add(p,m,Qe.mark({class:"cm-lintRange cm-lintRange-"+v+b,diagnostics:a.slice(),inclusiveEnd:a.some(k=>k.to>m)}))}l=m;for(let b=0;b<a.length;b++)a[b].to<=l&&a.splice(b--,1)}let h=o.finish();return new pu(h,t,f0(h))}}function f0(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!r)r=new QM(i,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new QM(r.from,s,r.diagnostic)}}),r}function G8e(n,e){let t=e.pos,r=e.end||t,i=n.state.facet(w1).hideOn(n,t,r);if(i!=null)return i;let s=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(o=>o.is(cR))||n.changes.touchesRange(s.from,Math.max(s.to,r)))}function K8e(n,e){return n.field(Ii,!1)?e:e.concat(ht.appendConfig.of(a6e))}const cR=ht.define(),Ab=ht.define(),hR=ht.define(),Ii=ar.define({create(){return new pu(Qe.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),r=null,i=n.panel;if(n.selected){let s=e.changes.mapPos(n.selected.from,1);r=f0(t,n.selected.diagnostic,s)||f0(t,null,s)}!t.size&&i&&e.state.facet(w1).autoPanel&&(i=null),n=new pu(t,i,r)}for(let t of e.effects)if(t.is(cR)){let r=e.state.facet(w1).autoPanel?t.value.length?b1.open:null:n.panel;n=pu.init(t.value,r,e.state)}else t.is(Ab)?n=new pu(n.diagnostics,t.value?b1.open:null,n.selected):t.is(hR)&&(n=new pu(n.diagnostics,n.panel,t.value));return n},provide:n=>[Jf.from(n,e=>e.panel),ze.decorations.from(n,e=>e.diagnostics)]}),Y8e=Qe.mark({class:"cm-lintRange cm-lintRange-active"});function J8e(n,e,t){let{diagnostics:r}=n.state.field(Ii),i,s=-1,o=-1;r.between(e-(t<0?1:0),e+(t>0?1:0),(l,u,{spec:c})=>{if(e>=l&&e<=u&&(l==u||(e>l||t>0)&&(e<u||t<0)))return i=c.diagnostics,s=l,o=u,!1});let a=n.state.facet(w1).tooltipFilter;return i&&a&&(i=a(i,n.state)),i?{pos:s,end:o,above:n.state.doc.lineAt(s).to<o,create(){return{dom:X8e(n,i)}}}:null}function X8e(n,e){return en("ul",{class:"cm-tooltip-lint"},e.map(t=>fR(n,t,!1)))}const Q8e=n=>{let e=n.state.field(Ii,!1);(!e||!e.panel)&&n.dispatch({effects:K8e(n.state,[Ab.of(!0)])});let t=Yf(n,b1.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},eA=n=>{let e=n.state.field(Ii,!1);return!e||!e.panel?!1:(n.dispatch({effects:Ab.of(!1)}),!0)},e6e=n=>{let e=n.state.field(Ii,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to)?!1:(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},t6e=[{key:"Mod-Shift-m",run:Q8e,preventDefault:!0},{key:"F8",run:e6e}],w1=He.define({combine(n){return{sources:n.map(e=>e.source).filter(e=>e!=null),...Lo(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:tA,tooltipFilter:tA,needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t,hideOn:(e,t)=>e?t?(r,i,s)=>e(r,i,s)||t(r,i,s):e:t,autoPanel:(e,t)=>e||t})}}});function tA(n,e){return n?e?(t,r)=>e(n(t,r),r):n:e}function dR(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function fR(n,e,t){var r;let i=t?dR(e.actions):[];return en("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},en("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let a=!1,l=f=>{if(f.preventDefault(),a)return;a=!0;let p=f0(n.state.field(Ii).diagnostics,e);p&&s.apply(n,p.from,p.to)},{name:u}=s,c=i[o]?u.indexOf(i[o]):-1,h=c<0?u:[u.slice(0,c),en("u",u.slice(c,c+1)),u.slice(c+1)],d=s.markClass?" "+s.markClass:"";return en("button",{type:"button",class:"cm-diagnosticAction"+d,onclick:l,onmousedown:l,"aria-label":` Action: ${u}${c<0?"":` (access key "${i[o]})"`}.`},h)}),e.source&&en("div",{class:"cm-diagnosticSource"},e.source))}class n6e extends Ea{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return en("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class nA{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=fR(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class b1{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)eA(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=dR(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=f0(this.view.state.field(Ii).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=en("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:r}),this.dom=en("div",{class:"cm-panel-lint"},this.list,en("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>eA(this.view)},"\xD7")),this.update()}get selectedIndex(){let e=this.view.state.field(Ii).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Ii),r=0,i=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:u})=>{for(let c of u.diagnostics){if(o.has(c))continue;o.add(c);let h=-1,d;for(let f=r;f<this.items.length;f++)if(this.items[f].diagnostic==c){h=f;break}h<0?(d=new nA(this.view,c),this.items.splice(r,0,d),i=!0):(d=this.items[h],h>r&&(this.items.splice(r,h-r),i=!0)),t&&d.diagnostic==t.diagnostic?d.dom.hasAttribute("aria-selected")||(d.dom.setAttribute("aria-selected","true"),s=d):d.dom.hasAttribute("aria-selected")&&d.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new nA(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let u=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/u:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/u)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Ii),r=f0(t.diagnostics,this.items[e].diagnostic);!r||this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:hR.of(r)})}static open(e){return new b1(e)}}function r6e(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function Em(n){return r6e(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const i6e=ze.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Em("#d11")},".cm-lintRange-warning":{backgroundImage:Em("orange")},".cm-lintRange-info":{backgroundImage:Em("#999")},".cm-lintRange-hint":{backgroundImage:Em("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function s6e(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function o6e(n){let e="hint",t=1;for(let r of n){let i=s6e(r.severity);i>t&&(t=i,e=r.severity)}return e}const a6e=[Ii,ze.decorations.compute([Ii],n=>{let{selected:e,panel:t}=n.field(Ii);return!e||!t||e.from==e.to?Qe.none:Qe.set([Y8e.range(e.from,e.to)])}),Dse(J8e,{hideOn:G8e}),i6e],l6e=(()=>[qse(),Zse(),use(),X2e(),Toe(),OO(),rse(),Tt.allowMultipleSelections.of(!0),poe(),XO(Doe,{fallback:!0}),Foe(),P8e(),Z8e(),kse(),Cse(),mse(),Eye(),_0.of([...F8e,...BP,...Gye,...a4e,...Coe,...uR,...t6e])])();function u6e(n){return n.nodeType===1}function c6e(n){return u6e(n)&&n.namespaceURI==="http://www.w3.org/1999/xhtml"}function h6e(n){let e=[[-1,n.state.doc]],t=[];for(;e.length>0;){const[r,i]=e.pop();if(r>=0){let s=n.nodeDOM(r);if(s&&c6e(s)){let{top:o,bottom:a,left:l,right:u}=s.getBoundingClientRect();t.push([r,[l,o,u,o]],[r+i.nodeSize,[l,a,u,a]])}}if(i.isBlock&&!i.isTextblock){let s=r+1;for(let o of i.children)e.push([s,o]),s+=o.nodeSize}}return t}function d6e(n,e){let t=[],r,i;const s=()=>{const c=n.dom.getBoundingClientRect(),h=n.state.doc;return t&&r&&i&&c.width===i.width&&c.height===i.height&&c.x===i.x&&c.y===i.y&&r.eq(h)||(i=c,r=h,t=h6e(n)),t},o=(c,h)=>{if(!n.editable||n.isDestroyed)return;const d=(m,y)=>{const[v,b]=m,[k,_]=y,C=iA(c,b),M=iA(c,_);return C-M||v-k};let f=s();f.sort(d),f=f.slice(0,8);const p=f.find(m=>(e==null?void 0:e({view:n,pos:m[0],event:h}))!==!1);if(!(p&&p6e(n,p[0])))return p};let a,l;return(c,h)=>(a&&f6e(a,c)||(a=c,l=o(c,h)),l)}function f6e(n,e){return n[0]===e[0]&&n[1]===e[1]}function rA(n,e){return Math.abs(n[0]-e[0])+Math.abs(n[1]-e[1])}function iA(n,e){return Math.min(rA(n,[e[0],e[1]]),rA(n,[e[2],e[3]]))}function p6e(n,e){const t=n.dragging;if(!t)return;const{move:r}=t;if(!r)return;const i=n.state.selection;if(!(i instanceof Je))return;const{from:s,to:o}=i;return s<=e&&e<=o}function m6e(n){let e;return new fn({key:new pn("prosekit-drop-indicator"),view:t=>(e=d6e(t,n.onDrag),y6e(t,e,n)),props:{handleDrop(t,r,i,s){if(!e)return!1;const o=e([r.clientX,r.clientY],r);if(!o)return!1;r.preventDefault();let a=o[0],l=t.state.tr;if(s){let{node:f}=t.dragging||{};f?f.replace(l):l.deleteSelection()}let u=l.mapping.map(a),c=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,h=l.doc;if(c?l.replaceRangeWith(u,u,i.content.firstChild):l.replaceRange(u,u,i),l.doc.eq(h))return!0;let d=l.doc.resolve(u);if(c&&Je.isSelectable(i.content.firstChild)&&d.nodeAfter&&d.nodeAfter.sameMarkup(i.content.firstChild))l.setSelection(new Je(d));else{let f=l.mapping.map(a);l.mapping.maps[l.mapping.maps.length-1].forEach((p,m,y,v)=>f=v),l.setSelection(g6e(t,d,l.doc.resolve(f)))}return t.focus(),t.dispatch(l.setMeta("uiEvent","drop")),!0}}})}function g6e(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||Ue.between(e,t,r)}function y6e(n,e,t){let r=n.dom,i,s,o,a=!1;const l=()=>{i&&clearTimeout(i),a=!1,i=setTimeout(()=>{var h;a||(h=t.onHide)==null||h.call(t)},30)},u=h=>{var m;a=!0;const{clientX:d,clientY:f}=h;if(s===d&&o===f)return;s=d,o=f;let p=e([d,f],h);if(p){const[y,[v,b,k,_]]=p,C={p1:{x:v,y:b},p2:{x:k,y:_}};(m=t.onShow)==null||m.call(t,{view:n,pos:y,line:C})}else{l();return}};return r.addEventListener("dragover",u),r.addEventListener("dragend",l),r.addEventListener("drop",l),r.addEventListener("dragleave",l),{destroy:()=>{r.removeEventListener("dragover",u),r.removeEventListener("dragend",l),r.removeEventListener("drop",l),r.removeEventListener("dragleave",l)}}}class En extends lt{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return En.valid(r)?new En(r):lt.near(r)}content(){return Le.empty}eq(e){return e instanceof En&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new En(e.resolve(t.pos))}getBookmark(){return new _b(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!v6e(e)||!w6e(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&En.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(t>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(t>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=t;let l=e.doc.resolve(i);if(En.valid(l))return l}for(;;){let o=t>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!Je.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*t),r=!1;continue e}break}s=o,i+=t;let a=e.doc.resolve(i);if(En.valid(a))return a}return null}}}En.prototype.visible=!1;En.findFrom=En.findGapCursorFrom;lt.jsonID("gapcursor",En);class _b{constructor(e){this.pos=e}map(e){return new _b(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return En.valid(t)?new En(t):lt.near(t)}}function pR(n){return n.isAtom||n.spec.isolating||n.spec.createGapCursor}function v6e(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||pR(i.type))return!0;if(i.inlineContent)return!1}}return!0}function w6e(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||pR(i.type))return!0;if(i.inlineContent)return!1}}return!0}function b6e(){return new fn({props:{decorations:C6e,createSelectionBetween(n,e,t){return e.pos==t.pos&&En.valid(t)?new En(t):null},handleClick:x6e,handleKeyDown:k6e,handleDOMEvents:{beforeinput:S6e}}})}const k6e=$w({ArrowLeft:Om("horiz",-1),ArrowRight:Om("horiz",1),ArrowUp:Om("vert",-1),ArrowDown:Om("vert",1)});function Om(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof Ue){if(!s.endOfTextblock(t)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let u=En.findGapCursorFrom(a,e,l);return u?(i&&i(r.tr.setSelection(new En(u))),!0):!1}}function x6e(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!En.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&Je.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new En(r))),!0)}function S6e(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof En))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=be.empty;for(let o=r.length-1;o>=0;o--)i=be.from(r[o].createAndFill(null,i));let s=n.state.tr.replace(t.pos,t.pos,new Le(i,0,0));return s.setSelection(Ue.near(s.doc.resolve(t.pos+1))),n.dispatch(s),!1}function C6e(n){if(!(n.selection instanceof En))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",nn.create(n.doc,[Vn.widget(n.selection.head,e,{key:"gapcursor"})])}function Ep(n,e){return Object.assign(n,{meta:{package:"@milkdown/plugin-cursor",...e}}),n}const k1=Ut(null,"dropIndicatorState");Ep(k1,{displayName:"Ctx<dropIndicatorState>"});const dy=Ut({width:2,color:!1,class:"milkdown-drop-indicator"},"dropIndicatorConfig");Ep(dy,{displayName:"Ctx<dropIndicatorConfig>"});const M6e=new pn("MILKDOWN_DROP_INDICATOR_DOM"),mR=Wn(n=>new fn({key:M6e,view:e=>{var o;const t=n.get(dy.key),r=document.createElement("div");Object.assign(r.style,{position:"fixed",pointerEvents:"none",display:"none",backgroundColor:t.color,top:"0",left:"0"}),r.classList.add(t.class),r.classList.add("milkdown-drop-indicator"),(o=e.dom.parentNode)==null||o.appendChild(r);const i=n.use(k1.key),s=a=>{A6e(r,a,t)};return i.on(s),{destroy:()=>{i.off(s),r.remove()}}}}));Ep(mR,{displayName:"Prose<dropIndicatorDOM>"});function A6e(n,e,t){if(!e){Object.assign(n.style,{display:"none"});return}const{line:r}=e,{width:i}=t,{p1:{x:s,y:o},p2:{x:a,y:l}}=r,u=o===l;let c,h,d=o,f=s;u?(c=a-s,h=i,d-=i/2):(c=i,h=l-o,f-=i/2),d=Math.round(d),f=Math.round(f),Object.assign(n.style,{display:"block",width:`${c}px`,height:`${h}px`,transform:`translate(${f}px, ${d}px)`})}const gR=Wn(n=>m6e({onShow:i=>{n.set(k1.key,i)},onHide:()=>{n.set(k1.key,null)},onDrag:()=>!0}));Ep(gR,{displayName:"Prose<dropIndicator>"});const yR=Wn(()=>b6e());Ep(yR,{displayName:"Prose<gapCursor>"});const _6e=[yR,dy,k1,mR,gR].flat();function T6e(n){var e;const t=(e=n==null?void 0:n.skipWarning)!=null?e:!1;let r=typeof document>"u"?null:document.createElement("div");return new fn({key:E6e,view:i=>{t!==!0&&N6e(i.state.schema,t||[]);const s=i.dom.ownerDocument;r=r||document.createElement("div");const o=r,a=()=>{I6e(i,o)};let l;return window.ResizeObserver&&(l=new window.ResizeObserver(()=>a()),l.observe(i.dom)),s.addEventListener("selectionchange",a),{update:()=>{a()},destroy:()=>{s.removeEventListener("selectionchange",a),l&&l.unobserve(i.dom)}}},props:{handleKeyDown:(i,s)=>{var o;const{selection:a}=i.state;if(s.altKey||s.ctrlKey||s.metaKey||s.shiftKey||s.isComposing||!["ArrowLeft","ArrowRight"].includes(s.key)||!V3(a)||!a.empty)return!1;const l=a.$head,[u,c]=vR(l),h=i.state.storedMarks||l.marks();if(u&&c&&!vt.sameSet(u,c)){if(s.key==="ArrowLeft"&&!vt.sameSet(u,h))return i.dispatch(i.state.tr.setStoredMarks(u)),!0;if(s.key==="ArrowRight"&&!vt.sameSet(c,h))return i.dispatch(i.state.tr.setStoredMarks(c)),!0}return s.key==="ArrowLeft"&&l.textOffset===1?(i.dispatch(i.state.tr.setSelection(Ue.create(i.state.doc,l.pos-1)).setStoredMarks(l.marks())),!0):s.key==="ArrowRight"&&l.textOffset+1===((o=l.parent.maybeChild(l.index()))==null?void 0:o.nodeSize)?(i.dispatch(i.state.tr.setSelection(Ue.create(i.state.doc,l.pos+1)).setStoredMarks(l.marks())),!0):!1},decorations:i=>{if(!(!r||!V3(i.selection)||!i.selection.empty))return nn.create(i.doc,[Vn.widget(0,r,{key:"prosemirror-virtual-cursor"})])},attributes:{class:"virtual-cursor-enabled"}}})}var E6e=new pn("prosemirror-virtual-cursor");function O6e(n,e){var t;const r=window.getSelection();if(!r||!r.rangeCount)return null;const i=(t=r==null?void 0:r.getRangeAt(0))==null?void 0:t.cloneRange();if(!i)return null;i.collapse(e);const s=i.getClientRects(),o=s!=null&&s.length?s[s.length-1]:null;return o!=null&&o.height?o:n.coordsAtPos(n.state.selection.head)}function vR(n){const e=n.index(),t=n.parent.maybeChild(e);let r=n.textOffset?t:null;return!r&&e>0&&(r=n.parent.maybeChild(e-1)),[r==null?void 0:r.marks,t==null?void 0:t.marks]}function V3(n){return n&&typeof n=="object"&&"$cursor"in n}function I6e(n,e){if(!n||!n.dom||n.isDestroyed||!e)return;const{state:t,dom:r}=n,{selection:i}=t;if(!V3(i))return;const s=O6e(n,i.$head===i.$from);if(!s)return e;const o=r.getBoundingClientRect();let a="prosemirror-virtual-cursor";const l=t.selection.$head,[u,c]=vR(l),h=t.storedMarks||l.marks();i.$cursor&&u&&c&&h&&!vt.sameSet(u,c)&&(vt.sameSet(u,h)?a+=" prosemirror-virtual-cursor-left":vt.sameSet(c,h)&&(a+=" prosemirror-virtual-cursor-right")),e.className=a,D6e(e,"prosemirror-virtual-cursor-animation"),e.style.height=`${s.bottom-s.top}px`,e.style.left=`${s.left-o.left}px`,e.style.top=`${s.top-o.top}px`}function D6e(n,e){n.classList.remove(e),n.offsetWidth,n.classList.add(e)}function N6e(n,e){for(const[t,r]of Object.entries(n.marks))r.spec.inclusive===!1&&!e.includes(t)&&console.warn(`[prosemirror-virtual-cursor] Virtual cursor does not work well with marks that have inclusive set to false. Please consider removing the inclusive option from the "${t}" mark or adding it to the "skipWarning" option.`)}var L6e=Object.defineProperty,sA=Object.getOwnPropertySymbols,P6e=Object.prototype.hasOwnProperty,R6e=Object.prototype.propertyIsEnumerable,oA=(n,e,t)=>e in n?L6e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$6e=(n,e)=>{for(var t in e||(e={}))P6e.call(e,t)&&oA(n,t,e[t]);if(sA)for(var t of sA(e))R6e.call(e,t)&&oA(n,t,e[t]);return n};function wR(n,e){return Object.assign(n,{meta:$6e({package:"@milkdown/components"},e)}),n}const B6e={imageIcon:"\u{1F30C}",uploadButton:"Upload",confirmButton:"\u23CE",uploadPlaceholderText:"/Paste",onUpload:n=>Promise.resolve(URL.createObjectURL(n))},fy=Ut(B6e,"inlineImageConfigCtx");wR(fy,{displayName:"Config<image-inline>",group:"ImageInline"});function Ig({icon:n,class:e,onClick:t}){return oe("span",{class:vr("milkdown-icon",e),onPointerdown:t,ref:r=>{r&&n&&(r.innerHTML=ws.sanitize(n.trim()))}})}Ig.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};const F6e=SL("abcdefg",8),z6e=he({props:{src:{type:Object,required:!0},selected:{type:Object,required:!0},readonly:{type:Object,required:!0},setLink:{type:Function,required:!0},imageIcon:{type:String,required:!1},uploadButton:{type:String,required:!1},confirmButton:{type:String,required:!1},uploadPlaceholderText:{type:String,required:!1},onUpload:{type:Function,required:!0}},setup({readonly:n,src:e,setLink:t,onUpload:r,imageIcon:i,uploadButton:s,confirmButton:o,uploadPlaceholderText:a,className:l}){var u,c;const h=V(!1),d=V(),f=V((u=e.value)!=null?u:""),p=V(F6e()),m=V(((c=e.value)==null?void 0:c.length)!==0),y=_=>{const M=_.target.value;m.value=M.length!==0,f.value=M},v=_=>{var C,M;_.key==="Enter"&&t((M=(C=d.value)==null?void 0:C.value)!=null?M:"")},b=()=>{var _,C;t((C=(_=d.value)==null?void 0:_.value)!=null?C:"")},k=_=>{var C;const M=(C=_.target.files)==null?void 0:C[0];!M||r(M).then(O=>{!O||(t(O),m.value=!0)}).catch(O=>{console.error("An error occurred while uploading image"),console.error(O)})};return()=>oe("div",{class:vr("image-edit",l)},oe(Ig,{icon:i,class:"image-icon"}),oe("div",{class:vr("link-importer",h.value&&"focus")},oe("input",{ref:d,draggable:"true",onDragstart:_=>{_.preventDefault(),_.stopPropagation()},disabled:n.value,class:"link-input-area",value:f.value,onInput:y,onKeydown:v,onFocus:()=>h.value=!0,onBlur:()=>h.value=!1}),!m.value&&oe("div",{class:"placeholder"},oe("input",{disabled:n.value,class:"hidden",id:p.value,type:"file",accept:"image/*",onChange:k}),oe("label",{class:"uploader",for:p.value},oe(Ig,{icon:s})),oe("span",{class:"text",onClick:()=>{var _;return(_=d.value)==null?void 0:_.focus()}},a))),f.value&&oe("div",{class:"confirm",onClick:()=>b()},oe(Ig,{icon:o})))}}),H6e=he({props:{src:{type:Object,required:!0},alt:{type:Object,required:!0},title:{type:Object,required:!0},selected:{type:Object,required:!0},readonly:{type:Object,required:!0},setAttr:{type:Function,required:!0},config:{type:Object,required:!0}},setup(n){const{src:e,alt:t,title:r}=n;return()=>{var i;return(i=e.value)!=null&&i.length?oe("img",{class:"image-inline",src:e.value,alt:t.value,title:r.value}):oe(z6e,{src:n.src,selected:n.selected,readonly:n.readonly,setLink:s=>n.setAttr("src",s),imageIcon:n.config.imageIcon,uploadButton:n.config.uploadButton,confirmButton:n.config.confirmButton,uploadPlaceholderText:n.config.uploadPlaceholderText,onUpload:n.config.onUpload,className:"empty-image-inline"})}}}),bR=mp(wc.node,n=>(e,t,r)=>{const i=V(e.attrs.src),s=V(e.attrs.alt),o=V(e.attrs.title),a=V(!1),l=V(!t.editable),u=(y,v)=>{if(!t.editable)return;const b=r();b!=null&&t.dispatch(t.state.tr.setNodeAttribute(b,y,y==="src"?ws.sanitize(v):v))},c=n.get(fy.key),h=qs(H6e,{src:i,alt:s,title:o,selected:a,readonly:l,setAttr:u,config:c}),d=document.createElement("span");d.className="milkdown-image-inline";const f=v0(()=>{a.value?d.classList.add("selected"):d.classList.remove("selected")}),p=c.proxyDomURL,m=y=>{if(!p)i.value=y.attrs.src;else{const v=p(y.attrs.src);typeof v=="string"?i.value=v:v.then(b=>{i.value=b}).catch(console.error)}s.value=y.attrs.alt,o.value=y.attrs.title};return m(e),h.mount(d),{dom:d,update:y=>y.type!==e.type?!1:(m(y),!0),stopEvent:y=>y.target instanceof HTMLInputElement,selectNode:()=>{a.value=!0},deselectNode:()=>{a.value=!1},destroy:()=>{f(),h.unmount(),d.remove()}}});wR(bR,{displayName:"NodeView<image-inline>",group:"ImageInline"});const V6e=[fy,bR];class Xr{constructor(e,t,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=r}static range(e,t){return t?!e||!e.loc||!t.loc||e.loc.lexer!==t.loc.lexer?null:new Xr(e.loc.lexer,e.loc.start,t.loc.end):e&&e.loc}}class Pi{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new Pi(t,Xr.range(this,e))}}class Te{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,s,o=t&&t.loc;if(o&&o.start<=o.end){var a=o.lexer.input;i=o.start,s=o.end,i===a.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=a.slice(i,s).replace(/[^]/g,"$&\u0332"),u;i>15?u="\u2026"+a.slice(i-15,i):u=a.slice(0,i);var c;s+15<a.length?c=a.slice(s,s+15)+"\u2026":c=a.slice(s),r+=u+l+c}var h=new Error(r);return h.name="ParseError",h.__proto__=Te.prototype,h.position=i,i!=null&&s!=null&&(h.length=s-i),h.rawMessage=e,h}}Te.prototype.__proto__=Error.prototype;var q6e=function(e,t){return e===void 0?t:e},W6e=/([A-Z])/g,j6e=function(e){return e.replace(W6e,"-$1").toLowerCase()},Z6e={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},U6e=/[&><"']/g;function G6e(n){return String(n).replace(U6e,e=>Z6e[e])}var kR=function n(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?n(e.body[0]):e:e.type==="font"?n(e.body):e},K6e=function(e){var t=kR(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},Y6e=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},J6e=function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?t[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?null:t[1].toLowerCase():"_relative"},$t={deflt:q6e,escape:G6e,hyphenate:j6e,getBaseElem:kR,isCharacterBox:K6e,protocolFromUrl:J6e},Dg={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:n=>"#"+n},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(n,e)=>(e.push(n),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:n=>Math.max(0,n),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:n=>Math.max(0,n),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:n=>Math.max(0,n),cli:"-e, --max-expand <n>",cliProcessor:n=>n==="Infinity"?1/0:parseInt(n)},globalGroup:{type:"boolean",cli:!1}};function X6e(n){if(n.default)return n.default;var e=n.type,t=Array.isArray(e)?e[0]:e;if(typeof t!="string")return t.enum[0];switch(t){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Tb{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var t in Dg)if(Dg.hasOwnProperty(t)){var r=Dg[t];this[t]=e[t]!==void 0?r.processor?r.processor(e[t]):e[t]:X6e(r)}}reportNonstrict(e,t,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,t,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Te("LaTeX-incompatible input and strict mode is set to 'error': "+(t+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+t+" ["+e+"]"))}}useStrictBehavior(e,t,r){var i=this.strict;if(typeof i=="function")try{i=i(e,t,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+t+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var t=$t.protocolFromUrl(e.url);if(t==null)return!1;e.protocol=t}var r=typeof this.trust=="function"?this.trust(e):this.trust;return Boolean(r)}}class za{constructor(e,t,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=r}sup(){return lo[Q6e[this.id]]}sub(){return lo[eve[this.id]]}fracNum(){return lo[tve[this.id]]}fracDen(){return lo[nve[this.id]]}cramp(){return lo[rve[this.id]]}text(){return lo[ive[this.id]]}isTight(){return this.size>=2}}var Eb=0,U2=1,dh=2,va=3,x1=4,ss=5,p0=6,Pr=7,lo=[new za(Eb,0,!1),new za(U2,0,!0),new za(dh,1,!1),new za(va,1,!0),new za(x1,2,!1),new za(ss,2,!0),new za(p0,3,!1),new za(Pr,3,!0)],Q6e=[x1,ss,x1,ss,p0,Pr,p0,Pr],eve=[ss,ss,ss,ss,Pr,Pr,Pr,Pr],tve=[dh,va,x1,ss,p0,Pr,p0,Pr],nve=[va,va,ss,ss,Pr,Pr,Pr,Pr],rve=[U2,U2,va,va,ss,ss,Pr,Pr],ive=[Eb,U2,dh,va,dh,va,dh,va],rt={DISPLAY:lo[Eb],TEXT:lo[dh],SCRIPT:lo[x1],SCRIPTSCRIPT:lo[p0]},q3=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function sve(n){for(var e=0;e<q3.length;e++)for(var t=q3[e],r=0;r<t.blocks.length;r++){var i=t.blocks[r];if(n>=i[0]&&n<=i[1])return t.name}return null}var Ng=[];q3.forEach(n=>n.blocks.forEach(e=>Ng.push(...e)));function xR(n){for(var e=0;e<Ng.length;e+=2)if(n>=Ng[e]&&n<=Ng[e+1])return!0;return!1}var Nc=80,ove=function(e,t){return"M95,"+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},ave=function(e,t){return"M263,"+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},lve=function(e,t){return"M983 "+(10+e+t)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},uve=function(e,t){return"M424,"+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+t+`
h400000v`+(40+e)+"h-400000z"},cve=function(e,t){return"M473,"+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},hve=function(e){var t=e/2;return"M400000 "+e+" H0 L"+t+" 0 l65 45 L145 "+(e-80)+" H400000z"},dve=function(e,t,r){var i=r-54-t-e;return"M702 "+(e+t)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+"H400000v"+(40+e)+"H742z"},fve=function(e,t,r){t=1e3*t;var i="";switch(e){case"sqrtMain":i=ove(t,Nc);break;case"sqrtSize1":i=ave(t,Nc);break;case"sqrtSize2":i=lve(t,Nc);break;case"sqrtSize3":i=uve(t,Nc);break;case"sqrtSize4":i=cve(t,Nc);break;case"sqrtTall":i=dve(t,Nc,r)}return i},pve=function(e,t){switch(e){case"\u239C":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"\u2223":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"\u2225":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z"+("M367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z");case"\u239F":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"\u23A2":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"\u23A5":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"\u23AA":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"\u23D0":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"\u2016":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257z"+("M478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z");default:return""}},aA={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},mve=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Op{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){var e=t=>t.toText();return this.children.map(e).join("")}}var vo={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Im={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},lA={\u00C5:"A",\u00D0:"D",\u00DE:"o",\u00E5:"a",\u00F0:"d",\u00FE:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041A:"K",\u041B:"N",\u041C:"M",\u041D:"H",\u041E:"O",\u041F:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042A:"B",\u042B:"X",\u042C:"B",\u042D:"3",\u042E:"X",\u042F:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043A:"n",\u043B:"n",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044A:"a",\u044B:"m",\u044C:"a",\u044D:"e",\u044E:"m",\u044F:"r"};function gve(n,e){vo[n]=e}function Ob(n,e,t){if(!vo[e])throw new Error("Font metrics not found for font: "+e+".");var r=n.charCodeAt(0),i=vo[e][r];if(!i&&n[0]in lA&&(r=lA[n[0]].charCodeAt(0),i=vo[e][r]),!i&&t==="text"&&xR(r)&&(i=vo[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var g6={};function yve(n){var e;if(n>=5?e=0:n>=3?e=1:e=2,!g6[e]){var t=g6[e]={cssEmPerMu:Im.quad[e]/18};for(var r in Im)Im.hasOwnProperty(r)&&(t[r]=Im[r][e])}return g6[e]}var vve=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],uA=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],cA=function(e,t){return t.size<2?e:vve[e-1][t.size-1]};class ta{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||ta.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=uA[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return new ta(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:cA(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:uA[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=cA(ta.BASESIZE,e);return this.size===t&&this.textSize===ta.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==ta.BASESIZE?["sizing","reset-size"+this.size,"size"+ta.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=yve(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}ta.BASESIZE=6;var W3={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},wve={ex:!0,em:!0,mu:!0},SR=function(e){return typeof e!="string"&&(e=e.unit),e in W3||e in wve||e==="ex"},An=function(e,t){var r;if(e.unit in W3)r=W3[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")r=t.fontMetrics().cssEmPerMu;else{var i;if(t.style.isTight()?i=t.havingStyle(t.style.text()):i=t,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new Te("Invalid unit: '"+e.unit+"'");i!==t&&(r*=i.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*r,t.maxSize)},De=function(e){return+e.toFixed(4)+"em"},Ol=function(e){return e.filter(t=>t).join(" ")},CR=function(e,t,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},t){t.style.isTight()&&this.classes.push("mtight");var i=t.getColor();i&&(this.style.color=i)}},MR=function(e){var t=document.createElement(e);t.className=Ol(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&t.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)t.appendChild(this.children[s].toNode());return t},bve=/[\s"'>/=\x00-\x1f]/,AR=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+$t.escape(Ol(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=$t.hyphenate(i)+":"+this.style[i]+";");r&&(t+=' style="'+$t.escape(r)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(bve.test(s))throw new Te("Invalid attribute name '"+s+"'");t+=" "+s+'="'+$t.escape(this.attributes[s])+'"'}t+=">";for(var o=0;o<this.children.length;o++)t+=this.children[o].toMarkup();return t+="</"+e+">",t};class Ip{constructor(e,t,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,CR.call(this,e,r,i),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return this.classes.includes(e)}toNode(){return MR.call(this,"span")}toMarkup(){return AR.call(this,"span")}}class Ib{constructor(e,t,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,CR.call(this,t,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return this.classes.includes(e)}toNode(){return MR.call(this,"a")}toMarkup(){return AR.call(this,"a")}}class kve{constructor(e,t,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var t in this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e='<img src="'+$t.escape(this.src)+'"'+(' alt="'+$t.escape(this.alt)+'"'),t="";for(var r in this.style)this.style.hasOwnProperty(r)&&(t+=$t.hyphenate(r)+":"+this.style[r]+";");return t&&(e+=' style="'+$t.escape(t)+'"'),e+="'/>",e}}var xve={\u00EE:"\u0131\u0302",\u00EF:"\u0131\u0308",\u00ED:"\u0131\u0301",\u00EC:"\u0131\u0300"};class gs{constructor(e,t,r,i,s,o,a,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=r||0,this.italic=i||0,this.skew=s||0,this.width=o||0,this.classes=a||[],this.style=l||{},this.maxFontSize=0;var u=sve(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=xve[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),t=null;this.italic>0&&(t=document.createElement("span"),t.style.marginRight=De(this.italic)),this.classes.length>0&&(t=t||document.createElement("span"),t.className=Ol(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(t=t||document.createElement("span"),t.style[r]=this.style[r]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=$t.escape(Ol(this.classes)),t+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=$t.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,t+=' style="'+$t.escape(r)+'"');var s=$t.escape(this.text);return e?(t+=">",t+=s,t+="</span>",t):s}}class Ca{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+$t.escape(this.attributes[t])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class Il{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",aA[this.pathName]),t}toMarkup(){return this.alternate?'<path d="'+$t.escape(this.alternate)+'"/>':'<path d="'+$t.escape(aA[this.pathName])+'"/>'}}class j3{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);return t}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+$t.escape(this.attributes[t])+'"');return e+="/>",e}}function hA(n){if(n instanceof gs)return n;throw new Error("Expected symbolNode but got "+String(n)+".")}function Sve(n){if(n instanceof Ip)return n;throw new Error("Expected span<HtmlDomNode> but got "+String(n)+".")}var Cve={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Mve={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},un={math:{},text:{}};function w(n,e,t,r,i,s){un[n][i]={font:e,group:t,replace:r},s&&r&&(un[n][r]=un[n][i])}var S="math",Se="text",E="main",H="ams",gn="accent-token",qe="bin",jr="close",F0="inner",nt="mathord",jn="op-token",zi="open",py="punct",q="rel",Na="spacing",ee="textord";w(S,E,q,"\u2261","\\equiv",!0);w(S,E,q,"\u227A","\\prec",!0);w(S,E,q,"\u227B","\\succ",!0);w(S,E,q,"\u223C","\\sim",!0);w(S,E,q,"\u22A5","\\perp");w(S,E,q,"\u2AAF","\\preceq",!0);w(S,E,q,"\u2AB0","\\succeq",!0);w(S,E,q,"\u2243","\\simeq",!0);w(S,E,q,"\u2223","\\mid",!0);w(S,E,q,"\u226A","\\ll",!0);w(S,E,q,"\u226B","\\gg",!0);w(S,E,q,"\u224D","\\asymp",!0);w(S,E,q,"\u2225","\\parallel");w(S,E,q,"\u22C8","\\bowtie",!0);w(S,E,q,"\u2323","\\smile",!0);w(S,E,q,"\u2291","\\sqsubseteq",!0);w(S,E,q,"\u2292","\\sqsupseteq",!0);w(S,E,q,"\u2250","\\doteq",!0);w(S,E,q,"\u2322","\\frown",!0);w(S,E,q,"\u220B","\\ni",!0);w(S,E,q,"\u221D","\\propto",!0);w(S,E,q,"\u22A2","\\vdash",!0);w(S,E,q,"\u22A3","\\dashv",!0);w(S,E,q,"\u220B","\\owns");w(S,E,py,".","\\ldotp");w(S,E,py,"\u22C5","\\cdotp");w(S,E,ee,"#","\\#");w(Se,E,ee,"#","\\#");w(S,E,ee,"&","\\&");w(Se,E,ee,"&","\\&");w(S,E,ee,"\u2135","\\aleph",!0);w(S,E,ee,"\u2200","\\forall",!0);w(S,E,ee,"\u210F","\\hbar",!0);w(S,E,ee,"\u2203","\\exists",!0);w(S,E,ee,"\u2207","\\nabla",!0);w(S,E,ee,"\u266D","\\flat",!0);w(S,E,ee,"\u2113","\\ell",!0);w(S,E,ee,"\u266E","\\natural",!0);w(S,E,ee,"\u2663","\\clubsuit",!0);w(S,E,ee,"\u2118","\\wp",!0);w(S,E,ee,"\u266F","\\sharp",!0);w(S,E,ee,"\u2662","\\diamondsuit",!0);w(S,E,ee,"\u211C","\\Re",!0);w(S,E,ee,"\u2661","\\heartsuit",!0);w(S,E,ee,"\u2111","\\Im",!0);w(S,E,ee,"\u2660","\\spadesuit",!0);w(S,E,ee,"\xA7","\\S",!0);w(Se,E,ee,"\xA7","\\S");w(S,E,ee,"\xB6","\\P",!0);w(Se,E,ee,"\xB6","\\P");w(S,E,ee,"\u2020","\\dag");w(Se,E,ee,"\u2020","\\dag");w(Se,E,ee,"\u2020","\\textdagger");w(S,E,ee,"\u2021","\\ddag");w(Se,E,ee,"\u2021","\\ddag");w(Se,E,ee,"\u2021","\\textdaggerdbl");w(S,E,jr,"\u23B1","\\rmoustache",!0);w(S,E,zi,"\u23B0","\\lmoustache",!0);w(S,E,jr,"\u27EF","\\rgroup",!0);w(S,E,zi,"\u27EE","\\lgroup",!0);w(S,E,qe,"\u2213","\\mp",!0);w(S,E,qe,"\u2296","\\ominus",!0);w(S,E,qe,"\u228E","\\uplus",!0);w(S,E,qe,"\u2293","\\sqcap",!0);w(S,E,qe,"\u2217","\\ast");w(S,E,qe,"\u2294","\\sqcup",!0);w(S,E,qe,"\u25EF","\\bigcirc",!0);w(S,E,qe,"\u2219","\\bullet",!0);w(S,E,qe,"\u2021","\\ddagger");w(S,E,qe,"\u2240","\\wr",!0);w(S,E,qe,"\u2A3F","\\amalg");w(S,E,qe,"&","\\And");w(S,E,q,"\u27F5","\\longleftarrow",!0);w(S,E,q,"\u21D0","\\Leftarrow",!0);w(S,E,q,"\u27F8","\\Longleftarrow",!0);w(S,E,q,"\u27F6","\\longrightarrow",!0);w(S,E,q,"\u21D2","\\Rightarrow",!0);w(S,E,q,"\u27F9","\\Longrightarrow",!0);w(S,E,q,"\u2194","\\leftrightarrow",!0);w(S,E,q,"\u27F7","\\longleftrightarrow",!0);w(S,E,q,"\u21D4","\\Leftrightarrow",!0);w(S,E,q,"\u27FA","\\Longleftrightarrow",!0);w(S,E,q,"\u21A6","\\mapsto",!0);w(S,E,q,"\u27FC","\\longmapsto",!0);w(S,E,q,"\u2197","\\nearrow",!0);w(S,E,q,"\u21A9","\\hookleftarrow",!0);w(S,E,q,"\u21AA","\\hookrightarrow",!0);w(S,E,q,"\u2198","\\searrow",!0);w(S,E,q,"\u21BC","\\leftharpoonup",!0);w(S,E,q,"\u21C0","\\rightharpoonup",!0);w(S,E,q,"\u2199","\\swarrow",!0);w(S,E,q,"\u21BD","\\leftharpoondown",!0);w(S,E,q,"\u21C1","\\rightharpoondown",!0);w(S,E,q,"\u2196","\\nwarrow",!0);w(S,E,q,"\u21CC","\\rightleftharpoons",!0);w(S,H,q,"\u226E","\\nless",!0);w(S,H,q,"\uE010","\\@nleqslant");w(S,H,q,"\uE011","\\@nleqq");w(S,H,q,"\u2A87","\\lneq",!0);w(S,H,q,"\u2268","\\lneqq",!0);w(S,H,q,"\uE00C","\\@lvertneqq");w(S,H,q,"\u22E6","\\lnsim",!0);w(S,H,q,"\u2A89","\\lnapprox",!0);w(S,H,q,"\u2280","\\nprec",!0);w(S,H,q,"\u22E0","\\npreceq",!0);w(S,H,q,"\u22E8","\\precnsim",!0);w(S,H,q,"\u2AB9","\\precnapprox",!0);w(S,H,q,"\u2241","\\nsim",!0);w(S,H,q,"\uE006","\\@nshortmid");w(S,H,q,"\u2224","\\nmid",!0);w(S,H,q,"\u22AC","\\nvdash",!0);w(S,H,q,"\u22AD","\\nvDash",!0);w(S,H,q,"\u22EA","\\ntriangleleft");w(S,H,q,"\u22EC","\\ntrianglelefteq",!0);w(S,H,q,"\u228A","\\subsetneq",!0);w(S,H,q,"\uE01A","\\@varsubsetneq");w(S,H,q,"\u2ACB","\\subsetneqq",!0);w(S,H,q,"\uE017","\\@varsubsetneqq");w(S,H,q,"\u226F","\\ngtr",!0);w(S,H,q,"\uE00F","\\@ngeqslant");w(S,H,q,"\uE00E","\\@ngeqq");w(S,H,q,"\u2A88","\\gneq",!0);w(S,H,q,"\u2269","\\gneqq",!0);w(S,H,q,"\uE00D","\\@gvertneqq");w(S,H,q,"\u22E7","\\gnsim",!0);w(S,H,q,"\u2A8A","\\gnapprox",!0);w(S,H,q,"\u2281","\\nsucc",!0);w(S,H,q,"\u22E1","\\nsucceq",!0);w(S,H,q,"\u22E9","\\succnsim",!0);w(S,H,q,"\u2ABA","\\succnapprox",!0);w(S,H,q,"\u2246","\\ncong",!0);w(S,H,q,"\uE007","\\@nshortparallel");w(S,H,q,"\u2226","\\nparallel",!0);w(S,H,q,"\u22AF","\\nVDash",!0);w(S,H,q,"\u22EB","\\ntriangleright");w(S,H,q,"\u22ED","\\ntrianglerighteq",!0);w(S,H,q,"\uE018","\\@nsupseteqq");w(S,H,q,"\u228B","\\supsetneq",!0);w(S,H,q,"\uE01B","\\@varsupsetneq");w(S,H,q,"\u2ACC","\\supsetneqq",!0);w(S,H,q,"\uE019","\\@varsupsetneqq");w(S,H,q,"\u22AE","\\nVdash",!0);w(S,H,q,"\u2AB5","\\precneqq",!0);w(S,H,q,"\u2AB6","\\succneqq",!0);w(S,H,q,"\uE016","\\@nsubseteqq");w(S,H,qe,"\u22B4","\\unlhd");w(S,H,qe,"\u22B5","\\unrhd");w(S,H,q,"\u219A","\\nleftarrow",!0);w(S,H,q,"\u219B","\\nrightarrow",!0);w(S,H,q,"\u21CD","\\nLeftarrow",!0);w(S,H,q,"\u21CF","\\nRightarrow",!0);w(S,H,q,"\u21AE","\\nleftrightarrow",!0);w(S,H,q,"\u21CE","\\nLeftrightarrow",!0);w(S,H,q,"\u25B3","\\vartriangle");w(S,H,ee,"\u210F","\\hslash");w(S,H,ee,"\u25BD","\\triangledown");w(S,H,ee,"\u25CA","\\lozenge");w(S,H,ee,"\u24C8","\\circledS");w(S,H,ee,"\xAE","\\circledR");w(Se,H,ee,"\xAE","\\circledR");w(S,H,ee,"\u2221","\\measuredangle",!0);w(S,H,ee,"\u2204","\\nexists");w(S,H,ee,"\u2127","\\mho");w(S,H,ee,"\u2132","\\Finv",!0);w(S,H,ee,"\u2141","\\Game",!0);w(S,H,ee,"\u2035","\\backprime");w(S,H,ee,"\u25B2","\\blacktriangle");w(S,H,ee,"\u25BC","\\blacktriangledown");w(S,H,ee,"\u25A0","\\blacksquare");w(S,H,ee,"\u29EB","\\blacklozenge");w(S,H,ee,"\u2605","\\bigstar");w(S,H,ee,"\u2222","\\sphericalangle",!0);w(S,H,ee,"\u2201","\\complement",!0);w(S,H,ee,"\xF0","\\eth",!0);w(Se,E,ee,"\xF0","\xF0");w(S,H,ee,"\u2571","\\diagup");w(S,H,ee,"\u2572","\\diagdown");w(S,H,ee,"\u25A1","\\square");w(S,H,ee,"\u25A1","\\Box");w(S,H,ee,"\u25CA","\\Diamond");w(S,H,ee,"\xA5","\\yen",!0);w(Se,H,ee,"\xA5","\\yen",!0);w(S,H,ee,"\u2713","\\checkmark",!0);w(Se,H,ee,"\u2713","\\checkmark");w(S,H,ee,"\u2136","\\beth",!0);w(S,H,ee,"\u2138","\\daleth",!0);w(S,H,ee,"\u2137","\\gimel",!0);w(S,H,ee,"\u03DD","\\digamma",!0);w(S,H,ee,"\u03F0","\\varkappa");w(S,H,zi,"\u250C","\\@ulcorner",!0);w(S,H,jr,"\u2510","\\@urcorner",!0);w(S,H,zi,"\u2514","\\@llcorner",!0);w(S,H,jr,"\u2518","\\@lrcorner",!0);w(S,H,q,"\u2266","\\leqq",!0);w(S,H,q,"\u2A7D","\\leqslant",!0);w(S,H,q,"\u2A95","\\eqslantless",!0);w(S,H,q,"\u2272","\\lesssim",!0);w(S,H,q,"\u2A85","\\lessapprox",!0);w(S,H,q,"\u224A","\\approxeq",!0);w(S,H,qe,"\u22D6","\\lessdot");w(S,H,q,"\u22D8","\\lll",!0);w(S,H,q,"\u2276","\\lessgtr",!0);w(S,H,q,"\u22DA","\\lesseqgtr",!0);w(S,H,q,"\u2A8B","\\lesseqqgtr",!0);w(S,H,q,"\u2251","\\doteqdot");w(S,H,q,"\u2253","\\risingdotseq",!0);w(S,H,q,"\u2252","\\fallingdotseq",!0);w(S,H,q,"\u223D","\\backsim",!0);w(S,H,q,"\u22CD","\\backsimeq",!0);w(S,H,q,"\u2AC5","\\subseteqq",!0);w(S,H,q,"\u22D0","\\Subset",!0);w(S,H,q,"\u228F","\\sqsubset",!0);w(S,H,q,"\u227C","\\preccurlyeq",!0);w(S,H,q,"\u22DE","\\curlyeqprec",!0);w(S,H,q,"\u227E","\\precsim",!0);w(S,H,q,"\u2AB7","\\precapprox",!0);w(S,H,q,"\u22B2","\\vartriangleleft");w(S,H,q,"\u22B4","\\trianglelefteq");w(S,H,q,"\u22A8","\\vDash",!0);w(S,H,q,"\u22AA","\\Vvdash",!0);w(S,H,q,"\u2323","\\smallsmile");w(S,H,q,"\u2322","\\smallfrown");w(S,H,q,"\u224F","\\bumpeq",!0);w(S,H,q,"\u224E","\\Bumpeq",!0);w(S,H,q,"\u2267","\\geqq",!0);w(S,H,q,"\u2A7E","\\geqslant",!0);w(S,H,q,"\u2A96","\\eqslantgtr",!0);w(S,H,q,"\u2273","\\gtrsim",!0);w(S,H,q,"\u2A86","\\gtrapprox",!0);w(S,H,qe,"\u22D7","\\gtrdot");w(S,H,q,"\u22D9","\\ggg",!0);w(S,H,q,"\u2277","\\gtrless",!0);w(S,H,q,"\u22DB","\\gtreqless",!0);w(S,H,q,"\u2A8C","\\gtreqqless",!0);w(S,H,q,"\u2256","\\eqcirc",!0);w(S,H,q,"\u2257","\\circeq",!0);w(S,H,q,"\u225C","\\triangleq",!0);w(S,H,q,"\u223C","\\thicksim");w(S,H,q,"\u2248","\\thickapprox");w(S,H,q,"\u2AC6","\\supseteqq",!0);w(S,H,q,"\u22D1","\\Supset",!0);w(S,H,q,"\u2290","\\sqsupset",!0);w(S,H,q,"\u227D","\\succcurlyeq",!0);w(S,H,q,"\u22DF","\\curlyeqsucc",!0);w(S,H,q,"\u227F","\\succsim",!0);w(S,H,q,"\u2AB8","\\succapprox",!0);w(S,H,q,"\u22B3","\\vartriangleright");w(S,H,q,"\u22B5","\\trianglerighteq");w(S,H,q,"\u22A9","\\Vdash",!0);w(S,H,q,"\u2223","\\shortmid");w(S,H,q,"\u2225","\\shortparallel");w(S,H,q,"\u226C","\\between",!0);w(S,H,q,"\u22D4","\\pitchfork",!0);w(S,H,q,"\u221D","\\varpropto");w(S,H,q,"\u25C0","\\blacktriangleleft");w(S,H,q,"\u2234","\\therefore",!0);w(S,H,q,"\u220D","\\backepsilon");w(S,H,q,"\u25B6","\\blacktriangleright");w(S,H,q,"\u2235","\\because",!0);w(S,H,q,"\u22D8","\\llless");w(S,H,q,"\u22D9","\\gggtr");w(S,H,qe,"\u22B2","\\lhd");w(S,H,qe,"\u22B3","\\rhd");w(S,H,q,"\u2242","\\eqsim",!0);w(S,E,q,"\u22C8","\\Join");w(S,H,q,"\u2251","\\Doteq",!0);w(S,H,qe,"\u2214","\\dotplus",!0);w(S,H,qe,"\u2216","\\smallsetminus");w(S,H,qe,"\u22D2","\\Cap",!0);w(S,H,qe,"\u22D3","\\Cup",!0);w(S,H,qe,"\u2A5E","\\doublebarwedge",!0);w(S,H,qe,"\u229F","\\boxminus",!0);w(S,H,qe,"\u229E","\\boxplus",!0);w(S,H,qe,"\u22C7","\\divideontimes",!0);w(S,H,qe,"\u22C9","\\ltimes",!0);w(S,H,qe,"\u22CA","\\rtimes",!0);w(S,H,qe,"\u22CB","\\leftthreetimes",!0);w(S,H,qe,"\u22CC","\\rightthreetimes",!0);w(S,H,qe,"\u22CF","\\curlywedge",!0);w(S,H,qe,"\u22CE","\\curlyvee",!0);w(S,H,qe,"\u229D","\\circleddash",!0);w(S,H,qe,"\u229B","\\circledast",!0);w(S,H,qe,"\u22C5","\\centerdot");w(S,H,qe,"\u22BA","\\intercal",!0);w(S,H,qe,"\u22D2","\\doublecap");w(S,H,qe,"\u22D3","\\doublecup");w(S,H,qe,"\u22A0","\\boxtimes",!0);w(S,H,q,"\u21E2","\\dashrightarrow",!0);w(S,H,q,"\u21E0","\\dashleftarrow",!0);w(S,H,q,"\u21C7","\\leftleftarrows",!0);w(S,H,q,"\u21C6","\\leftrightarrows",!0);w(S,H,q,"\u21DA","\\Lleftarrow",!0);w(S,H,q,"\u219E","\\twoheadleftarrow",!0);w(S,H,q,"\u21A2","\\leftarrowtail",!0);w(S,H,q,"\u21AB","\\looparrowleft",!0);w(S,H,q,"\u21CB","\\leftrightharpoons",!0);w(S,H,q,"\u21B6","\\curvearrowleft",!0);w(S,H,q,"\u21BA","\\circlearrowleft",!0);w(S,H,q,"\u21B0","\\Lsh",!0);w(S,H,q,"\u21C8","\\upuparrows",!0);w(S,H,q,"\u21BF","\\upharpoonleft",!0);w(S,H,q,"\u21C3","\\downharpoonleft",!0);w(S,E,q,"\u22B6","\\origof",!0);w(S,E,q,"\u22B7","\\imageof",!0);w(S,H,q,"\u22B8","\\multimap",!0);w(S,H,q,"\u21AD","\\leftrightsquigarrow",!0);w(S,H,q,"\u21C9","\\rightrightarrows",!0);w(S,H,q,"\u21C4","\\rightleftarrows",!0);w(S,H,q,"\u21A0","\\twoheadrightarrow",!0);w(S,H,q,"\u21A3","\\rightarrowtail",!0);w(S,H,q,"\u21AC","\\looparrowright",!0);w(S,H,q,"\u21B7","\\curvearrowright",!0);w(S,H,q,"\u21BB","\\circlearrowright",!0);w(S,H,q,"\u21B1","\\Rsh",!0);w(S,H,q,"\u21CA","\\downdownarrows",!0);w(S,H,q,"\u21BE","\\upharpoonright",!0);w(S,H,q,"\u21C2","\\downharpoonright",!0);w(S,H,q,"\u21DD","\\rightsquigarrow",!0);w(S,H,q,"\u21DD","\\leadsto");w(S,H,q,"\u21DB","\\Rrightarrow",!0);w(S,H,q,"\u21BE","\\restriction");w(S,E,ee,"\u2018","`");w(S,E,ee,"$","\\$");w(Se,E,ee,"$","\\$");w(Se,E,ee,"$","\\textdollar");w(S,E,ee,"%","\\%");w(Se,E,ee,"%","\\%");w(S,E,ee,"_","\\_");w(Se,E,ee,"_","\\_");w(Se,E,ee,"_","\\textunderscore");w(S,E,ee,"\u2220","\\angle",!0);w(S,E,ee,"\u221E","\\infty",!0);w(S,E,ee,"\u2032","\\prime");w(S,E,ee,"\u25B3","\\triangle");w(S,E,ee,"\u0393","\\Gamma",!0);w(S,E,ee,"\u0394","\\Delta",!0);w(S,E,ee,"\u0398","\\Theta",!0);w(S,E,ee,"\u039B","\\Lambda",!0);w(S,E,ee,"\u039E","\\Xi",!0);w(S,E,ee,"\u03A0","\\Pi",!0);w(S,E,ee,"\u03A3","\\Sigma",!0);w(S,E,ee,"\u03A5","\\Upsilon",!0);w(S,E,ee,"\u03A6","\\Phi",!0);w(S,E,ee,"\u03A8","\\Psi",!0);w(S,E,ee,"\u03A9","\\Omega",!0);w(S,E,ee,"A","\u0391");w(S,E,ee,"B","\u0392");w(S,E,ee,"E","\u0395");w(S,E,ee,"Z","\u0396");w(S,E,ee,"H","\u0397");w(S,E,ee,"I","\u0399");w(S,E,ee,"K","\u039A");w(S,E,ee,"M","\u039C");w(S,E,ee,"N","\u039D");w(S,E,ee,"O","\u039F");w(S,E,ee,"P","\u03A1");w(S,E,ee,"T","\u03A4");w(S,E,ee,"X","\u03A7");w(S,E,ee,"\xAC","\\neg",!0);w(S,E,ee,"\xAC","\\lnot");w(S,E,ee,"\u22A4","\\top");w(S,E,ee,"\u22A5","\\bot");w(S,E,ee,"\u2205","\\emptyset");w(S,H,ee,"\u2205","\\varnothing");w(S,E,nt,"\u03B1","\\alpha",!0);w(S,E,nt,"\u03B2","\\beta",!0);w(S,E,nt,"\u03B3","\\gamma",!0);w(S,E,nt,"\u03B4","\\delta",!0);w(S,E,nt,"\u03F5","\\epsilon",!0);w(S,E,nt,"\u03B6","\\zeta",!0);w(S,E,nt,"\u03B7","\\eta",!0);w(S,E,nt,"\u03B8","\\theta",!0);w(S,E,nt,"\u03B9","\\iota",!0);w(S,E,nt,"\u03BA","\\kappa",!0);w(S,E,nt,"\u03BB","\\lambda",!0);w(S,E,nt,"\u03BC","\\mu",!0);w(S,E,nt,"\u03BD","\\nu",!0);w(S,E,nt,"\u03BE","\\xi",!0);w(S,E,nt,"\u03BF","\\omicron",!0);w(S,E,nt,"\u03C0","\\pi",!0);w(S,E,nt,"\u03C1","\\rho",!0);w(S,E,nt,"\u03C3","\\sigma",!0);w(S,E,nt,"\u03C4","\\tau",!0);w(S,E,nt,"\u03C5","\\upsilon",!0);w(S,E,nt,"\u03D5","\\phi",!0);w(S,E,nt,"\u03C7","\\chi",!0);w(S,E,nt,"\u03C8","\\psi",!0);w(S,E,nt,"\u03C9","\\omega",!0);w(S,E,nt,"\u03B5","\\varepsilon",!0);w(S,E,nt,"\u03D1","\\vartheta",!0);w(S,E,nt,"\u03D6","\\varpi",!0);w(S,E,nt,"\u03F1","\\varrho",!0);w(S,E,nt,"\u03C2","\\varsigma",!0);w(S,E,nt,"\u03C6","\\varphi",!0);w(S,E,qe,"\u2217","*",!0);w(S,E,qe,"+","+");w(S,E,qe,"\u2212","-",!0);w(S,E,qe,"\u22C5","\\cdot",!0);w(S,E,qe,"\u2218","\\circ",!0);w(S,E,qe,"\xF7","\\div",!0);w(S,E,qe,"\xB1","\\pm",!0);w(S,E,qe,"\xD7","\\times",!0);w(S,E,qe,"\u2229","\\cap",!0);w(S,E,qe,"\u222A","\\cup",!0);w(S,E,qe,"\u2216","\\setminus",!0);w(S,E,qe,"\u2227","\\land");w(S,E,qe,"\u2228","\\lor");w(S,E,qe,"\u2227","\\wedge",!0);w(S,E,qe,"\u2228","\\vee",!0);w(S,E,ee,"\u221A","\\surd");w(S,E,zi,"\u27E8","\\langle",!0);w(S,E,zi,"\u2223","\\lvert");w(S,E,zi,"\u2225","\\lVert");w(S,E,jr,"?","?");w(S,E,jr,"!","!");w(S,E,jr,"\u27E9","\\rangle",!0);w(S,E,jr,"\u2223","\\rvert");w(S,E,jr,"\u2225","\\rVert");w(S,E,q,"=","=");w(S,E,q,":",":");w(S,E,q,"\u2248","\\approx",!0);w(S,E,q,"\u2245","\\cong",!0);w(S,E,q,"\u2265","\\ge");w(S,E,q,"\u2265","\\geq",!0);w(S,E,q,"\u2190","\\gets");w(S,E,q,">","\\gt",!0);w(S,E,q,"\u2208","\\in",!0);w(S,E,q,"\uE020","\\@not");w(S,E,q,"\u2282","\\subset",!0);w(S,E,q,"\u2283","\\supset",!0);w(S,E,q,"\u2286","\\subseteq",!0);w(S,E,q,"\u2287","\\supseteq",!0);w(S,H,q,"\u2288","\\nsubseteq",!0);w(S,H,q,"\u2289","\\nsupseteq",!0);w(S,E,q,"\u22A8","\\models");w(S,E,q,"\u2190","\\leftarrow",!0);w(S,E,q,"\u2264","\\le");w(S,E,q,"\u2264","\\leq",!0);w(S,E,q,"<","\\lt",!0);w(S,E,q,"\u2192","\\rightarrow",!0);w(S,E,q,"\u2192","\\to");w(S,H,q,"\u2271","\\ngeq",!0);w(S,H,q,"\u2270","\\nleq",!0);w(S,E,Na,"\xA0","\\ ");w(S,E,Na,"\xA0","\\space");w(S,E,Na,"\xA0","\\nobreakspace");w(Se,E,Na,"\xA0","\\ ");w(Se,E,Na,"\xA0"," ");w(Se,E,Na,"\xA0","\\space");w(Se,E,Na,"\xA0","\\nobreakspace");w(S,E,Na,null,"\\nobreak");w(S,E,Na,null,"\\allowbreak");w(S,E,py,",",",");w(S,E,py,";",";");w(S,H,qe,"\u22BC","\\barwedge",!0);w(S,H,qe,"\u22BB","\\veebar",!0);w(S,E,qe,"\u2299","\\odot",!0);w(S,E,qe,"\u2295","\\oplus",!0);w(S,E,qe,"\u2297","\\otimes",!0);w(S,E,ee,"\u2202","\\partial",!0);w(S,E,qe,"\u2298","\\oslash",!0);w(S,H,qe,"\u229A","\\circledcirc",!0);w(S,H,qe,"\u22A1","\\boxdot",!0);w(S,E,qe,"\u25B3","\\bigtriangleup");w(S,E,qe,"\u25BD","\\bigtriangledown");w(S,E,qe,"\u2020","\\dagger");w(S,E,qe,"\u22C4","\\diamond");w(S,E,qe,"\u22C6","\\star");w(S,E,qe,"\u25C3","\\triangleleft");w(S,E,qe,"\u25B9","\\triangleright");w(S,E,zi,"{","\\{");w(Se,E,ee,"{","\\{");w(Se,E,ee,"{","\\textbraceleft");w(S,E,jr,"}","\\}");w(Se,E,ee,"}","\\}");w(Se,E,ee,"}","\\textbraceright");w(S,E,zi,"{","\\lbrace");w(S,E,jr,"}","\\rbrace");w(S,E,zi,"[","\\lbrack",!0);w(Se,E,ee,"[","\\lbrack",!0);w(S,E,jr,"]","\\rbrack",!0);w(Se,E,ee,"]","\\rbrack",!0);w(S,E,zi,"(","\\lparen",!0);w(S,E,jr,")","\\rparen",!0);w(Se,E,ee,"<","\\textless",!0);w(Se,E,ee,">","\\textgreater",!0);w(S,E,zi,"\u230A","\\lfloor",!0);w(S,E,jr,"\u230B","\\rfloor",!0);w(S,E,zi,"\u2308","\\lceil",!0);w(S,E,jr,"\u2309","\\rceil",!0);w(S,E,ee,"\\","\\backslash");w(S,E,ee,"\u2223","|");w(S,E,ee,"\u2223","\\vert");w(Se,E,ee,"|","\\textbar",!0);w(S,E,ee,"\u2225","\\|");w(S,E,ee,"\u2225","\\Vert");w(Se,E,ee,"\u2225","\\textbardbl");w(Se,E,ee,"~","\\textasciitilde");w(Se,E,ee,"\\","\\textbackslash");w(Se,E,ee,"^","\\textasciicircum");w(S,E,q,"\u2191","\\uparrow",!0);w(S,E,q,"\u21D1","\\Uparrow",!0);w(S,E,q,"\u2193","\\downarrow",!0);w(S,E,q,"\u21D3","\\Downarrow",!0);w(S,E,q,"\u2195","\\updownarrow",!0);w(S,E,q,"\u21D5","\\Updownarrow",!0);w(S,E,jn,"\u2210","\\coprod");w(S,E,jn,"\u22C1","\\bigvee");w(S,E,jn,"\u22C0","\\bigwedge");w(S,E,jn,"\u2A04","\\biguplus");w(S,E,jn,"\u22C2","\\bigcap");w(S,E,jn,"\u22C3","\\bigcup");w(S,E,jn,"\u222B","\\int");w(S,E,jn,"\u222B","\\intop");w(S,E,jn,"\u222C","\\iint");w(S,E,jn,"\u222D","\\iiint");w(S,E,jn,"\u220F","\\prod");w(S,E,jn,"\u2211","\\sum");w(S,E,jn,"\u2A02","\\bigotimes");w(S,E,jn,"\u2A01","\\bigoplus");w(S,E,jn,"\u2A00","\\bigodot");w(S,E,jn,"\u222E","\\oint");w(S,E,jn,"\u222F","\\oiint");w(S,E,jn,"\u2230","\\oiiint");w(S,E,jn,"\u2A06","\\bigsqcup");w(S,E,jn,"\u222B","\\smallint");w(Se,E,F0,"\u2026","\\textellipsis");w(S,E,F0,"\u2026","\\mathellipsis");w(Se,E,F0,"\u2026","\\ldots",!0);w(S,E,F0,"\u2026","\\ldots",!0);w(S,E,F0,"\u22EF","\\@cdots",!0);w(S,E,F0,"\u22F1","\\ddots",!0);w(S,E,ee,"\u22EE","\\varvdots");w(Se,E,ee,"\u22EE","\\varvdots");w(S,E,gn,"\u02CA","\\acute");w(S,E,gn,"\u02CB","\\grave");w(S,E,gn,"\xA8","\\ddot");w(S,E,gn,"~","\\tilde");w(S,E,gn,"\u02C9","\\bar");w(S,E,gn,"\u02D8","\\breve");w(S,E,gn,"\u02C7","\\check");w(S,E,gn,"^","\\hat");w(S,E,gn,"\u20D7","\\vec");w(S,E,gn,"\u02D9","\\dot");w(S,E,gn,"\u02DA","\\mathring");w(S,E,nt,"\uE131","\\@imath");w(S,E,nt,"\uE237","\\@jmath");w(S,E,ee,"\u0131","\u0131");w(S,E,ee,"\u0237","\u0237");w(Se,E,ee,"\u0131","\\i",!0);w(Se,E,ee,"\u0237","\\j",!0);w(Se,E,ee,"\xDF","\\ss",!0);w(Se,E,ee,"\xE6","\\ae",!0);w(Se,E,ee,"\u0153","\\oe",!0);w(Se,E,ee,"\xF8","\\o",!0);w(Se,E,ee,"\xC6","\\AE",!0);w(Se,E,ee,"\u0152","\\OE",!0);w(Se,E,ee,"\xD8","\\O",!0);w(Se,E,gn,"\u02CA","\\'");w(Se,E,gn,"\u02CB","\\`");w(Se,E,gn,"\u02C6","\\^");w(Se,E,gn,"\u02DC","\\~");w(Se,E,gn,"\u02C9","\\=");w(Se,E,gn,"\u02D8","\\u");w(Se,E,gn,"\u02D9","\\.");w(Se,E,gn,"\xB8","\\c");w(Se,E,gn,"\u02DA","\\r");w(Se,E,gn,"\u02C7","\\v");w(Se,E,gn,"\xA8",'\\"');w(Se,E,gn,"\u02DD","\\H");w(Se,E,gn,"\u25EF","\\textcircled");var _R={"--":!0,"---":!0,"``":!0,"''":!0};w(Se,E,ee,"\u2013","--",!0);w(Se,E,ee,"\u2013","\\textendash");w(Se,E,ee,"\u2014","---",!0);w(Se,E,ee,"\u2014","\\textemdash");w(Se,E,ee,"\u2018","`",!0);w(Se,E,ee,"\u2018","\\textquoteleft");w(Se,E,ee,"\u2019","'",!0);w(Se,E,ee,"\u2019","\\textquoteright");w(Se,E,ee,"\u201C","``",!0);w(Se,E,ee,"\u201C","\\textquotedblleft");w(Se,E,ee,"\u201D","''",!0);w(Se,E,ee,"\u201D","\\textquotedblright");w(S,E,ee,"\xB0","\\degree",!0);w(Se,E,ee,"\xB0","\\degree");w(Se,E,ee,"\xB0","\\textdegree",!0);w(S,E,ee,"\xA3","\\pounds");w(S,E,ee,"\xA3","\\mathsterling",!0);w(Se,E,ee,"\xA3","\\pounds");w(Se,E,ee,"\xA3","\\textsterling",!0);w(S,H,ee,"\u2720","\\maltese");w(Se,H,ee,"\u2720","\\maltese");var dA='0123456789/@."';for(var y6=0;y6<dA.length;y6++){var fA=dA.charAt(y6);w(S,E,ee,fA,fA)}var pA='0123456789!@*()-=+";:?/.,';for(var v6=0;v6<pA.length;v6++){var mA=pA.charAt(v6);w(Se,E,ee,mA,mA)}var G2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var w6=0;w6<G2.length;w6++){var Dm=G2.charAt(w6);w(S,E,nt,Dm,Dm),w(Se,E,ee,Dm,Dm)}w(S,H,ee,"C","\u2102");w(Se,H,ee,"C","\u2102");w(S,H,ee,"H","\u210D");w(Se,H,ee,"H","\u210D");w(S,H,ee,"N","\u2115");w(Se,H,ee,"N","\u2115");w(S,H,ee,"P","\u2119");w(Se,H,ee,"P","\u2119");w(S,H,ee,"Q","\u211A");w(Se,H,ee,"Q","\u211A");w(S,H,ee,"R","\u211D");w(Se,H,ee,"R","\u211D");w(S,H,ee,"Z","\u2124");w(Se,H,ee,"Z","\u2124");w(S,E,nt,"h","\u210E");w(Se,E,nt,"h","\u210E");var ot="";for(var Dr=0;Dr<G2.length;Dr++){var _n=G2.charAt(Dr);ot=String.fromCharCode(55349,56320+Dr),w(S,E,nt,_n,ot),w(Se,E,ee,_n,ot),ot=String.fromCharCode(55349,56372+Dr),w(S,E,nt,_n,ot),w(Se,E,ee,_n,ot),ot=String.fromCharCode(55349,56424+Dr),w(S,E,nt,_n,ot),w(Se,E,ee,_n,ot),ot=String.fromCharCode(55349,56580+Dr),w(S,E,nt,_n,ot),w(Se,E,ee,_n,ot),ot=String.fromCharCode(55349,56684+Dr),w(S,E,nt,_n,ot),w(Se,E,ee,_n,ot),ot=String.fromCharCode(55349,56736+Dr),w(S,E,nt,_n,ot),w(Se,E,ee,_n,ot),ot=String.fromCharCode(55349,56788+Dr),w(S,E,nt,_n,ot),w(Se,E,ee,_n,ot),ot=String.fromCharCode(55349,56840+Dr),w(S,E,nt,_n,ot),w(Se,E,ee,_n,ot),ot=String.fromCharCode(55349,56944+Dr),w(S,E,nt,_n,ot),w(Se,E,ee,_n,ot),Dr<26&&(ot=String.fromCharCode(55349,56632+Dr),w(S,E,nt,_n,ot),w(Se,E,ee,_n,ot),ot=String.fromCharCode(55349,56476+Dr),w(S,E,nt,_n,ot),w(Se,E,ee,_n,ot))}ot=String.fromCharCode(55349,56668);w(S,E,nt,"k",ot);w(Se,E,ee,"k",ot);for(var Xl=0;Xl<10;Xl++){var Ha=Xl.toString();ot=String.fromCharCode(55349,57294+Xl),w(S,E,nt,Ha,ot),w(Se,E,ee,Ha,ot),ot=String.fromCharCode(55349,57314+Xl),w(S,E,nt,Ha,ot),w(Se,E,ee,Ha,ot),ot=String.fromCharCode(55349,57324+Xl),w(S,E,nt,Ha,ot),w(Se,E,ee,Ha,ot),ot=String.fromCharCode(55349,57334+Xl),w(S,E,nt,Ha,ot),w(Se,E,ee,Ha,ot)}var Z3="\xD0\xDE\xFE";for(var b6=0;b6<Z3.length;b6++){var Nm=Z3.charAt(b6);w(S,E,nt,Nm,Nm),w(Se,E,ee,Nm,Nm)}var Lm=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],gA=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Ave=function(e,t){var r=e.charCodeAt(0),i=e.charCodeAt(1),s=(r-55296)*1024+(i-56320)+65536,o=t==="math"?0:1;if(119808<=s&&s<120484){var a=Math.floor((s-119808)/26);return[Lm[a][2],Lm[a][o]]}else if(120782<=s&&s<=120831){var l=Math.floor((s-120782)/10);return[gA[l][2],gA[l][o]]}else{if(s===120485||s===120486)return[Lm[0][2],Lm[0][o]];if(120486<s&&s<120782)return["",""];throw new Te("Unsupported character: "+e)}},my=function(e,t,r){return un[r][e]&&un[r][e].replace&&(e=un[r][e].replace),{value:e,metrics:Ob(e,t,r)}},Os=function(e,t,r,i,s){var o=my(e,t,r),a=o.metrics;e=o.value;var l;if(a){var u=a.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),l=new gs(e,a.height,a.depth,u,a.skew,a.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+t+"' and mode '"+r+"'")),l=new gs(e,0,0,0,0,0,s);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var c=i.getColor();c&&(l.style.color=c)}return l},_ve=function(e,t,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&my(e,"Main-Bold",t).metrics?Os(e,"Main-Bold",t,r,i.concat(["mathbf"])):e==="\\"||un[t][e].font==="main"?Os(e,"Main-Regular",t,r,i):Os(e,"AMS-Regular",t,r,i.concat(["amsrm"]))},Tve=function(e,t,r,i,s){return s!=="textord"&&my(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Eve=function(e,t,r){var i=e.mode,s=e.text,o=["mord"],a=i==="math"||i==="text"&&t.font,l=a?t.font:t.fontFamily,u="",c="";if(s.charCodeAt(0)===55349&&([u,c]=Ave(s,i)),u.length>0)return Os(s,u,i,t,o.concat(c));if(l){var h,d;if(l==="boldsymbol"){var f=Tve(s,i,t,o,r);h=f.fontName,d=[f.fontClass]}else a?(h=OR[l].fontName,d=[l]):(h=Pm(l,t.fontWeight,t.fontShape),d=[l,t.fontWeight,t.fontShape]);if(my(s,h,i).metrics)return Os(s,h,i,t,o.concat(d));if(_R.hasOwnProperty(s)&&h.slice(0,10)==="Typewriter"){for(var p=[],m=0;m<s.length;m++)p.push(Os(s[m],h,i,t,o.concat(d)));return ER(p)}}if(r==="mathord")return Os(s,"Math-Italic",i,t,o.concat(["mathnormal"]));if(r==="textord"){var y=un[i][s]&&un[i][s].font;if(y==="ams"){var v=Pm("amsrm",t.fontWeight,t.fontShape);return Os(s,v,i,t,o.concat("amsrm",t.fontWeight,t.fontShape))}else if(y==="main"||!y){var b=Pm("textrm",t.fontWeight,t.fontShape);return Os(s,b,i,t,o.concat(t.fontWeight,t.fontShape))}else{var k=Pm(y,t.fontWeight,t.fontShape);return Os(s,k,i,t,o.concat(k,t.fontWeight,t.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},Ove=(n,e)=>{if(Ol(n.classes)!==Ol(e.classes)||n.skew!==e.skew||n.maxFontSize!==e.maxFontSize)return!1;if(n.classes.length===1){var t=n.classes[0];if(t==="mbin"||t==="mord")return!1}for(var r in n.style)if(n.style.hasOwnProperty(r)&&n.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&n.style[i]!==e.style[i])return!1;return!0},Ive=n=>{for(var e=0;e<n.length-1;e++){var t=n[e],r=n[e+1];t instanceof gs&&r instanceof gs&&Ove(t,r)&&(t.text+=r.text,t.height=Math.max(t.height,r.height),t.depth=Math.max(t.depth,r.depth),t.italic=r.italic,n.splice(e+1,1),e--)}return n},Db=function(e){for(var t=0,r=0,i=0,s=0;s<e.children.length;s++){var o=e.children[s];o.height>t&&(t=o.height),o.depth>r&&(r=o.depth),o.maxFontSize>i&&(i=o.maxFontSize)}e.height=t,e.depth=r,e.maxFontSize=i},Jr=function(e,t,r,i){var s=new Ip(e,t,r,i);return Db(s),s},TR=(n,e,t,r)=>new Ip(n,e,t,r),Dve=function(e,t,r){var i=Jr([e],[],t);return i.height=Math.max(r||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),i.style.borderBottomWidth=De(i.height),i.maxFontSize=1,i},Nve=function(e,t,r,i){var s=new Ib(e,t,r,i);return Db(s),s},ER=function(e){var t=new Op(e);return Db(t),t},Lve=function(e,t){return e instanceof Op?Jr([],[e],t):e},Pve=function(e){if(e.positionType==="individualShift"){for(var t=e.children,r=[t[0]],i=-t[0].shift-t[0].elem.depth,s=i,o=1;o<t.length;o++){var a=-t[o].shift-s-t[o].elem.depth,l=a-(t[o-1].elem.height+t[o-1].elem.depth);s=s+a,r.push({type:"kern",size:l}),r.push(t[o])}return{children:r,depth:i}}var u;if(e.positionType==="top"){for(var c=e.positionData,h=0;h<e.children.length;h++){var d=e.children[h];c-=d.type==="kern"?d.size:d.elem.height+d.elem.depth}u=c}else if(e.positionType==="bottom")u=-e.positionData;else{var f=e.children[0];if(f.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-f.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-f.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},Rve=function(e,t){for(var{children:r,depth:i}=Pve(e),s=0,o=0;o<r.length;o++){var a=r[o];if(a.type==="elem"){var l=a.elem;s=Math.max(s,l.maxFontSize,l.height)}}s+=2;var u=Jr(["pstrut"],[]);u.style.height=De(s);for(var c=[],h=i,d=i,f=i,p=0;p<r.length;p++){var m=r[p];if(m.type==="kern")f+=m.size;else{var y=m.elem,v=m.wrapperClasses||[],b=m.wrapperStyle||{},k=Jr(v,[u,y],void 0,b);k.style.top=De(-s-f-y.depth),m.marginLeft&&(k.style.marginLeft=m.marginLeft),m.marginRight&&(k.style.marginRight=m.marginRight),c.push(k),f+=y.height+y.depth}h=Math.min(h,f),d=Math.max(d,f)}var _=Jr(["vlist"],c);_.style.height=De(d);var C;if(h<0){var M=Jr([],[]),O=Jr(["vlist"],[M]);O.style.height=De(-h);var D=Jr(["vlist-s"],[new gs("\u200B")]);C=[Jr(["vlist-r"],[_,D]),Jr(["vlist-r"],[O])]}else C=[Jr(["vlist-r"],[_])];var $=Jr(["vlist-t"],C);return C.length===2&&$.classes.push("vlist-t2"),$.height=d,$.depth=-h,$},$ve=(n,e)=>{var t=Jr(["mspace"],[],e),r=An(n,e);return t.style.marginRight=De(r),t},Pm=function(e,t,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return t==="textbf"&&r==="textit"?s="BoldItalic":t==="textbf"?s="Bold":t==="textit"?s="Italic":s="Regular",i+"-"+s},OR={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},IR={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Bve=function(e,t){var[r,i,s]=IR[e],o=new Il(r),a=new Ca([o],{width:De(i),height:De(s),style:"width:"+De(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),l=TR(["overlay"],[a],t);return l.height=s,l.style.height=De(s),l.style.width=De(i),l},ie={fontMap:OR,makeSymbol:Os,mathsym:_ve,makeSpan:Jr,makeSvgSpan:TR,makeLineSpan:Dve,makeAnchor:Nve,makeFragment:ER,wrapFragment:Lve,makeVList:Rve,makeOrd:Eve,makeGlue:$ve,staticSvg:Bve,svgData:IR,tryCombineChars:Ive},Sn={number:3,unit:"mu"},Ql={number:4,unit:"mu"},Zo={number:5,unit:"mu"},Fve={mord:{mop:Sn,mbin:Ql,mrel:Zo,minner:Sn},mop:{mord:Sn,mop:Sn,mrel:Zo,minner:Sn},mbin:{mord:Ql,mop:Ql,mopen:Ql,minner:Ql},mrel:{mord:Zo,mop:Zo,mopen:Zo,minner:Zo},mopen:{},mclose:{mop:Sn,mbin:Ql,mrel:Zo,minner:Sn},mpunct:{mord:Sn,mop:Sn,mrel:Zo,mopen:Sn,mclose:Sn,mpunct:Sn,minner:Sn},minner:{mord:Sn,mop:Sn,mbin:Ql,mrel:Zo,mopen:Sn,mpunct:Sn,minner:Sn}},zve={mord:{mop:Sn},mop:{mord:Sn,mop:Sn},mbin:{},mrel:{},mopen:{},mclose:{mop:Sn},mpunct:{},minner:{mop:Sn}},DR={},K2={},Y2={};function Be(n){for(var{type:e,names:t,props:r,handler:i,htmlBuilder:s,mathmlBuilder:o}=n,a={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<t.length;++l)DR[t[l]]=a;e&&(s&&(K2[e]=s),o&&(Y2[e]=o))}function xc(n){var{type:e,htmlBuilder:t,mathmlBuilder:r}=n;Be({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:t,mathmlBuilder:r})}var J2=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Ln=function(e){return e.type==="ordgroup"?e.body:[e]},Ma=ie.makeSpan,Hve=["leftmost","mbin","mopen","mrel","mop","mpunct"],Vve=["rightmost","mrel","mclose","mpunct"],qve={display:rt.DISPLAY,text:rt.TEXT,script:rt.SCRIPT,scriptscript:rt.SCRIPTSCRIPT},Wve={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Yn=function(e,t,r,i){i===void 0&&(i=[null,null]);for(var s=[],o=0;o<e.length;o++){var a=Pt(e[o],t);if(a instanceof Op){var l=a.children;s.push(...l)}else s.push(a)}if(ie.tryCombineChars(s),!r)return s;var u=t;if(e.length===1){var c=e[0];c.type==="sizing"?u=t.havingSize(c.size):c.type==="styling"&&(u=t.havingStyle(qve[c.style]))}var h=Ma([i[0]||"leftmost"],[],t),d=Ma([i[1]||"rightmost"],[],t),f=r==="root";return yA(s,(p,m)=>{var y=m.classes[0],v=p.classes[0];y==="mbin"&&Vve.includes(v)?m.classes[0]="mord":v==="mbin"&&Hve.includes(y)&&(p.classes[0]="mord")},{node:h},d,f),yA(s,(p,m)=>{var y=U3(m),v=U3(p),b=y&&v?p.hasClass("mtight")?zve[y][v]:Fve[y][v]:null;if(b)return ie.makeGlue(b,u)},{node:h},d,f),s},yA=function n(e,t,r,i,s){i&&e.push(i);for(var o=0;o<e.length;o++){var a=e[o],l=NR(a);if(l){n(l.children,t,r,null,s);continue}var u=!a.hasClass("mspace");if(u){var c=t(a,r.node);c&&(r.insertAfter?r.insertAfter(c):(e.unshift(c),o++))}u?r.node=a:s&&a.hasClass("newline")&&(r.node=Ma(["leftmost"])),r.insertAfter=(h=>d=>{e.splice(h+1,0,d),o++})(o)}i&&e.pop()},NR=function(e){return e instanceof Op||e instanceof Ib||e instanceof Ip&&e.hasClass("enclosing")?e:null},jve=function n(e,t){var r=NR(e);if(r){var i=r.children;if(i.length){if(t==="right")return n(i[i.length-1],"right");if(t==="left")return n(i[0],"left")}}return e},U3=function(e,t){return e?(t&&(e=jve(e,t)),Wve[e.classes[0]]||null):null},S1=function(e,t){var r=["nulldelimiter"].concat(e.baseSizingClasses());return Ma(t.concat(r))},Pt=function(e,t,r){if(!e)return Ma();if(K2[e.type]){var i=K2[e.type](e,t);if(r&&t.size!==r.size){i=Ma(t.sizingClasses(r),[i],t);var s=t.sizeMultiplier/r.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new Te("Got group of unknown type: '"+e.type+"'")};function Rm(n,e){var t=Ma(["base"],n,e),r=Ma(["strut"]);return r.style.height=De(t.height+t.depth),t.depth&&(r.style.verticalAlign=De(-t.depth)),t.children.unshift(r),t}function G3(n,e){var t=null;n.length===1&&n[0].type==="tag"&&(t=n[0].tag,n=n[0].body);var r=Yn(n,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var s=[],o=[],a=0;a<r.length;a++)if(o.push(r[a]),r[a].hasClass("mbin")||r[a].hasClass("mrel")||r[a].hasClass("allowbreak")){for(var l=!1;a<r.length-1&&r[a+1].hasClass("mspace")&&!r[a+1].hasClass("newline");)a++,o.push(r[a]),r[a].hasClass("nobreak")&&(l=!0);l||(s.push(Rm(o,e)),o=[])}else r[a].hasClass("newline")&&(o.pop(),o.length>0&&(s.push(Rm(o,e)),o=[]),s.push(r[a]));o.length>0&&s.push(Rm(o,e));var u;t?(u=Rm(Yn(t,e,!0)),u.classes=["tag"],s.push(u)):i&&s.push(i);var c=Ma(["katex-html"],s);if(c.setAttribute("aria-hidden","true"),u){var h=u.children[0];h.style.height=De(c.height+c.depth),c.depth&&(h.style.verticalAlign=De(-c.depth))}return c}function LR(n){return new Op(n)}class Oi{constructor(e,t,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=r||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=Ol(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof wo&&this.children[r+1]instanceof wo){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof wo;)i+=this.children[++r].toText();e.appendChild(new wo(i).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=$t.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+$t.escape(Ol(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class wo{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return $t.escape(this.toText())}toText(){return this.text}}class Zve{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="\u200A":e>=.1666&&e<=.1667?this.character="\u2009":e>=.2222&&e<=.2223?this.character="\u2005":e>=.2777&&e<=.2778?this.character="\u2005\u200A":e>=-.05556&&e<=-.05555?this.character="\u200A\u2063":e>=-.1667&&e<=-.1666?this.character="\u2009\u2063":e>=-.2223&&e<=-.2222?this.character="\u205F\u2063":e>=-.2778&&e<=-.2777?this.character="\u2005\u2063":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",De(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+De(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Ae={MathNode:Oi,TextNode:wo,SpaceNode:Zve,newDocumentFragment:LR},ys=function(e,t,r){return un[t][e]&&un[t][e].replace&&e.charCodeAt(0)!==55349&&!(_R.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=un[t][e].replace),new Ae.TextNode(e)},Nb=function(e){return e.length===1?e[0]:new Ae.MathNode("mrow",e)},Lb=function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var r=t.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(["\\imath","\\jmath"].includes(s))return null;un[i][s]&&un[i][s].replace&&(s=un[i][s].replace);var o=ie.fontMap[r].fontName;return Ob(s,o,i)?ie.fontMap[r].variant:null};function k6(n){if(!n)return!1;if(n.type==="mi"&&n.children.length===1){var e=n.children[0];return e instanceof wo&&e.text==="."}else if(n.type==="mo"&&n.children.length===1&&n.getAttribute("separator")==="true"&&n.getAttribute("lspace")==="0em"&&n.getAttribute("rspace")==="0em"){var t=n.children[0];return t instanceof wo&&t.text===","}else return!1}var fi=function(e,t,r){if(e.length===1){var i=on(e[0],t);return r&&i instanceof Oi&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],o,a=0;a<e.length;a++){var l=on(e[a],t);if(l instanceof Oi&&o instanceof Oi){if(l.type==="mtext"&&o.type==="mtext"&&l.getAttribute("mathvariant")===o.getAttribute("mathvariant")){o.children.push(...l.children);continue}else if(l.type==="mn"&&o.type==="mn"){o.children.push(...l.children);continue}else if(k6(l)&&o.type==="mn"){o.children.push(...l.children);continue}else if(l.type==="mn"&&k6(o))l.children=[...o.children,...l.children],s.pop();else if((l.type==="msup"||l.type==="msub")&&l.children.length>=1&&(o.type==="mn"||k6(o))){var u=l.children[0];u instanceof Oi&&u.type==="mn"&&(u.children=[...o.children,...u.children],s.pop())}else if(o.type==="mi"&&o.children.length===1){var c=o.children[0];if(c instanceof wo&&c.text==="\u0338"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var h=l.children[0];h instanceof wo&&h.text.length>0&&(h.text=h.text.slice(0,1)+"\u0338"+h.text.slice(1),s.pop())}}}s.push(l),o=l}return s},Dl=function(e,t,r){return Nb(fi(e,t,r))},on=function(e,t){if(!e)return new Ae.MathNode("mrow");if(Y2[e.type]){var r=Y2[e.type](e,t);return r}else throw new Te("Got group of unknown type: '"+e.type+"'")};function vA(n,e,t,r,i){var s=fi(n,t),o;s.length===1&&s[0]instanceof Oi&&["mrow","mtable"].includes(s[0].type)?o=s[0]:o=new Ae.MathNode("mrow",s);var a=new Ae.MathNode("annotation",[new Ae.TextNode(e)]);a.setAttribute("encoding","application/x-tex");var l=new Ae.MathNode("semantics",[o,a]),u=new Ae.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var c=i?"katex":"katex-mathml";return ie.makeSpan([c],[u])}var PR=function(e){return new ta({style:e.displayMode?rt.DISPLAY:rt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},RR=function(e,t){if(t.displayMode){var r=["katex-display"];t.leqno&&r.push("leqno"),t.fleqn&&r.push("fleqn"),e=ie.makeSpan(r,[e])}return e},Uve=function(e,t,r){var i=PR(r),s;if(r.output==="mathml")return vA(e,t,i,r.displayMode,!0);if(r.output==="html"){var o=G3(e,i);s=ie.makeSpan(["katex"],[o])}else{var a=vA(e,t,i,r.displayMode,!1),l=G3(e,i);s=ie.makeSpan(["katex"],[a,l])}return RR(s,r)},Gve=function(e,t,r){var i=PR(r),s=G3(e,i),o=ie.makeSpan(["katex"],[s]);return RR(o,r)},Kve={widehat:"^",widecheck:"\u02C7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23DF",overbrace:"\u23DE",overgroup:"\u23E0",undergroup:"\u23E1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21D2",xRightarrow:"\u21D2",overleftharpoon:"\u21BC",xleftharpoonup:"\u21BC",overrightharpoon:"\u21C0",xrightharpoonup:"\u21C0",xLeftarrow:"\u21D0",xLeftrightarrow:"\u21D4",xhookleftarrow:"\u21A9",xhookrightarrow:"\u21AA",xmapsto:"\u21A6",xrightharpoondown:"\u21C1",xleftharpoondown:"\u21BD",xrightleftharpoons:"\u21CC",xleftrightharpoons:"\u21CB",xtwoheadleftarrow:"\u219E",xtwoheadrightarrow:"\u21A0",xlongequal:"=",xtofrom:"\u21C4",xrightleftarrows:"\u21C4",xrightequilibrium:"\u21CC",xleftequilibrium:"\u21CB","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},Yve=function(e){var t=new Ae.MathNode("mo",[new Ae.TextNode(Kve[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},Jve={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Xve=function(e){return e.type==="ordgroup"?e.body.length:1},Qve=function(e,t){function r(){var a=4e5,l=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(l)){var u=e,c=Xve(u.base),h,d,f;if(c>5)l==="widehat"||l==="widecheck"?(h=420,a=2364,f=.42,d=l+"4"):(h=312,a=2340,f=.34,d="tilde4");else{var p=[1,1,2,2,3,3][c];l==="widehat"||l==="widecheck"?(a=[0,1062,2364,2364,2364][p],h=[0,239,300,360,420][p],f=[0,.24,.3,.3,.36,.42][p],d=l+p):(a=[0,600,1033,2339,2340][p],h=[0,260,286,306,312][p],f=[0,.26,.286,.3,.306,.34][p],d="tilde"+p)}var m=new Il(d),y=new Ca([m],{width:"100%",height:De(f),viewBox:"0 0 "+a+" "+h,preserveAspectRatio:"none"});return{span:ie.makeSvgSpan([],[y],t),minWidth:0,height:f}}else{var v=[],b=Jve[l],[k,_,C]=b,M=C/1e3,O=k.length,D,$;if(O===1){var R=b[3];D=["hide-tail"],$=[R]}else if(O===2)D=["halfarrow-left","halfarrow-right"],$=["xMinYMin","xMaxYMin"];else if(O===3)D=["brace-left","brace-center","brace-right"],$=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+O+" children.");for(var G=0;G<O;G++){var N=new Il(k[G]),j=new Ca([N],{width:"400em",height:De(M),viewBox:"0 0 "+a+" "+C,preserveAspectRatio:$[G]+" slice"}),Z=ie.makeSvgSpan([D[G]],[j],t);if(O===1)return{span:Z,minWidth:_,height:M};Z.style.height=De(M),v.push(Z)}return{span:ie.makeSpan(["stretchy"],v,t),minWidth:_,height:M}}}var{span:i,minWidth:s,height:o}=r();return i.height=o,i.style.height=De(o),s>0&&(i.style.minWidth=De(s)),i},e3e=function(e,t,r,i,s){var o,a=e.height+e.depth+r+i;if(/fbox|color|angl/.test(t)){if(o=ie.makeSpan(["stretchy",t],[],s),t==="fbox"){var l=s.color&&s.getColor();l&&(o.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(t)&&u.push(new j3({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&u.push(new j3({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new Ca(u,{width:"100%",height:De(a)});o=ie.makeSvgSpan([],[c],s)}return o.height=a,o.style.height=De(a),o},Aa={encloseSpan:e3e,mathMLnode:Yve,svgSpan:Qve};function gt(n,e){if(!n||n.type!==e)throw new Error("Expected node of type "+e+", but got "+(n?"node of type "+n.type:String(n)));return n}function Pb(n){var e=gy(n);if(!e)throw new Error("Expected node of symbol group type, but got "+(n?"node of type "+n.type:String(n)));return e}function gy(n){return n&&(n.type==="atom"||Mve.hasOwnProperty(n.type))?n:null}var Rb=(n,e)=>{var t,r,i;n&&n.type==="supsub"?(r=gt(n.base,"accent"),t=r.base,n.base=t,i=Sve(Pt(n,e)),n.base=r):(r=gt(n,"accent"),t=r.base);var s=Pt(t,e.havingCrampedStyle()),o=r.isShifty&&$t.isCharacterBox(t),a=0;if(o){var l=$t.getBaseElem(t),u=Pt(l,e.havingCrampedStyle());a=hA(u).skew}var c=r.label==="\\c",h=c?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),d;if(r.isStretchy)d=Aa.svgSpan(r,e),d=ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:d,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+De(2*a)+")",marginLeft:De(2*a)}:void 0}]},e);else{var f,p;r.label==="\\vec"?(f=ie.staticSvg("vec",e),p=ie.svgData.vec[1]):(f=ie.makeOrd({mode:r.mode,text:r.label},e,"textord"),f=hA(f),f.italic=0,p=f.width,c&&(h+=f.depth)),d=ie.makeSpan(["accent-body"],[f]);var m=r.label==="\\textcircled";m&&(d.classes.push("accent-full"),h=s.height);var y=a;m||(y-=p/2),d.style.left=De(y),r.label==="\\textcircled"&&(d.style.top=".2em"),d=ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-h},{type:"elem",elem:d}]},e)}var v=ie.makeSpan(["mord","accent"],[d],e);return i?(i.children[0]=v,i.height=Math.max(v.height,i.height),i.classes[0]="mord",i):v},$R=(n,e)=>{var t=n.isStretchy?Aa.mathMLnode(n.label):new Ae.MathNode("mo",[ys(n.label,n.mode)]),r=new Ae.MathNode("mover",[on(n.base,e),t]);return r.setAttribute("accent","true"),r},t3e=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(n=>"\\"+n).join("|"));Be({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(n,e)=>{var t=J2(e[0]),r=!t3e.test(n.funcName),i=!r||n.funcName==="\\widehat"||n.funcName==="\\widetilde"||n.funcName==="\\widecheck";return{type:"accent",mode:n.parser.mode,label:n.funcName,isStretchy:r,isShifty:i,base:t}},htmlBuilder:Rb,mathmlBuilder:$R});Be({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(n,e)=>{var t=e[0],r=n.parser.mode;return r==="math"&&(n.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+n.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:n.funcName,isStretchy:!1,isShifty:!0,base:t}},htmlBuilder:Rb,mathmlBuilder:$R});Be({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0];return{type:"accentUnder",mode:t.mode,label:r,base:i}},htmlBuilder:(n,e)=>{var t=Pt(n.base,e),r=Aa.svgSpan(n,e),i=n.label==="\\utilde"?.12:0,s=ie.makeVList({positionType:"top",positionData:t.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:t}]},e);return ie.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(n,e)=>{var t=Aa.mathMLnode(n.label),r=new Ae.MathNode("munder",[on(n.base,e),t]);return r.setAttribute("accentunder","true"),r}});var $m=n=>{var e=new Ae.MathNode("mpadded",n?[n]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Be({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(n,e,t){var{parser:r,funcName:i}=n;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:t[0]}},htmlBuilder(n,e){var t=e.style,r=e.havingStyle(t.sup()),i=ie.wrapFragment(Pt(n.body,r,e),e),s=n.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var o;n.below&&(r=e.havingStyle(t.sub()),o=ie.wrapFragment(Pt(n.below,r,e),e),o.classes.push(s+"-arrow-pad"));var a=Aa.svgSpan(n,e),l=-e.fontMetrics().axisHeight+.5*a.height,u=-e.fontMetrics().axisHeight-.5*a.height-.111;(i.depth>.25||n.label==="\\xleftequilibrium")&&(u-=i.depth);var c;if(o){var h=-e.fontMetrics().axisHeight+o.height+.5*a.height+.111;c=ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:a,shift:l},{type:"elem",elem:o,shift:h}]},e)}else c=ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:a,shift:l}]},e);return c.children[0].children[0].children[1].classes.push("svg-align"),ie.makeSpan(["mrel","x-arrow"],[c],e)},mathmlBuilder(n,e){var t=Aa.mathMLnode(n.label);t.setAttribute("minsize",n.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(n.body){var i=$m(on(n.body,e));if(n.below){var s=$m(on(n.below,e));r=new Ae.MathNode("munderover",[t,s,i])}else r=new Ae.MathNode("mover",[t,i])}else if(n.below){var o=$m(on(n.below,e));r=new Ae.MathNode("munder",[t,o])}else r=$m(),r=new Ae.MathNode("mover",[t,r]);return r}});var n3e=ie.makeSpan;function BR(n,e){var t=Yn(n.body,e,!0);return n3e([n.mclass],t,e)}function FR(n,e){var t,r=fi(n.body,e);return n.mclass==="minner"?t=new Ae.MathNode("mpadded",r):n.mclass==="mord"?n.isCharacterBox?(t=r[0],t.type="mi"):t=new Ae.MathNode("mi",r):(n.isCharacterBox?(t=r[0],t.type="mo"):t=new Ae.MathNode("mo",r),n.mclass==="mbin"?(t.attributes.lspace="0.22em",t.attributes.rspace="0.22em"):n.mclass==="mpunct"?(t.attributes.lspace="0em",t.attributes.rspace="0.17em"):n.mclass==="mopen"||n.mclass==="mclose"?(t.attributes.lspace="0em",t.attributes.rspace="0em"):n.mclass==="minner"&&(t.attributes.lspace="0.0556em",t.attributes.width="+0.1111em")),t}Be({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(n,e){var{parser:t,funcName:r}=n,i=e[0];return{type:"mclass",mode:t.mode,mclass:"m"+r.slice(5),body:Ln(i),isCharacterBox:$t.isCharacterBox(i)}},htmlBuilder:BR,mathmlBuilder:FR});var yy=n=>{var e=n.type==="ordgroup"&&n.body.length?n.body[0]:n;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Be({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(n,e){var{parser:t}=n;return{type:"mclass",mode:t.mode,mclass:yy(e[0]),body:Ln(e[1]),isCharacterBox:$t.isCharacterBox(e[1])}}});Be({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(n,e){var{parser:t,funcName:r}=n,i=e[1],s=e[0],o;r!=="\\stackrel"?o=yy(i):o="mrel";var a={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Ln(i)},l={type:"supsub",mode:s.mode,base:a,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:t.mode,mclass:o,body:[l],isCharacterBox:$t.isCharacterBox(l)}},htmlBuilder:BR,mathmlBuilder:FR});Be({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"pmb",mode:t.mode,mclass:yy(e[0]),body:Ln(e[0])}},htmlBuilder(n,e){var t=Yn(n.body,e,!0),r=ie.makeSpan([n.mclass],t,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(n,e){var t=fi(n.body,e),r=new Ae.MathNode("mstyle",t);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var r3e={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},wA=()=>({type:"styling",body:[],mode:"math",style:"display"}),bA=n=>n.type==="textord"&&n.text==="@",i3e=(n,e)=>(n.type==="mathord"||n.type==="atom")&&n.text===e;function s3e(n,e,t){var r=r3e[n];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return t.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=t.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},o=t.callFunction("\\Big",[s],[]),a=t.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,o,a]};return t.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return t.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return t.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function o3e(n){var e=[];for(n.gullet.beginGroup(),n.gullet.macros.set("\\cr","\\\\\\relax"),n.gullet.beginGroup();;){e.push(n.parseExpression(!1,"\\\\")),n.gullet.endGroup(),n.gullet.beginGroup();var t=n.fetch().text;if(t==="&"||t==="\\\\")n.consume();else if(t==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Te("Expected \\\\ or \\cr or \\end",n.nextToken)}for(var r=[],i=[r],s=0;s<e.length;s++){for(var o=e[s],a=wA(),l=0;l<o.length;l++)if(!bA(o[l]))a.body.push(o[l]);else{r.push(a),l+=1;var u=Pb(o[l]).text,c=new Array(2);if(c[0]={type:"ordgroup",mode:"math",body:[]},c[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var h=0;h<2;h++){for(var d=!0,f=l+1;f<o.length;f++){if(i3e(o[f],u)){d=!1,l=f;break}if(bA(o[f]))throw new Te("Missing a "+u+" character to complete a CD arrow.",o[f]);c[h].body.push(o[f])}if(d)throw new Te("Missing a "+u+" character to complete a CD arrow.",o[l])}else throw new Te('Expected one of "<>AV=|." after @',o[l]);var p=s3e(u,c,n),m={type:"styling",body:[p],mode:"math",style:"display"};r.push(m),a=wA()}s%2===0?r.push(a):r.shift(),r=[],i.push(r)}n.gullet.endGroup(),n.gullet.endGroup();var y=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:y,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}Be({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:r}=n;return{type:"cdlabel",mode:t.mode,side:r.slice(4),label:e[0]}},htmlBuilder(n,e){var t=e.havingStyle(e.style.sup()),r=ie.wrapFragment(Pt(n.label,t,e),e);return r.classes.push("cd-label-"+n.side),r.style.bottom=De(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(n,e){var t=new Ae.MathNode("mrow",[on(n.label,e)]);return t=new Ae.MathNode("mpadded",[t]),t.setAttribute("width","0"),n.side==="left"&&t.setAttribute("lspace","-1width"),t.setAttribute("voffset","0.7em"),t=new Ae.MathNode("mstyle",[t]),t.setAttribute("displaystyle","false"),t.setAttribute("scriptlevel","1"),t}});Be({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(n,e){var{parser:t}=n;return{type:"cdlabelparent",mode:t.mode,fragment:e[0]}},htmlBuilder(n,e){var t=ie.wrapFragment(Pt(n.fragment,e),e);return t.classes.push("cd-vert-arrow"),t},mathmlBuilder(n,e){return new Ae.MathNode("mrow",[on(n.fragment,e)])}});Be({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(n,e){for(var{parser:t}=n,r=gt(e[0],"ordgroup"),i=r.body,s="",o=0;o<i.length;o++){var a=gt(i[o],"textord");s+=a.text}var l=parseInt(s),u;if(isNaN(l))throw new Te("\\@char has non-numeric argument "+s);if(l<0||l>=1114111)throw new Te("\\@char with invalid code point "+s);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:t.mode,text:u}}});var zR=(n,e)=>{var t=Yn(n.body,e.withColor(n.color),!1);return ie.makeFragment(t)},HR=(n,e)=>{var t=fi(n.body,e.withColor(n.color)),r=new Ae.MathNode("mstyle",t);return r.setAttribute("mathcolor",n.color),r};Be({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(n,e){var{parser:t}=n,r=gt(e[0],"color-token").color,i=e[1];return{type:"color",mode:t.mode,color:r,body:Ln(i)}},htmlBuilder:zR,mathmlBuilder:HR});Be({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(n,e){var{parser:t,breakOnTokenText:r}=n,i=gt(e[0],"color-token").color;t.gullet.macros.set("\\current@color",i);var s=t.parseExpression(!0,r);return{type:"color",mode:t.mode,color:i,body:s}},htmlBuilder:zR,mathmlBuilder:HR});Be({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(n,e,t){var{parser:r}=n,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&gt(i,"size").value}},htmlBuilder(n,e){var t=ie.makeSpan(["mspace"],[],e);return n.newLine&&(t.classes.push("newline"),n.size&&(t.style.marginTop=De(An(n.size,e)))),t},mathmlBuilder(n,e){var t=new Ae.MathNode("mspace");return n.newLine&&(t.setAttribute("linebreak","newline"),n.size&&t.setAttribute("height",De(An(n.size,e)))),t}});var K3={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},VR=n=>{var e=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Te("Expected a control sequence",n);return e},a3e=n=>{var e=n.gullet.popToken();return e.text==="="&&(e=n.gullet.popToken(),e.text===" "&&(e=n.gullet.popToken())),e},qR=(n,e,t,r)=>{var i=n.gullet.macros.get(t.text);i==null&&(t.noexpand=!0,i={tokens:[t],numArgs:0,unexpandable:!n.gullet.isExpandable(t.text)}),n.gullet.macros.set(e,i,r)};Be({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(n){var{parser:e,funcName:t}=n;e.consumeSpaces();var r=e.fetch();if(K3[r.text])return(t==="\\global"||t==="\\\\globallong")&&(r.text=K3[r.text]),gt(e.parseFunction(),"internal");throw new Te("Invalid token after macro prefix",r)}});Be({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Te("Expected a control sequence",r);for(var s=0,o,a=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){o=e.gullet.future(),a[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new Te('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new Te('Argument number "'+r.text+'" out of order');s++,a.push([])}else{if(r.text==="EOF")throw new Te("Expected a macro definition");a[s].push(r.text)}var{tokens:l}=e.gullet.consumeArg();return o&&l.unshift(o),(t==="\\edef"||t==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:s,delimiters:a},t===K3[t]),{type:"internal",mode:e.mode}}});Be({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,r=VR(e.gullet.popToken());e.gullet.consumeSpaces();var i=a3e(e);return qR(e,r,i,t==="\\\\globallet"),{type:"internal",mode:e.mode}}});Be({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,r=VR(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return qR(e,r,s,t==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Wd=function(e,t,r){var i=un.math[e]&&un.math[e].replace,s=Ob(i||e,t,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return s},$b=function(e,t,r,i){var s=r.havingBaseStyle(t),o=ie.makeSpan(i.concat(s.sizingClasses(r)),[e],r),a=s.sizeMultiplier/r.sizeMultiplier;return o.height*=a,o.depth*=a,o.maxFontSize=s.sizeMultiplier,o},WR=function(e,t,r){var i=t.havingBaseStyle(r),s=(1-t.sizeMultiplier/i.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=De(s),e.height-=s,e.depth+=s},l3e=function(e,t,r,i,s,o){var a=ie.makeSymbol(e,"Main-Regular",s,i),l=$b(a,t,i,o);return r&&WR(l,i,t),l},u3e=function(e,t,r,i){return ie.makeSymbol(e,"Size"+t+"-Regular",r,i)},jR=function(e,t,r,i,s,o){var a=u3e(e,t,s,i),l=$b(ie.makeSpan(["delimsizing","size"+t],[a],i),rt.TEXT,i,o);return r&&WR(l,i,rt.TEXT),l},x6=function(e,t,r){var i;t==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=ie.makeSpan(["delimsizinginner",i],[ie.makeSpan([],[ie.makeSymbol(e,t,r)])]);return{type:"elem",elem:s}},S6=function(e,t,r){var i=vo["Size4-Regular"][e.charCodeAt(0)]?vo["Size4-Regular"][e.charCodeAt(0)][4]:vo["Size1-Regular"][e.charCodeAt(0)][4],s=new Il("inner",pve(e,Math.round(1e3*t))),o=new Ca([s],{width:De(i),height:De(t),style:"width:"+De(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),a=ie.makeSvgSpan([],[o],r);return a.height=t,a.style.height=De(t),a.style.width=De(i),{type:"elem",elem:a}},Y3=.008,Bm={type:"kern",size:-1*Y3},c3e=["|","\\lvert","\\rvert","\\vert"],h3e=["\\|","\\lVert","\\rVert","\\Vert"],ZR=function(e,t,r,i,s,o){var a,l,u,c,h="",d=0;a=u=c=e,l=null;var f="Size1-Regular";e==="\\uparrow"?u=c="\u23D0":e==="\\Uparrow"?u=c="\u2016":e==="\\downarrow"?a=u="\u23D0":e==="\\Downarrow"?a=u="\u2016":e==="\\updownarrow"?(a="\\uparrow",u="\u23D0",c="\\downarrow"):e==="\\Updownarrow"?(a="\\Uparrow",u="\u2016",c="\\Downarrow"):c3e.includes(e)?(u="\u2223",h="vert",d=333):h3e.includes(e)?(u="\u2225",h="doublevert",d=556):e==="["||e==="\\lbrack"?(a="\u23A1",u="\u23A2",c="\u23A3",f="Size4-Regular",h="lbrack",d=667):e==="]"||e==="\\rbrack"?(a="\u23A4",u="\u23A5",c="\u23A6",f="Size4-Regular",h="rbrack",d=667):e==="\\lfloor"||e==="\u230A"?(u=a="\u23A2",c="\u23A3",f="Size4-Regular",h="lfloor",d=667):e==="\\lceil"||e==="\u2308"?(a="\u23A1",u=c="\u23A2",f="Size4-Regular",h="lceil",d=667):e==="\\rfloor"||e==="\u230B"?(u=a="\u23A5",c="\u23A6",f="Size4-Regular",h="rfloor",d=667):e==="\\rceil"||e==="\u2309"?(a="\u23A4",u=c="\u23A5",f="Size4-Regular",h="rceil",d=667):e==="("||e==="\\lparen"?(a="\u239B",u="\u239C",c="\u239D",f="Size4-Regular",h="lparen",d=875):e===")"||e==="\\rparen"?(a="\u239E",u="\u239F",c="\u23A0",f="Size4-Regular",h="rparen",d=875):e==="\\{"||e==="\\lbrace"?(a="\u23A7",l="\u23A8",c="\u23A9",u="\u23AA",f="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(a="\u23AB",l="\u23AC",c="\u23AD",u="\u23AA",f="Size4-Regular"):e==="\\lgroup"||e==="\u27EE"?(a="\u23A7",c="\u23A9",u="\u23AA",f="Size4-Regular"):e==="\\rgroup"||e==="\u27EF"?(a="\u23AB",c="\u23AD",u="\u23AA",f="Size4-Regular"):e==="\\lmoustache"||e==="\u23B0"?(a="\u23A7",c="\u23AD",u="\u23AA",f="Size4-Regular"):(e==="\\rmoustache"||e==="\u23B1")&&(a="\u23AB",c="\u23A9",u="\u23AA",f="Size4-Regular");var p=Wd(a,f,s),m=p.height+p.depth,y=Wd(u,f,s),v=y.height+y.depth,b=Wd(c,f,s),k=b.height+b.depth,_=0,C=1;if(l!==null){var M=Wd(l,f,s);_=M.height+M.depth,C=2}var O=m+k+_,D=Math.max(0,Math.ceil((t-O)/(C*v))),$=O+D*C*v,R=i.fontMetrics().axisHeight;r&&(R*=i.sizeMultiplier);var G=$/2-R,N=[];if(h.length>0){var j=$-m-k,Z=Math.round($*1e3),re=mve(h,Math.round(j*1e3)),J=new Il(h,re),K=(d/1e3).toFixed(3)+"em",ne=(Z/1e3).toFixed(3)+"em",pe=new Ca([J],{width:K,height:ne,viewBox:"0 0 "+d+" "+Z}),B=ie.makeSvgSpan([],[pe],i);B.height=Z/1e3,B.style.width=K,B.style.height=ne,N.push({type:"elem",elem:B})}else{if(N.push(x6(c,f,s)),N.push(Bm),l===null){var Ce=$-m-k+2*Y3;N.push(S6(u,Ce,i))}else{var ae=($-m-k-_)/2+2*Y3;N.push(S6(u,ae,i)),N.push(Bm),N.push(x6(l,f,s)),N.push(Bm),N.push(S6(u,ae,i))}N.push(Bm),N.push(x6(a,f,s))}var L=i.havingBaseStyle(rt.TEXT),we=ie.makeVList({positionType:"bottom",positionData:G,children:N},L);return $b(ie.makeSpan(["delimsizing","mult"],[we],L),rt.TEXT,i,o)},C6=80,M6=.08,A6=function(e,t,r,i,s){var o=fve(e,i,r),a=new Il(e,o),l=new Ca([a],{width:"400em",height:De(t),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return ie.makeSvgSpan(["hide-tail"],[l],s)},d3e=function(e,t){var r=t.havingBaseSizing(),i=YR("\\surd",e*r.sizeMultiplier,KR,r),s=r.sizeMultiplier,o=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),a,l=0,u=0,c=0,h;return i.type==="small"?(c=1e3+1e3*o+C6,e<1?s=1:e<1.4&&(s=.7),l=(1+o+M6)/s,u=(1+o)/s,a=A6("sqrtMain",l,c,o,t),a.style.minWidth="0.853em",h=.833/s):i.type==="large"?(c=(1e3+C6)*Nf[i.size],u=(Nf[i.size]+o)/s,l=(Nf[i.size]+o+M6)/s,a=A6("sqrtSize"+i.size,l,c,o,t),a.style.minWidth="1.02em",h=1/s):(l=e+o+M6,u=e+o,c=Math.floor(1e3*e+o)+C6,a=A6("sqrtTall",l,c,o,t),a.style.minWidth="0.742em",h=1.056),a.height=u,a.style.height=De(l),{span:a,advanceWidth:h,ruleWidth:(t.fontMetrics().sqrtRuleThickness+o)*s}},UR=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","\\surd"],f3e=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1"],GR=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Nf=[0,1.2,1.8,2.4,3],p3e=function(e,t,r,i,s){if(e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle"),UR.includes(e)||GR.includes(e))return jR(e,t,!1,r,i,s);if(f3e.includes(e))return ZR(e,Nf[t],!1,r,i,s);throw new Te("Illegal delimiter: '"+e+"'")},m3e=[{type:"small",style:rt.SCRIPTSCRIPT},{type:"small",style:rt.SCRIPT},{type:"small",style:rt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],g3e=[{type:"small",style:rt.SCRIPTSCRIPT},{type:"small",style:rt.SCRIPT},{type:"small",style:rt.TEXT},{type:"stack"}],KR=[{type:"small",style:rt.SCRIPTSCRIPT},{type:"small",style:rt.SCRIPT},{type:"small",style:rt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],y3e=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},YR=function(e,t,r,i){for(var s=Math.min(2,3-i.style.size),o=s;o<r.length&&r[o].type!=="stack";o++){var a=Wd(e,y3e(r[o]),"math"),l=a.height+a.depth;if(r[o].type==="small"){var u=i.havingBaseStyle(r[o].style);l*=u.sizeMultiplier}if(l>t)return r[o]}return r[r.length-1]},JR=function(e,t,r,i,s,o){e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle");var a;GR.includes(e)?a=m3e:UR.includes(e)?a=KR:a=g3e;var l=YR(e,t,a,i);return l.type==="small"?l3e(e,l.style,r,i,s,o):l.type==="large"?jR(e,l.size,r,i,s,o):ZR(e,t,r,i,s,o)},v3e=function(e,t,r,i,s,o){var a=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,u=5/i.fontMetrics().ptPerEm,c=Math.max(t-a,r+a),h=Math.max(c/500*l,2*c-u);return JR(e,h,!0,i,s,o)},wa={sqrtImage:d3e,sizedDelim:p3e,sizeToMaxHeight:Nf,customSizedDelim:JR,leftRightDelim:v3e},kA={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},w3e=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27E8","\\rangle","\u27E9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function vy(n,e){var t=gy(n);if(t&&w3e.includes(t.text))return t;throw t?new Te("Invalid delimiter '"+t.text+"' after '"+e.funcName+"'",n):new Te("Invalid delimiter type '"+n.type+"'",n)}Be({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(n,e)=>{var t=vy(e[0],n);return{type:"delimsizing",mode:n.parser.mode,size:kA[n.funcName].size,mclass:kA[n.funcName].mclass,delim:t.text}},htmlBuilder:(n,e)=>n.delim==="."?ie.makeSpan([n.mclass]):wa.sizedDelim(n.delim,n.size,e,n.mode,[n.mclass]),mathmlBuilder:n=>{var e=[];n.delim!=="."&&e.push(ys(n.delim,n.mode));var t=new Ae.MathNode("mo",e);n.mclass==="mopen"||n.mclass==="mclose"?t.setAttribute("fence","true"):t.setAttribute("fence","false"),t.setAttribute("stretchy","true");var r=De(wa.sizeToMaxHeight[n.size]);return t.setAttribute("minsize",r),t.setAttribute("maxsize",r),t}});function xA(n){if(!n.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Be({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=n.parser.gullet.macros.get("\\current@color");if(t&&typeof t!="string")throw new Te("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:n.parser.mode,delim:vy(e[0],n).text,color:t}}});Be({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=vy(e[0],n),r=n.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=gt(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:t.text,right:s.delim,rightColor:s.color}},htmlBuilder:(n,e)=>{xA(n);for(var t=Yn(n.body,e,!0,["mopen","mclose"]),r=0,i=0,s=!1,o=0;o<t.length;o++)t[o].isMiddle?s=!0:(r=Math.max(t[o].height,r),i=Math.max(t[o].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var a;if(n.left==="."?a=S1(e,["mopen"]):a=wa.leftRightDelim(n.left,r,i,e,n.mode,["mopen"]),t.unshift(a),s)for(var l=1;l<t.length;l++){var u=t[l],c=u.isMiddle;c&&(t[l]=wa.leftRightDelim(c.delim,r,i,c.options,n.mode,[]))}var h;if(n.right===".")h=S1(e,["mclose"]);else{var d=n.rightColor?e.withColor(n.rightColor):e;h=wa.leftRightDelim(n.right,r,i,d,n.mode,["mclose"])}return t.push(h),ie.makeSpan(["minner"],t,e)},mathmlBuilder:(n,e)=>{xA(n);var t=fi(n.body,e);if(n.left!=="."){var r=new Ae.MathNode("mo",[ys(n.left,n.mode)]);r.setAttribute("fence","true"),t.unshift(r)}if(n.right!=="."){var i=new Ae.MathNode("mo",[ys(n.right,n.mode)]);i.setAttribute("fence","true"),n.rightColor&&i.setAttribute("mathcolor",n.rightColor),t.push(i)}return Nb(t)}});Be({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=vy(e[0],n);if(!n.parser.leftrightDepth)throw new Te("\\middle without preceding \\left",t);return{type:"middle",mode:n.parser.mode,delim:t.text}},htmlBuilder:(n,e)=>{var t;if(n.delim===".")t=S1(e,[]);else{t=wa.sizedDelim(n.delim,1,e,n.mode,[]);var r={delim:n.delim,options:e};t.isMiddle=r}return t},mathmlBuilder:(n,e)=>{var t=n.delim==="\\vert"||n.delim==="|"?ys("|","text"):ys(n.delim,n.mode),r=new Ae.MathNode("mo",[t]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var Bb=(n,e)=>{var t=ie.wrapFragment(Pt(n.body,e),e),r=n.label.slice(1),i=e.sizeMultiplier,s,o=0,a=$t.isCharacterBox(n.body);if(r==="sout")s=ie.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,o=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var l=An({number:.6,unit:"pt"},e),u=An({number:.35,unit:"ex"},e),c=e.havingBaseSizing();i=i/c.sizeMultiplier;var h=t.height+t.depth+l+u;t.style.paddingLeft=De(h/2+l);var d=Math.floor(1e3*h*i),f=hve(d),p=new Ca([new Il("phase",f)],{width:"400em",height:De(d/1e3),viewBox:"0 0 400000 "+d,preserveAspectRatio:"xMinYMin slice"});s=ie.makeSvgSpan(["hide-tail"],[p],e),s.style.height=De(h),o=t.depth+l+u}else{/cancel/.test(r)?a||t.classes.push("cancel-pad"):r==="angl"?t.classes.push("anglpad"):t.classes.push("boxpad");var m=0,y=0,v=0;/box/.test(r)?(v=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),m=e.fontMetrics().fboxsep+(r==="colorbox"?0:v),y=m):r==="angl"?(v=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),m=4*v,y=Math.max(0,.25-t.depth)):(m=a?.2:0,y=m),s=Aa.encloseSpan(t,r,m,y,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=De(v)):r==="angl"&&v!==.049&&(s.style.borderTopWidth=De(v),s.style.borderRightWidth=De(v)),o=t.depth+y,n.backgroundColor&&(s.style.backgroundColor=n.backgroundColor,n.borderColor&&(s.style.borderColor=n.borderColor))}var b;if(n.backgroundColor)b=ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:o},{type:"elem",elem:t,shift:0}]},e);else{var k=/cancel|phase/.test(r)?["svg-align"]:[];b=ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:t,shift:0},{type:"elem",elem:s,shift:o,wrapperClasses:k}]},e)}return/cancel/.test(r)&&(b.height=t.height,b.depth=t.depth),/cancel/.test(r)&&!a?ie.makeSpan(["mord","cancel-lap"],[b],e):ie.makeSpan(["mord"],[b],e)},Fb=(n,e)=>{var t=0,r=new Ae.MathNode(n.label.indexOf("colorbox")>-1?"mpadded":"menclose",[on(n.body,e)]);switch(n.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(t=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*t+"pt"),r.setAttribute("height","+"+2*t+"pt"),r.setAttribute("lspace",t+"pt"),r.setAttribute("voffset",t+"pt"),n.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(n.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return n.backgroundColor&&r.setAttribute("mathbackground",n.backgroundColor),r};Be({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(n,e,t){var{parser:r,funcName:i}=n,s=gt(e[0],"color-token").color,o=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:o}},htmlBuilder:Bb,mathmlBuilder:Fb});Be({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(n,e,t){var{parser:r,funcName:i}=n,s=gt(e[0],"color-token").color,o=gt(e[1],"color-token").color,a=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,borderColor:s,body:a}},htmlBuilder:Bb,mathmlBuilder:Fb});Be({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"enclose",mode:t.mode,label:"\\fbox",body:e[0]}}});Be({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:r}=n,i=e[0];return{type:"enclose",mode:t.mode,label:r,body:i}},htmlBuilder:Bb,mathmlBuilder:Fb});Be({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(n,e){var{parser:t}=n;return{type:"enclose",mode:t.mode,label:"\\angl",body:e[0]}}});var XR={};function Bo(n){for(var{type:e,names:t,props:r,handler:i,htmlBuilder:s,mathmlBuilder:o}=n,a={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<t.length;++l)XR[t[l]]=a;s&&(K2[e]=s),o&&(Y2[e]=o)}var QR={};function I(n,e){QR[n]=e}function SA(n){var e=[];n.consumeSpaces();var t=n.fetch().text;for(t==="\\relax"&&(n.consume(),n.consumeSpaces(),t=n.fetch().text);t==="\\hline"||t==="\\hdashline";)n.consume(),e.push(t==="\\hdashline"),n.consumeSpaces(),t=n.fetch().text;return e}var wy=n=>{var e=n.parser.settings;if(!e.displayMode)throw new Te("{"+n.envName+"} can be used only in display mode.")};function zb(n){if(n.indexOf("ed")===-1)return n.indexOf("*")===-1}function Hl(n,e,t){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:o,colSeparationType:a,autoTag:l,singleRow:u,emptySingleRow:c,maxNumCols:h,leqno:d}=e;if(n.gullet.beginGroup(),u||n.gullet.macros.set("\\cr","\\\\\\relax"),!o){var f=n.gullet.expandMacroAsText("\\arraystretch");if(f==null)o=1;else if(o=parseFloat(f),!o||o<0)throw new Te("Invalid \\arraystretch: "+f)}n.gullet.beginGroup();var p=[],m=[p],y=[],v=[],b=l!=null?[]:void 0;function k(){l&&n.gullet.macros.set("\\@eqnsw","1",!0)}function _(){b&&(n.gullet.macros.get("\\df@tag")?(b.push(n.subparse([new Pi("\\df@tag")])),n.gullet.macros.set("\\df@tag",void 0,!0)):b.push(Boolean(l)&&n.gullet.macros.get("\\@eqnsw")==="1"))}for(k(),v.push(SA(n));;){var C=n.parseExpression(!1,u?"\\end":"\\\\");n.gullet.endGroup(),n.gullet.beginGroup(),C={type:"ordgroup",mode:n.mode,body:C},t&&(C={type:"styling",mode:n.mode,style:t,body:[C]}),p.push(C);var M=n.fetch().text;if(M==="&"){if(h&&p.length===h){if(u||a)throw new Te("Too many tab characters: &",n.nextToken);n.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}n.consume()}else if(M==="\\end"){_(),p.length===1&&C.type==="styling"&&C.body[0].body.length===0&&(m.length>1||!c)&&m.pop(),v.length<m.length+1&&v.push([]);break}else if(M==="\\\\"){n.consume();var O=void 0;n.gullet.future().text!==" "&&(O=n.parseSizeGroup(!0)),y.push(O?O.value:null),_(),v.push(SA(n)),p=[],m.push(p),k()}else throw new Te("Expected & or \\\\ or \\cr or \\end",n.nextToken)}return n.gullet.endGroup(),n.gullet.endGroup(),{type:"array",mode:n.mode,addJot:i,arraystretch:o,body:m,cols:s,rowGaps:y,hskipBeforeAndAfter:r,hLinesBeforeRow:v,colSeparationType:a,tags:b,leqno:d}}function Hb(n){return n.slice(0,1)==="d"?"display":"text"}var Fo=function(e,t){var r,i,s=e.body.length,o=e.hLinesBeforeRow,a=0,l=new Array(s),u=[],c=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),h=1/t.fontMetrics().ptPerEm,d=5*h;if(e.colSeparationType&&e.colSeparationType==="small"){var f=t.havingStyle(rt.SCRIPT).sizeMultiplier;d=.2778*(f/t.sizeMultiplier)}var p=e.colSeparationType==="CD"?An({number:3,unit:"ex"},t):12*h,m=3*h,y=e.arraystretch*p,v=.7*y,b=.3*y,k=0;function _(Zn){for(var Oe=0;Oe<Zn.length;++Oe)Oe>0&&(k+=.25),u.push({pos:k,isDashed:Zn[Oe]})}for(_(o[0]),r=0;r<e.body.length;++r){var C=e.body[r],M=v,O=b;a<C.length&&(a=C.length);var D=new Array(C.length);for(i=0;i<C.length;++i){var $=Pt(C[i],t);O<$.depth&&(O=$.depth),M<$.height&&(M=$.height),D[i]=$}var R=e.rowGaps[r],G=0;R&&(G=An(R,t),G>0&&(G+=b,O<G&&(O=G),G=0)),e.addJot&&(O+=m),D.height=M,D.depth=O,k+=M,D.pos=k,k+=O+G,l[r]=D,_(o[r+1])}var N=k/2+t.fontMetrics().axisHeight,j=e.cols||[],Z=[],re,J,K=[];if(e.tags&&e.tags.some(Zn=>Zn))for(r=0;r<s;++r){var ne=l[r],pe=ne.pos-N,B=e.tags[r],Ce=void 0;B===!0?Ce=ie.makeSpan(["eqn-num"],[],t):B===!1?Ce=ie.makeSpan([],[],t):Ce=ie.makeSpan([],Yn(B,t,!0),t),Ce.depth=ne.depth,Ce.height=ne.height,K.push({type:"elem",elem:Ce,shift:pe})}for(i=0,J=0;i<a||J<j.length;++i,++J){for(var ae=j[J]||{},L=!0;ae.type==="separator";){if(L||(re=ie.makeSpan(["arraycolsep"],[]),re.style.width=De(t.fontMetrics().doubleRuleSep),Z.push(re)),ae.separator==="|"||ae.separator===":"){var we=ae.separator==="|"?"solid":"dashed",ge=ie.makeSpan(["vertical-separator"],[],t);ge.style.height=De(k),ge.style.borderRightWidth=De(c),ge.style.borderRightStyle=we,ge.style.margin="0 "+De(-c/2);var Ne=k-N;Ne&&(ge.style.verticalAlign=De(-Ne)),Z.push(ge)}else throw new Te("Invalid separator type: "+ae.separator);J++,ae=j[J]||{},L=!1}if(!(i>=a)){var dt=void 0;(i>0||e.hskipBeforeAndAfter)&&(dt=$t.deflt(ae.pregap,d),dt!==0&&(re=ie.makeSpan(["arraycolsep"],[]),re.style.width=De(dt),Z.push(re)));var _t=[];for(r=0;r<s;++r){var yn=l[r],Bt=yn[i];if(!!Bt){var Rt=yn.pos-N;Bt.depth=yn.depth,Bt.height=yn.height,_t.push({type:"elem",elem:Bt,shift:Rt})}}_t=ie.makeVList({positionType:"individualShift",children:_t},t),_t=ie.makeSpan(["col-align-"+(ae.align||"c")],[_t]),Z.push(_t),(i<a-1||e.hskipBeforeAndAfter)&&(dt=$t.deflt(ae.postgap,d),dt!==0&&(re=ie.makeSpan(["arraycolsep"],[]),re.style.width=De(dt),Z.push(re)))}}if(l=ie.makeSpan(["mtable"],Z),u.length>0){for(var vn=ie.makeLineSpan("hline",t,c),jt=ie.makeLineSpan("hdashline",t,c),In=[{type:"elem",elem:l,shift:0}];u.length>0;){var Gt=u.pop(),wn=Gt.pos-N;Gt.isDashed?In.push({type:"elem",elem:jt,shift:wn}):In.push({type:"elem",elem:vn,shift:wn})}l=ie.makeVList({positionType:"individualShift",children:In},t)}if(K.length===0)return ie.makeSpan(["mord"],[l],t);var Jn=ie.makeVList({positionType:"individualShift",children:K},t);return Jn=ie.makeSpan(["tag"],[Jn],t),ie.makeFragment([l,Jn])},b3e={c:"center ",l:"left ",r:"right "},zo=function(e,t){for(var r=[],i=new Ae.MathNode("mtd",[],["mtr-glue"]),s=new Ae.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<e.body.length;o++){for(var a=e.body[o],l=[],u=0;u<a.length;u++)l.push(new Ae.MathNode("mtd",[on(a[u],t)]));e.tags&&e.tags[o]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(s):l.push(s)),r.push(new Ae.MathNode("mtr",l))}var c=new Ae.MathNode("mtable",r),h=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",De(h));var d="",f="";if(e.cols&&e.cols.length>0){var p=e.cols,m="",y=!1,v=0,b=p.length;p[0].type==="separator"&&(d+="top ",v=1),p[p.length-1].type==="separator"&&(d+="bottom ",b-=1);for(var k=v;k<b;k++)p[k].type==="align"?(f+=b3e[p[k].align],y&&(m+="none "),y=!0):p[k].type==="separator"&&y&&(m+=p[k].separator==="|"?"solid ":"dashed ",y=!1);c.setAttribute("columnalign",f.trim()),/[sd]/.test(m)&&c.setAttribute("columnlines",m.trim())}if(e.colSeparationType==="align"){for(var _=e.cols||[],C="",M=1;M<_.length;M++)C+=M%2?"0em ":"1em ";c.setAttribute("columnspacing",C.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?c.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?c.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var O="",D=e.hLinesBeforeRow;d+=D[0].length>0?"left ":"",d+=D[D.length-1].length>0?"right ":"";for(var $=1;$<D.length-1;$++)O+=D[$].length===0?"none ":D[$][0]?"dashed ":"solid ";return/[sd]/.test(O)&&c.setAttribute("rowlines",O.trim()),d!==""&&(c=new Ae.MathNode("menclose",[c]),c.setAttribute("notation",d.trim())),e.arraystretch&&e.arraystretch<1&&(c=new Ae.MathNode("mstyle",[c]),c.setAttribute("scriptlevel","1")),c},e$=function(e,t){e.envName.indexOf("ed")===-1&&wy(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",o=Hl(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:zb(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),a,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(var c="",h=0;h<t[0].body.length;h++){var d=gt(t[0].body[h],"textord");c+=d.text}a=Number(c),l=a*2}var f=!l;o.body.forEach(function(v){for(var b=1;b<v.length;b+=2){var k=gt(v[b],"styling"),_=gt(k.body[0],"ordgroup");_.body.unshift(u)}if(f)l<v.length&&(l=v.length);else{var C=v.length/2;if(a<C)throw new Te("Too many math in a row: "+("expected "+a+", but got "+C),v[0])}});for(var p=0;p<l;++p){var m="r",y=0;p%2===1?m="l":p>0&&f&&(y=1),r[p]={type:"align",align:m,pregap:y,postgap:0}}return o.colSeparationType=f?"align":"alignat",o};Bo({type:"array",names:["array","darray"],props:{numArgs:1},handler(n,e){var t=gy(e[0]),r=t?[e[0]]:gt(e[0],"ordgroup").body,i=r.map(function(o){var a=Pb(o),l=a.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new Te("Unknown column alignment: "+l,o)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Hl(n.parser,s,Hb(n.envName))},htmlBuilder:Fo,mathmlBuilder:zo});Bo({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(n){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[n.envName.replace("*","")],t="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:t}]};if(n.envName.charAt(n.envName.length-1)==="*"){var i=n.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),t=i.fetch().text,"lcr".indexOf(t)===-1)throw new Te("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:t}]}}var s=Hl(n.parser,r,Hb(n.envName)),o=Math.max(0,...s.body.map(a=>a.length));return s.cols=new Array(o).fill({type:"align",align:t}),e?{type:"leftright",mode:n.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:Fo,mathmlBuilder:zo});Bo({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(n){var e={arraystretch:.5},t=Hl(n.parser,e,"script");return t.colSeparationType="small",t},htmlBuilder:Fo,mathmlBuilder:zo});Bo({type:"array",names:["subarray"],props:{numArgs:1},handler(n,e){var t=gy(e[0]),r=t?[e[0]]:gt(e[0],"ordgroup").body,i=r.map(function(o){var a=Pb(o),l=a.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new Te("Unknown column alignment: "+l,o)});if(i.length>1)throw new Te("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Hl(n.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new Te("{subarray} can contain only one column");return s},htmlBuilder:Fo,mathmlBuilder:zo});Bo({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(n){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},t=Hl(n.parser,e,Hb(n.envName));return{type:"leftright",mode:n.mode,body:[t],left:n.envName.indexOf("r")>-1?".":"\\{",right:n.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Fo,mathmlBuilder:zo});Bo({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:e$,htmlBuilder:Fo,mathmlBuilder:zo});Bo({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(n){["gather","gather*"].includes(n.envName)&&wy(n);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:zb(n.envName),emptySingleRow:!0,leqno:n.parser.settings.leqno};return Hl(n.parser,e,"display")},htmlBuilder:Fo,mathmlBuilder:zo});Bo({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:e$,htmlBuilder:Fo,mathmlBuilder:zo});Bo({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(n){wy(n);var e={autoTag:zb(n.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:n.parser.settings.leqno};return Hl(n.parser,e,"display")},htmlBuilder:Fo,mathmlBuilder:zo});Bo({type:"array",names:["CD"],props:{numArgs:0},handler(n){return wy(n),o3e(n.parser)},htmlBuilder:Fo,mathmlBuilder:zo});I("\\nonumber","\\gdef\\@eqnsw{0}");I("\\notag","\\nonumber");Be({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(n,e){throw new Te(n.funcName+" valid only within array environment")}});var CA=XR;Be({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(n,e){var{parser:t,funcName:r}=n,i=e[0];if(i.type!=="ordgroup")throw new Te("Invalid environment name",i);for(var s="",o=0;o<i.body.length;++o)s+=gt(i.body[o],"textord").text;if(r==="\\begin"){if(!CA.hasOwnProperty(s))throw new Te("No such environment: "+s,i);var a=CA[s],{args:l,optArgs:u}=t.parseArguments("\\begin{"+s+"}",a),c={mode:t.mode,envName:s,parser:t},h=a.handler(c,l,u);t.expect("\\end",!1);var d=t.nextToken,f=gt(t.parseFunction(),"environment");if(f.name!==s)throw new Te("Mismatch: \\begin{"+s+"} matched by \\end{"+f.name+"}",d);return h}return{type:"environment",mode:t.mode,name:s,nameGroup:i}}});var t$=(n,e)=>{var t=n.font,r=e.withFont(t);return Pt(n.body,r)},n$=(n,e)=>{var t=n.font,r=e.withFont(t);return on(n.body,r)},MA={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Be({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=J2(e[0]),s=r;return s in MA&&(s=MA[s]),{type:"font",mode:t.mode,font:s.slice(1),body:i}},htmlBuilder:t$,mathmlBuilder:n$});Be({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(n,e)=>{var{parser:t}=n,r=e[0],i=$t.isCharacterBox(r);return{type:"mclass",mode:t.mode,mclass:yy(r),body:[{type:"font",mode:t.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});Be({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:r,breakOnTokenText:i}=n,{mode:s}=t,o=t.parseExpression(!0,i),a="math"+r.slice(1);return{type:"font",mode:s,font:a,body:{type:"ordgroup",mode:t.mode,body:o}}},htmlBuilder:t$,mathmlBuilder:n$});var r$=(n,e)=>{var t=e;return n==="display"?t=t.id>=rt.SCRIPT.id?t.text():rt.DISPLAY:n==="text"&&t.size===rt.DISPLAY.size?t=rt.TEXT:n==="script"?t=rt.SCRIPT:n==="scriptscript"&&(t=rt.SCRIPTSCRIPT),t},Vb=(n,e)=>{var t=r$(n.size,e.style),r=t.fracNum(),i=t.fracDen(),s;s=e.havingStyle(r);var o=Pt(n.numer,s,e);if(n.continued){var a=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;o.height=o.height<a?a:o.height,o.depth=o.depth<l?l:o.depth}s=e.havingStyle(i);var u=Pt(n.denom,s,e),c,h,d;n.hasBarLine?(n.barSize?(h=An(n.barSize,e),c=ie.makeLineSpan("frac-line",e,h)):c=ie.makeLineSpan("frac-line",e),h=c.height,d=c.height):(c=null,h=0,d=e.fontMetrics().defaultRuleThickness);var f,p,m;t.size===rt.DISPLAY.size||n.size==="display"?(f=e.fontMetrics().num1,h>0?p=3*d:p=7*d,m=e.fontMetrics().denom1):(h>0?(f=e.fontMetrics().num2,p=d):(f=e.fontMetrics().num3,p=3*d),m=e.fontMetrics().denom2);var y;if(c){var b=e.fontMetrics().axisHeight;f-o.depth-(b+.5*h)<p&&(f+=p-(f-o.depth-(b+.5*h))),b-.5*h-(u.height-m)<p&&(m+=p-(b-.5*h-(u.height-m)));var k=-(b-.5*h);y=ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:m},{type:"elem",elem:c,shift:k},{type:"elem",elem:o,shift:-f}]},e)}else{var v=f-o.depth-(u.height-m);v<p&&(f+=.5*(p-v),m+=.5*(p-v)),y=ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:m},{type:"elem",elem:o,shift:-f}]},e)}s=e.havingStyle(t),y.height*=s.sizeMultiplier/e.sizeMultiplier,y.depth*=s.sizeMultiplier/e.sizeMultiplier;var _;t.size===rt.DISPLAY.size?_=e.fontMetrics().delim1:t.size===rt.SCRIPTSCRIPT.size?_=e.havingStyle(rt.SCRIPT).fontMetrics().delim2:_=e.fontMetrics().delim2;var C,M;return n.leftDelim==null?C=S1(e,["mopen"]):C=wa.customSizedDelim(n.leftDelim,_,!0,e.havingStyle(t),n.mode,["mopen"]),n.continued?M=ie.makeSpan([]):n.rightDelim==null?M=S1(e,["mclose"]):M=wa.customSizedDelim(n.rightDelim,_,!0,e.havingStyle(t),n.mode,["mclose"]),ie.makeSpan(["mord"].concat(s.sizingClasses(e)),[C,ie.makeSpan(["mfrac"],[y]),M],e)},qb=(n,e)=>{var t=new Ae.MathNode("mfrac",[on(n.numer,e),on(n.denom,e)]);if(!n.hasBarLine)t.setAttribute("linethickness","0px");else if(n.barSize){var r=An(n.barSize,e);t.setAttribute("linethickness",De(r))}var i=r$(n.size,e.style);if(i.size!==e.style.size){t=new Ae.MathNode("mstyle",[t]);var s=i.size===rt.DISPLAY.size?"true":"false";t.setAttribute("displaystyle",s),t.setAttribute("scriptlevel","0")}if(n.leftDelim!=null||n.rightDelim!=null){var o=[];if(n.leftDelim!=null){var a=new Ae.MathNode("mo",[new Ae.TextNode(n.leftDelim.replace("\\",""))]);a.setAttribute("fence","true"),o.push(a)}if(o.push(t),n.rightDelim!=null){var l=new Ae.MathNode("mo",[new Ae.TextNode(n.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),o.push(l)}return Nb(o)}return t};Be({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0],s=e[1],o,a=null,l=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":o=!0;break;case"\\\\atopfrac":o=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":o=!1,a="(",l=")";break;case"\\\\bracefrac":o=!1,a="\\{",l="\\}";break;case"\\\\brackfrac":o=!1,a="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:t.mode,continued:!1,numer:i,denom:s,hasBarLine:o,leftDelim:a,rightDelim:l,size:u,barSize:null}},htmlBuilder:Vb,mathmlBuilder:qb});Be({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0],s=e[1];return{type:"genfrac",mode:t.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Be({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(n){var{parser:e,funcName:t,token:r}=n,i;switch(t){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var AA=["display","text","script","scriptscript"],_A=function(e){var t=null;return e.length>0&&(t=e,t=t==="."?null:t),t};Be({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(n,e){var{parser:t}=n,r=e[4],i=e[5],s=J2(e[0]),o=s.type==="atom"&&s.family==="open"?_A(s.text):null,a=J2(e[1]),l=a.type==="atom"&&a.family==="close"?_A(a.text):null,u=gt(e[2],"size"),c,h=null;u.isBlank?c=!0:(h=u.value,c=h.number>0);var d="auto",f=e[3];if(f.type==="ordgroup"){if(f.body.length>0){var p=gt(f.body[0],"textord");d=AA[Number(p.text)]}}else f=gt(f,"textord"),d=AA[Number(f.text)];return{type:"genfrac",mode:t.mode,numer:r,denom:i,continued:!1,hasBarLine:c,barSize:h,leftDelim:o,rightDelim:l,size:d}},htmlBuilder:Vb,mathmlBuilder:qb});Be({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(n,e){var{parser:t,funcName:r,token:i}=n;return{type:"infix",mode:t.mode,replaceWith:"\\\\abovefrac",size:gt(e[0],"size").value,token:i}}});Be({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0],s=Y6e(gt(e[1],"infix").size),o=e[2],a=s.number>0;return{type:"genfrac",mode:t.mode,numer:i,denom:o,continued:!1,hasBarLine:a,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Vb,mathmlBuilder:qb});var i$=(n,e)=>{var t=e.style,r,i;n.type==="supsub"?(r=n.sup?Pt(n.sup,e.havingStyle(t.sup()),e):Pt(n.sub,e.havingStyle(t.sub()),e),i=gt(n.base,"horizBrace")):i=gt(n,"horizBrace");var s=Pt(i.base,e.havingBaseStyle(rt.DISPLAY)),o=Aa.svgSpan(i,e),a;if(i.isOver?(a=ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:o}]},e),a.children[0].children[0].children[1].classes.push("svg-align")):(a=ie.makeVList({positionType:"bottom",positionData:s.depth+.1+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:s}]},e),a.children[0].children[0].children[0].classes.push("svg-align")),r){var l=ie.makeSpan(["mord",i.isOver?"mover":"munder"],[a],e);i.isOver?a=ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},e):a=ie.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return ie.makeSpan(["mord",i.isOver?"mover":"munder"],[a],e)},k3e=(n,e)=>{var t=Aa.mathMLnode(n.label);return new Ae.MathNode(n.isOver?"mover":"munder",[on(n.base,e),t])};Be({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:r}=n;return{type:"horizBrace",mode:t.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:i$,mathmlBuilder:k3e});Be({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=e[1],i=gt(e[0],"url").url;return t.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:t.mode,href:i,body:Ln(r)}:t.formatUnsupportedCmd("\\href")},htmlBuilder:(n,e)=>{var t=Yn(n.body,e,!1);return ie.makeAnchor(n.href,[],t,e)},mathmlBuilder:(n,e)=>{var t=Dl(n.body,e);return t instanceof Oi||(t=new Oi("mrow",[t])),t.setAttribute("href",n.href),t}});Be({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=gt(e[0],"url").url;if(!t.settings.isTrusted({command:"\\url",url:r}))return t.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var o=r[s];o==="~"&&(o="\\textasciitilde"),i.push({type:"textord",mode:"text",text:o})}var a={type:"text",mode:t.mode,font:"\\texttt",body:i};return{type:"href",mode:t.mode,href:r,body:Ln(a)}}});Be({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(n,e){var{parser:t}=n;return{type:"hbox",mode:t.mode,body:Ln(e[0])}},htmlBuilder(n,e){var t=Yn(n.body,e,!1);return ie.makeFragment(t)},mathmlBuilder(n,e){return new Ae.MathNode("mrow",fi(n.body,e))}});Be({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:r,token:i}=n,s=gt(e[0],"raw").string,o=e[1];t.settings.strict&&t.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var a,l={};switch(r){case"\\htmlClass":l.class=s,a={command:"\\htmlClass",class:s};break;case"\\htmlId":l.id=s,a={command:"\\htmlId",id:s};break;case"\\htmlStyle":l.style=s,a={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var u=s.split(","),c=0;c<u.length;c++){var h=u[c].split("=");if(h.length!==2)throw new Te("Error parsing key-value for \\htmlData");l["data-"+h[0].trim()]=h[1].trim()}a={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return t.settings.isTrusted(a)?{type:"html",mode:t.mode,attributes:l,body:Ln(o)}:t.formatUnsupportedCmd(r)},htmlBuilder:(n,e)=>{var t=Yn(n.body,e,!1),r=["enclosing"];n.attributes.class&&r.push(...n.attributes.class.trim().split(/\s+/));var i=ie.makeSpan(r,t,e);for(var s in n.attributes)s!=="class"&&n.attributes.hasOwnProperty(s)&&i.setAttribute(s,n.attributes[s]);return i},mathmlBuilder:(n,e)=>Dl(n.body,e)});Be({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n;return{type:"htmlmathml",mode:t.mode,html:Ln(e[0]),mathml:Ln(e[1])}},htmlBuilder:(n,e)=>{var t=Yn(n.html,e,!1);return ie.makeFragment(t)},mathmlBuilder:(n,e)=>Dl(n.mathml,e)});var _6=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new Te("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(t[1]+t[2]),unit:t[3]};if(!SR(r))throw new Te("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};Be({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(n,e,t)=>{var{parser:r}=n,i={number:0,unit:"em"},s={number:.9,unit:"em"},o={number:0,unit:"em"},a="";if(t[0])for(var l=gt(t[0],"raw").string,u=l.split(","),c=0;c<u.length;c++){var h=u[c].split("=");if(h.length===2){var d=h[1].trim();switch(h[0].trim()){case"alt":a=d;break;case"width":i=_6(d);break;case"height":s=_6(d);break;case"totalheight":o=_6(d);break;default:throw new Te("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var f=gt(e[0],"url").url;return a===""&&(a=f,a=a.replace(/^.*[\\/]/,""),a=a.substring(0,a.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:f})?{type:"includegraphics",mode:r.mode,alt:a,width:i,height:s,totalheight:o,src:f}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(n,e)=>{var t=An(n.height,e),r=0;n.totalheight.number>0&&(r=An(n.totalheight,e)-t);var i=0;n.width.number>0&&(i=An(n.width,e));var s={height:De(t+r)};i>0&&(s.width=De(i)),r>0&&(s.verticalAlign=De(-r));var o=new kve(n.src,n.alt,s);return o.height=t,o.depth=r,o},mathmlBuilder:(n,e)=>{var t=new Ae.MathNode("mglyph",[]);t.setAttribute("alt",n.alt);var r=An(n.height,e),i=0;if(n.totalheight.number>0&&(i=An(n.totalheight,e)-r,t.setAttribute("valign",De(-i))),t.setAttribute("height",De(r+i)),n.width.number>0){var s=An(n.width,e);t.setAttribute("width",De(s))}return t.setAttribute("src",n.src),t}});Be({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(n,e){var{parser:t,funcName:r}=n,i=gt(e[0],"size");if(t.settings.strict){var s=r[1]==="m",o=i.value.unit==="mu";s?(o||t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),t.mode!=="math"&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):o&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:t.mode,dimension:i.value}},htmlBuilder(n,e){return ie.makeGlue(n.dimension,e)},mathmlBuilder(n,e){var t=An(n.dimension,e);return new Ae.SpaceNode(t)}});Be({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0];return{type:"lap",mode:t.mode,alignment:r.slice(5),body:i}},htmlBuilder:(n,e)=>{var t;n.alignment==="clap"?(t=ie.makeSpan([],[Pt(n.body,e)]),t=ie.makeSpan(["inner"],[t],e)):t=ie.makeSpan(["inner"],[Pt(n.body,e)]);var r=ie.makeSpan(["fix"],[]),i=ie.makeSpan([n.alignment],[t,r],e),s=ie.makeSpan(["strut"]);return s.style.height=De(i.height+i.depth),i.depth&&(s.style.verticalAlign=De(-i.depth)),i.children.unshift(s),i=ie.makeSpan(["thinbox"],[i],e),ie.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(n,e)=>{var t=new Ae.MathNode("mpadded",[on(n.body,e)]);if(n.alignment!=="rlap"){var r=n.alignment==="llap"?"-1":"-0.5";t.setAttribute("lspace",r+"width")}return t.setAttribute("width","0px"),t}});Be({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(n,e){var{funcName:t,parser:r}=n,i=r.mode;r.switchMode("math");var s=t==="\\("?"\\)":"$",o=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:o}}});Be({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(n,e){throw new Te("Mismatched "+n.funcName)}});var TA=(n,e)=>{switch(e.style.size){case rt.DISPLAY.size:return n.display;case rt.TEXT.size:return n.text;case rt.SCRIPT.size:return n.script;case rt.SCRIPTSCRIPT.size:return n.scriptscript;default:return n.text}};Be({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(n,e)=>{var{parser:t}=n;return{type:"mathchoice",mode:t.mode,display:Ln(e[0]),text:Ln(e[1]),script:Ln(e[2]),scriptscript:Ln(e[3])}},htmlBuilder:(n,e)=>{var t=TA(n,e),r=Yn(t,e,!1);return ie.makeFragment(r)},mathmlBuilder:(n,e)=>{var t=TA(n,e);return Dl(t,e)}});var s$=(n,e,t,r,i,s,o)=>{n=ie.makeSpan([],[n]);var a=t&&$t.isCharacterBox(t),l,u;if(e){var c=Pt(e,r.havingStyle(i.sup()),r);u={elem:c,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-c.depth)}}if(t){var h=Pt(t,r.havingStyle(i.sub()),r);l={elem:h,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-h.height)}}var d;if(u&&l){var f=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+n.depth+o;d=ie.makeVList({positionType:"bottom",positionData:f,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:De(-s)},{type:"kern",size:l.kern},{type:"elem",elem:n},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:De(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var p=n.height-o;d=ie.makeVList({positionType:"top",positionData:p,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:De(-s)},{type:"kern",size:l.kern},{type:"elem",elem:n}]},r)}else if(u){var m=n.depth+o;d=ie.makeVList({positionType:"bottom",positionData:m,children:[{type:"elem",elem:n},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:De(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return n;var y=[d];if(l&&s!==0&&!a){var v=ie.makeSpan(["mspace"],[],r);v.style.marginRight=De(s),y.unshift(v)}return ie.makeSpan(["mop","op-limits"],y,r)},o$=["\\smallint"],z0=(n,e)=>{var t,r,i=!1,s;n.type==="supsub"?(t=n.sup,r=n.sub,s=gt(n.base,"op"),i=!0):s=gt(n,"op");var o=e.style,a=!1;o.size===rt.DISPLAY.size&&s.symbol&&!o$.includes(s.name)&&(a=!0);var l;if(s.symbol){var u=a?"Size2-Regular":"Size1-Regular",c="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(c=s.name.slice(1),s.name=c==="oiint"?"\\iint":"\\iiint"),l=ie.makeSymbol(s.name,u,"math",e,["mop","op-symbol",a?"large-op":"small-op"]),c.length>0){var h=l.italic,d=ie.staticSvg(c+"Size"+(a?"2":"1"),e);l=ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:d,shift:a?.08:0}]},e),s.name="\\"+c,l.classes.unshift("mop"),l.italic=h}}else if(s.body){var f=Yn(s.body,e,!0);f.length===1&&f[0]instanceof gs?(l=f[0],l.classes[0]="mop"):l=ie.makeSpan(["mop"],f,e)}else{for(var p=[],m=1;m<s.name.length;m++)p.push(ie.mathsym(s.name[m],s.mode,e));l=ie.makeSpan(["mop"],p,e)}var y=0,v=0;return(l instanceof gs||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(y=(l.height-l.depth)/2-e.fontMetrics().axisHeight,v=l.italic),i?s$(l,t,r,e,o,v,y):(y&&(l.style.position="relative",l.style.top=De(y)),l)},Dp=(n,e)=>{var t;if(n.symbol)t=new Oi("mo",[ys(n.name,n.mode)]),o$.includes(n.name)&&t.setAttribute("largeop","false");else if(n.body)t=new Oi("mo",fi(n.body,e));else{t=new Oi("mi",[new wo(n.name.slice(1))]);var r=new Oi("mo",[ys("\u2061","text")]);n.parentIsSupSub?t=new Oi("mrow",[t,r]):t=LR([t,r])}return t},x3e={"\u220F":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22C0":"\\bigwedge","\u22C1":"\\bigvee","\u22C2":"\\bigcap","\u22C3":"\\bigcup","\u2A00":"\\bigodot","\u2A01":"\\bigoplus","\u2A02":"\\bigotimes","\u2A04":"\\biguplus","\u2A06":"\\bigsqcup"};Be({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220F","\u2210","\u2211","\u22C0","\u22C1","\u22C2","\u22C3","\u2A00","\u2A01","\u2A02","\u2A04","\u2A06"],props:{numArgs:0},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=r;return i.length===1&&(i=x3e[i]),{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:z0,mathmlBuilder:Dp});Be({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var{parser:t}=n,r=e[0];return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Ln(r)}},htmlBuilder:z0,mathmlBuilder:Dp});var S3e={"\u222B":"\\int","\u222C":"\\iint","\u222D":"\\iiint","\u222E":"\\oint","\u222F":"\\oiint","\u2230":"\\oiiint"};Be({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:z0,mathmlBuilder:Dp});Be({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:z0,mathmlBuilder:Dp});Be({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222B","\u222C","\u222D","\u222E","\u222F","\u2230"],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n,r=t;return r.length===1&&(r=S3e[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:z0,mathmlBuilder:Dp});var a$=(n,e)=>{var t,r,i=!1,s;n.type==="supsub"?(t=n.sup,r=n.sub,s=gt(n.base,"operatorname"),i=!0):s=gt(n,"operatorname");var o;if(s.body.length>0){for(var a=s.body.map(h=>{var d=h.text;return typeof d=="string"?{type:"textord",mode:h.mode,text:d}:h}),l=Yn(a,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var c=l[u];c instanceof gs&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=ie.makeSpan(["mop"],l,e)}else o=ie.makeSpan(["mop"],[],e);return i?s$(o,t,r,e,e.style,0,0):o},C3e=(n,e)=>{for(var t=fi(n.body,e.withFont("mathrm")),r=!0,i=0;i<t.length;i++){var s=t[i];if(!(s instanceof Ae.SpaceNode))if(s instanceof Ae.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var o=s.children[0];s.children.length===1&&o instanceof Ae.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var a=t.map(c=>c.toText()).join("");t=[new Ae.TextNode(a)]}var l=new Ae.MathNode("mi",t);l.setAttribute("mathvariant","normal");var u=new Ae.MathNode("mo",[ys("\u2061","text")]);return n.parentIsSupSub?new Ae.MathNode("mrow",[l,u]):Ae.newDocumentFragment([l,u])};Be({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0];return{type:"operatorname",mode:t.mode,body:Ln(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:a$,mathmlBuilder:C3e});I("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");xc({type:"ordgroup",htmlBuilder(n,e){return n.semisimple?ie.makeFragment(Yn(n.body,e,!1)):ie.makeSpan(["mord"],Yn(n.body,e,!0),e)},mathmlBuilder(n,e){return Dl(n.body,e,!0)}});Be({type:"overline",names:["\\overline"],props:{numArgs:1},handler(n,e){var{parser:t}=n,r=e[0];return{type:"overline",mode:t.mode,body:r}},htmlBuilder(n,e){var t=Pt(n.body,e.havingCrampedStyle()),r=ie.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return ie.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(n,e){var t=new Ae.MathNode("mo",[new Ae.TextNode("\u203E")]);t.setAttribute("stretchy","true");var r=new Ae.MathNode("mover",[on(n.body,e),t]);return r.setAttribute("accent","true"),r}});Be({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=e[0];return{type:"phantom",mode:t.mode,body:Ln(r)}},htmlBuilder:(n,e)=>{var t=Yn(n.body,e.withPhantom(),!1);return ie.makeFragment(t)},mathmlBuilder:(n,e)=>{var t=fi(n.body,e);return new Ae.MathNode("mphantom",t)}});Be({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=e[0];return{type:"hphantom",mode:t.mode,body:r}},htmlBuilder:(n,e)=>{var t=ie.makeSpan([],[Pt(n.body,e.withPhantom())]);if(t.height=0,t.depth=0,t.children)for(var r=0;r<t.children.length;r++)t.children[r].height=0,t.children[r].depth=0;return t=ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e),ie.makeSpan(["mord"],[t],e)},mathmlBuilder:(n,e)=>{var t=fi(Ln(n.body),e),r=new Ae.MathNode("mphantom",t),i=new Ae.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});Be({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=e[0];return{type:"vphantom",mode:t.mode,body:r}},htmlBuilder:(n,e)=>{var t=ie.makeSpan(["inner"],[Pt(n.body,e.withPhantom())]),r=ie.makeSpan(["fix"],[]);return ie.makeSpan(["mord","rlap"],[t,r],e)},mathmlBuilder:(n,e)=>{var t=fi(Ln(n.body),e),r=new Ae.MathNode("mphantom",t),i=new Ae.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});Be({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(n,e){var{parser:t}=n,r=gt(e[0],"size").value,i=e[1];return{type:"raisebox",mode:t.mode,dy:r,body:i}},htmlBuilder(n,e){var t=Pt(n.body,e),r=An(n.dy,e);return ie.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(n,e){var t=new Ae.MathNode("mpadded",[on(n.body,e)]),r=n.dy.number+n.dy.unit;return t.setAttribute("voffset",r),t}});Be({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(n){var{parser:e}=n;return{type:"internal",mode:e.mode}}});Be({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(n,e,t){var{parser:r}=n,i=t[0],s=gt(e[0],"size"),o=gt(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&gt(i,"size").value,width:s.value,height:o.value}},htmlBuilder(n,e){var t=ie.makeSpan(["mord","rule"],[],e),r=An(n.width,e),i=An(n.height,e),s=n.shift?An(n.shift,e):0;return t.style.borderRightWidth=De(r),t.style.borderTopWidth=De(i),t.style.bottom=De(s),t.width=r,t.height=i+s,t.depth=-s,t.maxFontSize=i*1.125*e.sizeMultiplier,t},mathmlBuilder(n,e){var t=An(n.width,e),r=An(n.height,e),i=n.shift?An(n.shift,e):0,s=e.color&&e.getColor()||"black",o=new Ae.MathNode("mspace");o.setAttribute("mathbackground",s),o.setAttribute("width",De(t)),o.setAttribute("height",De(r));var a=new Ae.MathNode("mpadded",[o]);return i>=0?a.setAttribute("height",De(i)):(a.setAttribute("height",De(i)),a.setAttribute("depth",De(-i))),a.setAttribute("voffset",De(i)),a}});function l$(n,e,t){for(var r=Yn(n,e,!1),i=e.sizeMultiplier/t.sizeMultiplier,s=0;s<r.length;s++){var o=r[s].classes.indexOf("sizing");o<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(t)):r[s].classes[o+1]==="reset-size"+e.size&&(r[s].classes[o+1]="reset-size"+t.size),r[s].height*=i,r[s].depth*=i}return ie.makeFragment(r)}var EA=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],M3e=(n,e)=>{var t=e.havingSize(n.size);return l$(n.body,t,e)};Be({type:"sizing",names:EA,props:{numArgs:0,allowedInText:!0},handler:(n,e)=>{var{breakOnTokenText:t,funcName:r,parser:i}=n,s=i.parseExpression(!1,t);return{type:"sizing",mode:i.mode,size:EA.indexOf(r)+1,body:s}},htmlBuilder:M3e,mathmlBuilder:(n,e)=>{var t=e.havingSize(n.size),r=fi(n.body,t),i=new Ae.MathNode("mstyle",r);return i.setAttribute("mathsize",De(t.sizeMultiplier)),i}});Be({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(n,e,t)=>{var{parser:r}=n,i=!1,s=!1,o=t[0]&&gt(t[0],"ordgroup");if(o)for(var a="",l=0;l<o.body.length;++l){var u=o.body[l];if(a=u.text,a==="t")i=!0;else if(a==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var c=e[0];return{type:"smash",mode:r.mode,body:c,smashHeight:i,smashDepth:s}},htmlBuilder:(n,e)=>{var t=ie.makeSpan([],[Pt(n.body,e)]);if(!n.smashHeight&&!n.smashDepth)return t;if(n.smashHeight&&(t.height=0,t.children))for(var r=0;r<t.children.length;r++)t.children[r].height=0;if(n.smashDepth&&(t.depth=0,t.children))for(var i=0;i<t.children.length;i++)t.children[i].depth=0;var s=ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e);return ie.makeSpan(["mord"],[s],e)},mathmlBuilder:(n,e)=>{var t=new Ae.MathNode("mpadded",[on(n.body,e)]);return n.smashHeight&&t.setAttribute("height","0px"),n.smashDepth&&t.setAttribute("depth","0px"),t}});Be({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(n,e,t){var{parser:r}=n,i=t[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(n,e){var t=Pt(n.body,e.havingCrampedStyle());t.height===0&&(t.height=e.fontMetrics().xHeight),t=ie.wrapFragment(t,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,s=i;e.style.id<rt.TEXT.id&&(s=e.fontMetrics().xHeight);var o=i+s/4,a=t.height+t.depth+o+i,{span:l,ruleWidth:u,advanceWidth:c}=wa.sqrtImage(a,e),h=l.height-u;h>t.height+t.depth+o&&(o=(o+h-t.height-t.depth)/2);var d=l.height-t.height-o-u;t.style.paddingLeft=De(c);var f=ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t,wrapperClasses:["svg-align"]},{type:"kern",size:-(t.height+d)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(n.index){var p=e.havingStyle(rt.SCRIPTSCRIPT),m=Pt(n.index,p,e),y=.6*(f.height-f.depth),v=ie.makeVList({positionType:"shift",positionData:-y,children:[{type:"elem",elem:m}]},e),b=ie.makeSpan(["root"],[v]);return ie.makeSpan(["mord","sqrt"],[b,f],e)}else return ie.makeSpan(["mord","sqrt"],[f],e)},mathmlBuilder(n,e){var{body:t,index:r}=n;return r?new Ae.MathNode("mroot",[on(t,e),on(r,e)]):new Ae.MathNode("msqrt",[on(t,e)])}});var OA={display:rt.DISPLAY,text:rt.TEXT,script:rt.SCRIPT,scriptscript:rt.SCRIPTSCRIPT};Be({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n,e){var{breakOnTokenText:t,funcName:r,parser:i}=n,s=i.parseExpression(!0,t),o=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:o,body:s}},htmlBuilder(n,e){var t=OA[n.style],r=e.havingStyle(t).withFont("");return l$(n.body,r,e)},mathmlBuilder(n,e){var t=OA[n.style],r=e.havingStyle(t),i=fi(n.body,r),s=new Ae.MathNode("mstyle",i),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},a=o[n.style];return s.setAttribute("scriptlevel",a[0]),s.setAttribute("displaystyle",a[1]),s}});var A3e=function(e,t){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(t.style.size===rt.DISPLAY.size||r.alwaysHandleSupSub);return i?z0:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(t.style.size===rt.DISPLAY.size||r.limits);return s?a$:null}else{if(r.type==="accent")return $t.isCharacterBox(r.base)?Rb:null;if(r.type==="horizBrace"){var o=!e.sub;return o===r.isOver?i$:null}else return null}else return null};xc({type:"supsub",htmlBuilder(n,e){var t=A3e(n,e);if(t)return t(n,e);var{base:r,sup:i,sub:s}=n,o=Pt(r,e),a,l,u=e.fontMetrics(),c=0,h=0,d=r&&$t.isCharacterBox(r);if(i){var f=e.havingStyle(e.style.sup());a=Pt(i,f,e),d||(c=o.height-f.fontMetrics().supDrop*f.sizeMultiplier/e.sizeMultiplier)}if(s){var p=e.havingStyle(e.style.sub());l=Pt(s,p,e),d||(h=o.depth+p.fontMetrics().subDrop*p.sizeMultiplier/e.sizeMultiplier)}var m;e.style===rt.DISPLAY?m=u.sup1:e.style.cramped?m=u.sup3:m=u.sup2;var y=e.sizeMultiplier,v=De(.5/u.ptPerEm/y),b=null;if(l){var k=n.base&&n.base.type==="op"&&n.base.name&&(n.base.name==="\\oiint"||n.base.name==="\\oiiint");(o instanceof gs||k)&&(b=De(-o.italic))}var _;if(a&&l){c=Math.max(c,m,a.depth+.25*u.xHeight),h=Math.max(h,u.sub2);var C=u.defaultRuleThickness,M=4*C;if(c-a.depth-(l.height-h)<M){h=M-(c-a.depth)+l.height;var O=.8*u.xHeight-(c-a.depth);O>0&&(c+=O,h-=O)}var D=[{type:"elem",elem:l,shift:h,marginRight:v,marginLeft:b},{type:"elem",elem:a,shift:-c,marginRight:v}];_=ie.makeVList({positionType:"individualShift",children:D},e)}else if(l){h=Math.max(h,u.sub1,l.height-.8*u.xHeight);var $=[{type:"elem",elem:l,marginLeft:b,marginRight:v}];_=ie.makeVList({positionType:"shift",positionData:h,children:$},e)}else if(a)c=Math.max(c,m,a.depth+.25*u.xHeight),_=ie.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:a,marginRight:v}]},e);else throw new Error("supsub must have either sup or sub.");var R=U3(o,"right")||"mord";return ie.makeSpan([R],[o,ie.makeSpan(["msupsub"],[_])],e)},mathmlBuilder(n,e){var t=!1,r,i;n.base&&n.base.type==="horizBrace"&&(i=!!n.sup,i===n.base.isOver&&(t=!0,r=n.base.isOver)),n.base&&(n.base.type==="op"||n.base.type==="operatorname")&&(n.base.parentIsSupSub=!0);var s=[on(n.base,e)];n.sub&&s.push(on(n.sub,e)),n.sup&&s.push(on(n.sup,e));var o;if(t)o=r?"mover":"munder";else if(n.sub)if(n.sup){var u=n.base;u&&u.type==="op"&&u.limits&&e.style===rt.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===rt.DISPLAY||u.limits)?o="munderover":o="msubsup"}else{var l=n.base;l&&l.type==="op"&&l.limits&&(e.style===rt.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===rt.DISPLAY)?o="munder":o="msub"}else{var a=n.base;a&&a.type==="op"&&a.limits&&(e.style===rt.DISPLAY||a.alwaysHandleSupSub)||a&&a.type==="operatorname"&&a.alwaysHandleSupSub&&(a.limits||e.style===rt.DISPLAY)?o="mover":o="msup"}return new Ae.MathNode(o,s)}});xc({type:"atom",htmlBuilder(n,e){return ie.mathsym(n.text,n.mode,e,["m"+n.family])},mathmlBuilder(n,e){var t=new Ae.MathNode("mo",[ys(n.text,n.mode)]);if(n.family==="bin"){var r=Lb(n,e);r==="bold-italic"&&t.setAttribute("mathvariant",r)}else n.family==="punct"?t.setAttribute("separator","true"):(n.family==="open"||n.family==="close")&&t.setAttribute("stretchy","false");return t}});var u$={mi:"italic",mn:"normal",mtext:"normal"};xc({type:"mathord",htmlBuilder(n,e){return ie.makeOrd(n,e,"mathord")},mathmlBuilder(n,e){var t=new Ae.MathNode("mi",[ys(n.text,n.mode,e)]),r=Lb(n,e)||"italic";return r!==u$[t.type]&&t.setAttribute("mathvariant",r),t}});xc({type:"textord",htmlBuilder(n,e){return ie.makeOrd(n,e,"textord")},mathmlBuilder(n,e){var t=ys(n.text,n.mode,e),r=Lb(n,e)||"normal",i;return n.mode==="text"?i=new Ae.MathNode("mtext",[t]):/[0-9]/.test(n.text)?i=new Ae.MathNode("mn",[t]):n.text==="\\prime"?i=new Ae.MathNode("mo",[t]):i=new Ae.MathNode("mi",[t]),r!==u$[i.type]&&i.setAttribute("mathvariant",r),i}});var T6={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},E6={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};xc({type:"spacing",htmlBuilder(n,e){if(E6.hasOwnProperty(n.text)){var t=E6[n.text].className||"";if(n.mode==="text"){var r=ie.makeOrd(n,e,"textord");return r.classes.push(t),r}else return ie.makeSpan(["mspace",t],[ie.mathsym(n.text,n.mode,e)],e)}else{if(T6.hasOwnProperty(n.text))return ie.makeSpan(["mspace",T6[n.text]],[],e);throw new Te('Unknown type of space "'+n.text+'"')}},mathmlBuilder(n,e){var t;if(E6.hasOwnProperty(n.text))t=new Ae.MathNode("mtext",[new Ae.TextNode("\xA0")]);else{if(T6.hasOwnProperty(n.text))return new Ae.MathNode("mspace");throw new Te('Unknown type of space "'+n.text+'"')}return t}});var IA=()=>{var n=new Ae.MathNode("mtd",[]);return n.setAttribute("width","50%"),n};xc({type:"tag",mathmlBuilder(n,e){var t=new Ae.MathNode("mtable",[new Ae.MathNode("mtr",[IA(),new Ae.MathNode("mtd",[Dl(n.body,e)]),IA(),new Ae.MathNode("mtd",[Dl(n.tag,e)])])]);return t.setAttribute("width","100%"),t}});var DA={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},NA={"\\textbf":"textbf","\\textmd":"textmd"},_3e={"\\textit":"textit","\\textup":"textup"},LA=(n,e)=>{var t=n.font;if(t){if(DA[t])return e.withTextFontFamily(DA[t]);if(NA[t])return e.withTextFontWeight(NA[t]);if(t==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(_3e[t])};Be({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(n,e){var{parser:t,funcName:r}=n,i=e[0];return{type:"text",mode:t.mode,body:Ln(i),font:r}},htmlBuilder(n,e){var t=LA(n,e),r=Yn(n.body,t,!0);return ie.makeSpan(["mord","text"],r,t)},mathmlBuilder(n,e){var t=LA(n,e);return Dl(n.body,t)}});Be({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"underline",mode:t.mode,body:e[0]}},htmlBuilder(n,e){var t=Pt(n.body,e),r=ie.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=ie.makeVList({positionType:"top",positionData:t.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:t}]},e);return ie.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(n,e){var t=new Ae.MathNode("mo",[new Ae.TextNode("\u203E")]);t.setAttribute("stretchy","true");var r=new Ae.MathNode("munder",[on(n.body,e),t]);return r.setAttribute("accentunder","true"),r}});Be({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(n,e){var{parser:t}=n;return{type:"vcenter",mode:t.mode,body:e[0]}},htmlBuilder(n,e){var t=Pt(n.body,e),r=e.fontMetrics().axisHeight,i=.5*(t.height-r-(t.depth+r));return ie.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(n,e){return new Ae.MathNode("mpadded",[on(n.body,e)],["vcenter"])}});Be({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(n,e,t){throw new Te("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(n,e){for(var t=PA(n),r=[],i=e.havingStyle(e.style.text()),s=0;s<t.length;s++){var o=t[s];o==="~"&&(o="\\textasciitilde"),r.push(ie.makeSymbol(o,"Typewriter-Regular",n.mode,i,["mord","texttt"]))}return ie.makeSpan(["mord","text"].concat(i.sizingClasses(e)),ie.tryCombineChars(r),i)},mathmlBuilder(n,e){var t=new Ae.TextNode(PA(n)),r=new Ae.MathNode("mtext",[t]);return r.setAttribute("mathvariant","monospace"),r}});var PA=n=>n.body.replace(/ /g,n.star?"\u2423":"\xA0"),pl=DR,c$=`[ \r
	]`,T3e="\\\\[a-zA-Z@]+",E3e="\\\\[^\uD800-\uDFFF]",O3e="("+T3e+")"+c$+"*",I3e=`\\\\(
|[ \r	]+
?)[ \r	]*`,J3="[\u0300-\u036F]",D3e=new RegExp(J3+"+$"),N3e="("+c$+"+)|"+(I3e+"|")+"([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]"+(J3+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(J3+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+O3e)+("|"+E3e+")");class RA{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(N3e,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new Pi("EOF",new Xr(this,t,t));var r=this.tokenRegex.exec(e);if(r===null||r.index!==t)throw new Te("Unexpected character: '"+e[t]+"'",new Pi(e[t],new Xr(this,t,t+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new Pi(i,new Xr(this,t,this.tokenRegex.lastIndex))}}class L3e{constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Te("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(e[t]==null?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}t==null?delete this.current[e]:this.current[e]=t}}var P3e=QR;I("\\noexpand",function(n){var e=n.popToken();return n.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});I("\\expandafter",function(n){var e=n.popToken();return n.expandOnce(!0),{tokens:[e],numArgs:0}});I("\\@firstoftwo",function(n){var e=n.consumeArgs(2);return{tokens:e[0],numArgs:0}});I("\\@secondoftwo",function(n){var e=n.consumeArgs(2);return{tokens:e[1],numArgs:0}});I("\\@ifnextchar",function(n){var e=n.consumeArgs(3);n.consumeSpaces();var t=n.future();return e[0].length===1&&e[0][0].text===t.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});I("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");I("\\TextOrMath",function(n){var e=n.consumeArgs(2);return n.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var $A={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};I("\\char",function(n){var e=n.popToken(),t,r="";if(e.text==="'")t=8,e=n.popToken();else if(e.text==='"')t=16,e=n.popToken();else if(e.text==="`")if(e=n.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Te("\\char` missing argument");r=e.text.charCodeAt(0)}else t=10;if(t){if(r=$A[e.text],r==null||r>=t)throw new Te("Invalid base-"+t+" digit "+e.text);for(var i;(i=$A[n.future().text])!=null&&i<t;)r*=t,r+=i,n.popToken()}return"\\@char{"+r+"}"});var Wb=(n,e,t,r)=>{var i=n.consumeArg().tokens;if(i.length!==1)throw new Te("\\newcommand's first argument must be a macro name");var s=i[0].text,o=n.isDefined(s);if(o&&!e)throw new Te("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!o&&!t)throw new Te("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var a=0;if(i=n.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var l="",u=n.expandNextToken();u.text!=="]"&&u.text!=="EOF";)l+=u.text,u=n.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new Te("Invalid number of arguments: "+l);a=parseInt(l),i=n.consumeArg().tokens}return o&&r||n.macros.set(s,{tokens:i,numArgs:a}),""};I("\\newcommand",n=>Wb(n,!1,!0,!1));I("\\renewcommand",n=>Wb(n,!0,!1,!1));I("\\providecommand",n=>Wb(n,!0,!0,!0));I("\\message",n=>{var e=n.consumeArgs(1)[0];return console.log(e.reverse().map(t=>t.text).join("")),""});I("\\errmessage",n=>{var e=n.consumeArgs(1)[0];return console.error(e.reverse().map(t=>t.text).join("")),""});I("\\show",n=>{var e=n.popToken(),t=e.text;return console.log(e,n.macros.get(t),pl[t],un.math[t],un.text[t]),""});I("\\bgroup","{");I("\\egroup","}");I("~","\\nobreakspace");I("\\lq","`");I("\\rq","'");I("\\aa","\\r a");I("\\AA","\\r A");I("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xA9}");I("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");I("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xAE}");I("\u212C","\\mathscr{B}");I("\u2130","\\mathscr{E}");I("\u2131","\\mathscr{F}");I("\u210B","\\mathscr{H}");I("\u2110","\\mathscr{I}");I("\u2112","\\mathscr{L}");I("\u2133","\\mathscr{M}");I("\u211B","\\mathscr{R}");I("\u212D","\\mathfrak{C}");I("\u210C","\\mathfrak{H}");I("\u2128","\\mathfrak{Z}");I("\\Bbbk","\\Bbb{k}");I("\xB7","\\cdotp");I("\\llap","\\mathllap{\\textrm{#1}}");I("\\rlap","\\mathrlap{\\textrm{#1}}");I("\\clap","\\mathclap{\\textrm{#1}}");I("\\mathstrut","\\vphantom{(}");I("\\underbar","\\underline{\\text{#1}}");I("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');I("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}");I("\\ne","\\neq");I("\u2260","\\neq");I("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}");I("\u2209","\\notin");I("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}");I("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}");I("\u225A","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225A}}");I("\u225B","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225B}}");I("\u225D","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225D}}");I("\u225E","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225E}}");I("\u225F","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225F}}");I("\u27C2","\\perp");I("\u203C","\\mathclose{!\\mkern-0.8mu!}");I("\u220C","\\notni");I("\u231C","\\ulcorner");I("\u231D","\\urcorner");I("\u231E","\\llcorner");I("\u231F","\\lrcorner");I("\xA9","\\copyright");I("\xAE","\\textregistered");I("\uFE0F","\\textregistered");I("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');I("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');I("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');I("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');I("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");I("\u22EE","\\vdots");I("\\varGamma","\\mathit{\\Gamma}");I("\\varDelta","\\mathit{\\Delta}");I("\\varTheta","\\mathit{\\Theta}");I("\\varLambda","\\mathit{\\Lambda}");I("\\varXi","\\mathit{\\Xi}");I("\\varPi","\\mathit{\\Pi}");I("\\varSigma","\\mathit{\\Sigma}");I("\\varUpsilon","\\mathit{\\Upsilon}");I("\\varPhi","\\mathit{\\Phi}");I("\\varPsi","\\mathit{\\Psi}");I("\\varOmega","\\mathit{\\Omega}");I("\\substack","\\begin{subarray}{c}#1\\end{subarray}");I("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");I("\\boxed","\\fbox{$\\displaystyle{#1}$}");I("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");I("\\implies","\\DOTSB\\;\\Longrightarrow\\;");I("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");I("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");I("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var BA={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};I("\\dots",function(n){var e="\\dotso",t=n.expandAfterFuture().text;return t in BA?e=BA[t]:(t.slice(0,4)==="\\not"||t in un.math&&["bin","rel"].includes(un.math[t].group))&&(e="\\dotsb"),e});var jb={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};I("\\dotso",function(n){var e=n.future().text;return e in jb?"\\ldots\\,":"\\ldots"});I("\\dotsc",function(n){var e=n.future().text;return e in jb&&e!==","?"\\ldots\\,":"\\ldots"});I("\\cdots",function(n){var e=n.future().text;return e in jb?"\\@cdots\\,":"\\@cdots"});I("\\dotsb","\\cdots");I("\\dotsm","\\cdots");I("\\dotsi","\\!\\cdots");I("\\dotsx","\\ldots\\,");I("\\DOTSI","\\relax");I("\\DOTSB","\\relax");I("\\DOTSX","\\relax");I("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");I("\\,","\\tmspace+{3mu}{.1667em}");I("\\thinspace","\\,");I("\\>","\\mskip{4mu}");I("\\:","\\tmspace+{4mu}{.2222em}");I("\\medspace","\\:");I("\\;","\\tmspace+{5mu}{.2777em}");I("\\thickspace","\\;");I("\\!","\\tmspace-{3mu}{.1667em}");I("\\negthinspace","\\!");I("\\negmedspace","\\tmspace-{4mu}{.2222em}");I("\\negthickspace","\\tmspace-{5mu}{.277em}");I("\\enspace","\\kern.5em ");I("\\enskip","\\hskip.5em\\relax");I("\\quad","\\hskip1em\\relax");I("\\qquad","\\hskip2em\\relax");I("\\tag","\\@ifstar\\tag@literal\\tag@paren");I("\\tag@paren","\\tag@literal{({#1})}");I("\\tag@literal",n=>{if(n.macros.get("\\df@tag"))throw new Te("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});I("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");I("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");I("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");I("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");I("\\newline","\\\\\\relax");I("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var h$=De(vo["Main-Regular"]["T".charCodeAt(0)][1]-.7*vo["Main-Regular"]["A".charCodeAt(0)][1]);I("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+h$+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");I("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+h$+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");I("\\hspace","\\@ifstar\\@hspacer\\@hspace");I("\\@hspace","\\hskip #1\\relax");I("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");I("\\ordinarycolon",":");I("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");I("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');I("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');I("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');I("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');I("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');I("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');I("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');I("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');I("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');I("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');I("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');I("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');I("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');I("\u2237","\\dblcolon");I("\u2239","\\eqcolon");I("\u2254","\\coloneqq");I("\u2255","\\eqqcolon");I("\u2A74","\\Coloneqq");I("\\ratio","\\vcentcolon");I("\\coloncolon","\\dblcolon");I("\\colonequals","\\coloneqq");I("\\coloncolonequals","\\Coloneqq");I("\\equalscolon","\\eqqcolon");I("\\equalscoloncolon","\\Eqqcolon");I("\\colonminus","\\coloneq");I("\\coloncolonminus","\\Coloneq");I("\\minuscolon","\\eqcolon");I("\\minuscoloncolon","\\Eqcolon");I("\\coloncolonapprox","\\Colonapprox");I("\\coloncolonsim","\\Colonsim");I("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");I("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");I("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");I("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");I("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220C}}");I("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");I("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");I("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");I("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");I("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");I("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");I("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");I("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");I("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}");I("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}");I("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}");I("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}");I("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}");I("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}");I("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}");I("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}");I("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}");I("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}");I("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228A}");I("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2ACB}");I("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228B}");I("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2ACC}");I("\\imath","\\html@mathml{\\@imath}{\u0131}");I("\\jmath","\\html@mathml{\\@jmath}{\u0237}");I("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27E6}}");I("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27E7}}");I("\u27E6","\\llbracket");I("\u27E7","\\rrbracket");I("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}");I("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}");I("\u2983","\\lBrace");I("\u2984","\\rBrace");I("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29B5}}");I("\u29B5","\\minuso");I("\\darr","\\downarrow");I("\\dArr","\\Downarrow");I("\\Darr","\\Downarrow");I("\\lang","\\langle");I("\\rang","\\rangle");I("\\uarr","\\uparrow");I("\\uArr","\\Uparrow");I("\\Uarr","\\Uparrow");I("\\N","\\mathbb{N}");I("\\R","\\mathbb{R}");I("\\Z","\\mathbb{Z}");I("\\alef","\\aleph");I("\\alefsym","\\aleph");I("\\Alpha","\\mathrm{A}");I("\\Beta","\\mathrm{B}");I("\\bull","\\bullet");I("\\Chi","\\mathrm{X}");I("\\clubs","\\clubsuit");I("\\cnums","\\mathbb{C}");I("\\Complex","\\mathbb{C}");I("\\Dagger","\\ddagger");I("\\diamonds","\\diamondsuit");I("\\empty","\\emptyset");I("\\Epsilon","\\mathrm{E}");I("\\Eta","\\mathrm{H}");I("\\exist","\\exists");I("\\harr","\\leftrightarrow");I("\\hArr","\\Leftrightarrow");I("\\Harr","\\Leftrightarrow");I("\\hearts","\\heartsuit");I("\\image","\\Im");I("\\infin","\\infty");I("\\Iota","\\mathrm{I}");I("\\isin","\\in");I("\\Kappa","\\mathrm{K}");I("\\larr","\\leftarrow");I("\\lArr","\\Leftarrow");I("\\Larr","\\Leftarrow");I("\\lrarr","\\leftrightarrow");I("\\lrArr","\\Leftrightarrow");I("\\Lrarr","\\Leftrightarrow");I("\\Mu","\\mathrm{M}");I("\\natnums","\\mathbb{N}");I("\\Nu","\\mathrm{N}");I("\\Omicron","\\mathrm{O}");I("\\plusmn","\\pm");I("\\rarr","\\rightarrow");I("\\rArr","\\Rightarrow");I("\\Rarr","\\Rightarrow");I("\\real","\\Re");I("\\reals","\\mathbb{R}");I("\\Reals","\\mathbb{R}");I("\\Rho","\\mathrm{P}");I("\\sdot","\\cdot");I("\\sect","\\S");I("\\spades","\\spadesuit");I("\\sub","\\subset");I("\\sube","\\subseteq");I("\\supe","\\supseteq");I("\\Tau","\\mathrm{T}");I("\\thetasym","\\vartheta");I("\\weierp","\\wp");I("\\Zeta","\\mathrm{Z}");I("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");I("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");I("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");I("\\bra","\\mathinner{\\langle{#1}|}");I("\\ket","\\mathinner{|{#1}\\rangle}");I("\\braket","\\mathinner{\\langle{#1}\\rangle}");I("\\Bra","\\left\\langle#1\\right|");I("\\Ket","\\left|#1\\right\\rangle");var d$=n=>e=>{var t=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,o=e.macros.get("|"),a=e.macros.get("\\|");e.macros.beginGroup();var l=h=>d=>{n&&(d.macros.set("|",o),i.length&&d.macros.set("\\|",a));var f=h;if(!h&&i.length){var p=d.future();p.text==="|"&&(d.popToken(),f=!0)}return{tokens:f?i:r,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,c=e.expandTokens([...s,...u,...t]);return e.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};I("\\bra@ket",d$(!1));I("\\bra@set",d$(!0));I("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");I("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");I("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");I("\\angln","{\\angl n}");I("\\blue","\\textcolor{##6495ed}{#1}");I("\\orange","\\textcolor{##ffa500}{#1}");I("\\pink","\\textcolor{##ff00af}{#1}");I("\\red","\\textcolor{##df0030}{#1}");I("\\green","\\textcolor{##28ae7b}{#1}");I("\\gray","\\textcolor{gray}{#1}");I("\\purple","\\textcolor{##9d38bd}{#1}");I("\\blueA","\\textcolor{##ccfaff}{#1}");I("\\blueB","\\textcolor{##80f6ff}{#1}");I("\\blueC","\\textcolor{##63d9ea}{#1}");I("\\blueD","\\textcolor{##11accd}{#1}");I("\\blueE","\\textcolor{##0c7f99}{#1}");I("\\tealA","\\textcolor{##94fff5}{#1}");I("\\tealB","\\textcolor{##26edd5}{#1}");I("\\tealC","\\textcolor{##01d1c1}{#1}");I("\\tealD","\\textcolor{##01a995}{#1}");I("\\tealE","\\textcolor{##208170}{#1}");I("\\greenA","\\textcolor{##b6ffb0}{#1}");I("\\greenB","\\textcolor{##8af281}{#1}");I("\\greenC","\\textcolor{##74cf70}{#1}");I("\\greenD","\\textcolor{##1fab54}{#1}");I("\\greenE","\\textcolor{##0d923f}{#1}");I("\\goldA","\\textcolor{##ffd0a9}{#1}");I("\\goldB","\\textcolor{##ffbb71}{#1}");I("\\goldC","\\textcolor{##ff9c39}{#1}");I("\\goldD","\\textcolor{##e07d10}{#1}");I("\\goldE","\\textcolor{##a75a05}{#1}");I("\\redA","\\textcolor{##fca9a9}{#1}");I("\\redB","\\textcolor{##ff8482}{#1}");I("\\redC","\\textcolor{##f9685d}{#1}");I("\\redD","\\textcolor{##e84d39}{#1}");I("\\redE","\\textcolor{##bc2612}{#1}");I("\\maroonA","\\textcolor{##ffbde0}{#1}");I("\\maroonB","\\textcolor{##ff92c6}{#1}");I("\\maroonC","\\textcolor{##ed5fa6}{#1}");I("\\maroonD","\\textcolor{##ca337c}{#1}");I("\\maroonE","\\textcolor{##9e034e}{#1}");I("\\purpleA","\\textcolor{##ddd7ff}{#1}");I("\\purpleB","\\textcolor{##c6b9fc}{#1}");I("\\purpleC","\\textcolor{##aa87ff}{#1}");I("\\purpleD","\\textcolor{##7854ab}{#1}");I("\\purpleE","\\textcolor{##543b78}{#1}");I("\\mintA","\\textcolor{##f5f9e8}{#1}");I("\\mintB","\\textcolor{##edf2df}{#1}");I("\\mintC","\\textcolor{##e0e5cc}{#1}");I("\\grayA","\\textcolor{##f6f7f7}{#1}");I("\\grayB","\\textcolor{##f0f1f2}{#1}");I("\\grayC","\\textcolor{##e3e5e6}{#1}");I("\\grayD","\\textcolor{##d6d8da}{#1}");I("\\grayE","\\textcolor{##babec2}{#1}");I("\\grayF","\\textcolor{##888d93}{#1}");I("\\grayG","\\textcolor{##626569}{#1}");I("\\grayH","\\textcolor{##3b3e40}{#1}");I("\\grayI","\\textcolor{##21242c}{#1}");I("\\kaBlue","\\textcolor{##314453}{#1}");I("\\kaGreen","\\textcolor{##71B307}{#1}");var f$={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class R3e{constructor(e,t,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new L3e(P3e,t.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new RA(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;t=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:t,end:r}=this.consumeArg());return this.pushToken(new Pi("EOF",r.loc)),this.pushTokens(i),new Pi("",Xr.range(t,r))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var t=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),s,o=0,a=0;do{if(s=this.popToken(),t.push(s),s.text==="{")++o;else if(s.text==="}"){if(--o,o===-1)throw new Te("Extra }",s)}else if(s.text==="EOF")throw new Te("Unexpected end of input in a macro argument, expected '"+(e&&r?e[a]:"}")+"'",s);if(e&&r)if((o===0||o===1&&e[a]==="{")&&s.text===e[a]){if(++a,a===e.length){t.splice(-a,a);break}}else a=0}while(o!==0||r);return i.text==="{"&&t[t.length-1].text==="}"&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:i,end:s}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new Te("The length of delimiters doesn't match the number of args!");for(var r=t[0],i=0;i<r.length;i++){var s=this.popToken();if(r[i]!==s.text)throw new Te("Use of the macro doesn't match its definition",s)}}for(var o=[],a=0;a<e;a++)o.push(this.consumeArg(t&&t[a+1]).tokens);return o}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Te("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var t=this.popToken(),r=t.text,i=t.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new Te("Undefined control sequence: "+r);return this.pushToken(t),!1}this.countExpansion(1);var s=i.tokens,o=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var a=s.length-1;a>=0;--a){var l=s[a];if(l.text==="#"){if(a===0)throw new Te("Incomplete placeholder at end of macro body",l);if(l=s[--a],l.text==="#")s.splice(a+1,1);else if(/^[1-9]$/.test(l.text))s.splice(a,2,...o[+l.text-1]);else throw new Te("Not a valid argument number",l)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Pi(e)]):void 0}expandTokens(e){var t=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),t.push(i)}return this.countExpansion(t.length),t}expandMacroAsText(e){var t=this.expandMacro(e);return t&&t.map(r=>r.text).join("")}_getExpansion(e){var t=this.macros.get(e);if(t==null)return t;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof t=="function"?t(this):t;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var o=i.replace(/##/g,"");o.indexOf("#"+(s+1))!==-1;)++s;for(var a=new RA(i,this.settings),l=[],u=a.lex();u.text!=="EOF";)l.push(u),u=a.lex();l.reverse();var c={tokens:l,numArgs:s};return c}return i}isDefined(e){return this.macros.has(e)||pl.hasOwnProperty(e)||un.math.hasOwnProperty(e)||un.text.hasOwnProperty(e)||f$.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return t!=null?typeof t=="string"||typeof t=="function"||!t.unexpandable:pl.hasOwnProperty(e)&&!pl[e].primitive}}var FA=/^[]/,Fm=Object.freeze({"\u208A":"+","\u208B":"-","\u208C":"=","\u208D":"(","\u208E":")","\u2080":"0","\u2081":"1","\u2082":"2","\u2083":"3","\u2084":"4","\u2085":"5","\u2086":"6","\u2087":"7","\u2088":"8","\u2089":"9","\u2090":"a","\u2091":"e","\u2095":"h","\u1D62":"i","\u2C7C":"j","\u2096":"k","\u2097":"l","\u2098":"m","\u2099":"n","\u2092":"o","\u209A":"p","\u1D63":"r","\u209B":"s","\u209C":"t","\u1D64":"u","\u1D65":"v","\u2093":"x","\u1D66":"\u03B2","\u1D67":"\u03B3","\u1D68":"\u03C1","\u1D69":"\u03D5","\u1D6A":"\u03C7","\u207A":"+","\u207B":"-","\u207C":"=","\u207D":"(","\u207E":")","\u2070":"0","\xB9":"1","\xB2":"2","\xB3":"3","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u1D2C":"A","\u1D2E":"B","\u1D30":"D","\u1D31":"E","\u1D33":"G","\u1D34":"H","\u1D35":"I","\u1D36":"J","\u1D37":"K","\u1D38":"L","\u1D39":"M","\u1D3A":"N","\u1D3C":"O","\u1D3E":"P","\u1D3F":"R","\u1D40":"T","\u1D41":"U","\u2C7D":"V","\u1D42":"W","\u1D43":"a","\u1D47":"b","\u1D9C":"c","\u1D48":"d","\u1D49":"e","\u1DA0":"f","\u1D4D":"g",\u02B0:"h","\u2071":"i",\u02B2:"j","\u1D4F":"k",\u02E1:"l","\u1D50":"m",\u207F:"n","\u1D52":"o","\u1D56":"p",\u02B3:"r",\u02E2:"s","\u1D57":"t","\u1D58":"u","\u1D5B":"v",\u02B7:"w",\u02E3:"x",\u02B8:"y","\u1DBB":"z","\u1D5D":"\u03B2","\u1D5E":"\u03B3","\u1D5F":"\u03B4","\u1D60":"\u03D5","\u1D61":"\u03C7","\u1DBF":"\u03B8"}),O6={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030C":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030A":{text:"\\r",math:"\\mathring"},"\u030B":{text:"\\H"},"\u0327":{text:"\\c"}},zA={\u00E1:"a\u0301",\u00E0:"a\u0300",\u00E4:"a\u0308",\u01DF:"a\u0308\u0304",\u00E3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1EAF:"a\u0306\u0301",\u1EB1:"a\u0306\u0300",\u1EB5:"a\u0306\u0303",\u01CE:"a\u030C",\u00E2:"a\u0302",\u1EA5:"a\u0302\u0301",\u1EA7:"a\u0302\u0300",\u1EAB:"a\u0302\u0303",\u0227:"a\u0307",\u01E1:"a\u0307\u0304",\u00E5:"a\u030A",\u01FB:"a\u030A\u0301",\u1E03:"b\u0307",\u0107:"c\u0301",\u1E09:"c\u0327\u0301",\u010D:"c\u030C",\u0109:"c\u0302",\u010B:"c\u0307",\u00E7:"c\u0327",\u010F:"d\u030C",\u1E0B:"d\u0307",\u1E11:"d\u0327",\u00E9:"e\u0301",\u00E8:"e\u0300",\u00EB:"e\u0308",\u1EBD:"e\u0303",\u0113:"e\u0304",\u1E17:"e\u0304\u0301",\u1E15:"e\u0304\u0300",\u0115:"e\u0306",\u1E1D:"e\u0327\u0306",\u011B:"e\u030C",\u00EA:"e\u0302",\u1EBF:"e\u0302\u0301",\u1EC1:"e\u0302\u0300",\u1EC5:"e\u0302\u0303",\u0117:"e\u0307",\u0229:"e\u0327",\u1E1F:"f\u0307",\u01F5:"g\u0301",\u1E21:"g\u0304",\u011F:"g\u0306",\u01E7:"g\u030C",\u011D:"g\u0302",\u0121:"g\u0307",\u0123:"g\u0327",\u1E27:"h\u0308",\u021F:"h\u030C",\u0125:"h\u0302",\u1E23:"h\u0307",\u1E29:"h\u0327",\u00ED:"i\u0301",\u00EC:"i\u0300",\u00EF:"i\u0308",\u1E2F:"i\u0308\u0301",\u0129:"i\u0303",\u012B:"i\u0304",\u012D:"i\u0306",\u01D0:"i\u030C",\u00EE:"i\u0302",\u01F0:"j\u030C",\u0135:"j\u0302",\u1E31:"k\u0301",\u01E9:"k\u030C",\u0137:"k\u0327",\u013A:"l\u0301",\u013E:"l\u030C",\u013C:"l\u0327",\u1E3F:"m\u0301",\u1E41:"m\u0307",\u0144:"n\u0301",\u01F9:"n\u0300",\u00F1:"n\u0303",\u0148:"n\u030C",\u1E45:"n\u0307",\u0146:"n\u0327",\u00F3:"o\u0301",\u00F2:"o\u0300",\u00F6:"o\u0308",\u022B:"o\u0308\u0304",\u00F5:"o\u0303",\u1E4D:"o\u0303\u0301",\u1E4F:"o\u0303\u0308",\u022D:"o\u0303\u0304",\u014D:"o\u0304",\u1E53:"o\u0304\u0301",\u1E51:"o\u0304\u0300",\u014F:"o\u0306",\u01D2:"o\u030C",\u00F4:"o\u0302",\u1ED1:"o\u0302\u0301",\u1ED3:"o\u0302\u0300",\u1ED7:"o\u0302\u0303",\u022F:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030B",\u1E55:"p\u0301",\u1E57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030C",\u1E59:"r\u0307",\u0157:"r\u0327",\u015B:"s\u0301",\u1E65:"s\u0301\u0307",\u0161:"s\u030C",\u1E67:"s\u030C\u0307",\u015D:"s\u0302",\u1E61:"s\u0307",\u015F:"s\u0327",\u1E97:"t\u0308",\u0165:"t\u030C",\u1E6B:"t\u0307",\u0163:"t\u0327",\u00FA:"u\u0301",\u00F9:"u\u0300",\u00FC:"u\u0308",\u01D8:"u\u0308\u0301",\u01DC:"u\u0308\u0300",\u01D6:"u\u0308\u0304",\u01DA:"u\u0308\u030C",\u0169:"u\u0303",\u1E79:"u\u0303\u0301",\u016B:"u\u0304",\u1E7B:"u\u0304\u0308",\u016D:"u\u0306",\u01D4:"u\u030C",\u00FB:"u\u0302",\u016F:"u\u030A",\u0171:"u\u030B",\u1E7D:"v\u0303",\u1E83:"w\u0301",\u1E81:"w\u0300",\u1E85:"w\u0308",\u0175:"w\u0302",\u1E87:"w\u0307",\u1E98:"w\u030A",\u1E8D:"x\u0308",\u1E8B:"x\u0307",\u00FD:"y\u0301",\u1EF3:"y\u0300",\u00FF:"y\u0308",\u1EF9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1E8F:"y\u0307",\u1E99:"y\u030A",\u017A:"z\u0301",\u017E:"z\u030C",\u1E91:"z\u0302",\u017C:"z\u0307",\u00C1:"A\u0301",\u00C0:"A\u0300",\u00C4:"A\u0308",\u01DE:"A\u0308\u0304",\u00C3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1EAE:"A\u0306\u0301",\u1EB0:"A\u0306\u0300",\u1EB4:"A\u0306\u0303",\u01CD:"A\u030C",\u00C2:"A\u0302",\u1EA4:"A\u0302\u0301",\u1EA6:"A\u0302\u0300",\u1EAA:"A\u0302\u0303",\u0226:"A\u0307",\u01E0:"A\u0307\u0304",\u00C5:"A\u030A",\u01FA:"A\u030A\u0301",\u1E02:"B\u0307",\u0106:"C\u0301",\u1E08:"C\u0327\u0301",\u010C:"C\u030C",\u0108:"C\u0302",\u010A:"C\u0307",\u00C7:"C\u0327",\u010E:"D\u030C",\u1E0A:"D\u0307",\u1E10:"D\u0327",\u00C9:"E\u0301",\u00C8:"E\u0300",\u00CB:"E\u0308",\u1EBC:"E\u0303",\u0112:"E\u0304",\u1E16:"E\u0304\u0301",\u1E14:"E\u0304\u0300",\u0114:"E\u0306",\u1E1C:"E\u0327\u0306",\u011A:"E\u030C",\u00CA:"E\u0302",\u1EBE:"E\u0302\u0301",\u1EC0:"E\u0302\u0300",\u1EC4:"E\u0302\u0303",\u0116:"E\u0307",\u0228:"E\u0327",\u1E1E:"F\u0307",\u01F4:"G\u0301",\u1E20:"G\u0304",\u011E:"G\u0306",\u01E6:"G\u030C",\u011C:"G\u0302",\u0120:"G\u0307",\u0122:"G\u0327",\u1E26:"H\u0308",\u021E:"H\u030C",\u0124:"H\u0302",\u1E22:"H\u0307",\u1E28:"H\u0327",\u00CD:"I\u0301",\u00CC:"I\u0300",\u00CF:"I\u0308",\u1E2E:"I\u0308\u0301",\u0128:"I\u0303",\u012A:"I\u0304",\u012C:"I\u0306",\u01CF:"I\u030C",\u00CE:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1E30:"K\u0301",\u01E8:"K\u030C",\u0136:"K\u0327",\u0139:"L\u0301",\u013D:"L\u030C",\u013B:"L\u0327",\u1E3E:"M\u0301",\u1E40:"M\u0307",\u0143:"N\u0301",\u01F8:"N\u0300",\u00D1:"N\u0303",\u0147:"N\u030C",\u1E44:"N\u0307",\u0145:"N\u0327",\u00D3:"O\u0301",\u00D2:"O\u0300",\u00D6:"O\u0308",\u022A:"O\u0308\u0304",\u00D5:"O\u0303",\u1E4C:"O\u0303\u0301",\u1E4E:"O\u0303\u0308",\u022C:"O\u0303\u0304",\u014C:"O\u0304",\u1E52:"O\u0304\u0301",\u1E50:"O\u0304\u0300",\u014E:"O\u0306",\u01D1:"O\u030C",\u00D4:"O\u0302",\u1ED0:"O\u0302\u0301",\u1ED2:"O\u0302\u0300",\u1ED6:"O\u0302\u0303",\u022E:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030B",\u1E54:"P\u0301",\u1E56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030C",\u1E58:"R\u0307",\u0156:"R\u0327",\u015A:"S\u0301",\u1E64:"S\u0301\u0307",\u0160:"S\u030C",\u1E66:"S\u030C\u0307",\u015C:"S\u0302",\u1E60:"S\u0307",\u015E:"S\u0327",\u0164:"T\u030C",\u1E6A:"T\u0307",\u0162:"T\u0327",\u00DA:"U\u0301",\u00D9:"U\u0300",\u00DC:"U\u0308",\u01D7:"U\u0308\u0301",\u01DB:"U\u0308\u0300",\u01D5:"U\u0308\u0304",\u01D9:"U\u0308\u030C",\u0168:"U\u0303",\u1E78:"U\u0303\u0301",\u016A:"U\u0304",\u1E7A:"U\u0304\u0308",\u016C:"U\u0306",\u01D3:"U\u030C",\u00DB:"U\u0302",\u016E:"U\u030A",\u0170:"U\u030B",\u1E7C:"V\u0303",\u1E82:"W\u0301",\u1E80:"W\u0300",\u1E84:"W\u0308",\u0174:"W\u0302",\u1E86:"W\u0307",\u1E8C:"X\u0308",\u1E8A:"X\u0307",\u00DD:"Y\u0301",\u1EF2:"Y\u0300",\u0178:"Y\u0308",\u1EF8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1E8E:"Y\u0307",\u0179:"Z\u0301",\u017D:"Z\u030C",\u1E90:"Z\u0302",\u017B:"Z\u0307",\u03AC:"\u03B1\u0301",\u1F70:"\u03B1\u0300",\u1FB1:"\u03B1\u0304",\u1FB0:"\u03B1\u0306",\u03AD:"\u03B5\u0301",\u1F72:"\u03B5\u0300",\u03AE:"\u03B7\u0301",\u1F74:"\u03B7\u0300",\u03AF:"\u03B9\u0301",\u1F76:"\u03B9\u0300",\u03CA:"\u03B9\u0308",\u0390:"\u03B9\u0308\u0301",\u1FD2:"\u03B9\u0308\u0300",\u1FD1:"\u03B9\u0304",\u1FD0:"\u03B9\u0306",\u03CC:"\u03BF\u0301",\u1F78:"\u03BF\u0300",\u03CD:"\u03C5\u0301",\u1F7A:"\u03C5\u0300",\u03CB:"\u03C5\u0308",\u03B0:"\u03C5\u0308\u0301",\u1FE2:"\u03C5\u0308\u0300",\u1FE1:"\u03C5\u0304",\u1FE0:"\u03C5\u0306",\u03CE:"\u03C9\u0301",\u1F7C:"\u03C9\u0300",\u038E:"\u03A5\u0301",\u1FEA:"\u03A5\u0300",\u03AB:"\u03A5\u0308",\u1FE9:"\u03A5\u0304",\u1FE8:"\u03A5\u0306",\u038F:"\u03A9\u0301",\u1FFA:"\u03A9\u0300"};class by{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new R3e(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(t===void 0&&(t=!0),this.fetch().text!==e)throw new Te("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new Pi("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,r}parseExpression(e,t){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(by.endOfExpression.indexOf(i.text)!==-1||t&&i.text===t||e&&pl[i.text]&&pl[i.text].infix)break;var s=this.parseAtom(t);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var t=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(t!==-1)throw new Te("only one infix operator per group",e[i].token);t=i,r=e[i].replaceWith}if(t!==-1&&r){var s,o,a=e.slice(0,t),l=e.slice(t+1);a.length===1&&a[0].type==="ordgroup"?s=a[0]:s={type:"ordgroup",mode:this.mode,body:a},l.length===1&&l[0].type==="ordgroup"?o=l[0]:o={type:"ordgroup",mode:this.mode,body:l};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[s,e[t],o],[]):u=this.callFunction(r,[s,o],[]),[u]}else return e}handleSupSubscript(e){var t=this.fetch(),r=t.text;this.consume(),this.consumeSpaces();var i;do{var s;i=this.parseGroup(e)}while(((s=i)==null?void 0:s.type)==="internal");if(!i)throw new Te("Expected group after '"+r+"'",t);return i}formatUnsupportedCmd(e){for(var t=[],r=0;r<e.length;r++)t.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:t},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var t=this.parseGroup("atom",e);if((t==null?void 0:t.type)==="internal"||this.mode==="text")return t;for(var r,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(t&&t.type==="op"){var o=s.text==="\\limits";t.limits=o,t.alwaysHandleSupSub=!0}else if(t&&t.type==="operatorname")t.alwaysHandleSupSub&&(t.limits=s.text==="\\limits");else throw new Te("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new Te("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new Te("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new Te("Double superscript",s);var a={type:"textord",mode:this.mode,text:"\\prime"},l=[a];for(this.consume();this.fetch().text==="'";)l.push(a),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if(Fm[s.text]){var u=FA.test(s.text),c=[];for(c.push(new Pi(Fm[s.text])),this.consume();;){var h=this.fetch().text;if(!Fm[h]||FA.test(h)!==u)break;c.unshift(new Pi(Fm[h])),this.consume()}var d=this.subparse(c);u?i={type:"ordgroup",mode:"math",body:d}:r={type:"ordgroup",mode:"math",body:d}}else break}return r||i?{type:"supsub",mode:this.mode,base:t,sup:r,sub:i}:t}parseFunction(e,t){var r=this.fetch(),i=r.text,s=pl[i];if(!s)return null;if(this.consume(),t&&t!=="atom"&&!s.allowedInArgument)throw new Te("Got function '"+i+"' with no arguments"+(t?" as "+t:""),r);if(this.mode==="text"&&!s.allowedInText)throw new Te("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new Te("Can't use function '"+i+"' in math mode",r);var{args:o,optArgs:a}=this.parseArguments(i,s);return this.callFunction(i,o,a,r,e)}callFunction(e,t,r,i,s){var o={funcName:e,parser:this,token:i,breakOnTokenText:s},a=pl[e];if(a&&a.handler)return a.handler(o,t,r);throw new Te("No function handler for "+e)}parseArguments(e,t){var r=t.numArgs+t.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],s=[],o=0;o<r;o++){var a=t.argTypes&&t.argTypes[o],l=o<t.numOptionalArgs;(t.primitive&&a==null||t.type==="sqrt"&&o===1&&s[0]==null)&&(a="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",a,l);if(l)s.push(u);else if(u!=null)i.push(u);else throw new Te("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,t,r){switch(t){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,t);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new Te("A primitive argument cannot be optional");var o=this.parseGroup(e);if(o==null)throw new Te("Expected group as "+e,this.fetch());return o}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new Te("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,t){var r=this.gullet.scanArgument(t);if(r==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,t){for(var r=this.fetch(),i=r,s="",o;(o=this.fetch()).text!=="EOF"&&e.test(s+o.text);)i=o,s+=i.text,this.consume();if(s==="")throw new Te("Invalid "+t+": '"+r.text+"'",r);return r.range(i,s)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(t==null)return null;var r=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!r)throw new Te("Invalid color: '"+t.text+"'",t);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var t,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?t=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):t=this.parseStringGroup("size",e),!t)return null;!e&&t.text.length===0&&(t.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!i)throw new Te("Invalid size: '"+t.text+"'",t);var s={number:+(i[1]+i[2]),unit:i[3]};if(!SR(s))throw new Te("Invalid unit: '"+s.unit+"'",t);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),t==null)return null;var r=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,t){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return t&&this.switchMode(i),o}parseGroup(e,t){var r=this.fetch(),i=r.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var o=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var a=this.parseExpression(!1,o),l=this.fetch();this.expect(o),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:Xr.range(r,l),body:a,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(t,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!f$.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Te("Undefined control sequence: "+i,r);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var t=e.length-1,r=0;r<t;++r){var i=e[r],s=i.text;s==="-"&&e[r+1].text==="-"&&(r+1<t&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:Xr.range(i,e[r+2]),text:"---"}),t-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:Xr.range(i,e[r+1]),text:"--"}),t-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:Xr.range(i,e[r+1]),text:s+s}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var r=t.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new Te(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}zA.hasOwnProperty(t[0])&&!un[this.mode][t[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=zA[t[0]]+t.slice(1));var s=D3e.exec(t);s&&(t=t.substring(0,s.index),t==="i"?t="\u0131":t==="j"&&(t="\u0237"));var o;if(un[this.mode][t]){this.settings.strict&&this.mode==="math"&&Z3.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var a=un[this.mode][t].group,l=Xr.range(e),u;if(Cve.hasOwnProperty(a)){var c=a;u={type:"atom",mode:this.mode,family:c,loc:l,text:t}}else u={type:a,mode:this.mode,loc:l,text:t};o=u}else if(t.charCodeAt(0)>=128)this.settings.strict&&(xR(t.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'"'+(" ("+t.charCodeAt(0)+")"),e)),o={type:"textord",mode:"text",loc:Xr.range(e),text:t};else return null;if(this.consume(),s)for(var h=0;h<s[0].length;h++){var d=s[0][h];if(!O6[d])throw new Te("Unknown accent ' "+d+"'",e);var f=O6[d][this.mode]||O6[d].text;if(!f)throw new Te("Accent "+d+" unsupported in "+this.mode+" mode",e);o={type:"accent",mode:this.mode,loc:Xr.range(e),label:f,isStretchy:!1,isShifty:!0,base:o}}return o}}by.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Zb=function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new by(e,t);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new Te("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Pi("\\df@tag")])}]}return i},p$=function(e,t,r){t.textContent="";var i=Ub(e,r).toNode();t.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),p$=function(){throw new Te("KaTeX doesn't work in quirks mode.")});var $3e=function(e,t){var r=Ub(e,t).toMarkup();return r},B3e=function(e,t){var r=new Tb(t);return Zb(e,r)},m$=function(e,t,r){if(r.throwOnError||!(e instanceof Te))throw e;var i=ie.makeSpan(["katex-error"],[new gs(t)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},Ub=function(e,t){var r=new Tb(t);try{var i=Zb(e,r);return Uve(i,e,r)}catch(s){return m$(s,e,r)}},F3e=function(e,t){var r=new Tb(t);try{var i=Zb(e,r);return Gve(i,e,r)}catch(s){return m$(s,e,r)}},z3e="0.16.25",H3e={Span:Ip,Anchor:Ib,SymbolNode:gs,SvgNode:Ca,PathNode:Il,LineNode:j3},g$={version:z3e,render:p$,renderToString:$3e,ParseError:Te,SETTINGS_SCHEMA:Dg,__parse:B3e,__renderToDomTree:Ub,__renderToHTMLTree:F3e,__setFontMetrics:gve,__defineSymbol:w,__defineFunction:Be,__defineMacro:I,__domTree:H3e},U1,G1,Ph,Rh,K1,$h,Bh,Fh,zh,Y1,r4,y$;class ky{constructor(e){Ee(this,r4);Ee(this,U1,void 0);Ee(this,G1,void 0);Ee(this,Ph,void 0);Ee(this,Rh,void 0);Ee(this,K1,void 0);Ee(this,$h,void 0);Ee(this,Bh,void 0);Ee(this,Fh,void 0);Ee(this,zh,void 0);Ee(this,Y1,void 0);var t,r,i,s;de(this,$h,!1),this.onShow=()=>{},this.onHide=()=>{},de(this,Y1,(o,a)=>{var v,b,k;const{state:l,composing:u}=o,{selection:c,doc:h}=l,{ranges:d}=c,f=Math.min(...d.map(_=>_.$from.pos)),p=Math.max(...d.map(_=>_.$to.pos)),m=a&&a.doc.eq(h)&&a.selection.eq(c);if(Y(this,$h)||(((b=(v=Y(this,K1))!=null?v:o.dom.parentElement)!=null?b:document.body).appendChild(this.element),de(this,$h,!0)),u||m)return;if(!Y(this,G1).call(this,o,a)){this.hide();return}Vs({getBoundingClientRect:()=>I4(o,f,p)},this.element,{placement:(k=Y(this,Rh).placement)!=null?k:"top",middleware:[P2(),El(Y(this,Bh)),jC(Y(this,Fh)),...Y(this,Ph)]}).then(({x:_,y:C})=>{Object.assign(this.element.style,{left:`${_}px`,top:`${C}px`})}).catch(console.error),this.show()}),this.update=(o,a)=>{Y(this,zh).call(this,o,a)},this.destroy=()=>{Y(this,zh).cancel()},this.show=o=>{this.element.dataset.show="true",o&&Vs(o,this.element,{placement:"top",middleware:[P2(),El(Y(this,Bh)),jC(Y(this,Fh)),...Y(this,Ph)],...Y(this,Rh)}).then(({x:a,y:l})=>{Object.assign(this.element.style,{left:`${a}px`,top:`${l}px`})}).catch(console.error),this.onShow()},this.hide=()=>{this.element.dataset.show!=="false"&&(this.element.dataset.show="false",this.onHide())},this.element=e.content,de(this,U1,(t=e.debounce)!=null?t:200),de(this,G1,(r=e.shouldShow)!=null?r:Hp(this,r4,y$)),de(this,Bh,e.offset),de(this,Fh,e.shift),de(this,Ph,(i=e.middleware)!=null?i:[]),de(this,Rh,(s=e.floatingUIOptions)!=null?s:{}),de(this,K1,e.root),this.element.dataset.show="false",de(this,zh,c4(Y(this,Y1),Y(this,U1)))}}U1=new WeakMap,G1=new WeakMap,Ph=new WeakMap,Rh=new WeakMap,K1=new WeakMap,$h=new WeakMap,Bh=new WeakMap,Fh=new WeakMap,zh=new WeakMap,Y1=new WeakMap,r4=new WeakSet,y$=function(e){const{doc:t,selection:r}=e.state,{empty:i,from:s,to:o}=r,a=!t.textBetween(s,o).length&&e.state.selection instanceof Ue,l=this.element.contains(document.activeElement),u=!e.hasFocus()&&!l,c=!e.editable;return!(u||i||a||c)};function xy(n){const e=Ut({},`${n}_TOOLTIP_SPEC`),t=Wn(i=>{const s=i.get(e.key);return new fn({key:new pn(`${n}_TOOLTIP`),...s})}),r=[e,t];return r.key=e.key,r.pluginKey=t.key,e.meta={package:"@milkdown/plugin-tooltip",displayName:`Ctx<tooltipSpec>|${n}`},t.meta={package:"@milkdown/plugin-tooltip",displayName:`Prose<tooltip>|${n}`},r}function V3e(){return{enter:{mathFlow:n,mathFlowFenceMeta:e,mathText:s},exit:{mathFlow:i,mathFlowFence:r,mathFlowFenceMeta:t,mathFlowValue:a,mathText:o,mathTextData:a}};function n(l){const u={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[u]}},l)}function e(){this.buffer()}function t(){const l=this.resume(),u=this.stack[this.stack.length-1];u.type,u.meta=l}function r(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(l){const u=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),c=this.stack[this.stack.length-1];c.type,this.exit(l),c.value=u;const h=c.data.hChildren[0];h.type,h.tagName,h.children.push({type:"text",value:u}),this.data.mathFlowInside=void 0}function s(l){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},l),this.buffer()}function o(l){const u=this.resume(),c=this.stack[this.stack.length-1];c.type,this.exit(l),c.value=u,c.data.hChildren.push({type:"text",value:u})}function a(l){this.config.enter.data.call(this,l),this.config.exit.data.call(this,l)}}function q3e(n){let e=(n||{}).singleDollarTextMath;return e==null&&(e=!0),r.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:t,inlineMath:r}};function t(s,o,a,l){const u=s.value||"",c=a.createTracker(l),h="$".repeat(Math.max(fD(u,"$")+1,2)),d=a.enter("mathFlow");let f=c.move(h);if(s.meta){const p=a.enter("mathFlowMeta");f+=c.move(a.safe(s.meta,{after:`
`,before:f,encode:["$"],...c.current()})),p()}return f+=c.move(`
`),u&&(f+=c.move(u+`
`)),f+=c.move(h),d(),f}function r(s,o,a){let l=s.value||"",u=1;for(e||u++;new RegExp("(^|[^$])"+"\\$".repeat(u)+"([^$]|$)").test(l);)u++;const c="$".repeat(u);/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^\$|\$$/.test(l))&&(l=" "+l+" ");let h=-1;for(;++h<a.unsafe.length;){const d=a.unsafe[h];if(!d.atBreak)continue;const f=a.compilePattern(d);let p;for(;p=f.exec(l);){let m=p.index;l.codePointAt(m)===10&&l.codePointAt(m-1)===13&&m--,l=l.slice(0,m)+" "+l.slice(p.index+1)}}return c+l+c}function i(){return"$"}}const W3e={tokenize:j3e,concrete:!0,name:"mathFlow"},HA={tokenize:Z3e,partial:!0};function j3e(n,e,t){const r=this,i=r.events[r.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let o=0;return a;function a(b){return n.enter("mathFlow"),n.enter("mathFlowFence"),n.enter("mathFlowFenceSequence"),l(b)}function l(b){return b===36?(n.consume(b),o++,l):o<2?t(b):(n.exit("mathFlowFenceSequence"),xt(n,u,"whitespace")(b))}function u(b){return b===null||Ge(b)?h(b):(n.enter("mathFlowFenceMeta"),n.enter("chunkString",{contentType:"string"}),c(b))}function c(b){return b===null||Ge(b)?(n.exit("chunkString"),n.exit("mathFlowFenceMeta"),h(b)):b===36?t(b):(n.consume(b),c)}function h(b){return n.exit("mathFlowFence"),r.interrupt?e(b):n.attempt(HA,d,y)(b)}function d(b){return n.attempt({tokenize:v,partial:!0},y,f)(b)}function f(b){return(s?xt(n,p,"linePrefix",s+1):p)(b)}function p(b){return b===null?y(b):Ge(b)?n.attempt(HA,d,y)(b):(n.enter("mathFlowValue"),m(b))}function m(b){return b===null||Ge(b)?(n.exit("mathFlowValue"),p(b)):(n.consume(b),m)}function y(b){return n.exit("mathFlow"),e(b)}function v(b,k,_){let C=0;return xt(b,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function M($){return b.enter("mathFlowFence"),b.enter("mathFlowFenceSequence"),O($)}function O($){return $===36?(C++,b.consume($),O):C<o?_($):(b.exit("mathFlowFenceSequence"),xt(b,D,"whitespace")($))}function D($){return $===null||Ge($)?(b.exit("mathFlowFence"),k($)):_($)}}}function Z3e(n,e,t){const r=this;return i;function i(o){return o===null?e(o):(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?t(o):e(o)}}function U3e(n){let t=(n||{}).singleDollarTextMath;return t==null&&(t=!0),{tokenize:r,resolve:G3e,previous:K3e,name:"mathText"};function r(i,s,o){let a=0,l,u;return c;function c(m){return i.enter("mathText"),i.enter("mathTextSequence"),h(m)}function h(m){return m===36?(i.consume(m),a++,h):a<2&&!t?o(m):(i.exit("mathTextSequence"),d(m))}function d(m){return m===null?o(m):m===36?(u=i.enter("mathTextSequence"),l=0,p(m)):m===32?(i.enter("space"),i.consume(m),i.exit("space"),d):Ge(m)?(i.enter("lineEnding"),i.consume(m),i.exit("lineEnding"),d):(i.enter("mathTextData"),f(m))}function f(m){return m===null||m===32||m===36||Ge(m)?(i.exit("mathTextData"),d(m)):(i.consume(m),f)}function p(m){return m===36?(i.consume(m),l++,p):l===a?(i.exit("mathTextSequence"),i.exit("mathText"),s(m)):(u.type="mathTextData",f(m))}}}function G3e(n){let e=n.length-4,t=3,r,i;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="mathTextData"){n[e][1].type="mathTextPadding",n[t][1].type="mathTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)i===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(i=r):(r===e||n[r][1].type==="lineEnding")&&(n[i][1].type="mathTextData",r!==i+2&&(n[i][1].end=n[r-1][1].end,n.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return n}function K3e(n){return n!==36||this.events[this.events.length-1][1].type==="characterEscape"}function Y3e(n){return{flow:{[36]:W3e},text:{[36]:U3e(n)}}}const J3e={};function X3e(n){const e=this,t=n||J3e,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Y3e(t)),s.push(V3e()),o.push(q3e(t))}var Q3e=Object.defineProperty,VA=Object.getOwnPropertySymbols,e5e=Object.prototype.hasOwnProperty,t5e=Object.prototype.propertyIsEnumerable,qA=(n,e,t)=>e in n?Q3e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,n5e=(n,e)=>{for(var t in e||(e={}))e5e.call(e,t)&&qA(n,t,e[t]);if(VA)for(var t of VA(e))t5e.call(e,t)&&qA(n,t,e[t]);return n};function Sc(n,e){return Object.assign(n,{meta:n5e({package:"@milkdown/components"},e)}),n}var r5e=Object.defineProperty,WA=Object.getOwnPropertySymbols,i5e=Object.prototype.hasOwnProperty,s5e=Object.prototype.propertyIsEnumerable,jA=(n,e,t)=>e in n?r5e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Gb=(n,e)=>{for(var t in e||(e={}))i5e.call(e,t)&&jA(n,t,e[t]);if(WA)for(var t of WA(e))s5e.call(e,t)&&jA(n,t,e[t]);return n};const o5e={mode:"preview"},_a=Ut(Gb({},o5e),"linkTooltipStateCtx");Sc(_a,{displayName:"State<link-tooltip>",group:"LinkTooltip"});const a5e={addLink:()=>{},editLink:()=>{},removeLink:()=>{}},m0=Ut(Gb({},a5e),"linkTooltipAPICtx");Sc(_a,{displayName:"API<link-tooltip>",group:"LinkTooltip"});const l5e={linkIcon:"\u{1F517}",editButton:"\u270E",removeButton:"\u232B",confirmButton:"Confirm \u23CE",onCopyLink:()=>{},inputPlaceholder:"Paste link..."},g0=Ut(Gb({},l5e),"linkTooltipConfigCtx");Sc(_a,{displayName:"Config<link-tooltip>",group:"LinkTooltip"});const v$=at("ToggleLink",n=>()=>e=>{const{doc:t,selection:r}=e,i=Rs.type(n);return t.rangeHasMark(r.from,r.to,i)?(n.get(m0.key).removeLink(r.from,r.to),!0):(n.get(m0.key).addLink(r.from,r.to),!0)}),Np=xy("LINK_PREVIEW");Sc(Np[0],{displayName:"PreviewTooltipSpec<link-tooltip>",group:"LinkTooltip"});Sc(Np[1],{displayName:"PreviewTooltipPlugin<link-tooltip>",group:"LinkTooltip"});const Sy=xy("LINK_EDIT");Sc(Sy[0],{displayName:"EditTooltipSpec<link-tooltip>",group:"LinkTooltip"});Sc(Sy[1],{displayName:"EditTooltipPlugin<link-tooltip>",group:"LinkTooltip"});function Lf({icon:n,class:e,onClick:t}){return oe("span",{class:vr("milkdown-icon",e),onPointerdown:t,ref:r=>{r&&n&&(r.innerHTML=ws.sanitize(n.trim()))}})}Lf.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};const u5e=he({props:{config:{type:Object,required:!0},src:{type:Object,required:!0},onConfirm:{type:Function,required:!0},onCancel:{type:Function,required:!0}},setup({config:n,src:e,onConfirm:t,onCancel:r}){const i=V(e);Et(e,a=>{i.value=a});const s=()=>{t(i.value)},o=a=>{a.stopPropagation(),a.key==="Enter"&&(a.preventDefault(),s()),a.key==="Escape"&&(a.preventDefault(),r())};return()=>oe("div",{class:"link-edit"},oe("input",{class:"input-area",placeholder:n.value.inputPlaceholder,onKeydown:o,onInput:a=>{i.value=a.target.value},value:i.value}),i.value?oe(Lf,{class:"button confirm",icon:n.value.confirmButton,onClick:s}):null)}});var c5e=Object.defineProperty,h5e=Object.defineProperties,d5e=Object.getOwnPropertyDescriptors,ZA=Object.getOwnPropertySymbols,f5e=Object.prototype.hasOwnProperty,p5e=Object.prototype.propertyIsEnumerable,w$=n=>{throw TypeError(n)},UA=(n,e,t)=>e in n?c5e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,zm=(n,e)=>{for(var t in e||(e={}))f5e.call(e,t)&&UA(n,t,e[t]);if(ZA)for(var t of ZA(e))p5e.call(e,t)&&UA(n,t,e[t]);return n},GA=(n,e)=>h5e(n,d5e(e)),b$=(n,e,t)=>e.has(n)||w$("Cannot "+t),xn=(n,e,t)=>(b$(n,e,"read from private field"),t?t.call(n):e.get(n)),Uo=(n,e,t)=>e.has(n)?w$("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),eu=(n,e,t,r)=>(b$(n,e,"write to private field"),e.set(n,t),t),jd,ja,Za,Lg,Zd,Pg,au,X3,Rg;const KA={from:-1,to:-1,mark:null};class m5e{constructor(e,t){this.ctx=e,Uo(this,jd),Uo(this,ja),Uo(this,Za,zm({},KA)),Uo(this,Lg),Uo(this,Zd),Uo(this,Pg,V("")),Uo(this,au,()=>{xn(this,ja).hide(),this.ctx.update(_a.key,s=>GA(zm({},s),{mode:"preview"})),eu(this,Za,zm({},KA))}),Uo(this,X3,s=>{const o=this.ctx.get(an),{from:a,to:l,mark:u}=xn(this,Za),c=Rs.type(this.ctx),h=ws.sanitize(s);if(u&&u.attrs.href===h){xn(this,au).call(this);return}const d=o.state.tr;u&&d.removeMark(a,l,u),d.addMark(a,l,c.create({href:h})),o.dispatch(d),xn(this,au).call(this)}),Uo(this,Rg,(s,o,a)=>{const l=this.ctx.get(g0.key);xn(this,Zd).value=l,xn(this,Pg).value=s,this.ctx.update(_a.key,c=>GA(zm({},c),{mode:"edit"}));const u=this.ctx.get(an);u.dispatch(u.state.tr.setSelection(Ue.create(u.state.doc,o,a))),xn(this,ja).show({getBoundingClientRect:()=>I4(u,o,a)}),requestAnimationFrame(()=>{var c;(c=xn(this,jd).querySelector("input"))==null||c.focus()})}),this.update=s=>{const{state:o}=s,{selection:a}=o;if(!(a instanceof Ue))return;const{from:l,to:u}=a;l===xn(this,Za).from&&u===xn(this,Za).to||xn(this,au).call(this)},this.destroy=()=>{xn(this,Lg).unmount(),xn(this,ja).destroy(),xn(this,jd).remove()},this.addLink=(s,o)=>{eu(this,Za,{from:s,to:o,mark:null}),xn(this,Rg).call(this,"",s,o)},this.editLink=(s,o,a)=>{eu(this,Za,{from:o,to:a,mark:s}),xn(this,Rg).call(this,s.attrs.href,o,a)},this.removeLink=(s,o)=>{const a=this.ctx.get(an),l=a.state.tr;l.removeMark(s,o,Rs.type(this.ctx)),a.dispatch(l),xn(this,au).call(this)},eu(this,Zd,V(this.ctx.get(g0.key)));const r=document.createElement("div");r.className="milkdown-link-edit";const i=qs(u5e,{config:xn(this,Zd),src:xn(this,Pg),onConfirm:xn(this,X3),onCancel:xn(this,au)});i.mount(r),eu(this,Lg,i),eu(this,jd,r),eu(this,ja,new ky({content:r,debounce:0,shouldShow:()=>!1})),xn(this,ja).onHide=()=>{requestAnimationFrame(()=>{t.dom.focus({preventScroll:!0})})},xn(this,ja).update(t)}}jd=new WeakMap;ja=new WeakMap;Za=new WeakMap;Lg=new WeakMap;Zd=new WeakMap;Pg=new WeakMap;au=new WeakMap;X3=new WeakMap;Rg=new WeakMap;var g5e=Object.defineProperty,y5e=Object.defineProperties,v5e=Object.getOwnPropertyDescriptors,YA=Object.getOwnPropertySymbols,w5e=Object.prototype.hasOwnProperty,b5e=Object.prototype.propertyIsEnumerable,JA=(n,e,t)=>e in n?g5e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k5e=(n,e)=>{for(var t in e||(e={}))w5e.call(e,t)&&JA(n,t,e[t]);if(YA)for(var t of YA(e))b5e.call(e,t)&&JA(n,t,e[t]);return n},x5e=(n,e)=>y5e(n,v5e(e));function S5e(n){let e;n.update(m0.key,t=>x5e(k5e({},t),{addLink:(r,i)=>{e==null||e.addLink(r,i)},editLink:(r,i,s)=>{e==null||e.editLink(r,i,s)},removeLink:(r,i)=>{e==null||e.removeLink(r,i)}})),n.set(Sy.key,{view:t=>(e=new m5e(n,t),e)})}function C5e(n,e,t,r,i){let s={start:-1,end:-1};return t.nodesBetween(r,i,(o,a)=>{if(s.start>-1)return!1;s.start===-1&&n.isInSet(o.marks)&&e===o&&(s={start:a,end:a+Math.max(o.textContent.length,1)})}),s}function M5e(n,e,t){const r=e.posAtCoords({left:t.clientX,top:t.clientY});if(!r)return;const{pos:i}=r,s=e.state.doc.nodeAt(i);if(!s)return;const o=s.marks.find(l=>l.type===Rs.mark.type(n));if(!(!o||!Np.pluginKey()))return{show:!0,pos:i,node:s,mark:o}}const A5e=he({props:{config:{type:Object,required:!0},src:{type:Object,required:!0},onEdit:{type:Object,required:!0},onRemove:{type:Object,required:!0}},setup({config:n,src:e,onEdit:t,onRemove:r}){const i=a=>{a.preventDefault(),a.stopPropagation(),t.value()},s=a=>{a.preventDefault(),a.stopPropagation(),r.value()},o=a=>{a.preventDefault();const l=e.value;navigator.clipboard&&l&&navigator.clipboard.writeText(l).then(()=>{n.value.onCopyLink(l)}).catch(u=>console.error(u))};return()=>oe("div",{class:"link-preview"},oe(Lf,{class:"button link-icon",icon:n.value.linkIcon,onClick:o}),oe("a",{href:e.value,target:"_blank",class:"link-display"},e.value),oe(Lf,{class:"button link-edit-button",icon:n.value.editButton,onClick:i}),oe(Lf,{class:"button link-remove-button",icon:n.value.removeButton,onClick:s}))}});var k$=n=>{throw TypeError(n)},x$=(n,e,t)=>e.has(n)||k$("Cannot "+t),Ot=(n,e,t)=>(x$(n,e,"read from private field"),t?t.call(n):e.get(n)),wi=(n,e,t)=>e.has(n)?k$("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),tu=(n,e,t,r)=>(x$(n,e,"write to private field"),e.set(n,t),t),lu,Ms,Ud,Gd,$g,Bg,Fg,Kd,Yd,zg,Hg,Vg,Jd;class _5e{constructor(e,t){this.ctx=e,wi(this,lu),wi(this,Ms),wi(this,Ud,this.ctx.use(_a.key)),wi(this,Gd),wi(this,$g,V("")),wi(this,Bg,V(()=>{})),wi(this,Fg,V(()=>{})),wi(this,Kd),wi(this,Yd,!1),wi(this,zg,({mode:r})=>{r==="edit"&&Ot(this,Jd).call(this)}),wi(this,Hg,()=>{tu(this,Yd,!0)}),wi(this,Vg,()=>{tu(this,Yd,!1)}),wi(this,Jd,()=>{Ot(this,Ms).hide(),Ot(this,Ms).element.removeEventListener("mouseenter",Ot(this,Hg)),Ot(this,Ms).element.removeEventListener("mouseleave",Ot(this,Vg))}),this.show=(r,i,s,o)=>{Ot(this,Gd).value=this.ctx.get(g0.key),Ot(this,$g).value=r.attrs.href,Ot(this,Bg).value=()=>{this.ctx.get(m0.key).editLink(r,i,s)},Ot(this,Fg).value=()=>{this.ctx.get(m0.key).removeLink(i,s),Ot(this,Jd).call(this)},Ot(this,Ms).show({getBoundingClientRect:()=>o}),Ot(this,Ms).element.addEventListener("mouseenter",Ot(this,Hg)),Ot(this,Ms).element.addEventListener("mouseleave",Ot(this,Vg))},this.hide=()=>{Ot(this,Yd)||Ot(this,Jd).call(this)},this.update=()=>{},this.destroy=()=>{Ot(this,Kd).unmount(),Ot(this,Ud).off(Ot(this,zg)),Ot(this,Ms).destroy(),Ot(this,lu).remove()},tu(this,Gd,V(this.ctx.get(g0.key))),tu(this,Kd,qs(A5e,{config:Ot(this,Gd),src:Ot(this,$g),onEdit:Ot(this,Bg),onRemove:Ot(this,Fg)})),tu(this,lu,document.createElement("div")),Ot(this,lu).className="milkdown-link-preview",Ot(this,Kd).mount(Ot(this,lu)),tu(this,Ms,new ky({debounce:0,content:Ot(this,lu),shouldShow:()=>!1})),Ot(this,Ms).update(t),tu(this,Ud,e.use(_a.key)),Ot(this,Ud).on(Ot(this,zg))}}lu=new WeakMap;Ms=new WeakMap;Ud=new WeakMap;Gd=new WeakMap;$g=new WeakMap;Bg=new WeakMap;Fg=new WeakMap;Kd=new WeakMap;Yd=new WeakMap;zg=new WeakMap;Hg=new WeakMap;Vg=new WeakMap;Jd=new WeakMap;function T5e(n){let e;const r=i4((s,o)=>{if(!e||!s.hasFocus()||n.get(_a.key).mode==="edit")return;const l=M5e(n,s,o);if(l){const u=s.state.doc.resolve(l.pos),c=C5e(l.mark,l.node,s.state.doc,u.before(),u.after()),h=c.start,d=c.end;e.show(l.mark,h,d,I4(s,h,d));return}e.hide()},50),i=()=>{setTimeout(()=>{e==null||e.hide()},50)};n.set(Np.key,{props:{handleDOMEvents:{mousemove:r,mouseleave:i}},view:s=>(e=new _5e(n,s),e)})}function E5e(n){T5e(n),S5e(n)}const O5e=[_a,m0,g0,Np,Sy,v$].flat();var I5e=Object.defineProperty,XA=Object.getOwnPropertySymbols,D5e=Object.prototype.hasOwnProperty,N5e=Object.prototype.propertyIsEnumerable,QA=(n,e,t)=>e in n?I5e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L5e=(n,e)=>{for(var t in e||(e={}))D5e.call(e,t)&&QA(n,t,e[t]);if(XA)for(var t of XA(e))N5e.call(e,t)&&QA(n,t,e[t]);return n};function S$(n,e){return Object.assign(n,{meta:L5e({package:"@milkdown/components"},e)}),n}const P5e={renderLabel:({label:n,listType:e,checked:t})=>t==null?e==="bullet"?"\u29BF":n:t?"\u2611":"\u25A1"},Cy=Ut(P5e,"listItemBlockConfigCtx");S$(Cy,{displayName:"Config<list-item-block>",group:"ListItemBlock"});function C$({icon:n,class:e,onClick:t}){return oe("span",{class:vr("milkdown-icon",e),onPointerdown:t,ref:r=>{r&&n&&(r.innerHTML=ws.sanitize(n.trim()))}})}C$.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};const R5e=he({props:{label:{type:Object,required:!0},checked:{type:Object,required:!0},listType:{type:Object,required:!0},config:{type:Object,required:!0},readonly:{type:Object,required:!0},selected:{type:Object,required:!0},setAttr:{type:Function,required:!0},onMount:{type:Function,required:!0}},setup({label:n,checked:e,listType:t,config:r,readonly:i,setAttr:s,onMount:o,selected:a}){const l=d=>{d!=null&&d instanceof Element&&o(d)},u=d=>{d.stopPropagation(),d.preventDefault(),e.value!=null&&s("checked",!e.value)},c=W(()=>r.renderLabel({label:n.value,listType:t.value,checked:e.value,readonly:i.value})),h=W(()=>e.value==null?t.value==="bullet"?"bullet":"ordered":e.value?"checked":"unchecked");return()=>oe("li",{class:vr("list-item",a.value&&"ProseMirror-selectednode")},oe("div",{class:"label-wrapper",onPointerdown:u,contenteditable:!1},oe(C$,{class:vr("label",i.value&&"readonly",h.value),icon:c.value})),oe("div",{class:"children",ref:l}))}}),M$=mp(Us.node,n=>(e,t,r)=>{const i=document.createElement("div");i.className="milkdown-list-item-block";const s=document.createElement("div");s.setAttribute("data-content-dom","true"),s.classList.add("content-dom");const o=V(e.attrs.label),a=V(e.attrs.checked),l=V(e.attrs.listType),u=V(!t.editable),c=n.get(Cy.key),h=V(!1),d=(k,_)=>{if(!t.editable)return;const C=r();C!=null&&(t.hasFocus()||t.focus(),t.dispatch(t.state.tr.setNodeAttribute(C,k,_)))},f=v0(()=>{h.value?i.classList.add("selected"):i.classList.remove("selected")});let p=0;const y=qs(R5e,{label:o,checked:a,listType:l,readonly:u,config:c,selected:h,setAttr:d,onMount:k=>{const{anchor:_,head:C}=t.state.selection;k.appendChild(s);const M=t.state.doc.resolve(_),O=t.state.doc.resolve(C);p=requestAnimationFrame(()=>{if(cancelAnimationFrame(p),!M.doc.eq(t.state.doc))return;const D=new Ue(M,O);t.dispatch(t.state.tr.setSelection(D))})}});y.mount(i);const v=k=>{l.value=k.attrs.listType,o.value=k.attrs.label,a.value=k.attrs.checked,u.value=!t.editable};v(e);let b=e;return{dom:i,contentDOM:s,update:k=>k.type!==e.type?!1:(k.sameMarkup(b)&&k.content.eq(b.content)||(b=k,v(k)),!0),ignoreMutation:k=>!i||!s?!0:k.type==="selection"?!1:s===k.target&&k.type==="attributes"?!0:!s.contains(k.target),selectNode:()=>{h.value=!0},deselectNode:()=>{h.value=!1},destroy:()=>{f(),y.unmount(),i.remove(),s.remove()}}});S$(M$,{displayName:"NodeView<list-item-block>",group:"ListItemBlock"});const $5e=[Cy,M$];var B5e=Object.defineProperty,e_=Object.getOwnPropertySymbols,F5e=Object.prototype.hasOwnProperty,z5e=Object.prototype.propertyIsEnumerable,t_=(n,e,t)=>e in n?B5e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,H5e=(n,e)=>{for(var t in e||(e={}))F5e.call(e,t)&&t_(n,t,e[t]);if(e_)for(var t of e_(e))z5e.call(e,t)&&t_(n,t,e[t]);return n};function A$(n,e){return Object.assign(n,{meta:H5e({package:"@milkdown/components"},e)}),n}var V5e=Object.defineProperty,n_=Object.getOwnPropertySymbols,q5e=Object.prototype.hasOwnProperty,W5e=Object.prototype.propertyIsEnumerable,r_=(n,e,t)=>e in n?V5e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,j5e=(n,e)=>{for(var t in e||(e={}))q5e.call(e,t)&&r_(n,t,e[t]);if(n_)for(var t of n_(e))W5e.call(e,t)&&r_(n,t,e[t]);return n};const Z5e={renderButton:n=>{switch(n){case"add_row":return"+";case"add_col":return"+";case"delete_row":return"-";case"delete_col":return"-";case"align_col_left":return"left";case"align_col_center":return"center";case"align_col_right":return"right";case"col_drag_handle":return"=";case"row_drag_handle":return"="}}},My=Ut(j5e({},Z5e),"tableBlockConfigCtx");A$(My,{displayName:"Config<table-block>",group:"TableBlock"});function ro({icon:n,class:e,onClick:t}){return oe("span",{class:vr("milkdown-icon",e),onPointerdown:t,ref:r=>{r&&n&&(r.innerHTML=ws.sanitize(n.trim()))}})}ro.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};function _$(n){const{dragPreviewRef:e,tableWrapperRef:t,contentWrapperRef:r,yLineHandleRef:i,xLineHandleRef:s,colHandleRef:o,rowHandleRef:a}=n,l=e.value;if(!l)return;const u=t.value;if(!u)return;const c=r.value;if(!c)return;const h=c.querySelector("tbody");if(!h)return;const d=l.querySelector("tbody");if(!d)return;const f=i.value;if(!f)return;const p=s.value;if(!p)return;const m=o.value;if(!m)return;const y=a.value;return y?{preview:l,wrapper:u,content:c,contentRoot:h,previewRoot:d,yHandle:f,xHandle:p,colHandle:m,rowHandle:y}:void 0}function T$(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function E$(n,e,t,r,i){const{width:s,height:o}=r.querySelector("tbody").getBoundingClientRect();if(n==="y"){const l=r.querySelectorAll("tr")[i];if(!l)return;t.appendChild(l.cloneNode(!0));const u=l.getBoundingClientRect().height;Object.assign(e.style,{width:`${s}px`,height:`${u}px`}),e.dataset.show="true";return}if(n==="x"){const a=r.querySelectorAll("tr");let l;Array.from(a).forEach(u=>{const c=u.children[i];if(!c)return;l===void 0&&(l=c.getBoundingClientRect().width);const h=c.parentElement.cloneNode(!1),d=c.cloneNode(!0);h.appendChild(d),t.appendChild(h)}),Object.assign(e.style,{width:`${l}px`,height:`${o}px`}),e.dataset.show="true";return}}function U5e(n,e){return t=>{I$(n,t,e,r=>{O$("y",t,r,n);const{preview:i,content:s,previewRoot:o}=r;T$(o);const{hoverIndex:a}=n,[l]=a.value;E$("y",i,o,s,l)})}}function G5e(n,e){return t=>{I$(n,t,e,r=>{O$("x",t,r,n);const{preview:i,content:s,previewRoot:o}=r,{hoverIndex:a}=n,[l,u]=a.value;T$(o),E$("x",i,o,s,u)})}}function O$(n,e,t,r){const{xHandle:i,yHandle:s,colHandle:o,rowHandle:a,preview:l}=t;i.dataset.displayType=n==="y"?"indicator":"none",s.dataset.displayType=n==="x"?"indicator":"none",n==="y"?(o.dataset.show="false",i_(a)):(a.dataset.show="false",i_(o));const{hoverIndex:u,dragInfo:c}=r,[h,d]=u.value;c.value={startCoords:[e.clientX,e.clientY],startIndex:n==="y"?h:d,endIndex:n==="y"?h:d,type:n==="y"?"row":"col"},l.dataset.direction=n==="y"?"vertical":"horizontal"}function I$(n,e,t,r){const i=t==null?void 0:t.get(an);if(!(i!=null&&i.editable))return;e.stopPropagation(),e.dataTransfer&&(e.dataTransfer.effectAllowed="move");const s=_$(n);!s||requestAnimationFrame(()=>{r(s)})}function i_(n){var e;(e=n.querySelector(".button-group"))==null||e.setAttribute("data-show","false")}function Q3(n,e){for(let t=0;t<n.childCount;t++)if(n.child(t)===e)return t;return-1}function K5e(n,e){var t,r,i;if(!!e)try{const s=e.posAtCoords({left:n.clientX,top:n.clientY});if(!s)return;const o=s==null?void 0:s.inside;if(o==null||o<0)return;const a=e.state.doc.resolve(o),l=e.state.doc.nodeAt(o);if(!l)return;const u=["table_cell","table_header"],c=["table_row","table_header_row"],h=u.includes(l.type.name)?l:(t=Co(y=>u.includes(y.type.name))(a))==null?void 0:t.node,d=(r=Co(y=>c.includes(y.type.name))(a))==null?void 0:r.node,f=(i=Co(y=>y.type.name==="table")(a))==null?void 0:i.node;if(!h||!d||!f)return;const p=Q3(d,h);return[Q3(f,d),p]}catch{return}}function Ay(n,[e,t]){const r=n.value;if(!r)return;const i=r.querySelectorAll("tr"),s=i[e];if(!s)return;const o=i[0];if(!o)return;const a=o.children[t];if(!a)return;const l=s.children[t];if(!!l)return{row:s,col:l,headerCol:a}}function Y5e(n,e,t){if(!t||!e)return;const{selection:r}=e.state;if(!(r instanceof sn))return;const{$from:i}=r,s=L0(i);if(!(!s||s.node!==t)){if(r.isColSelection()){const{$head:o}=r,a=o.index(o.depth-1);Kb({refs:n,index:[0,a],before:l=>{var u;(u=l.querySelector(".button-group"))==null||u.setAttribute("data-show","true")}});return}if(r.isRowSelection()){const{$head:o}=r,a=Co(u=>u.type.name==="table_row"||u.type.name==="table_header_row")(o);if(!a)return;const l=Q3(s.node,a.node);Yb({refs:n,index:[l,0],before:u=>{var c;l>0&&((c=u.querySelector(".button-group"))==null||c.setAttribute("data-show","true"))}})}}}function Kb({refs:n,index:e,before:t,after:r}){const{contentWrapperRef:i,colHandleRef:s,hoverIndex:o}=n,a=s.value;if(!a)return;o.value=e;const l=Ay(i,e);if(!l)return;const{headerCol:u}=l;a.dataset.show="true",t&&t(a),Vs(u,a,{placement:"top"}).then(({x:c,y:h})=>{Object.assign(a.style,{left:`${c}px`,top:`${h}px`}),r&&r(a)}).catch(console.error)}function Yb({refs:n,index:e,before:t,after:r}){const{contentWrapperRef:i,rowHandleRef:s,hoverIndex:o}=n,a=s.value;if(!a)return;o.value=e;const l=Ay(i,e);if(!l)return;const{row:u}=l;a.dataset.show="true",t&&t(a),Vs(u,a,{placement:"left"}).then(({x:c,y:h})=>{Object.assign(a.style,{left:`${c}px`,top:`${h}px`}),r&&r(a)}).catch(console.error)}function D$(n,e,t){const r=t==="x"?"left":"top",i=t==="x"?"right":"bottom",s=n.length-1,o=n.findIndex((l,u)=>{const c=l.getBoundingClientRect(),h=c[r],d=c[i];return h<=e&&e<=d||u===s&&e>d||u===0&&e<h}),a=n[o];return a?[a,o]:void 0}function J5e(n,e){const t=n.querySelector("tr");if(!t)return;const r=Array.from(t.children);return D$(r,e,"x")}function X5e(n,e){const t=Array.from(n.querySelectorAll("tr"));return D$(t,e,"y")}function Q5e(n){return c4(e=>{const t=_$(n);if(!t)return;const{preview:r,content:i,contentRoot:s,xHandle:o,yHandle:a}=t,{dragInfo:l,hoverIndex:u}=n;if(r.dataset.show==="false")return;const c=Ay(n.contentWrapperRef,u.value);if(!c||!s.querySelector("tr"))return;const d=l.value;if(!d||!s.offsetParent)return;const f=s.offsetParent.offsetTop,p=s.offsetParent.offsetLeft;if(d.type==="col"){const m=c.col.getBoundingClientRect().width,{left:y,width:v}=s.getBoundingClientRect(),b=p-y,k=e.clientX+b-m/2,[_]=d.startCoords,C=_<e.clientX?"right":"left";r.style.top=`${f}px`;const M=k<y+b-20?y+b-20:k>y+v+b-m+20?y+v+b-m+20:k;r.style.left=`${M}px`;const O=J5e(s,e.clientX);if(O){const[D,$]=O,R=a.getBoundingClientRect().width,G=i.getBoundingClientRect();d.endIndex=$,Vs(D,a,{placement:C==="left"?"left":"right",middleware:[El(C==="left"?-1*R:0)]}).then(({x:N})=>{a.dataset.show="true",Object.assign(a.style,{height:`${G.height}px`,left:`${N}px`,top:`${f}px`})}).catch(console.error)}}else if(d.type==="row"){const m=c.row.getBoundingClientRect().height,{top:y,height:v}=s.getBoundingClientRect(),b=f-y,k=e.clientY+b-m/2,[_,C]=d.startCoords,M=C<e.clientY?"down":"up",O=k<y+b-20?y+b-20:k>y+v+b-m+20?y+v+b-m+20:k;r.style.top=`${O}px`,r.style.left=`${p}px`;const D=X5e(s,e.clientY);if(D){const[$,R]=D,G=o.getBoundingClientRect().height,N=i.getBoundingClientRect();d.endIndex=R,Vs($,o,{placement:M==="up"?"top":"bottom",middleware:[El(M==="up"?-1*G:0)]}).then(({y:j})=>{o.dataset.show="true",Object.assign(o.style,{width:`${N.width}px`,top:`${j}px`})}).catch(console.error)}}},20)}function ewe(n,e,t){const{dragPreviewRef:r,yLineHandleRef:i,xLineHandleRef:s,dragInfo:o}=n,a=U5e(n,e),l=G5e(n,e),u=()=>{const d=r.value;if(!d||d.dataset.show==="false")return;const f=d==null?void 0:d.querySelector("tbody");for(;f!=null&&f.firstChild;)f==null||f.removeChild(f.firstChild);d&&(d.dataset.show="false")},c=()=>{var d;const f=r.value;if(!f)return;const p=i.value;if(!p)return;const m=s.value;if(!m)return;const y=o.value;if(!y||!e||f.dataset.show==="false"||!n.colHandleRef.value||!n.rowHandleRef.value||(p.dataset.show="false",m.dataset.show="false",y.startIndex===y.endIndex))return;const k=e.get(We),_={from:y.startIndex,to:y.endIndex,pos:((d=t==null?void 0:t())!=null?d:0)+1};if(y.type==="col"){k.call(Su.key,{pos:_.pos,index:y.startIndex}),k.call(eb.key,_);const C=[0,y.endIndex];Kb({refs:n,index:C})}else{k.call(xu.key,{pos:_.pos,index:y.startIndex}),k.call(Q7.key,_);const C=[y.endIndex,0];Yb({refs:n,index:C})}requestAnimationFrame(()=>{e.get(an).focus()})},h=Q5e(n);return On(()=>{window.addEventListener("dragover",h),window.addEventListener("dragend",u),window.addEventListener("drop",c)}),or(()=>{window.removeEventListener("dragover",h),window.removeEventListener("dragend",u),window.removeEventListener("drop",c)}),{dragRow:a,dragCol:l}}function twe(n,e,t){const{xLineHandleRef:r,contentWrapperRef:i,colHandleRef:s,rowHandleRef:o,hoverIndex:a,lineHoverIndex:l}=n;return{onAddRow:()=>{var m,y,v;if(!e)return;const b=r.value;if(!b)return;const[k]=l.value;if(k<0||!e.get(an).editable)return;const _=Array.from((y=(m=i.value)==null?void 0:m.querySelectorAll("tr"))!=null?y:[]),C=e.get(We),M=((v=t==null?void 0:t())!=null?v:0)+1;_.length===k?(C.call(xu.key,{pos:M,index:k-1}),C.call(sb.key)):(C.call(xu.key,{pos:M,index:k}),C.call(ib.key)),C.call(xu.key,{pos:M,index:k}),b.dataset.show="false"},onAddCol:()=>{var m,y,v,b;if(!e||!r.value)return;const[_,C]=l.value;if(C<0||!e.get(an).editable)return;const M=Array.from((v=(y=(m=i.value)==null?void 0:m.querySelector("tr"))==null?void 0:y.children)!=null?v:[]),O=e.get(We),D=((b=t==null?void 0:t())!=null?b:0)+1;M.length===C?(O.call(Su.key,{pos:D,index:C-1}),O.call(rb.key)):(O.call(Su.key,{pos:D,index:C}),O.call(nb.key)),O.call(Su.key,{pos:D,index:C})},selectCol:()=>{var m,y;if(!e)return;const[v,b]=a.value,k=e.get(We),_=((m=t==null?void 0:t())!=null?m:0)+1;k.call(Su.key,{pos:_,index:b});const C=(y=s.value)==null?void 0:y.querySelector(".button-group");C&&(C.dataset.show=C.dataset.show==="true"?"false":"true")},selectRow:()=>{var m,y;if(!e)return;const[v,b]=a.value,k=e.get(We),_=((m=t==null?void 0:t())!=null?m:0)+1;k.call(xu.key,{pos:_,index:v});const C=(y=o.value)==null?void 0:y.querySelector(".button-group");C&&v>0&&(C.dataset.show=C.dataset.show==="true"?"false":"true")},deleteSelected:m=>{if(!e||!e.get(an).editable)return;m.preventDefault(),m.stopPropagation(),e.get(We).call(tb.key),requestAnimationFrame(()=>{e.get(an).focus()})},onAlign:m=>y=>{if(!e||!e.get(an).editable)return;y.preventDefault(),y.stopPropagation(),e.get(We).call(ob.key,m),requestAnimationFrame(()=>{e.get(an).focus()})}}}function nwe(n,e){return c4(t=>{if(!(e!=null&&e.editable))return;const{contentWrapperRef:r,yLineHandleRef:i,xLineHandleRef:s,colHandleRef:o,rowHandleRef:a,hoverIndex:l,lineHoverIndex:u}=n,c=i.value;if(!c)return;const h=s.value;if(!h)return;const d=r.value;if(!d)return;const f=a.value;if(!f)return;const p=o.value;if(!p)return;const m=K5e(t,e);if(!m)return;const y=Ay(r,m);if(!y)return;const[v,b]=m,k=y.col.getBoundingClientRect(),_=Math.abs(t.clientX-k.left)<8,C=Math.abs(k.right-t.clientX)<8,M=Math.abs(t.clientY-k.top)<8,O=Math.abs(k.bottom-t.clientY)<8,D=_||C||M||O,$=f.querySelector(".button-group"),R=p.querySelector(".button-group");if($&&($.dataset.show="false"),R&&(R.dataset.show="false"),D){const G=d.getBoundingClientRect();f.dataset.show="false",p.dataset.show="false",h.dataset.displayType="tool",c.dataset.displayType="tool";const N=c.getBoundingClientRect().width,j=h.getBoundingClientRect().height;_||C?(u.value[1]=_?b:b+1,Vs(y.col,c,{placement:_?"left":"right",middleware:[El(_?-1*N:0)]}).then(({x:Z})=>{c.dataset.show="true",Object.assign(c.style,{height:`${G.height}px`,left:`${Z}px`})}).catch(console.error)):c.dataset.show="false",m[0]!==0&&(M||O)?(u.value[0]=M?v:v+1,Vs(y.row,h,{placement:M?"top":"bottom",middleware:[El(M?-1*j:0)]}).then(({y:Z})=>{h.dataset.show="true",Object.assign(h.style,{width:`${G.width}px`,top:`${Z}px`})}).catch(console.error)):h.dataset.show="false";return}u.value=[-1,-1],c.dataset.show="false",h.dataset.show="false",f.dataset.show="true",p.dataset.show="true",Yb({refs:n,index:m}),Kb({refs:n,index:m}),l.value=m},20)}function rwe(n){return()=>{const{rowHandleRef:e,colHandleRef:t,yLineHandleRef:r,xLineHandleRef:i}=n;setTimeout(()=>{const s=e.value;if(!s)return;const o=t.value;if(!o)return;const a=r.value;if(!a)return;const l=i.value;!l||(s.dataset.show="false",o.dataset.show="false",a.dataset.show="false",l.dataset.show="false")},200)}}function iwe(n,e){const t=nwe(n,e),r=rwe(n);return{pointerMove:t,pointerLeave:r}}const swe=he({props:{view:{type:Object,required:!0},ctx:{type:Object,required:!0},getPos:{type:Function,required:!0},config:{type:Object,required:!0},onMount:{type:Function,required:!0},node:{type:Object,required:!0}},setup({view:n,node:e,ctx:t,getPos:r,config:i,onMount:s}){const o=V(),a=N=>{N!=null&&(N instanceof HTMLElement?(o.value=N,s(N)):o.value=void 0)},l=V(),u=V(),c=V(),h=V(),d=V(),f=V(),p=V([0,0]),m=V([-1,-1]),y=V(),v={dragPreviewRef:f,tableWrapperRef:d,contentWrapperRef:o,yLineHandleRef:h,xLineHandleRef:c,colHandleRef:l,rowHandleRef:u,hoverIndex:p,lineHoverIndex:m,dragInfo:y},{pointerLeave:b,pointerMove:k}=iwe(v,n),{dragRow:_,dragCol:C}=ewe(v,t,r),{onAddRow:M,onAddCol:O,selectCol:D,selectRow:$,deleteSelected:R,onAlign:G}=twe(v,t,r);return On(()=>{requestAnimationFrame(()=>{n.editable&&Y5e(v,n,e.value)})}),()=>oe("div",{onDragstart:N=>N.preventDefault(),onDragover:N=>N.preventDefault(),onDragleave:N=>N.preventDefault(),onPointermove:k,onPointerleave:b},oe("button",{type:"button","data-show":"false",contenteditable:"false",draggable:"true","data-role":"col-drag-handle",class:"handle cell-handle",onDragstart:C,onClick:D,onPointerdown:N=>N.stopPropagation(),onPointermove:N=>N.stopPropagation(),ref:l},oe(ro,{icon:i.renderButton("col_drag_handle")}),oe("div",{"data-show":"false",class:"button-group",onPointermove:N=>N.stopPropagation()},oe("button",{type:"button",onPointerdown:G("left")},oe(ro,{icon:i.renderButton("align_col_left")})),oe("button",{type:"button",onPointerdown:G("center")},oe(ro,{icon:i.renderButton("align_col_center")})),oe("button",{type:"button",onPointerdown:G("right")},oe(ro,{icon:i.renderButton("align_col_right")})),oe("button",{type:"button",onPointerdown:R},oe(ro,{icon:i.renderButton("delete_col")})))),oe("button",{type:"button","data-show":"false",contenteditable:"false",draggable:"true","data-role":"row-drag-handle",class:"handle cell-handle",onDragstart:_,onClick:$,onPointerdown:N=>N.stopPropagation(),onPointermove:N=>N.stopPropagation(),ref:u},oe(ro,{icon:i.renderButton("row_drag_handle")}),oe("div",{"data-show":"false",class:"button-group",onPointermove:N=>N.stopPropagation()},oe("button",{type:"button",onPointerdown:R},oe(ro,{icon:i.renderButton("delete_row")})))),oe("div",{class:"table-wrapper",ref:d},oe("div",{"data-show":"false",class:"drag-preview","data-direction":"vertical",ref:f},oe("table",null,oe("tbody",null))),oe("div",{"data-show":"false",contenteditable:"false","data-display-type":"tool","data-role":"x-line-drag-handle",class:"handle line-handle",onPointermove:N=>N.stopPropagation(),ref:c},oe("button",{type:"button",onClick:M,class:"add-button"},oe(ro,{icon:i.renderButton("add_row")}))),oe("div",{"data-show":"false",contenteditable:"false","data-display-type":"tool","data-role":"y-line-drag-handle",class:"handle line-handle",onPointermove:N=>N.stopPropagation(),ref:h},oe("button",{type:"button",onClick:O,class:"add-button"},oe(ro,{icon:i.renderButton("add_col")}))),oe("table",{ref:a,class:"children"})))}});var N$=n=>{throw TypeError(n)},owe=(n,e,t)=>e.has(n)||N$("Cannot "+t),awe=(n,e,t)=>e.has(n)?N$("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),lwe=(n,e,t)=>(owe(n,e,"access private method"),t),e5,L$;class uwe{constructor(e,t,r,i){this.ctx=e,this.node=t,this.view=r,this.getPos=i,awe(this,e5);const s=document.createElement("div");s.className="milkdown-table-block";const o=document.createElement("tbody");this.contentDOM=o,o.setAttribute("data-content-dom","true"),o.classList.add("content-dom"),this.nodeRef=Qu(t);const a=qs(swe,{view:r,ctx:e,getPos:i,config:e.get(My.key),onMount:l=>{l.appendChild(o)},node:this.nodeRef});a.mount(s),this.app=a,this.dom=s}update(e){return e.type!==this.node.type||e.sameMarkup(this.node)&&e.content.eq(this.node.content)?!1:(this.node=e,this.nodeRef.value=e,!0)}stopEvent(e){if(e.type==="drop"||e.type.startsWith("drag"))return!0;if(e.type==="mousedown"||e.type==="pointerdown"){if(e.target instanceof Element&&e.target.closest("button"))return!0;const t=e.target;if(t instanceof HTMLElement&&(t.closest("th")||t.closest("td"))){const r=e;return lwe(this,e5,L$).call(this,r)}}return!1}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:e.type==="selection"?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}destroy(){this.app.unmount(),this.dom.remove(),this.contentDOM.remove()}}e5=new WeakSet;L$=function(n){const e=this.view;if(!e.editable)return!1;const{state:t,dispatch:r}=e,i=e.posAtCoords({left:n.clientX,top:n.clientY});if(!i)return!1;const s=t.doc.resolve(i.inside),o=Co(u=>u.type.name==="table_cell"||u.type.name==="table_header")(s);if(!o)return!1;if(t.selection instanceof Ue){const u=Co(c=>c.type.name==="table_cell"||c.type.name==="table_header")(t.selection.$from);if((u==null?void 0:u.node)===o.node)return!1}const{from:a}=o,l=Je.create(t.doc,a+1);return t.selection.eq(l)?!1:(t.selection instanceof sn?setTimeout(()=>{r(t.tr.setSelection(l).scrollIntoView())},20):requestAnimationFrame(()=>{r(t.tr.setSelection(l).scrollIntoView())}),!0)};const P$=mp(Fl.node,n=>(e,t,r)=>new uwe(n,e,t,r));A$(P$,{displayName:"NodeView<table-block>",group:"TableBlock"});const cwe=[My,P$];function t5(n){if(!n)return!1;if(Array.isArray(n))return n.length>1?!1:t5(n[0]);const e=n.content;return e?t5(e):n.type==="text"}function hwe(n,e){return Object.assign(n,{meta:{package:"@milkdown/plugin-clipboard",...e}}),n}const R$=Wn(n=>{const e=n.get(Mo);n.update(Of,i=>{var s;return{...i,editable:(s=i.editable)!=null?s:()=>!0}});const t=new pn("MILKDOWN_CLIPBOARD");return new fn({key:t,props:{handlePaste:(i,s)=>{var v,b;const o=n.get(Tf),a=(b=(v=i.props).editable)==null?void 0:b.call(v,i.state),{clipboardData:l}=s;if(!a||!l||i.state.selection.$from.node().type.spec.code)return!1;const c=l.getData("text/plain"),h=l.getData("vscode-editor-data");if(h){const k=JSON.parse(h),_=k==null?void 0:k.mode;if(c&&_){const{tr:C}=i.state,M=Rle("code_block",e);return C.replaceSelectionWith(M.create({language:_})).setSelection(Ue.near(C.doc.resolve(Math.max(0,C.selection.from-2)))).insertText(c.replace(/\r\n?/g,`
`)),i.dispatch(C),!0}}const d=l.getData("text/html");if(d.length===0&&c.length===0)return!1;const f=lc.fromSchema(e);let p;if(d.length===0){const k=o(c);if(!k||typeof k=="string")return!1;p=yc.fromSchema(e).serializeFragment(k.content)}else{const k=document.createElement("template");k.innerHTML=d,p=k.content.cloneNode(!0),k.remove()}const m=f.parseSlice(p),y=Lle(m);if(y)return i.dispatch(i.state.tr.replaceSelectionWith(y,!0)),!0;try{return i.dispatch(i.state.tr.replaceSelection(m)),!0}catch{return!1}},clipboardTextSerializer:i=>{const s=n.get(oh);if(t5(i.content.toJSON()))return i.content.textBetween(0,i.content.size,`

`);const a=e.topNodeType.createAndFill(void 0,i.content);return a?s(a):""}}})});hwe(R$,{displayName:"Prose<clipboard>"});function H0(n,e){return Object.assign(n,{meta:{package:"@milkdown/plugin-history",...e}}),n}const Jb=at("Undo",()=>()=>cy);H0(Jb,{displayName:"Command<undo>"});const Xb=at("Redo",()=>()=>h0);H0(Xb,{displayName:"Command<redo>"});const Qb=Ut({},"historyProviderConfig");H0(Qb,{displayName:"Ctx<historyProviderConfig>"});const $$=Wn(n=>uye(n.get(Qb.key)));H0($$,{displayName:"Ctx<historyProviderPlugin>"});const ek=di("historyKeymap",{Undo:{shortcuts:"Mod-z",command:n=>{const e=n.get(We);return()=>e.call(Jb.key)}},Redo:{shortcuts:["Mod-y","Shift-Mod-z"],command:n=>{const e=n.get(We);return()=>e.call(Xb.key)}}});H0(ek.ctx,{displayName:"KeymapCtx<history>"});H0(ek.shortcuts,{displayName:"Keymap<history>"});const dwe=[Qb,$$,ek,Jb,Xb].flat();function fwe(n,e){const{doc:t,selection:r}=n;if(!t||!r||!(r instanceof Ue||r instanceof oi))return n;const{to:i}=r,s=e.type==="space"?Array(e.size).fill(" ").join(""):"	";return n.insertText(s,i)}const _y=Ut({type:"space",size:2},"indentConfig");_y.meta={package:"@milkdown/plugin-indent",displayName:"Ctx<indentConfig>"};const B$=IN(n=>({Tab:(e,t)=>{const r=n.get(_y.key),{tr:i}=e,s=fwe(i,r);return s.docChanged?(t==null||t(s),!0):!1}}));B$.meta={package:"@milkdown/plugin-indent",displayName:"Shortcut<indent>"};const pwe=[_y,B$];class F${constructor(){this.beforeMountedListeners=[],this.mountedListeners=[],this.updatedListeners=[],this.selectionUpdatedListeners=[],this.markdownUpdatedListeners=[],this.blurListeners=[],this.focusListeners=[],this.destroyListeners=[],this.beforeMount=e=>(this.beforeMountedListeners.push(e),this),this.mounted=e=>(this.mountedListeners.push(e),this),this.updated=e=>(this.updatedListeners.push(e),this)}get listeners(){return{beforeMount:this.beforeMountedListeners,mounted:this.mountedListeners,updated:this.updatedListeners,markdownUpdated:this.markdownUpdatedListeners,blur:this.blurListeners,focus:this.focusListeners,destroy:this.destroyListeners,selectionUpdated:this.selectionUpdatedListeners}}markdownUpdated(e){return this.markdownUpdatedListeners.push(e),this}blur(e){return this.blurListeners.push(e),this}focus(e){return this.focusListeners.push(e),this}destroy(e){return this.destroyListeners.push(e),this}selectionUpdated(e){return this.selectionUpdatedListeners.push(e),this}}const X2=Ct(new F$,"listener"),mwe=new pn("MILKDOWN_LISTENER"),z$=n=>(n.inject(X2,new F$),async()=>{await n.wait(Gu);const e=n.get(X2),{listeners:t}=e;t.beforeMount.forEach(l=>l(n)),await n.wait(Ef);const r=n.get(oh);let i=null,s=null,o=null;const a=new fn({key:mwe,view:()=>({destroy:()=>{t.destroy.forEach(l=>l(n))}}),props:{handleDOMEvents:{focus:()=>(t.focus.forEach(l=>l(n)),!1),blur:()=>(t.blur.forEach(l=>l(n)),!1)}},state:{init:(l,u)=>{i=u.doc,s=r(u.doc)},apply:l=>{const u=l.selection;return(!o&&u||o&&!u.eq(o))&&(t.selectionUpdated.forEach(h=>{h(n,u,o)}),o=u),!l.docChanged||l.getMeta("addToHistory")===!1?void 0:i4(()=>{const{doc:h}=l;if(t.updated.length>0&&i&&!i.eq(h)&&t.updated.forEach(d=>{d(n,h,i)}),t.markdownUpdated.length>0&&i&&!i.eq(h)){const d=r(h);t.markdownUpdated.forEach(f=>{f(n,d,s)}),s=d}i=h},200)()}}});n.update(_l,l=>l.concat(a)),await n.wait(Mg),t.mounted.forEach(l=>l(n))});z$.meta={package:"@milkdown/plugin-listener",displayName:"Listener"};const tk=Ut({shouldAppend:n=>!(!n||["heading","paragraph"].includes(n.type.name)),getNode:n=>n.schema.nodes.paragraph.create()},"trailingConfig");tk.meta={package:"@milkdown/plugin-trailing",displayName:"Ctx<trailingConfig>"};const H$=Wn(n=>{const e=new pn("MILKDOWN_TRAILING"),{shouldAppend:t,getNode:r}=n.get(tk.key),i=new fn({key:e,state:{init:(s,o)=>{const a=o.tr.doc.lastChild;return t(a,o)},apply:(s,o,a,l)=>{if(!s.docChanged)return o;const u=s.doc.lastChild;return t(u,l)}},appendTransaction:(s,o,a)=>{const{doc:l,tr:u}=a,c=r==null?void 0:r(a),h=i.getState(a),d=l.content.size;if(!(!h||!c))return u.insert(d,c)}});return i});H$.meta={package:"@milkdown/plugin-trailing",displayName:"Prose<trailing>"};const gwe=[tk,H$];var Kt=(n=>(n.CodeMirror="code-mirror",n.ListItem="list-item",n.LinkTooltip="link-tooltip",n.Cursor="cursor",n.ImageBlock="image-block",n.BlockEdit="block-edit",n.Toolbar="toolbar",n.Placeholder="placeholder",n.Table="table",n.Latex="latex",n))(Kt||{});const ywe={cursor:!0,["list-item"]:!0,["link-tooltip"]:!0,["image-block"]:!0,["block-edit"]:!0,placeholder:!0,toolbar:!0,["code-mirror"]:!0,table:!0,latex:!0},vwe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M4.25 20.5C4.0375 20.5 3.85942 20.4281 3.71575 20.2843C3.57192 20.1404 3.5 19.9622 3.5 19.7498C3.5 19.5371 3.57192 19.359 3.71575 19.2155C3.85942 19.0718 4.0375 19 4.25 19H19.75C19.9625 19 20.1406 19.0719 20.2843 19.2158C20.4281 19.3596 20.5 19.5378 20.5 19.7502C20.5 19.9629 20.4281 20.141 20.2843 20.2845C20.1406 20.4282 19.9625 20.5 19.75 20.5H4.25ZM8.25 16.625C8.0375 16.625 7.85942 16.5531 7.71575 16.4093C7.57192 16.2654 7.5 16.0872 7.5 15.8748C7.5 15.6621 7.57192 15.484 7.71575 15.3405C7.85942 15.1968 8.0375 15.125 8.25 15.125H15.75C15.9625 15.125 16.1406 15.1969 16.2843 15.3408C16.4281 15.4846 16.5 15.6628 16.5 15.8753C16.5 16.0879 16.4281 16.266 16.2843 16.4095C16.1406 16.5532 15.9625 16.625 15.75 16.625H8.25ZM4.25 12.75C4.0375 12.75 3.85942 12.6781 3.71575 12.5343C3.57192 12.3904 3.5 12.2122 3.5 11.9998C3.5 11.7871 3.57192 11.609 3.71575 11.4655C3.85942 11.3218 4.0375 11.25 4.25 11.25H19.75C19.9625 11.25 20.1406 11.3219 20.2843 11.4658C20.4281 11.6096 20.5 11.7878 20.5 12.0003C20.5 12.2129 20.4281 12.391 20.2843 12.5345C20.1406 12.6782 19.9625 12.75 19.75 12.75H4.25ZM8.25 8.875C8.0375 8.875 7.85942 8.80308 7.71575 8.65925C7.57192 8.51542 7.5 8.33725 7.5 8.12475C7.5 7.91208 7.57192 7.734 7.71575 7.5905C7.85942 7.44683 8.0375 7.375 8.25 7.375H15.75C15.9625 7.375 16.1406 7.44692 16.2843 7.59075C16.4281 7.73458 16.5 7.91275 16.5 8.12525C16.5 8.33792 16.4281 8.516 16.2843 8.6595C16.1406 8.80317 15.9625 8.875 15.75 8.875H8.25ZM4.25 5C4.0375 5 3.85942 4.92808 3.71575 4.78425C3.57192 4.64042 3.5 4.46225 3.5 4.24975C3.5 4.03708 3.57192 3.859 3.71575 3.7155C3.85942 3.57183 4.0375 3.5 4.25 3.5H19.75C19.9625 3.5 20.1406 3.57192 20.2843 3.71575C20.4281 3.85958 20.5 4.03775 20.5 4.25025C20.5 4.46292 20.4281 4.641 20.2843 4.7845C20.1406 4.92817 19.9625 5 19.75 5H4.25Z"
    />
  </svg>
`,wwe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M4.25 20.5C4.0375 20.5 3.85942 20.4281 3.71575 20.2843C3.57192 20.1404 3.5 19.9622 3.5 19.7498C3.5 19.5371 3.57192 19.359 3.71575 19.2155C3.85942 19.0718 4.0375 19 4.25 19H19.75C19.9625 19 20.1406 19.0719 20.2843 19.2158C20.4281 19.3596 20.5 19.5378 20.5 19.7502C20.5 19.9629 20.4281 20.141 20.2843 20.2845C20.1406 20.4282 19.9625 20.5 19.75 20.5H4.25ZM4.25 16.625C4.0375 16.625 3.85942 16.5531 3.71575 16.4093C3.57192 16.2654 3.5 16.0872 3.5 15.8748C3.5 15.6621 3.57192 15.484 3.71575 15.3405C3.85942 15.1968 4.0375 15.125 4.25 15.125H13.75C13.9625 15.125 14.1406 15.1969 14.2843 15.3408C14.4281 15.4846 14.5 15.6628 14.5 15.8753C14.5 16.0879 14.4281 16.266 14.2843 16.4095C14.1406 16.5532 13.9625 16.625 13.75 16.625H4.25ZM4.25 12.75C4.0375 12.75 3.85942 12.6781 3.71575 12.5343C3.57192 12.3904 3.5 12.2122 3.5 11.9998C3.5 11.7871 3.57192 11.609 3.71575 11.4655C3.85942 11.3218 4.0375 11.25 4.25 11.25H19.75C19.9625 11.25 20.1406 11.3219 20.2843 11.4658C20.4281 11.6096 20.5 11.7878 20.5 12.0003C20.5 12.2129 20.4281 12.391 20.2843 12.5345C20.1406 12.6782 19.9625 12.75 19.75 12.75H4.25ZM4.25 8.875C4.0375 8.875 3.85942 8.80308 3.71575 8.65925C3.57192 8.51542 3.5 8.33725 3.5 8.12475C3.5 7.91208 3.57192 7.734 3.71575 7.5905C3.85942 7.44683 4.0375 7.375 4.25 7.375H13.75C13.9625 7.375 14.1406 7.44692 14.2843 7.59075C14.4281 7.73458 14.5 7.91275 14.5 8.12525C14.5 8.33792 14.4281 8.516 14.2843 8.6595C14.1406 8.80317 13.9625 8.875 13.75 8.875H4.25ZM4.25 5C4.0375 5 3.85942 4.92808 3.71575 4.78425C3.57192 4.64042 3.5 4.46225 3.5 4.24975C3.5 4.03708 3.57192 3.859 3.71575 3.7155C3.85942 3.57183 4.0375 3.5 4.25 3.5H19.75C19.9625 3.5 20.1406 3.57192 20.2843 3.71575C20.4281 3.85958 20.5 4.03775 20.5 4.25025C20.5 4.46292 20.4281 4.641 20.2843 4.7845C20.1406 4.92817 19.9625 5 19.75 5H4.25Z"
    />
  </svg>
`,bwe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M4.25 5C4.0375 5 3.85942 4.92808 3.71575 4.78425C3.57192 4.64042 3.5 4.46225 3.5 4.24975C3.5 4.03708 3.57192 3.859 3.71575 3.7155C3.85942 3.57183 4.0375 3.5 4.25 3.5H19.75C19.9625 3.5 20.1406 3.57192 20.2843 3.71575C20.4281 3.85958 20.5 4.03775 20.5 4.25025C20.5 4.46292 20.4281 4.641 20.2843 4.7845C20.1406 4.92817 19.9625 5 19.75 5H4.25ZM10.25 8.875C10.0375 8.875 9.85942 8.80308 9.71575 8.65925C9.57192 8.51542 9.5 8.33725 9.5 8.12475C9.5 7.91208 9.57192 7.734 9.71575 7.5905C9.85942 7.44683 10.0375 7.375 10.25 7.375H19.75C19.9625 7.375 20.1406 7.44692 20.2843 7.59075C20.4281 7.73458 20.5 7.91275 20.5 8.12525C20.5 8.33792 20.4281 8.516 20.2843 8.6595C20.1406 8.80317 19.9625 8.875 19.75 8.875H10.25ZM4.25 12.75C4.0375 12.75 3.85942 12.6781 3.71575 12.5343C3.57192 12.3904 3.5 12.2122 3.5 11.9998C3.5 11.7871 3.57192 11.609 3.71575 11.4655C3.85942 11.3218 4.0375 11.25 4.25 11.25H19.75C19.9625 11.25 20.1406 11.3219 20.2843 11.4658C20.4281 11.6096 20.5 11.7878 20.5 12.0003C20.5 12.2129 20.4281 12.391 20.2843 12.5345C20.1406 12.6782 19.9625 12.75 19.75 12.75H4.25ZM10.25 16.625C10.0375 16.625 9.85942 16.5531 9.71575 16.4093C9.57192 16.2654 9.5 16.0872 9.5 15.8748C9.5 15.6621 9.57192 15.484 9.71575 15.3405C9.85942 15.1968 10.0375 15.125 10.25 15.125H19.75C19.9625 15.125 20.1406 15.1969 20.2843 15.3408C20.4281 15.4846 20.5 15.6628 20.5 15.8753C20.5 16.0879 20.4281 16.266 20.2843 16.4095C20.1406 16.5532 19.9625 16.625 19.75 16.625H10.25ZM4.25 20.5C4.0375 20.5 3.85942 20.4281 3.71575 20.2843C3.57192 20.1404 3.5 19.9622 3.5 19.7498C3.5 19.5371 3.57192 19.359 3.71575 19.2155C3.85942 19.0718 4.0375 19 4.25 19H19.75C19.9625 19 20.1406 19.0719 20.2843 19.2158C20.4281 19.3596 20.5 19.5378 20.5 19.7502C20.5 19.9629 20.4281 20.141 20.2843 20.2845C20.1406 20.4282 19.9625 20.5 19.75 20.5H4.25Z"
    />
  </svg>
`,kwe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M8.85758 18.625C8.4358 18.625 8.07715 18.4772 7.78163 18.1817C7.48613 17.8862 7.33838 17.5275 7.33838 17.1058V6.8942C7.33838 6.47242 7.48613 6.11377 7.78163 5.81825C8.07715 5.52275 8.4358 5.375 8.85758 5.375H12.1999C13.2191 5.375 14.1406 5.69231 14.9643 6.32693C15.788 6.96154 16.1999 7.81603 16.1999 8.89038C16.1999 9.63779 16.0194 10.2471 15.6585 10.7183C15.2976 11.1894 14.9088 11.5314 14.4922 11.7442C15.005 11.9211 15.4947 12.2708 15.9614 12.7933C16.428 13.3157 16.6614 14.0192 16.6614 14.9038C16.6614 16.182 16.1902 17.1217 15.2479 17.723C14.3056 18.3243 13.3563 18.625 12.3999 18.625H8.85758ZM9.4883 16.6327H12.3191C13.1063 16.6327 13.6627 16.4141 13.9884 15.9769C14.314 15.5397 14.4768 15.1205 14.4768 14.7192C14.4768 14.3179 14.314 13.8987 13.9884 13.4615C13.6627 13.0243 13.0909 12.8057 12.273 12.8057H9.4883V16.6327ZM9.4883 10.875H12.0826C12.6903 10.875 13.172 10.7013 13.5278 10.3539C13.8836 10.0064 14.0615 9.59037 14.0615 9.10575C14.0615 8.59035 13.8733 8.16918 13.497 7.84225C13.1207 7.51533 12.6595 7.35188 12.1133 7.35188H9.4883V10.875Z"
    />
  </svg>
`,xwe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_952_6527)">
      <circle cx="12" cy="12" r="3" />
    </g>
    <defs>
      <clipPath id="clip0_952_6527">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,Swe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_8070)">
      <path
        d="M4 10.5C3.17 10.5 2.5 11.17 2.5 12C2.5 12.83 3.17 13.5 4 13.5C4.83 13.5 5.5 12.83 5.5 12C5.5 11.17 4.83 10.5 4 10.5ZM4 4.5C3.17 4.5 2.5 5.17 2.5 6C2.5 6.83 3.17 7.5 4 7.5C4.83 7.5 5.5 6.83 5.5 6C5.5 5.17 4.83 4.5 4 4.5ZM4 16.5C3.17 16.5 2.5 17.18 2.5 18C2.5 18.82 3.18 19.5 4 19.5C4.82 19.5 5.5 18.82 5.5 18C5.5 17.18 4.83 16.5 4 16.5ZM8 19H20C20.55 19 21 18.55 21 18C21 17.45 20.55 17 20 17H8C7.45 17 7 17.45 7 18C7 18.55 7.45 19 8 19ZM8 13H20C20.55 13 21 12.55 21 12C21 11.45 20.55 11 20 11H8C7.45 11 7 11.45 7 12C7 12.55 7.45 13 8 13ZM7 6C7 6.55 7.45 7 8 7H20C20.55 7 21 6.55 21 6C21 5.45 20.55 5 20 5H8C7.45 5 7 5.45 7 6Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_8070">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,Cwe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="32"
    height="32"
    viewBox="0 0 24 24"
  >
    <path
      fill="currentColor"
      d="M9 22a1 1 0 0 1-1-1v-3H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6.1l-3.7 3.71c-.2.19-.45.29-.7.29zm1-6v3.08L13.08 16H20V4H4v12z"
    />
  </svg>
`,Mwe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_1803_1151)">
      <path
        d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM10.71 16.29C10.32 16.68 9.69 16.68 9.3 16.29L5.71 12.7C5.32 12.31 5.32 11.68 5.71 11.29C6.1 10.9 6.73 10.9 7.12 11.29L10 14.17L16.88 7.29C17.27 6.9 17.9 6.9 18.29 7.29C18.68 7.68 18.68 8.31 18.29 8.7L10.71 16.29Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_1803_1151">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,Awe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_1803_535)">
      <path
        d="M18 19H6C5.45 19 5 18.55 5 18V6C5 5.45 5.45 5 6 5H18C18.55 5 19 5.45 19 6V18C19 18.55 18.55 19 18 19ZM19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_1803_535">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,V$=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 24 24"
    stroke-width="1.5"
    stroke="currentColor"
    class="w-6 h-6"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M19.5 8.25l-7.5 7.5-7.5-7.5"
    />
  </svg>
`,q$=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_1098_15553)">
      <path
        d="M18.3007 5.70973C17.9107 5.31973 17.2807 5.31973 16.8907 5.70973L12.0007 10.5897L7.1107 5.69973C6.7207 5.30973 6.0907 5.30973 5.7007 5.69973C5.3107 6.08973 5.3107 6.71973 5.7007 7.10973L10.5907 11.9997L5.7007 16.8897C5.3107 17.2797 5.3107 17.9097 5.7007 18.2997C6.0907 18.6897 6.7207 18.6897 7.1107 18.2997L12.0007 13.4097L16.8907 18.2997C17.2807 18.6897 17.9107 18.6897 18.3007 18.2997C18.6907 17.9097 18.6907 17.2797 18.3007 16.8897L13.4107 11.9997L18.3007 7.10973C18.6807 6.72973 18.6807 6.08973 18.3007 5.70973Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_1098_15553">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,W$=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_8081)">
      <path
        d="M9.4 16.6L4.8 12L9.4 7.4L8 6L2 12L8 18L9.4 16.6ZM14.6 16.6L19.2 12L14.6 7.4L16 6L22 12L16 18L14.6 16.6Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_8081">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,nk=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
  >
    <g clip-path="url(#clip0_1013_1606)">
      <path
        d="M9.00012 16.1998L5.50012 12.6998C5.11012 12.3098 4.49012 12.3098 4.10012 12.6998C3.71012 13.0898 3.71012 13.7098 4.10012 14.0998L8.29012 18.2898C8.68012 18.6798 9.31012 18.6798 9.70012 18.2898L20.3001 7.69982C20.6901 7.30982 20.6901 6.68982 20.3001 6.29982C19.9101 5.90982 19.2901 5.90982 18.9001 6.29982L9.00012 16.1998Z"
        fill="#817567"
      />
    </g>
    <defs>
      <clipPath id="clip0_1013_1606">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,j$=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    height="24px"
    viewBox="0 -960 960 960"
    width="24px"
    fill="none"
  >
    <path
      d="M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360Zm0-80h360v-480H360v480ZM200-80q-33 0-56.5-23.5T120-160v-560h80v560h440v80H200Zm160-240v-480 480Z"
    />
  </svg>
`,_we=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_7900)">
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M19 13H5C4.45 13 4 12.55 4 12C4 11.45 4.45 11 5 11H19C19.55 11 20 11.45 20 12C20 12.55 19.55 13 19 13Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_7900">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,s_=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="16"
    height="16"
    viewBox="0 0 16 16"
  >
    <path
      d="M3.5 9.83366C3.35833 9.83366 3.23961 9.78571 3.14383 9.68983C3.04794 9.59394 3 9.47516 3 9.33349C3 9.19171 3.04794 9.07299 3.14383 8.97733C3.23961 8.88155 3.35833 8.83366 3.5 8.83366H12.5C12.6417 8.83366 12.7604 8.8816 12.8562 8.97749C12.9521 9.07338 13 9.19216 13 9.33383C13 9.4756 12.9521 9.59433 12.8562 9.68999C12.7604 9.78577 12.6417 9.83366 12.5 9.83366H3.5ZM3.5 7.16699C3.35833 7.16699 3.23961 7.11905 3.14383 7.02316C3.04794 6.92727 3 6.80849 3 6.66683C3 6.52505 3.04794 6.40633 3.14383 6.31066C3.23961 6.21488 3.35833 6.16699 3.5 6.16699H12.5C12.6417 6.16699 12.7604 6.21494 12.8562 6.31083C12.9521 6.40671 13 6.52549 13 6.66716C13 6.80894 12.9521 6.92766 12.8562 7.02333C12.7604 7.1191 12.6417 7.16699 12.5 7.16699H3.5Z"
    />
  </svg>
`,rk=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_1013_1585)">
      <path
        d="M14.06 9.02L14.98 9.94L5.92 19H5V18.08L14.06 9.02ZM17.66 3C17.41 3 17.15 3.1 16.96 3.29L15.13 5.12L18.88 8.87L20.71 7.04C21.1 6.65 21.1 6.02 20.71 5.63L18.37 3.29C18.17 3.09 17.92 3 17.66 3ZM14.06 6.19L3 17.25V21H6.75L17.81 9.94L14.06 6.19Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_1013_1585">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,Twe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_992_5553)">
      <path
        d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19ZM12 17H14V7H10V9H12V17Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_992_5553">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,Ewe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_992_5559)">
      <path
        d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19ZM15 15H11V13H13C14.1 13 15 12.11 15 11V9C15 7.89 14.1 7 13 7H9V9H13V11H11C9.9 11 9 11.89 9 13V17H15V15Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_992_5559">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,Owe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_992_5565)">
      <path
        d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19ZM15 15V13.5C15 12.67 14.33 12 13.5 12C14.33 12 15 11.33 15 10.5V9C15 7.89 14.1 7 13 7H9V9H13V11H11V13H13V15H9V17H13C14.1 17 15 16.11 15 15Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_992_5565">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,Iwe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_7757)">
      <path
        d="M19.04 3H5.04004C3.94004 3 3.04004 3.9 3.04004 5V19C3.04004 20.1 3.94004 21 5.04004 21H19.04C20.14 21 21.04 20.1 21.04 19V5C21.04 3.9 20.14 3 19.04 3ZM19.04 19H5.04004V5H19.04V19ZM13.04 17H15.04V7H13.04V11H11.04V7H9.04004V13H13.04V17Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_7757">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,Dwe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_7760)">
      <path
        d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19ZM15 15V13C15 11.89 14.1 11 13 11H11V9H15V7H9V13H13V15H9V17H13C14.1 17 15 16.11 15 15Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_7760">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,Nwe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_7763)">
      <path
        d="M11 17H13C14.1 17 15 16.11 15 15V13C15 11.89 14.1 11 13 11H11V9H15V7H11C9.9 7 9 7.89 9 9V15C9 16.11 9.9 17 11 17ZM11 13H13V15H11V13ZM19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_7763">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,n5=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_8075)">
      <path
        d="M19 5V19H5V5H19ZM19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM14.14 11.86L11.14 15.73L9 13.14L6 17H18L14.14 11.86Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_8075">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,Lwe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M6.29811 18.625C6.04505 18.625 5.83115 18.5375 5.65641 18.3626C5.48166 18.1877 5.39429 17.9736 5.39429 17.7203C5.39429 17.467 5.48166 17.2532 5.65641 17.0788C5.83115 16.9045 6.04505 16.8173 6.29811 16.8173H9.21159L12.452 7.18265H9.53851C9.28545 7.18265 9.07155 7.0952 8.89681 6.9203C8.72206 6.7454 8.63469 6.5313 8.63469 6.278C8.63469 6.02472 8.72206 5.81089 8.89681 5.63652C9.07155 5.46217 9.28545 5.375 9.53851 5.375H16.8847C17.1377 5.375 17.3516 5.46245 17.5264 5.63735C17.7011 5.81225 17.7885 6.02634 17.7885 6.27962C17.7885 6.53293 17.7011 6.74676 17.5264 6.92113C17.3516 7.09548 17.1377 7.18265 16.8847 7.18265H14.2789L11.0385 16.8173H13.6443C13.8973 16.8173 14.1112 16.9048 14.286 17.0797C14.4607 17.2546 14.5481 17.4687 14.5481 17.722C14.5481 17.9752 14.4607 18.1891 14.286 18.3634C14.1112 18.5378 13.8973 18.625 13.6443 18.625H6.29811Z"
    />
  </svg>
`,Pwe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M17.0385 19.5003V16.5388H14.0769V15.0388H17.0385V12.0773H18.5384V15.0388H21.5V16.5388H18.5384V19.5003H17.0385ZM10.8077 16.5388H7.03845C5.78282 16.5388 4.7125 16.0963 3.8275 15.2114C2.9425 14.3266 2.5 13.2564 2.5 12.0009C2.5 10.7454 2.9425 9.67504 3.8275 8.78979C4.7125 7.90454 5.78282 7.46191 7.03845 7.46191H10.8077V8.96186H7.03845C6.1987 8.96186 5.48235 9.25834 4.8894 9.85129C4.29645 10.4442 3.99998 11.1606 3.99998 12.0003C3.99998 12.8401 4.29645 13.5564 4.8894 14.1494C5.48235 14.7423 6.1987 15.0388 7.03845 15.0388H10.8077V16.5388ZM8.25 12.7503V11.2504H15.75V12.7503H8.25ZM21.5 12.0003H20C20 11.1606 19.7035 10.4442 19.1106 9.85129C18.5176 9.25834 17.8013 8.96186 16.9615 8.96186H13.1923V7.46191H16.9615C18.2171 7.46191 19.2875 7.90441 20.1725 8.78939C21.0575 9.67439 21.5 10.7447 21.5 12.0003Z"
    />
  </svg>
`,Rwe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_971_7680)">
      <path
        d="M11 18C11 19.1 10.1 20 9 20C7.9 20 7 19.1 7 18C7 16.9 7.9 16 9 16C10.1 16 11 16.9 11 18ZM9 10C7.9 10 7 10.9 7 12C7 13.1 7.9 14 9 14C10.1 14 11 13.1 11 12C11 10.9 10.1 10 9 10ZM9 4C7.9 4 7 4.9 7 6C7 7.1 7.9 8 9 8C10.1 8 11 7.1 11 6C11 4.9 10.1 4 9 4ZM15 8C16.1 8 17 7.1 17 6C17 4.9 16.1 4 15 4C13.9 4 13 4.9 13 6C13 7.1 13.9 8 15 8ZM15 10C13.9 10 13 10.9 13 12C13 13.1 13.9 14 15 14C16.1 14 17 13.1 17 12C17 10.9 16.1 10 15 10ZM15 16C13.9 16 13 16.9 13 18C13 19.1 13.9 20 15 20C16.1 20 17 19.1 17 18C17 16.9 16.1 16 15 16Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_971_7680">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,$we=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_8067)">
      <path
        d="M8 7H20C20.55 7 21 6.55 21 6C21 5.45 20.55 5 20 5H8C7.45 5 7 5.45 7 6C7 6.55 7.45 7 8 7ZM20 17H8C7.45 17 7 17.45 7 18C7 18.55 7.45 19 8 19H20C20.55 19 21 18.55 21 18C21 17.45 20.55 17 20 17ZM20 11H8C7.45 11 7 11.45 7 12C7 12.55 7.45 13 8 13H20C20.55 13 21 12.55 21 12C21 11.45 20.55 11 20 11ZM4.5 16H2.5C2.22 16 2 16.22 2 16.5C2 16.78 2.22 17 2.5 17H4V17.5H3.5C3.22 17.5 3 17.72 3 18C3 18.28 3.22 18.5 3.5 18.5H4V19H2.5C2.22 19 2 19.22 2 19.5C2 19.78 2.22 20 2.5 20H4.5C4.78 20 5 19.78 5 19.5V16.5C5 16.22 4.78 16 4.5 16ZM2.5 5H3V7.5C3 7.78 3.22 8 3.5 8C3.78 8 4 7.78 4 7.5V4.5C4 4.22 3.78 4 3.5 4H2.5C2.22 4 2 4.22 2 4.5C2 4.78 2.22 5 2.5 5ZM4.5 10H2.5C2.22 10 2 10.22 2 10.5C2 10.78 2.22 11 2.5 11H3.8L2.12 12.96C2.04 13.05 2 13.17 2 13.28V13.5C2 13.78 2.22 14 2.5 14H4.5C4.78 14 5 13.78 5 13.5C5 13.22 4.78 13 4.5 13H3.2L4.88 11.04C4.96 10.95 5 10.83 5 10.72V10.5C5 10.22 4.78 10 4.5 10Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_8067">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,r5=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_971_7676)">
      <path
        d="M18 13H13V18C13 18.55 12.55 19 12 19C11.45 19 11 18.55 11 18V13H6C5.45 13 5 12.55 5 12C5 11.45 5.45 11 6 11H11V6C11 5.45 11.45 5 12 5C12.55 5 13 5.45 13 6V11H18C18.55 11 19 11.45 19 12C19 12.55 18.55 13 18 13Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_971_7676">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,Bwe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_7897)">
      <path
        d="M7.17 17C7.68 17 8.15 16.71 8.37 16.26L9.79 13.42C9.93 13.14 10 12.84 10 12.53V8C10 7.45 9.55 7 9 7H5C4.45 7 4 7.45 4 8V12C4 12.55 4.45 13 5 13H7L5.97 15.06C5.52 15.95 6.17 17 7.17 17ZM17.17 17C17.68 17 18.15 16.71 18.37 16.26L19.79 13.42C19.93 13.14 20 12.84 20 12.53V8C20 7.45 19.55 7 19 7H15C14.45 7 14 7.45 14 8V12C14 12.55 14.45 13 15 13H17L15.97 15.06C15.52 15.95 16.17 17 17.17 17Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_7897">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,i5=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M7.30775 20.4997C6.81058 20.4997 6.385 20.3227 6.031 19.9687C5.677 19.6147 5.5 19.1892 5.5 18.692V5.99973H5.25C5.0375 5.99973 4.85942 5.92782 4.71575 5.78398C4.57192 5.64015 4.5 5.46198 4.5 5.24948C4.5 5.03682 4.57192 4.85873 4.71575 4.71523C4.85942 4.57157 5.0375 4.49973 5.25 4.49973H9C9 4.2549 9.08625 4.04624 9.25875 3.87374C9.43108 3.7014 9.63967 3.61523 9.8845 3.61523H14.1155C14.3603 3.61523 14.5689 3.7014 14.7413 3.87374C14.9138 4.04624 15 4.2549 15 4.49973H18.75C18.9625 4.49973 19.1406 4.57165 19.2843 4.71548C19.4281 4.85932 19.5 5.03748 19.5 5.24998C19.5 5.46265 19.4281 5.64073 19.2843 5.78423C19.1406 5.9279 18.9625 5.99973 18.75 5.99973H18.5V18.692C18.5 19.1892 18.323 19.6147 17.969 19.9687C17.615 20.3227 17.1894 20.4997 16.6923 20.4997H7.30775ZM17 5.99973H7V18.692C7 18.7818 7.02883 18.8556 7.0865 18.9132C7.14417 18.9709 7.21792 18.9997 7.30775 18.9997H16.6923C16.7821 18.9997 16.8558 18.9709 16.9135 18.9132C16.9712 18.8556 17 18.7818 17 18.692V5.99973ZM10.1543 16.9997C10.3668 16.9997 10.5448 16.9279 10.6885 16.7842C10.832 16.6404 10.9037 16.4622 10.9037 16.2497V8.74973C10.9037 8.53723 10.8318 8.35907 10.688 8.21523C10.5443 8.07157 10.3662 7.99973 10.1535 7.99973C9.941 7.99973 9.76292 8.07157 9.61925 8.21523C9.47575 8.35907 9.404 8.53723 9.404 8.74973V16.2497C9.404 16.4622 9.47583 16.6404 9.6195 16.7842C9.76333 16.9279 9.94158 16.9997 10.1543 16.9997ZM13.8465 16.9997C14.059 16.9997 14.2371 16.9279 14.3807 16.7842C14.5243 16.6404 14.596 16.4622 14.596 16.2497V8.74973C14.596 8.53723 14.5242 8.35907 14.3805 8.21523C14.2367 8.07157 14.0584 7.99973 13.8458 7.99973C13.6333 7.99973 13.4552 8.07157 13.3115 8.21523C13.168 8.35907 13.0962 8.53723 13.0962 8.74973V16.2497C13.0962 16.4622 13.1682 16.6404 13.312 16.7842C13.4557 16.9279 13.6338 16.9997 13.8465 16.9997Z"
    />
  </svg>
`,Z$=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 24 24"
    stroke-width="1.5"
    stroke="currentColor"
    class="w-6 h-6"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"
    />
  </svg>
`,Fwe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M3.25 13.7404C3.0375 13.7404 2.85938 13.6684 2.71563 13.5246C2.57188 13.3808 2.5 13.2026 2.5 12.99C2.5 12.7774 2.57188 12.5993 2.71563 12.4558C2.85938 12.3122 3.0375 12.2404 3.25 12.2404H20.75C20.9625 12.2404 21.1406 12.3123 21.2843 12.4561C21.4281 12.5999 21.5 12.7781 21.5 12.9907C21.5 13.2033 21.4281 13.3814 21.2843 13.525C21.1406 13.6686 20.9625 13.7404 20.75 13.7404H3.25ZM10.9423 10.2596V6.62495H6.5673C6.2735 6.62495 6.02377 6.52201 5.8181 6.31613C5.61245 6.11026 5.50963 5.86027 5.50963 5.56615C5.50963 5.27205 5.61245 5.02083 5.8181 4.8125C6.02377 4.60417 6.2735 4.5 6.5673 4.5H17.4423C17.7361 4.5 17.9858 4.60294 18.1915 4.80883C18.3971 5.01471 18.5 5.2647 18.5 5.5588C18.5 5.85292 18.3971 6.10413 18.1915 6.31245C17.9858 6.52078 17.7361 6.62495 17.4423 6.62495H13.0673V10.2596H10.9423ZM10.9423 15.7211H13.0673V18.4423C13.0673 18.7361 12.9643 18.9858 12.7584 19.1915C12.5526 19.3971 12.3026 19.5 12.0085 19.5C11.7144 19.5 11.4631 19.3962 11.2548 19.1887C11.0465 18.9811 10.9423 18.7291 10.9423 18.4327V15.7211Z"
    />
  </svg>
`,zwe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_8078)">
      <path
        d="M20 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H20C21.1 21 22 20.1 22 19V5C22 3.9 21.1 3 20 3ZM20 5V8H5V5H20ZM15 19H10V10H15V19ZM5 10H8V19H5V10ZM17 19V10H20V19H17Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_8078">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,Hwe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_992_5547)">
      <path
        d="M5 5.5C5 6.33 5.67 7 6.5 7H10.5V17.5C10.5 18.33 11.17 19 12 19C12.83 19 13.5 18.33 13.5 17.5V7H17.5C18.33 7 19 6.33 19 5.5C19 4.67 18.33 4 17.5 4H6.5C5.67 4 5 4.67 5 5.5Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_992_5547">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,Vwe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M5.66936 16.3389L9.39244 12.6158C9.54115 12.4671 9.71679 12.3937 9.91936 12.3957C10.1219 12.3976 10.2975 12.4761 10.4463 12.6312C10.5847 12.7823 10.654 12.9585 10.654 13.1599C10.654 13.3613 10.5847 13.5363 10.4463 13.6851L6.32704 17.8197C6.14627 18.0004 5.93538 18.0908 5.69436 18.0908C5.45333 18.0908 5.24243 18.0004 5.06166 17.8197L3.01744 15.7754C2.87899 15.637 2.81136 15.4629 2.81456 15.2533C2.81776 15.0437 2.88859 14.8697 3.02706 14.7312C3.16551 14.5928 3.34008 14.5235 3.55076 14.5235C3.76144 14.5235 3.93494 14.5928 4.07126 14.7312L5.66936 16.3389ZM5.66936 8.72359L9.39244 5.00049C9.54115 4.85177 9.71679 4.77838 9.91936 4.78031C10.1219 4.78223 10.2975 4.86075 10.4463 5.01586C10.5847 5.16691 10.654 5.34314 10.654 5.54454C10.654 5.74592 10.5847 5.92097 10.4463 6.06969L6.32704 10.2043C6.14627 10.3851 5.93538 10.4755 5.69436 10.4755C5.45333 10.4755 5.24243 10.3851 5.06166 10.2043L3.01744 8.16009C2.87899 8.02162 2.81136 7.84759 2.81456 7.63799C2.81776 7.42837 2.88859 7.25433 3.02706 7.11586C3.16551 6.97741 3.34008 6.90819 3.55076 6.90819C3.76144 6.90819 3.93494 6.97741 4.07126 7.11586L5.66936 8.72359ZM13.7597 16.5581C13.5472 16.5581 13.3691 16.4862 13.2253 16.3424C13.0816 16.1986 13.0097 16.0204 13.0097 15.8078C13.0097 15.5952 13.0816 15.4171 13.2253 15.2735C13.3691 15.13 13.5472 15.0582 13.7597 15.0582H20.7597C20.9722 15.0582 21.1503 15.1301 21.2941 15.2739C21.4378 15.4177 21.5097 15.5959 21.5097 15.8085C21.5097 16.0211 21.4378 16.1992 21.2941 16.3427C21.1503 16.4863 20.9722 16.5581 20.7597 16.5581H13.7597ZM13.7597 8.94276C13.5472 8.94276 13.3691 8.87085 13.2253 8.72704C13.0816 8.58324 13.0097 8.40504 13.0097 8.19244C13.0097 7.97985 13.0816 7.80177 13.2253 7.65819C13.3691 7.5146 13.5472 7.44281 13.7597 7.44281H20.7597C20.9722 7.44281 21.1503 7.51471 21.2941 7.65851C21.4378 7.80233 21.5097 7.98053 21.5097 8.19311C21.5097 8.40571 21.4378 8.5838 21.2941 8.72739C21.1503 8.87097 20.9722 8.94276 20.7597 8.94276H13.7597Z"
    />
  </svg>
`,U$=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="32"
    height="32"
    viewBox="0 0 24 24"
  >
    <path
      fill="currentColor"
      d="M7 19v-.808L13.096 12L7 5.808V5h10v1.25H9.102L14.727 12l-5.625 5.77H17V19z"
    />
  </svg>
`,G$=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    height="24px"
    viewBox="0 -960 960 960"
    width="24px"
  >
    <path
      d="m644-428-58-58q9-47-27-88t-93-32l-58-58q17-8 34.5-12t37.5-4q75 0 127.5 52.5T660-500q0 20-4 37.5T644-428Zm128 126-58-56q38-29 67.5-63.5T832-500q-50-101-143.5-160.5T480-720q-29 0-57 4t-55 12l-62-62q41-17 84-25.5t90-8.5q151 0 269 83.5T920-500q-23 59-60.5 109.5T772-302Zm20 246L624-222q-35 11-70.5 16.5T480-200q-151 0-269-83.5T40-500q21-53 53-98.5t73-81.5L56-792l56-56 736 736-56 56ZM222-624q-29 26-53 57t-41 67q50 101 143.5 160.5T480-280q20 0 39-2.5t39-5.5l-36-38q-11 3-21 4.5t-21 1.5q-75 0-127.5-52.5T300-500q0-11 1.5-21t4.5-21l-84-82Zm319 93Zm-151 75Z"
    />
  </svg>
`,qwe={[Kt.CodeMirror]:{theme:aae,languages:Yoe,expandIcon:V$,searchIcon:Z$,clearSearchIcon:q$,searchPlaceholder:"Search language",noResultText:"No result",previewToggleIcon:n=>n?rk:G$}},Wwe=Ct([],"FeaturesCtx"),jwe=Ct({},"CrepeCtx");function Zwe(n){return n.get("CrepeCtx")}function Ty(n){return n.use("FeaturesCtx")}function Ho(n){return e=>{Ty(e).update(t=>t.includes(n)?t:[...t,n])}}function K$(n){return n.$from.parent.type.name==="code_block"}function Y$(n){var e;const t=(e=n.$from.node(n.$from.depth-1))==null?void 0:e.type;return(t==null?void 0:t.name)==="list_item"}var J$=n=>{throw TypeError(n)},X$=(n,e,t)=>e.has(n)||J$("Cannot "+t),bd=(n,e,t)=>(X$(n,e,"read from private field"),t?t.call(n):e.get(n)),o_=(n,e,t)=>e.has(n)?J$("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Uwe=(n,e,t,r)=>(X$(n,e,"write to private field"),e.set(n,t),t),qc,qg;class Q${constructor(){o_(this,qc,[]),this.clear=()=>(Uwe(this,qc,[]),this),o_(this,qg,e=>{const t={group:e,addItem:(r,i)=>{const s={...i,key:r};return e.items.push(s),t},clear:()=>(e.items=[],t)};return t}),this.addGroup=(e,t)=>{const i={key:e,label:t,items:[]};return bd(this,qc).push(i),bd(this,qg).call(this,i)},this.getGroup=e=>{const t=bd(this,qc).find(r=>r.key===e);if(!t)throw new Error(`Group with key ${e} not found`);return bd(this,qg).call(this,t)},this.build=()=>bd(this,qc)}}qc=new WeakMap;qg=new WeakMap;function Gwe(n,e,t){var r,i,s,o,a,l,u,c,h,d,f,p,m,y,v,b,k,_,C,M,O,D,$,R,G,N,j,Z,re,J,K,ne,pe,B,Ce,ae,L,we,ge,Ne,dt,_t,yn,Bt,Rt,vn,jt,In,Gt,wn,Jn,Zn,Oe,Ze,Zt,Xn,La,Zr,Hi,ce,Ie,it,mt,Nt,Qn,pi,lr,mi,er,bn,gi,wr,Lp,Vl,ql,Pp,Pa,Rp,$p,Dn,Vo,Bp,q0,Cc,W0,j0,Fp,yi,Ys,Z0,U0,Mc,G0,Vi,K0,Y0,J0,X0,zp,Ke,Q,_e,je,Qt,Un,kn,ur,qi,qo,Ac,Rn,Q0,ed,gk,yk,vk,wk,bk,kk;const _c=t&&Ty(t).get(),xB=_c==null?void 0:_c.includes(Kt.Latex),SB=_c==null?void 0:_c.includes(Kt.ImageBlock),CB=_c==null?void 0:_c.includes(Kt.Table),td=new Q$;if((e==null?void 0:e.textGroup)!==null){const Vt=td.addGroup("text",(i=(r=e==null?void 0:e.textGroup)==null?void 0:r.label)!=null?i:"Text");((s=e==null?void 0:e.textGroup)==null?void 0:s.text)!==null&&Vt.addItem("text",{label:(l=(a=(o=e==null?void 0:e.textGroup)==null?void 0:o.text)==null?void 0:a.label)!=null?l:"Text",icon:(h=(c=(u=e==null?void 0:e.textGroup)==null?void 0:u.text)==null?void 0:c.icon)!=null?h:Hwe,onRun:Xe=>{const et=Xe.get(We),Ft=Zs.type(Xe);et.call(cr.key),et.call(Ko.key,{nodeType:Ft})}}),((d=e==null?void 0:e.textGroup)==null?void 0:d.h1)!==null&&Vt.addItem("h1",{label:(m=(p=(f=e==null?void 0:e.textGroup)==null?void 0:f.h1)==null?void 0:p.label)!=null?m:"Heading 1",icon:(b=(v=(y=e==null?void 0:e.textGroup)==null?void 0:y.h1)==null?void 0:v.icon)!=null?b:Twe,onRun:Xe=>{const et=Xe.get(We),Ft=_i.type(Xe);et.call(cr.key),et.call(Ko.key,{nodeType:Ft,attrs:{level:1}})}}),((k=e==null?void 0:e.textGroup)==null?void 0:k.h2)!==null&&Vt.addItem("h2",{label:(M=(C=(_=e==null?void 0:e.textGroup)==null?void 0:_.h2)==null?void 0:C.label)!=null?M:"Heading 2",icon:($=(D=(O=e==null?void 0:e.textGroup)==null?void 0:O.h2)==null?void 0:D.icon)!=null?$:Ewe,onRun:Xe=>{const et=Xe.get(We),Ft=_i.type(Xe);et.call(cr.key),et.call(Ko.key,{nodeType:Ft,attrs:{level:2}})}}),((R=e==null?void 0:e.textGroup)==null?void 0:R.h3)!==null&&Vt.addItem("h3",{label:(j=(N=(G=e==null?void 0:e.textGroup)==null?void 0:G.h3)==null?void 0:N.label)!=null?j:"Heading 3",icon:(J=(re=(Z=e==null?void 0:e.textGroup)==null?void 0:Z.h3)==null?void 0:re.icon)!=null?J:Owe,onRun:Xe=>{const et=Xe.get(We),Ft=_i.type(Xe);et.call(cr.key),et.call(Ko.key,{nodeType:Ft,attrs:{level:3}})}}),((K=e==null?void 0:e.textGroup)==null?void 0:K.h4)!==null&&Vt.addItem("h4",{label:(B=(pe=(ne=e==null?void 0:e.textGroup)==null?void 0:ne.h4)==null?void 0:pe.label)!=null?B:"Heading 4",icon:(L=(ae=(Ce=e==null?void 0:e.textGroup)==null?void 0:Ce.h4)==null?void 0:ae.icon)!=null?L:Iwe,onRun:Xe=>{const et=Xe.get(We),Ft=_i.type(Xe);et.call(cr.key),et.call(Ko.key,{nodeType:Ft,attrs:{level:4}})}}),((we=e==null?void 0:e.textGroup)==null?void 0:we.h5)!==null&&Vt.addItem("h5",{label:(dt=(Ne=(ge=e==null?void 0:e.textGroup)==null?void 0:ge.h5)==null?void 0:Ne.label)!=null?dt:"Heading 5",icon:(Bt=(yn=(_t=e==null?void 0:e.textGroup)==null?void 0:_t.h5)==null?void 0:yn.icon)!=null?Bt:Dwe,onRun:Xe=>{const et=Xe.get(We),Ft=_i.type(Xe);et.call(cr.key),et.call(Ko.key,{nodeType:Ft,attrs:{level:5}})}}),((Rt=e==null?void 0:e.textGroup)==null?void 0:Rt.h6)!==null&&Vt.addItem("h6",{label:(In=(jt=(vn=e==null?void 0:e.textGroup)==null?void 0:vn.h6)==null?void 0:jt.label)!=null?In:"Heading 6",icon:(Jn=(wn=(Gt=e==null?void 0:e.textGroup)==null?void 0:Gt.h6)==null?void 0:wn.icon)!=null?Jn:Nwe,onRun:Xe=>{const et=Xe.get(We),Ft=_i.type(Xe);et.call(cr.key),et.call(Ko.key,{nodeType:Ft,attrs:{level:6}})}}),((Zn=e==null?void 0:e.textGroup)==null?void 0:Zn.quote)!==null&&Vt.addItem("quote",{label:(Zt=(Ze=(Oe=e==null?void 0:e.textGroup)==null?void 0:Oe.quote)==null?void 0:Ze.label)!=null?Zt:"Quote",icon:(Zr=(La=(Xn=e==null?void 0:e.textGroup)==null?void 0:Xn.quote)==null?void 0:La.icon)!=null?Zr:Bwe,onRun:Xe=>{const et=Xe.get(We),Ft=D0.type(Xe);et.call(cr.key),et.call(Vd.key,{nodeType:Ft})}}),((Hi=e==null?void 0:e.textGroup)==null?void 0:Hi.divider)!==null&&Vt.addItem("divider",{label:(it=(Ie=(ce=e==null?void 0:e.textGroup)==null?void 0:ce.divider)==null?void 0:Ie.label)!=null?it:"Divider",icon:(Qn=(Nt=(mt=e==null?void 0:e.textGroup)==null?void 0:mt.divider)==null?void 0:Nt.icon)!=null?Qn:_we,onRun:Xe=>{const et=Xe.get(We),Ft=N0.type(Xe);et.call(cr.key),et.call(qd.key,{nodeType:Ft})}})}if((e==null?void 0:e.listGroup)!==null){const Vt=td.addGroup("list",(lr=(pi=e==null?void 0:e.listGroup)==null?void 0:pi.label)!=null?lr:"List");((mi=e==null?void 0:e.listGroup)==null?void 0:mi.bulletList)!==null&&Vt.addItem("bullet-list",{label:(gi=(bn=(er=e==null?void 0:e.listGroup)==null?void 0:er.bulletList)==null?void 0:bn.label)!=null?gi:"Bullet List",icon:(Vl=(Lp=(wr=e==null?void 0:e.listGroup)==null?void 0:wr.bulletList)==null?void 0:Lp.icon)!=null?Vl:Swe,onRun:Xe=>{const et=Xe.get(We),Ft=bc.type(Xe);et.call(cr.key),et.call(Vd.key,{nodeType:Ft})}}),((ql=e==null?void 0:e.listGroup)==null?void 0:ql.orderedList)!==null&&Vt.addItem("ordered-list",{label:(Rp=(Pa=(Pp=e==null?void 0:e.listGroup)==null?void 0:Pp.orderedList)==null?void 0:Pa.label)!=null?Rp:"Ordered List",icon:(Vo=(Dn=($p=e==null?void 0:e.listGroup)==null?void 0:$p.orderedList)==null?void 0:Dn.icon)!=null?Vo:$we,onRun:Xe=>{const et=Xe.get(We),Ft=kc.type(Xe);et.call(cr.key),et.call(Vd.key,{nodeType:Ft})}}),((Bp=e==null?void 0:e.listGroup)==null?void 0:Bp.taskList)!==null&&Vt.addItem("task-list",{label:(W0=(Cc=(q0=e==null?void 0:e.listGroup)==null?void 0:q0.taskList)==null?void 0:Cc.label)!=null?W0:"Task List",icon:(yi=(Fp=(j0=e==null?void 0:e.listGroup)==null?void 0:j0.taskList)==null?void 0:Fp.icon)!=null?yi:Vwe,onRun:Xe=>{const et=Xe.get(We),Ft=Us.type(Xe);et.call(cr.key),et.call(Vd.key,{nodeType:Ft,attrs:{checked:!1}})}})}if((e==null?void 0:e.advancedGroup)!==null){const Vt=td.addGroup("advanced",(Z0=(Ys=e==null?void 0:e.advancedGroup)==null?void 0:Ys.label)!=null?Z0:"Advanced");((U0=e==null?void 0:e.advancedGroup)==null?void 0:U0.image)!==null&&SB&&Vt.addItem("image",{label:(Vi=(G0=(Mc=e==null?void 0:e.advancedGroup)==null?void 0:Mc.image)==null?void 0:G0.label)!=null?Vi:"Image",icon:(J0=(Y0=(K0=e==null?void 0:e.advancedGroup)==null?void 0:K0.image)==null?void 0:Y0.icon)!=null?J0:n5,onRun:Xe=>{const et=Xe.get(We),Ft=ny.type(Xe);et.call(cr.key),et.call(qd.key,{nodeType:Ft})}}),((X0=e==null?void 0:e.advancedGroup)==null?void 0:X0.codeBlock)!==null&&Vt.addItem("code",{label:(Q=(Ke=(zp=e==null?void 0:e.advancedGroup)==null?void 0:zp.codeBlock)==null?void 0:Ke.label)!=null?Q:"Code",icon:(Qt=(je=(_e=e==null?void 0:e.advancedGroup)==null?void 0:_e.codeBlock)==null?void 0:je.icon)!=null?Qt:W$,onRun:Xe=>{const et=Xe.get(We),Ft=No.type(Xe);et.call(cr.key),et.call(Ko.key,{nodeType:Ft})}}),((Un=e==null?void 0:e.advancedGroup)==null?void 0:Un.table)!==null&&CB&&Vt.addItem("table",{label:(qi=(ur=(kn=e==null?void 0:e.advancedGroup)==null?void 0:kn.table)==null?void 0:ur.label)!=null?qi:"Table",icon:(Rn=(Ac=(qo=e==null?void 0:e.advancedGroup)==null?void 0:qo.table)==null?void 0:Ac.icon)!=null?Rn:zwe,onRun:Xe=>{const et=Xe.get(We),Ft=Xe.get(an);et.call(cr.key);const{from:MB}=Ft.state.selection;et.call(qd.key,{nodeType:K7(Xe,3,3)}),et.call(hL.key,{pos:MB})}}),((Q0=e==null?void 0:e.advancedGroup)==null?void 0:Q0.math)!==null&&xB&&Vt.addItem("math",{label:(yk=(gk=(ed=e==null?void 0:e.advancedGroup)==null?void 0:ed.math)==null?void 0:gk.label)!=null?yk:"Math",icon:(bk=(wk=(vk=e==null?void 0:e.advancedGroup)==null?void 0:vk.math)==null?void 0:wk.icon)!=null?bk:U$,onRun:Xe=>{const et=Xe.get(We),Ft=No.type(Xe);et.call(cr.key),et.call(qd.key,{nodeType:Ft,attrs:{language:"LaTex"}})}})}(kk=e==null?void 0:e.buildMenu)==null||kk.call(e,td);let nd=td.build();n&&(nd=nd.map(Vt=>{const Xe=Vt.items.filter(et=>et.label.toLowerCase().includes(n.toLowerCase()));return{...Vt,items:Xe}}).filter(Vt=>Vt.items.length>0));const xk=nd.flatMap(Vt=>Vt.items);return xk.forEach((Vt,Xe)=>{Object.assign(Vt,{index:Xe})}),nd.reduce((Vt,Xe)=>{const et=Vt+Xe.items.length;return Object.assign(Xe,{range:[Vt,et]}),et},0),{groups:nd,size:xk.length}}const Kwe=he({props:{ctx:{type:Object,required:!0},show:{type:Object,required:!0},filter:{type:Object,required:!0},hide:{type:Function,required:!0},config:{type:Object,required:!1}},setup({ctx:n,show:e,filter:t,hide:r,config:i}){const s=V(),o=W(()=>Gwe(t.value,i,n)),a=V(0),l=V({x:-999,y:-999}),u=m=>{const{x:y,y:v}=m;l.value={x:y,y:v}};Et([o,e],()=>{const{size:m}=o.value;m===0&&e.value?r():a.value>=m&&(a.value=0)});const c=(m,y)=>{const v=a.value,b=typeof m=="function"?m(v):m;y==null||y(b),a.value=b},h=m=>{var y,v;const b=(y=s.value)==null?void 0:y.querySelector(`[data-index="${m}"]`),k=(v=s.value)==null?void 0:v.querySelector(".menu-groups");!b||!k||(k.scrollTop=b.offsetTop-k.offsetTop)},d=m=>{const y=o.value.groups.flatMap(v=>v.items).at(m);y&&n&&y.onRun(n),r()},f=m=>{const{size:y,groups:v}=o.value;if(m.key==="Escape"){m.preventDefault(),r==null||r();return}if(m.key==="ArrowDown")return m.preventDefault(),c(b=>b<y-1?b+1:b,h);if(m.key==="ArrowUp")return m.preventDefault(),c(b=>b<=0?b:b-1,h);if(m.key==="ArrowLeft")return m.preventDefault(),c(b=>{const k=v.find(C=>C.range[0]<=b&&C.range[1]>b);if(!k)return b;const _=v[v.indexOf(k)-1];return _?_.range[1]-1:b},h);if(m.key==="ArrowRight")return m.preventDefault(),c(b=>{const k=v.find(C=>C.range[0]<=b&&C.range[1]>b);if(!k)return b;const _=v[v.indexOf(k)+1];return _?_.range[0]:b},h);m.key==="Enter"&&(m.preventDefault(),d(a.value))},p=m=>y=>{const v=l.value;if(!v)return;const{x:b,y:k}=y;b===v.x&&k===v.y||c(m)};return v0(()=>{e.value?window.addEventListener("keydown",f,{capture:!0}):window.removeEventListener("keydown",f,{capture:!0})}),or(()=>{window.removeEventListener("keydown",f,{capture:!0})}),()=>oe("div",{ref:s,onPointerdown:m=>m.preventDefault()},oe("nav",{class:"tab-group"},oe("ul",null,o.value.groups.map(m=>oe("li",{key:m.key,onPointerdown:()=>c(m.range[0],h),class:a.value>=m.range[0]&&a.value<m.range[1]?"selected":""},m.label)))),oe("div",{class:"menu-groups",onPointermove:u},o.value.groups.map(m=>oe("div",{key:m.key,class:"menu-group"},oe("h6",null,m.label),oe("ul",null,m.items.map(y=>oe("li",{key:y.key,"data-index":y.index,class:a.value===y.index?"hover":"",onPointerenter:p(y.index),onPointerdown:()=>{var v,b;(b=(v=s.value)==null?void 0:v.querySelector(`[data-index="${y.index}"]`))==null||b.classList.add("active")},onPointerup:()=>{var v,b;(b=(v=s.value)==null?void 0:v.querySelector(`[data-index="${y.index}"]`))==null||b.classList.remove("active"),d(y.index)}},oe(c0,{icon:y.icon}),oe("span",null,y.label))))))))}});var eB=n=>{throw TypeError(n)},tB=(n,e,t)=>e.has(n)||eB("Cannot "+t),Cs=(n,e,t)=>(tB(n,e,"read from private field"),t?t.call(n):e.get(n)),kd=(n,e,t)=>e.has(n)?eB("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),nu=(n,e,t,r)=>(tB(n,e,"write to private field"),e.set(n,t),t),Xd,Wg,jg,Xo,Wc;const nB=J1e("CREPE_MENU"),ik=Ut({show:()=>{},hide:()=>{}},"menuAPICtx");function Ywe(n,e){n.set(nB.key,{view:t=>new Jwe(n,t,e)})}class Jwe{constructor(e,t,r){kd(this,Xd),kd(this,Wg),kd(this,jg),kd(this,Xo),kd(this,Wc,null),this.update=c=>{Cs(this,Xo).update(c)},this.show=c=>{nu(this,Wc,c),Cs(this,jg).value="",Cs(this,Xo).show()},this.hide=()=>{nu(this,Wc,null),Cs(this,Xo).hide()},this.destroy=()=>{Cs(this,Xo).destroy(),Cs(this,Wg).unmount(),Cs(this,Xd).remove()};const i=document.createElement("div");i.classList.add("milkdown-slash-menu");const s=V(!1),o=V("");nu(this,jg,o);const a=this.hide,l=qs(Kwe,{ctx:e,config:r,show:s,filter:o,hide:a});nu(this,Wg,l),l.mount(i),nu(this,Xd,i);const u=this;nu(this,Xo,new X1e({content:Cs(this,Xd),debounce:20,shouldShow(c){if(K$(c.state.selection)||Y$(c.state.selection))return!1;const h=this.getContent(c,f=>["paragraph","heading"].includes(f.type.name));if(h==null||!Xwe(c.state.selection))return!1;const d=Cs(u,Wc);if(o.value=h.startsWith("/")?h.slice(1):h,typeof d=="number"){const f=c.state.doc.nodeSize-2,p=Math.min(d,f);return c.state.doc.resolve(p).node()!==c.state.doc.resolve(c.state.selection.from).node()?(nu(u,Wc,null),!1):!0}return!!h.startsWith("/")},offset:10})),Cs(this,Xo).onShow=()=>{s.value=!0},Cs(this,Xo).onHide=()=>{s.value=!1},this.update(t),e.set(ik.key,{show:c=>this.show(c),hide:()=>this.hide()})}}Xd=new WeakMap;Wg=new WeakMap;jg=new WeakMap;Xo=new WeakMap;Wc=new WeakMap;function Xwe(n){if(!(n instanceof Ue))return!1;const{$head:e}=n,t=e.parent;return e.parentOffset===t.content.size}const Qwe=he({props:{onAdd:{type:Function,required:!0},addIcon:{type:String,required:!0},handleIcon:{type:String,required:!0}},setup(n){const e=V();return()=>oe(Ve,null,oe("div",{ref:e,class:"operation-item",onPointerdown:t=>{var r;t.preventDefault(),t.stopPropagation(),(r=e.value)==null||r.classList.add("active")},onPointerup:t=>{var r;t.preventDefault(),t.stopPropagation(),(r=e.value)==null||r.classList.remove("active"),n.onAdd()}},oe(c0,{icon:n.addIcon})),oe("div",{class:"operation-item"},oe(c0,{icon:n.handleIcon})))}});var rB=n=>{throw TypeError(n)},iB=(n,e,t)=>e.has(n)||rB("Cannot "+t),ru=(n,e,t)=>(iB(n,e,"read from private field"),t?t.call(n):e.get(n)),Hm=(n,e,t)=>e.has(n)?rB("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Vm=(n,e,t,r)=>(iB(n,e,"write to private field"),e.set(n,t),t),Zg,uu,Ug,Gg;class e7e{constructor(e,t){Hm(this,Zg),Hm(this,uu),Hm(this,Ug),Hm(this,Gg),this.update=()=>{ru(this,uu).update()},this.destroy=()=>{ru(this,uu).destroy(),ru(this,Zg).remove(),ru(this,Ug).unmount()},this.onAdd=()=>{const u=ru(this,Gg),c=u.get(an);c.hasFocus()||c.focus();const{state:h,dispatch:d}=c,f=ru(this,uu).active;if(!f)return;const m=f.$pos.pos+f.node.nodeSize;let y=h.tr.insert(m,Zs.type(u).create());y=y.setSelection(Ue.near(y.doc.resolve(m))),d(y.scrollIntoView()),ru(this,uu).hide(),u.get(ik.key).show(y.selection.from)};var r,i,s;Vm(this,Gg,e);const o=document.createElement("div");o.classList.add("milkdown-block-handle");const a=qs(Qwe,{onAdd:this.onAdd,addIcon:(r=t==null?void 0:t.handleAddIcon)!=null?r:r5,handleIcon:(i=t==null?void 0:t.handleDragIcon)!=null?i:Rwe});a.mount(o),Vm(this,Ug,a),Vm(this,Zg,o);const l=(s=t==null?void 0:t.blockHandle)!=null?s:{};Vm(this,uu,new M1e({ctx:e,content:o,getOffset:()=>16,getPlacement:({active:u,blockDom:c})=>{if(u.node.type.name==="heading")return"left";let h=0;u.node.descendants(_=>{h+=_.childCount});const d=u.el,f=d.getBoundingClientRect(),p=c.getBoundingClientRect(),m=window.getComputedStyle(d),y=Number.parseInt(m.paddingTop,10)||0,v=Number.parseInt(m.paddingBottom,10)||0,b=f.height-y-v,k=p.height;return h>2||k<b?"left-start":"left"},...l})),this.update()}}Zg=new WeakMap;uu=new WeakMap;Ug=new WeakMap;Gg=new WeakMap;function t7e(n,e){n.set(Z4.key,{filterNodes:t=>!Co(i=>["table","blockquote","math_inline"].includes(i.type.name))(t)}),n.set(K4.key,{view:()=>new e7e(n,e)})}const n7e=(n,e)=>{n.config(Ho(Kt.BlockEdit)).config(t=>t7e(t,e)).config(t=>Ywe(t,e)).use(ik).use(K4).use(nB)},r7e=(n,e={})=>{n.config(Ho(Kt.CodeMirror)).config(t=>{const{languages:r=[],theme:i}=e,s=[_0.of(BP.concat(eye)),l6e];i&&s.push(i),e.extensions&&s.push(...e.extensions),t.update(Ap.key,o=>{var a;return{extensions:s,languages:r,expandIcon:e.expandIcon||V$,searchIcon:e.searchIcon||Z$,clearSearchIcon:e.clearSearchIcon||q$,searchPlaceholder:e.searchPlaceholder||"Search language",copyText:e.copyText||"Copy",copyIcon:e.copyIcon||j$,onCopy:e.onCopy||(()=>{}),noResultText:e.noResultText||"No result",renderLanguage:e.renderLanguage||o.renderLanguage,renderPreview:e.renderPreview||o.renderPreview,previewToggleButton:l=>{var u,c;const h=((u=e.previewToggleIcon)==null?void 0:u.call(e,l))||(l?rk:G$),d=((c=e.previewToggleText)==null?void 0:c.call(e,l))||(l?"Edit":"Hide");return[h,d].map(f=>f.trim()).join(" ")},previewLabel:e.previewLabel||o.previewLabel,previewLoading:e.previewLoading||o.previewLoading,previewOnlyByDefault:(a=e.previewOnlyByDefault)!=null?a:o.previewOnlyByDefault}})}).use(Cye)},i7e=(n,e)=>{if(n.config(Ho(Kt.Cursor)).config(r=>{r.update(dy.key,()=>{var i,s;return{class:"crepe-drop-cursor",width:(i=e==null?void 0:e.width)!=null?i:4,color:(s=e==null?void 0:e.color)!=null?s:!1}})}).use(_6e),(e==null?void 0:e.virtual)===!1)return;const t=T6e();n.use(Wn(()=>t))},s7e=(n,e)=>{n.config(Ho(Kt.ImageBlock)).config(t=>{t.update(fy.key,r=>{var i,s,o,a,l,u;return{uploadButton:(i=e==null?void 0:e.inlineUploadButton)!=null?i:"Upload",imageIcon:(s=e==null?void 0:e.inlineImageIcon)!=null?s:n5,confirmButton:(o=e==null?void 0:e.inlineConfirmButton)!=null?o:nk,uploadPlaceholderText:(a=e==null?void 0:e.inlineUploadPlaceholderText)!=null?a:"or paste link",onUpload:(u=(l=e==null?void 0:e.inlineOnUpload)!=null?l:e==null?void 0:e.onUpload)!=null?u:r.onUpload,proxyDomURL:e==null?void 0:e.proxyDomURL}}),t.update(ty.key,r=>{var i,s,o,a,l,u,c,h;return{uploadButton:(i=e==null?void 0:e.blockUploadButton)!=null?i:"Upload file",imageIcon:(s=e==null?void 0:e.blockImageIcon)!=null?s:n5,captionIcon:(o=e==null?void 0:e.blockCaptionIcon)!=null?o:Cwe,confirmButton:(a=e==null?void 0:e.blockConfirmButton)!=null?a:"Confirm",captionPlaceholderText:(l=e==null?void 0:e.blockCaptionPlaceholderText)!=null?l:"Write Image Caption",uploadPlaceholderText:(u=e==null?void 0:e.blockUploadPlaceholderText)!=null?u:"or paste link",onUpload:(h=(c=e==null?void 0:e.blockOnUpload)!=null?c:e==null?void 0:e.onUpload)!=null?h:r.onUpload,proxyDomURL:e==null?void 0:e.proxyDomURL}})}).use(zpe).use(V6e)},o7e=No.extendSchema(n=>e=>{const t=n(e);return{...t,toMarkdown:{match:t.toMarkdown.match,runner:(r,i)=>{var s,o;if(((s=i.attrs.language)!=null?s:"").toLowerCase()==="latex")r.addNode("math",void 0,((o=i.content.firstChild)==null?void 0:o.text)||"");else return t.toMarkdown.runner(r,i)}}}}),Qd="math_inline",C1=Pn(Qd,()=>({group:"inline",inline:!0,draggable:!0,atom:!0,attrs:{value:{default:""}},parseDOM:[{tag:`span[data-type="${Qd}"]`,getAttrs:n=>{var e;return{value:(e=n.dataset.value)!=null?e:""}}}],toDOM:n=>{const e=n.attrs.value,t=document.createElement("span");return t.dataset.type=Qd,t.dataset.value=e,g$.render(e,t,{throwOnError:!1}),t},parseMarkdown:{match:n=>n.type==="inlineMath",runner:(n,e,t)=>{n.addNode(t,{value:e.value})}},toMarkdown:{match:n=>n.type.name===Qd,runner:(n,e)=>{n.addNode("inlineMath",void 0,e.attrs.value)}}})),sB=at("ToggleLatex",n=>()=>(e,t)=>{const{hasNode:r,pos:i,target:s}=GI(e,C1.type(n)),{selection:o,doc:a,tr:l}=e;if(!r){const f=a.textBetween(o.from,o.to);let p=l.replaceSelectionWith(C1.type(n).create({value:f}));return t&&t(p.setSelection(Je.create(p.doc,o.from))),!0}const{from:u,to:c}=o;if(!s||i<0)return!1;let h=l.delete(i,i+1);const d=s.attrs.value;return h=h.insertText(d,i),t&&t(h.setSelection(Ue.create(h.doc,u,c+d.length-1))),!0}),a_=xy("INLINE_LATEX"),a7e=he({props:{config:{type:Object,required:!0},innerView:{type:Object,required:!0},updateValue:{type:Object,required:!0}},setup(n){const e=r=>{if(!(!r||!(r instanceof HTMLElement))){for(;r.firstChild;)r.removeChild(r.firstChild);n.innerView.value&&r.appendChild(n.innerView.value.dom)}},t=r=>{r.preventDefault(),n.updateValue.value()};return()=>oe("div",{class:"container"},n.innerView&&oe("div",{ref:e}),oe("button",{onPointerdown:t},oe(c0,{icon:n.config.inlineEditConfirm})))}});var oB=n=>{throw TypeError(n)},aB=(n,e,t)=>e.has(n)||oB("Cannot "+t),tr=(n,e,t)=>(aB(n,e,"read from private field"),t?t.call(n):e.get(n)),Va=(n,e,t)=>e.has(n)?oB("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),qm=(n,e,t,r)=>(aB(n,e,"write to private field"),e.set(n,t),t),ef,jc,Kg,cu,tf,nf,s5,o5;class l7e{constructor(e,t,r){this.ctx=e,Va(this,ef),Va(this,jc),Va(this,Kg),Va(this,cu,Qu(null)),Va(this,tf,Qu(()=>{})),Va(this,nf),Va(this,s5,()=>{tr(this,cu).value&&(tr(this,cu).value.destroy(),tr(this,cu).value=null)}),Va(this,o5,s=>{const a=(()=>{const{selection:l,schema:u}=s.state;if(l.empty||!(l instanceof Je))return!1;const c=l.node;if(c.type.name!==Qd)return!1;const h=l.from,d=u.nodes.paragraph.create(null,u.text(c.attrs.value)),f=new Uw(tr(this,Kg),{state:wu.create({doc:d,schema:new SI({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},text:{group:"inline"}}}),plugins:[FD({"Mod-z":cy,"Mod-Z":h0,"Mod-y":h0,Enter:()=>(tr(this,tf).value(),!0)})]})});return tr(this,cu).value=f,tr(this,tf).value=()=>{const{tr:p}=s.state;p.setNodeAttribute(h,"value",f.state.doc.textContent),s.dispatch(p),requestAnimationFrame(()=>{s.focus()})},!0})();return a||tr(this,s5).call(this),a}),this.update=(s,o)=>{tr(this,jc).update(s,o)},this.destroy=()=>{tr(this,nf).unmount(),tr(this,jc).destroy(),tr(this,ef).remove()};const i=document.createElement("div");i.className="milkdown-latex-inline-edit",qm(this,ef,i),qm(this,nf,qs(a7e,{config:r,innerView:tr(this,cu),updateValue:tr(this,tf)})),tr(this,nf).mount(i),qm(this,jc,new ky({debounce:0,content:tr(this,ef),shouldShow:tr(this,o5),offset:10,floatingUIOptions:{placement:"bottom"}})),tr(this,jc).update(t),qm(this,Kg,document.createElement("div"))}}ef=new WeakMap;jc=new WeakMap;Kg=new WeakMap;cu=new WeakMap;tf=new WeakMap;nf=new WeakMap;s5=new WeakMap;o5=new WeakMap;const u7e=Er(n=>Mle(/(?:\$)([^$]+)(?:\$)$/,C1.type(n),{getAttr:e=>{var t;return{value:(t=e[1])!=null?t:""}}})),c7e=Er(n=>Sw(/^\$\$[\s\n]$/,No.type(n),()=>({language:"LaTeX"}))),h7e=Ro("remarkMath",()=>X3e);function d7e(n){return Rl(n,"math",(e,t,r)=>{const{value:i}=e,s={type:"code",lang:"LaTeX",value:i};r.children.splice(t,1,s)})}const f7e=Ro("remarkMathBlock",()=>()=>d7e),p7e=(n,e)=>{n.config(Ho(Kt.Latex)).config(t=>{if(!Ty(t).get().includes(Kt.CodeMirror))throw new Error("You need to enable CodeMirror to use LaTeX feature");t.update(Ap.key,s=>({...s,renderPreview:(o,a,l)=>{if(o.toLowerCase()==="latex"&&a.length>0)return m7e(a,e==null?void 0:e.katexOptions);const u=s.renderPreview;return u(o,a,l)}})),t.set(a_.key,{view:s=>{var o;return new l7e(t,s,{inlineEditConfirm:(o=e==null?void 0:e.inlineEditConfirm)!=null?o:nk,...e})}})}).use(h7e).use(f7e).use(C1).use(a_).use(u7e).use(c7e).use(o7e).use(sB)};function m7e(n,e){return g$.renderToString(n,{...e,throwOnError:!1,displayMode:!0})}const g7e=(n,e)=>{n.config(Ho(Kt.LinkTooltip)).config(E5e).config(t=>{t.update(g0.key,r=>{var i,s,o,a,l,u;return{...r,linkIcon:(i=e==null?void 0:e.linkIcon)!=null?i:j$,editButton:(s=e==null?void 0:e.editButton)!=null?s:rk,removeButton:(o=e==null?void 0:e.removeButton)!=null?o:i5,confirmButton:(a=e==null?void 0:e.confirmButton)!=null?a:nk,inputPlaceholder:(l=e==null?void 0:e.inputPlaceholder)!=null?l:"Paste link...",onCopyLink:(u=e==null?void 0:e.onCopyLink)!=null?u:()=>{}}})}).use(O5e)};function y7e(n,e){n.set(Cy.key,{renderLabel:({label:t,listType:r,checked:i})=>{var s,o,a;return i==null?r==="bullet"?(s=e==null?void 0:e.bulletIcon)!=null?s:xwe:t:i?(o=e==null?void 0:e.checkBoxCheckedIcon)!=null?o:Mwe:(a=e==null?void 0:e.checkBoxUncheckedIcon)!=null?a:Awe}})}const v7e=(n,e)=>{n.config(Ho(Kt.ListItem)).config(t=>y7e(t,e)).use($5e)};function w7e(n){var e;return n.childCount<=1&&!((e=n.firstChild)!=null&&e.content.size)}function b7e(n,e){const{selection:t}=n;if(!t.empty)return null;const r=t.$anchor,i=r.parent;if(i.content.size>0||Co(a=>a.type.name==="table")(r))return null;const o=r.before();return Vn.node(o,o+i.nodeSize,{class:"crepe-placeholder","data-placeholder":e})}const a5=Ut({text:"Please enter...",mode:"block"},"placeholderConfigCtx"),k7e=Wn(n=>new fn({key:new pn("CREPE_PLACEHOLDER"),props:{decorations:e=>{var t;if(Zwe(n).readonly)return null;const i=n.get(a5.key);if(i.mode==="doc"&&!w7e(e.doc)||K$(e.selection)||Y$(e.selection))return null;const s=(t=i.text)!=null?t:"Please enter...",o=b7e(e,s);return o?nn.create(e.doc,[o]):null}}})),x7e=(n,e)=>{n.config(Ho(Kt.Placeholder)).config(t=>{e&&t.update(a5.key,r=>({...r,...e}))}).use(k7e).use(a5)},S7e=(n,e)=>{n.config(Ho(Kt.Table)).config(t=>{t.update(My.key,r=>({...r,renderButton:i=>{var s,o,a,l,u,c,h,d,f;switch(i){case"add_row":return(s=e==null?void 0:e.addRowIcon)!=null?s:r5;case"add_col":return(o=e==null?void 0:e.addColIcon)!=null?o:r5;case"delete_row":return(a=e==null?void 0:e.deleteRowIcon)!=null?a:i5;case"delete_col":return(l=e==null?void 0:e.deleteColIcon)!=null?l:i5;case"align_col_left":return(u=e==null?void 0:e.alignLeftIcon)!=null?u:wwe;case"align_col_center":return(c=e==null?void 0:e.alignCenterIcon)!=null?c:vwe;case"align_col_right":return(h=e==null?void 0:e.alignRightIcon)!=null?h:bwe;case"col_drag_handle":return(d=e==null?void 0:e.colDragHandleIcon)!=null?d:s_;case"row_drag_handle":return(f=e==null?void 0:e.rowDragHandleIcon)!=null?f:s_}}}))}).use(cwe)};function C7e(n,e){var t,r,i,s,o,a,l;const u=new Q$;u.addGroup("formatting","Formatting").addItem("bold",{icon:(t=n==null?void 0:n.boldIcon)!=null?t:kwe,active:f=>f.get(We).call($c.key,I0.type(f)),onRun:f=>{f.get(We).call(J4.key)}}).addItem("italic",{icon:(r=n==null?void 0:n.italicIcon)!=null?r:Lwe,active:f=>f.get(We).call($c.key,vc.type(f)),onRun:f=>{f.get(We).call(Y4.key)}}).addItem("strikethrough",{icon:(i=n==null?void 0:n.strikethroughIcon)!=null?i:Fwe,active:f=>f.get(We).call($c.key,P0.type(f)),onRun:f=>{f.get(We).call(iy.key)}});const c=u.addGroup("function","Function");c.addItem("code",{icon:(s=n==null?void 0:n.codeIcon)!=null?s:W$,active:f=>f.get(We).call($c.key,pa.type(f)),onRun:f=>{f.get(We).call(X4.key)}});const h=e&&Ty(e).get();return(h==null?void 0:h.includes(Kt.Latex))&&c.addItem("latex",{icon:(o=n==null?void 0:n.latexIcon)!=null?o:U$,active:f=>f.get(We).call(cL.key,C1.type(f)),onRun:f=>{f.get(We).call(sB.key)}}),c.addItem("link",{icon:(a=n==null?void 0:n.linkIcon)!=null?a:Pwe,active:f=>f.get(We).call($c.key,Rs.type(f)),onRun:f=>{f.get(We).call(v$.key)}}),(l=n==null?void 0:n.buildToolbar)==null||l.call(n,u),u.build()}const M7e=he({props:{ctx:{type:Object,required:!0},hide:{type:Function,required:!0},show:{type:Object,required:!0},selection:{type:Object,required:!0},config:{type:Object,required:!1}},setup(n){const{ctx:e,config:t}=n,r=o=>a=>{a.preventDefault(),e&&o(e)};function i(o){return n.selection.value,e.get(y3).status!==I2.Created?!1:o(e)}const s=W(()=>C7e(t,e));return()=>oe(Ve,null,s.value.map(o=>o.items.map(a=>oe("button",{type:"button",class:vr("toolbar-item",e&&i(a.active)&&"active"),onPointerdown:r(a.onRun)},oe(c0,{icon:a.icon})))).reduce((o,a,l)=>(l===0?o.push(...a):o.push(oe("div",{class:"divider"}),...a),o),[]))}});var lB=n=>{throw TypeError(n)},uB=(n,e,t)=>e.has(n)||lB("Cannot "+t),bi=(n,e,t)=>(uB(n,e,"read from private field"),t?t.call(n):e.get(n)),xd=(n,e,t)=>e.has(n)?lB("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Wm=(n,e,t,r)=>(uB(n,e,"write to private field"),e.set(n,t),t),Ua,rf,Yg,sf,of;const l_=xy("CREPE_TOOLBAR");class A7e{constructor(e,t,r){xd(this,Ua),xd(this,rf),xd(this,Yg),xd(this,sf),xd(this,of,V(!1)),this.update=(o,a)=>{bi(this,Ua).update(o,a),bi(this,sf).value=o.state.selection},this.destroy=()=>{bi(this,Ua).destroy(),bi(this,Yg).unmount(),bi(this,rf).remove()},this.hide=()=>{bi(this,Ua).hide()};const i=document.createElement("div");i.className="milkdown-toolbar",Wm(this,sf,Qu(t.state.selection));const s=qs(M7e,{ctx:e,hide:this.hide,config:r,selection:bi(this,sf),show:bi(this,of)});s.mount(i),Wm(this,rf,i),Wm(this,Yg,s),Wm(this,Ua,new ky({content:bi(this,rf),debounce:20,offset:10,shouldShow(o){const{doc:a,selection:l}=o.state,{empty:u,from:c,to:h}=l,d=!a.textBetween(c,h).length&&l instanceof Ue,f=!(l instanceof Ue),p=o.dom.getRootNode().activeElement,m=i.contains(p),y=!o.hasFocus()&&!m,v=!o.editable;return!(y||f||u||d||v)}})),bi(this,Ua).onShow=()=>{bi(this,of).value=!0},bi(this,Ua).onHide=()=>{bi(this,of).value=!1},this.update(t)}}Ua=new WeakMap;rf=new WeakMap;Yg=new WeakMap;sf=new WeakMap;of=new WeakMap;const _7e=(n,e)=>{n.config(Ho(Kt.Toolbar)).config(t=>{t.set(l_.key,{view:r=>new A7e(t,r,e)})}).use(l_)};function T7e(n,e,t){switch(n){case Kt.CodeMirror:return r7e(e,t);case Kt.ListItem:return v7e(e,t);case Kt.LinkTooltip:return g7e(e,t);case Kt.ImageBlock:return s7e(e,t);case Kt.Cursor:return i7e(e,t);case Kt.BlockEdit:return n7e(e,t);case Kt.Placeholder:return x7e(e,t);case Kt.Toolbar:return _7e(e,t);case Kt.Table:return S7e(e,t);case Kt.Latex:return p7e(e,t)}}var cB=n=>{throw TypeError(n)},hB=(n,e,t)=>e.has(n)||cB("Cannot "+t),ki=(n,e,t)=>(hB(n,e,"read from private field"),t?t.call(n):e.get(n)),I6=(n,e,t)=>e.has(n)?cB("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),D6=(n,e,t,r)=>(hB(n,e,"write to private field"),e.set(n,t),t),xi,Jg,af;class E7e{constructor({root:e,defaultValue:t=""}={}){I6(this,xi),I6(this,Jg),I6(this,af,!0),this.addFeature=(i,s)=>(i(ki(this,xi),s),this),this.create=()=>ki(this,xi).create(),this.destroy=()=>ki(this,xi).destroy(),this.setReadonly=i=>(D6(this,af,!i),ki(this,xi).action(s=>{ki(this,xi).status===I2.Created&&s.get(an).setProps({editable:()=>!i})}),this),this.getMarkdown=()=>ki(this,xi).action(Lfe()),this.on=i=>ki(this,xi).status!==I2.Created?(ki(this,xi).config(s=>{const o=s.get(X2);i(o)}),this):(ki(this,xi).action(s=>{const o=s.get(X2);i(o)}),this);var r;D6(this,Jg,(r=typeof e=="string"?document.querySelector(e):e)!=null?r:document.body),D6(this,xi,b3.make().config(i=>{i.inject(jwe,this),i.inject(Wwe,[])}).config(i=>{i.set(Ag,ki(this,Jg)),i.set(xg,t),i.set(Of,{editable:()=>ki(this,af)}),i.update(_y.key,s=>({...s,size:4}))}).use(Y1e).use(z$).use(dwe).use(pwe).use(gwe).use(R$).use(V2e))}get editor(){return ki(this,xi)}get readonly(){return!ki(this,af)}}xi=new WeakMap;Jg=new WeakMap;af=new WeakMap;class l5 extends E7e{constructor({features:e={},featureConfigs:t={},...r}={}){super(r);const i=Yz(t,qwe);Object.entries({...ywe,...e}).filter(([,o])=>o).map(([o])=>o).forEach(o=>{const a=i[o];T7e(o,this.editor,a)})}}l5.Feature=Kt;function sk(n){return{data:n,type:"text"}}function dB(n){return n.type==="text"}const O7e=he({__name:"MarkdownEditor",props:{modelValue:{},readonly:{type:Boolean,default:!1},filePath:{}},emits:["update:modelValue"],setup(n,{emit:e}){const t=n,r=e,i=V();let s=null;const o=W(()=>dB(t.modelValue)?t.modelValue.data:new TextDecoder().decode(t.modelValue.data));return On(async()=>{if(!!i.value)try{s=new l5({root:i.value,defaultValue:o.value,features:{[l5.Feature.Toolbar]:!t.readonly}}),await s.create(),s.setReadonly(t.readonly),s.on(a=>{a.markdownUpdated((l,u)=>{u!==o.value&&!t.readonly&&r("update:modelValue",sk(u))})})}catch(a){console.error("Failed to initialize Milkdown Crepe editor:",a)}}),Et(()=>t.readonly,a=>{s&&s.setReadonly(a)}),or(()=>{s&&(s.destroy(),s=null)}),(a,l)=>(x(),P("div",{ref_key:"editorRef",ref:i,class:"markdown-editor-container"},null,512))}});const I7e=bt(O7e,[["__scopeId","data-v-4621356c"]]),D7e={class:"plaintext-editor-container"},N7e=["readonly"],L7e=he({__name:"PlainTextEditor",props:{modelValue:{},readonly:{type:Boolean,default:!1},filePath:{}},emits:["update:modelValue"],setup(n,{emit:e}){const t=n,r=e,i=V(),s=W(()=>dB(t.modelValue)?t.modelValue.data:new TextDecoder().decode(t.modelValue.data)),o=V(s.value);Et(()=>s.value,c=>{c!==o.value&&(o.value=c)});const a=()=>{t.readonly||r("update:modelValue",sk(o.value))},l=c=>{var h,d,f,p;if(c.key==="Tab"){c.preventDefault();const m=(d=(h=i.value)==null?void 0:h.selectionStart)!=null?d:0,y=(p=(f=i.value)==null?void 0:f.selectionEnd)!=null?p:0,v="  ";o.value=o.value.substring(0,m)+v+o.value.substring(y),setTimeout(()=>{i.value&&(i.value.selectionStart=m+v.length,i.value.selectionEnd=m+v.length)},0),a()}(c.ctrlKey||c.metaKey)&&c.key==="s"&&(c.preventDefault(),a())},u=()=>{i.value&&(i.value.style.height="auto",i.value.style.height=i.value.scrollHeight+"px")};return Et(o,()=>{u()}),On(()=>{u(),window.addEventListener("resize",u)}),or(()=>{window.removeEventListener("resize",u)}),(c,h)=>(x(),P("div",D7e,[o4(F("textarea",{ref_key:"textareaRef",ref:i,"onUpdate:modelValue":h[0]||(h[0]=d=>o.value=d),class:"plaintext-textarea",readonly:n.readonly,onInput:a,onKeydown:l},null,40,N7e),[[x_,o.value]])]))}});const P7e=bt(L7e,[["__scopeId","data-v-ebcaa84b"]]),R7e=he({__name:"EditorImageViewerAdapter",props:{content:{},filePath:{}},setup(n){const e=n,t=W(()=>e.filePath?e.filePath.startsWith("blob:")||e.filePath.startsWith("http")?e.filePath:`/_editor/api/codebase/files/${e.filePath}`:"");return(r,i)=>(x(),U(Oz,{src:t.value,alt:n.filePath||"Image"},null,8,["src","alt"]))}}),$7e={class:"pdf-viewer-container"},B7e=["src"],F7e=he({__name:"PDFViewer",props:{filePath:{}},setup(n){const e=n,t=W(()=>e.filePath?`/_editor/api/codebase/files/${e.filePath}`:"");return(r,i)=>(x(),P("div",$7e,[F("embed",{src:t.value,type:"application/pdf",class:"pdf-embed"},null,8,B7e)]))}});const z7e=bt(F7e,[["__scopeId","data-v-8a39e0d9"]]);class H7e{constructor(){Ye(this,"editors",new Map);Ye(this,"extensionMap",new Map)}register(e){this.editors.set(e.type,e),e.extensions.forEach(t=>{var s,o,a;const r=t.toLowerCase(),i=this.extensionMap.get(r);(!i||((s=e.priority)!=null?s:0)>((a=(o=this.editors.get(i))==null?void 0:o.priority)!=null?a:0))&&this.extensionMap.set(r,e.type)})}unregister(e){const t=this.editors.get(e);!t||(this.editors.delete(e),t.extensions.forEach(r=>{const i=r.toLowerCase();this.extensionMap.get(i)===e&&this.extensionMap.delete(i)}))}getAllEditors(){return Array.from(this.editors.values())}getEditor(e){return this.editors.get(e)||null}clear(){this.editors.clear(),this.extensionMap.clear()}getEditorTypeByExtension(e){return this.extensionMap.get(e.toLowerCase())||null}}class V7e{constructor(e){this.registry=e}resolveEditorType(e){if(!e||e.length===0)return"unknown";const t=e[e.length-1],r=t.lastIndexOf(".");if(r===-1)return"unknown";const i=t.substring(r).toLowerCase();return this.registry.getEditorTypeByExtension(i)||"unknown"}resolveEditorConfig(e){const t=this.resolveEditorType(e);return this.registry.getEditor(t)}isExtensionSupported(e){const t=e.toLowerCase();return this.registry.getAllEditors().some(i=>i.extensions.some(s=>s.toLowerCase()===t))}}let fB=new H7e,q7e=new V7e(fB);function W7e(){return fB}const N6={canEdit:!0,canSave:!0,canUndo:!0,canSearch:!0,canFormat:!1,supportsRealtime:!0},L6={canEdit:!1,canSave:!1,canUndo:!1,canSearch:!0,canFormat:!1,supportsRealtime:!1};function j7e(){const n=W7e();n.register({type:"code",label:"Code Editor",extensions:[".py",".js",".ts",".jsx",".tsx",".json",".html",".css",".scss",".vue",".yaml",".yml",".toml",".xml",".sql"],component:"SourceCode",icon:"PhCode",capabilities:{...N6,canFormat:!0},priority:10}),n.register({type:"markdown",label:"Markdown Editor",extensions:[".md",".markdown"],component:"MarkdownEditor",icon:"PhTextAa",capabilities:N6,priority:10}),n.register({type:"plaintext",label:"Text Editor",extensions:[".txt",".log",".env"],component:"PlainTextEditor",icon:"PhFileText",capabilities:{...N6,canFormat:!1},priority:5}),n.register({type:"spreadsheet",label:"Spreadsheet Viewer",extensions:[".xlsx",".csv",".xls"],component:"SpreadsheetViewer",icon:"PhTable",capabilities:L6,priority:10}),n.register({type:"pdf",label:"PDF Viewer",extensions:[".pdf"],component:"PDFViewer",icon:"PhFilePdf",capabilities:L6,priority:10}),n.register({type:"image",label:"Image Viewer",extensions:[".png",".jpg",".jpeg",".gif",".svg",".webp",".bmp",".ico"],component:"ImageViewer",icon:"PhImage",capabilities:L6,priority:10})}j7e();function Z7e(n){return q7e.resolveEditorType(n)}function u_(n){return W(()=>sk(n.codeContent))}function P6(n){return n.file}const U7e="__all_project_files__",G7e={class:"codebase-container"},K7e={class:"ant-tabs-dropdown-menu-title-content"},Y7e={key:9,style:{height:"100%"}},J7e=he({__name:"Codebase",props:{workspace:{},controller:{},panesInfo:{},smartChatController:{}},emits:["save-workspace","open-center-pane","run-stage"],setup(n,{expose:e,emit:t}){const r=n,i=t,s=V("code"),o=C=>{var M;s.value=C,(M=r.controller.panes.currentPane)!=null&&M.stage&&r.controller.panes.currentPane.stage.save()},a=()=>{const C=s.value==="code"?"settings":"code";o(C)},l=V([{value:"theme",payload:TK},{value:"access-control",payload:sz}]),u=V("theme"),c=C=>{u.value=C},h=new Map,d=C=>W({get:()=>u_(C).value,set:M=>{if(M.type==="text"&&typeof M.data=="string"){const O=M.data;C.codeContent=O;const D=h.get(C.file);D&&clearTimeout(D);const $=setTimeout(async()=>{try{const R=C.file.split("/"),N=new TextEncoder().encode(O);await r.controller.codebase.uploadFile(R,N,!0)}catch(R){console.error("[Codebase] Failed to save file:",R)}finally{h.delete(C.file)}},1e3);h.set(C.file,$)}}}),f=new KX(r.controller.codebase.loadDirectoryChildren,r.controller.codebase.uploadFile,r.controller.codebase.deleteFile,async C=>{const M=await r.controller.codebase.getFile(C);return new Blob([new Uint8Array(M)])},r.controller.codebase.mkdir,r.controller.codebase.renameFile,r.controller.codebase.settings.value.separator),p=C=>{const M=C.split(r.controller.codebase.settings.value.separator).filter(Boolean);r.controller.panes.openTab(M)},m=C=>{r.controller.panes.removeTab(C)},y=V([]),v=V(null),b=W(()=>{const C=r.controller.panes.selectedTabKey,M=y.value.filter(O=>O.paneKey===C);return M.length===0?null:M[0]||null}),k=W(()=>r.controller.stages.allStages.map(C=>({id:C.id,title:C.title,file:C.file,type:C.type})));Et(k,()=>{var C;(C=v.value)==null||C.refetch()},{deep:!0});const _=async C=>{C.type!=="stage"||!C.stage||i("run-stage",C.stage.id)};return Et(()=>{var C;return(C=r.smartChatController)==null?void 0:C.codeForApproval.value},async C=>{if(C){const M=C.file;if(!M)return;i("open-center-pane");const O=await r.workspace.readFile(M);if(!O)return;let D=O;"code"in C?D=C.code:"replacements"in C&&(D=UQ(O,C.replacements)),await r.controller.panes.openTab([M],D)}}),e({code:b}),(C,M)=>(x(),P("div",G7e,[A(g(f5),{"active-key":n.controller.panes.selectedTabKey,"hide-add":"",type:"editable-card",size:"small",onEdit:M[2]||(M[2]=O=>m(O)),onChange:n.controller.panes.selectTab},{default:T(()=>[(x(),U(g(Rf),{key:g(U7e),closable:!1},{tab:T(()=>[A(g(Me),{align:"center",justify:"center",class:"all-files-tab"},{default:T(()=>[A(g(L_),{size:16}),F("span",K7e,X(g(z).translate("i18n_editor_codebase_source_code")),1)]),_:1})]),default:T(()=>[A(Nz,{"inner-class":"scroll-area","outer-style":{flexGrow:1,height:"100%",overflow:"auto"},"inner-style":{display:"flex",justifyContent:"stretch",gap:"20px"}},{default:T(()=>[A(Iz,{ref_key:"filesNavigatorRef",ref:v,class:"files-nav",repository:g(f),"on-open":p,"workflow-stages":k.value},null,8,["repository","workflow-stages"])]),_:1})]),_:1})),(x(!0),P(Ve,null,wt(n.controller.panes.panes,O=>(x(),U(g(Rf),{key:O.key,closable:O.closable},{tab:T(()=>[A(g(Me),{align:"center",gap:"small"},{default:T(()=>[(x(),U(rr(n.controller.panes.getPaneIcon(O)),{"hide-text":!0,style:{width:"16px",height:"16px"}})),te(" "+X(O.title),1)]),_:2},1024)]),default:T(()=>{var D,$,R,G;return[O.type==="stage"?(x(),U(g(Me),{key:0,class:"stage-controls",gap:"small"},{default:T(()=>[A(g(ft),{type:"default",shape:"circle",icon:oe(s.value==="code"?g(V_):g(XB),{size:16}),class:"stage-action-button",onClick:a},null,8,["icon"]),A(g(ft),{type:"primary",shape:"circle",icon:oe(g(h5),{size:16}),class:"stage-action-button",onClick:N=>_(O)},null,8,["icon","onClick"])]),_:2},1024)):ue("",!0),O.type==="preferences"?(x(),U(g(p5),{key:1,value:u.value,options:l.value,class:"settings-selector",onChange:M[0]||(M[0]=N=>c(N))},{label:T(({payload:N})=>[(x(),U(rr(N),{size:16,style:{height:"100%"}}))]),_:1},8,["value","options"])):ue("",!0),O.type==="general"&&O.editorType==="image"?(x(),U(g(R7e),{key:`image-${O.key}`,content:g(u_)(O.content).value,"file-path":g(P6)(O.content)},null,8,["content","file-path"])):O.type==="general"&&O.editorType==="pdf"?(x(),U(g(z7e),{key:`pdf-${O.key}`,"file-path":O.filename},null,8,["file-path"])):O.type==="general"&&O.editorType==="markdown"?(x(),U(g(I7e),{key:`markdown-${O.key}`,modelValue:d(O.content).value,"onUpdate:modelValue":N=>d(O.content).value=N,readonly:!1,"file-path":g(P6)(O.content)},null,8,["modelValue","onUpdate:modelValue","file-path"])):O.type==="general"&&O.editorType==="plaintext"?(x(),U(g(P7e),{key:`plaintext-${O.key}`,modelValue:d(O.content).value,"onUpdate:modelValue":N=>d(O.content).value=N,readonly:!1,"file-path":g(P6)(O.content)},null,8,["modelValue","onUpdate:modelValue","file-path"])):O.type==="general"&&O.editorType==="spreadsheet"?(x(),U(g(Dz),{key:`spreadsheet-${O.key}`,"file-path":O.filename},null,8,["file-path"])):O.type==="image"?(x(),U(g(B6),{key:7,src:`/_editor/api/codebase/files/${O.title}`},null,8,["src"])):O.type==="general"?(x(),U(I9,{key:`general-${O.key}`,ref_for:!0,ref_key:"codeRefs",ref:y,"pane-key":O.key,script:O.content,controller:n.controller,workspace:n.workspace,"smart-chat-controller":n.smartChatController,"panes-info":n.panesInfo,"code-to-diff":O.codeToDiff},null,8,["pane-key","script","controller","workspace","smart-chat-controller","panes-info","code-to-diff"])):O.type==="stage"&&s.value==="settings"?(x(),P("div",Y7e,[((D=O.stage)==null?void 0:D.type)==="form"?(x(),U(see,{key:0,form:O.stage},null,8,["form"])):ue("",!0),(($=O.stage)==null?void 0:$.type)==="tasklet"?(x(),U(Mne,{key:1,script:O.stage},null,8,["script"])):ue("",!0),((R=O.stage)==null?void 0:R.type)==="hook"?(x(),U(oee,{key:2,hook:O.stage},null,8,["hook"])):ue("",!0),((G=O.stage)==null?void 0:G.type)==="job"?(x(),U(Cne,{key:3,job:O.stage},null,8,["job"])):ue("",!0)])):O.type==="stage"&&s.value==="code"?(x(),U(I9,{key:`stage-${O.key}`,ref_for:!0,ref_key:"codeRefs",ref:y,"pane-key":O.key,script:O.stage,controller:n.controller,workspace:n.workspace,"panes-info":n.panesInfo,"code-to-diff":O.codeToDiff,"smart-chat-controller":n.smartChatController},null,8,["pane-key","script","controller","workspace","panes-info","code-to-diff","smart-chat-controller"])):O.type==="requirements"?(x(),U(QQ,{key:11})):O.type==="env-vars"?(x(),U(nQ,{key:12})):O.type==="preferences"&&u.value==="theme"?(x(),U(jQ,{key:13,onSave:M[1]||(M[1]=N=>i("save-workspace"))})):O.type==="preferences"&&u.value==="access-control"?(x(),U(tQ,{key:14})):ue("",!0)]}),_:2},1032,["closable"]))),128))]),_:1},8,["active-key","onChange"])]))}});const X7e=bt(J7e,[["__scopeId","data-v-d8e04b10"]]),Q7e=xe.object({type:xe.enum(["forms","hooks"]),module:xe.string().nullable(),id:xe.string(),title:xe.string(),position:xe.object({x:xe.number(),y:xe.number()}),props:xe.object({path:xe.string().nullable(),filename:xe.string().nullable()}),input:xe.boolean(),output:xe.boolean()}),ebe=xe.object({type:xe.literal("scripts"),module:xe.string().nullable(),id:xe.string(),title:xe.string(),position:xe.object({x:xe.number(),y:xe.number()}),props:xe.object({filename:xe.string().nullable()}),input:xe.boolean(),output:xe.boolean()}),tbe=xe.object({type:xe.literal("jobs"),module:xe.string().nullable(),id:xe.string(),title:xe.string(),position:xe.object({x:xe.number(),y:xe.number()}),props:xe.object({filename:xe.string().nullable()}),input:xe.boolean(),output:xe.boolean()}),nbe=xe.object({type:xe.literal("components"),module:xe.string().nullable(),id:xe.string(),title:xe.string(),position:xe.object({x:xe.number(),y:xe.number()}),props:xe.object({packageName:xe.string().nullable()}),input:xe.boolean(),output:xe.boolean()}),rbe=xe.union([ebe,Q7e,tbe,nbe]),ibe=xe.object({id:xe.string(),type:xe.literal("task"),sourceStageId:xe.string(),targetStageId:xe.string(),props:xe.object({taskType:xe.string().nullable()})}),c_=xe.object({stages:xe.array(rbe),transitions:xe.array(ibe)}),h_={"Content-Type":"application/json"};class sbe{async load(){const e=await fetch("/_editor/api/workflows");if(e.ok){const t=await e.json(),r=c_.safeParse(t);if(r.success)return r.data;throw console.error(r.error.errors),new Error("Failed to parse initial data")}else throw new Error("Failed to fetch initial data")}async update(e,t){const r=await fetch("/_editor/api/workflows",{method:"PUT",headers:h_,body:JSON.stringify({state:e,module:t})});if(r.ok){const i=await r.json(),s=c_.safeParse(i);if(s.success)return s.data;throw new Error("Failed to parse updated data:",i)}else throw new Error("Failed to update workflow")}async getInterfaces(){const e=await fetch("/_editor/api/workflows/interfaces");if(e.ok)return await e.json();throw new Error("Failed to fetch interfaces")}async updateInterfaces(e){const t=await fetch("/_editor/api/workflows/interfaces",{method:"PUT",headers:h_,body:JSON.stringify(e)});if(t.ok)return await t.json();throw new Error("Failed to update interfaces")}}const obe=new sbe;function ok(){return Math.random().toString(36).slice(2,9)}class V0{constructor(e){this.changes=e}apply(e){return this.changes.reduce((t,r)=>r.apply(t),e)}reverse(){return new V0(this.changes.map(e=>e.reverse()).reverse())}}class ak{constructor(e){Ye(this,"removed");this.stageId=e,this.removed=null}apply(e){const t=e.stages.find(i=>i.id===this.stageId)||null;if(!t)throw new Error(`Stage ${this.stageId} not found`);const r=e.transitions.filter(i=>i.sourceStageId===this.stageId||i.targetStageId===this.stageId);return this.removed={stage:t,transitions:r},{stages:e.stages.filter(i=>i.id!==t.id),transitions:e.transitions.filter(i=>!r.find(s=>s.id===i.id))}}reverse(){if(!this.removed)throw new Error("Cannot reverse change that was not applied");const e=new pB(this.removed.stage.type,this.removed.stage.title,this.removed.stage.position,this.removed.stage.module,this.removed.stage.id,this.removed.stage.props),t=this.removed.transitions.map(r=>new lk(r.sourceStageId,r.targetStageId,r.type,r.id));return new V0([e,...t])}}class pB{constructor(e,t,r,i,s,o){Ye(this,"addedStage");this.stageType=e,this.nodeTitle=t,this.position=r,this.module=i,this.id=s,this.props=o,this.addedStage=null}assertStageDoesNotExist(e){if(e.stages.find(t=>t.id===this.id))throw new Error(`Stage ${this.id} already exists`)}assertValidStageType(){if(!l4.stages.find(e=>e.typeName===this.stageType))throw new Error(`Invalid stage type ${this.stageType}`)}assertTransitionDoesNotExist(e){if(e.transitions.find(t=>t.sourceStageId===this.id||t.targetStageId===this.id))throw new Error("Stage already has transitions")}makePath(e){switch(this.stageType){case"forms":return`new-form-${e}`;case"hooks":return`new-hook-${e}`;default:return null}}makeFilename(e){const t=this.module?`modules/${this.module}/`:"";switch(this.stageType){case"forms":return`${t}form_${e}.py`;case"hooks":return`${t}hook_${e}.py`;case"jobs":return`${t}job_${e}.py`;case"scripts":return`${t}tasklet_${e}.py`;default:return null}}apply(e){var r,i,s;const t=ok();switch(this.assertStageDoesNotExist(e),this.assertValidStageType(),this.assertTransitionDoesNotExist(e),this.stageType){case"forms":case"hooks":{const o={path:this.makePath(t),filename:this.makeFilename(t),...this.props};this.addedStage={id:(r=this.id)!=null?r:ha(),title:this.nodeTitle,type:this.stageType,position:{x:this.position.x,y:this.position.y},props:o,module:this.module,input:!1,output:!1};break}case"jobs":case"scripts":{const o={filename:this.makeFilename(t),...this.props};this.addedStage={id:(i=this.id)!=null?i:ha(),title:this.nodeTitle,type:this.stageType,position:{x:this.position.x,y:this.position.y},props:o,module:this.module,input:!1,output:!1};break}case"components":{const o={packageName:null,...this.props};this.addedStage={id:(s=this.id)!=null?s:ha(),title:this.nodeTitle,type:this.stageType,position:{x:this.position.x,y:this.position.y},module:this.module,props:o,input:!1,output:!1};break}default:throw new Error(`Invalid stage type ${this.stageType}`)}if(!this.addedStage)throw new Error("Stage not created");return{transitions:e.transitions,stages:[...e.stages,this.addedStage]}}reverse(){if(!this.addedStage)throw new Error("Cannot reverse change that was not applied");return new ak(this.addedStage.id)}}class mB extends V0{constructor(e){super(e.map(t=>new pB(t.type,t.title,t.position,t.module,t.id)))}}class gB{constructor(e){Ye(this,"removedTransition");this.transitionId=e,this.removedTransition=null}apply(e){const t=e.transitions.find(r=>r.id===this.transitionId);if(!t)throw new Error(`Transition ${this.transitionId} not found`);return this.removedTransition=t!=null?t:null,{stages:e.stages,transitions:e.transitions.filter(r=>r.id!==this.transitionId)}}reverse(){if(!this.removedTransition)throw new Error("Cannot reverse change that was not applied");return new lk(this.removedTransition.sourceStageId,this.removedTransition.targetStageId,this.removedTransition.type,this.removedTransition.id,this.removedTransition.props)}}class lk{constructor(e,t,r,i,s={taskType:null}){Ye(this,"addedTransition");this.sourceStageId=e,this.targetStageId=t,this.transitionType=r,this.transitionId=i,this.props=s,this.addedTransition=null}assertSourceStageExists(e){if(!e.stages.find(t=>t.id===this.sourceStageId))throw new Error(`Stage ${this.sourceStageId} not found`)}assertTargetStageExists(e){if(!e.stages.find(t=>t.id===this.targetStageId))throw new Error(`Stage ${this.targetStageId} not found`)}assertTransitionDoesNotExist(e){if(e.transitions.find(t=>t.id===this.transitionId))throw new Error(`Transition ${this.transitionId} already exists`)}assertNotSelfTransition(){if(this.sourceStageId===this.targetStageId)throw new Error("Self transitions are not allowed")}assertNoDuplicatedTransitionStages(e){if(e.transitions.find(t=>t.sourceStageId===this.sourceStageId&&t.targetStageId===this.targetStageId))throw ao.error({message:"Invalid transition",description:"Transition already exists"}),new Error("Transition already exists")}assertNoStageWithSameId(e){if(e.stages.find(t=>t.id===this.transitionId))throw new Error(`Stage with id ${this.transitionId} already exists`)}apply(e){return this.assertSourceStageExists(e),this.assertTargetStageExists(e),this.assertTransitionDoesNotExist(e),this.assertNotSelfTransition(),this.assertNoDuplicatedTransitionStages(e),this.assertNoStageWithSameId(e),this.addedTransition={id:this.transitionId,sourceStageId:this.sourceStageId,targetStageId:this.targetStageId,type:this.transitionType,props:this.props},{stages:e.stages,transitions:[...e.transitions,this.addedTransition]}}reverse(){if(!this.addedTransition)throw new Error("Cannot reverse change that was not applied");return new gB(this.addedTransition.id)}}class abe extends V0{constructor(e){super(e.map(t=>new lk(t.sourceStageId,t.targetStageId,t.type,t.id)))}}class uk{constructor(e){Ye(this,"oldPositions");this.newPositions=e,this.oldPositions=null}assertStagesExists(e){this.newPositions.forEach(({id:t})=>{if(!e.stages.find(r=>r.id===t))throw new Error(`Stage ${t} not found`)})}assertIsNumber(){this.newPositions.forEach(({position:e})=>{if(Number.isNaN(e.x)||Number.isNaN(e.y)||!Number.isFinite(e.x)||!Number.isFinite(e.y))throw new Error("Position must be a number")})}apply(e){return this.assertIsNumber(),this.assertStagesExists(e),this.oldPositions=e.stages.map(r=>({id:r.id,position:r.position})),{stages:e.stages.map(r=>{var s,o;const i=(o=(s=this.newPositions.find(a=>a.id===r.id))==null?void 0:s.position)!=null?o:r.position;return{...r,position:{x:i.x,y:i.y}}}),transitions:e.transitions}}reverse(){if(!this.oldPositions)throw new Error("Cannot reverse change that was not applied");return new uk(this.oldPositions)}}class ck{constructor(e,t){Ye(this,"stageId");Ye(this,"newTitle");Ye(this,"oldTitle");this.stageId=e,this.newTitle=t,this.oldTitle=""}assertStageExists(e){if(!e.stages.find(t=>t.id===this.stageId))throw new Error(`Stage ${this.stageId} not found`)}apply(e){return this.assertStageExists(e),this.oldTitle=e.stages.find(t=>t.id===this.stageId).title,{stages:e.stages.map(t=>t.id===this.stageId?{...t,title:this.newTitle}:t),transitions:e.transitions}}reverse(){return new ck(this.stageId,this.oldTitle)}}class Ey{constructor(e,t){Ye(this,"stageId");Ye(this,"newProps");Ye(this,"oldProps");this.stageId=e,this.newProps=t}assertStageExists(e){if(!e.stages.find(t=>t.id===this.stageId))throw new Error(`Stage ${this.stageId} not found`)}assertValidPath(){if(!("path"in this.newProps)||!this.newProps.path)return;const e=eT(this.newProps.path);if(!e.valid){ao.error({message:"Invalid path",description:e.reason});return}this.newProps.path=lf(this.newProps.path)}assertValidFilename(){if(!("filename"in this.newProps)||!this.newProps.filename)return;const e=B5(this.newProps.filename);if(!e.valid){ao.error({message:"Invalid filename",description:e.reason});return}this.newProps.filename=eee(this.newProps.filename)}apply(e){return this.assertStageExists(e),this.assertValidPath(),this.assertValidFilename(),this.oldProps=e.stages.find(t=>t.id===this.stageId).props,{stages:e.stages.map(t=>t.id===this.stageId?{...t,props:this.newProps}:t),transitions:e.transitions}}reverse(){return new Ey(this.stageId,this.oldProps)}}class hk{constructor(e,t){Ye(this,"newProps");Ye(this,"transitionId");Ye(this,"oldProps");this.newProps=t,this.transitionId=e,this.oldProps=t}apply(e){return{transitions:e.transitions.map(t=>t.id===this.transitionId?(this.oldProps=t.props,{...t,props:this.newProps}):t),stages:e.stages}}reverse(){return new hk(this.transitionId,this.oldProps)}}class lbe extends V0{constructor(e,t){super([...t.map(r=>new gB(r)),...e.map(r=>new ak(r))])}}class ube{constructor(e,t,r){Ye(this,"currentState");Ye(this,"serverState");Ye(this,"undoStack");Ye(this,"redoStack");Ye(this,"save");Ye(this,"debouncedSave");Ye(this,"onStateChange");this.undoStack=V([]),this.redoStack=V([]),this.currentState=Qu(Object.freeze(e)),this.serverState=Qu(Object.freeze(e)),this.save=t,this.debouncedSave=r}setOnStateChange(e){this.onStateChange=e}apply(e){return this.currentState.value=e.apply(this.currentState.value),this.undoStack.value.push(e),this.redoStack.value=[],e instanceof mB||e instanceof ak||e instanceof Ey?this.save():this.debouncedSave(),this.currentState.value}canUndo(){return this.undoStack.value.length>0}undo(){const e=this.undoStack.value.pop();if(e){const t=e.reverse();this.currentState.value=t.apply(this.currentState.value),this.redoStack.value.push(e),this.onStateChange&&this.onStateChange()}return this.save(),this.currentState.value}canRedo(){return this.redoStack.value.length>0}redo(){const e=this.redoStack.value.pop();return e&&(this.currentState.value=e.apply(this.currentState.value),this.undoStack.value.push(e),this.onStateChange&&this.onStateChange()),this.currentState.value}getState(){return this.currentState.value}setServerState(e){this.serverState.value=e}getServerState(){return this.serverState.value}hasStageChanges(){return!Ai.exports.isEqual(this.currentState.value.stages,this.serverState.value.stages)}hasDeletedStages(){const e=new Set(this.currentState.value.stages.map(r=>r.id)),t=new Set(this.serverState.value.stages.map(r=>r.id));for(const r of t)if(!e.has(r))return!0;return!1}hasChanges(){const e={...this.currentState.value,stages:[...this.currentState.value.stages].sort((r,i)=>r.id.localeCompare(i.id)),transitions:[...this.currentState.value.transitions].sort((r,i)=>r.id.localeCompare(i.id))},t={...this.serverState.value,stages:[...this.serverState.value.stages].sort((r,i)=>r.id.localeCompare(i.id)),transitions:[...this.serverState.value.transitions].sort((r,i)=>r.id.localeCompare(i.id))};return!Ai.exports.isEqual(e,t)}stageHasChanges(e){const t=this.currentState.value.stages.find(i=>i.id===e),r=this.serverState.value.stages.find(i=>i.id===e);return!Ai.exports.isEqual(t,r)}stageHasNonPositionChanges(e){const t=this.currentState.value.stages.find(i=>i.id===e),r=this.serverState.value.stages.find(i=>i.id===e);return!Ai.exports.isEqual(Ai.exports.omit(t,"position"),Ai.exports.omit(r,"position"))}clearHistory(){this.undoStack.value=[],this.redoStack.value=[]}}class dk{constructor(e,t,r){Ye(this,"api");Ye(this,"saveCallback");Ye(this,"isDragging",!1);Ye(this,"selectedModule");Ye(this,"history");Ye(this,"vueFlowNodes");Ye(this,"vueFlowEdges");Ye(this,"edgeCache",new Map);Ye(this,"nodeCache",new Map);Ye(this,"debouncedAutoLayout");Ye(this,"debouncedForceServerState");this.api=e,this.history=new ube(t,()=>this.save(r),Ai.exports.debounce(()=>this.save(r),1e3)),this.history.setOnStateChange(()=>{this.nodeCache.clear(),this.edgeCache.clear()}),this.saveCallback=r,this.vueFlowNodes=W(()=>this.computeVueFlowNodes()),this.vueFlowEdges=W(()=>this.computeVueFlowEdges()),this.selectedModule=V(null),this.debouncedAutoLayout=Ai.exports.debounce(i=>{this.autoLayout(i)},300),this.debouncedForceServerState=Ai.exports.debounce(async()=>{await this.forceServerState()},500)}static async init(e,t){t||(t=()=>{});const r=await e.load();return new dk(e,r,t)}async syncState(){if(this.history.hasChanges()||this.isDragging)return;const e=await this.api.load(),t=this.history.serverState.value;!this.statesAreEqual(t,e)?(this.history.setServerState(e),this.history.currentState.value=e,this.history.clearHistory()):this.history.setServerState(e),await this.save(this.saveCallback)}statesAreEqual(e,t){const r={stages:[...e.stages].sort((s,o)=>s.id.localeCompare(o.id)),transitions:[...e.transitions].sort((s,o)=>s.id.localeCompare(o.id))},i={stages:[...t.stages].sort((s,o)=>s.id.localeCompare(o.id)),transitions:[...t.transitions].sort((s,o)=>s.id.localeCompare(o.id))};return JSON.stringify(r)===JSON.stringify(i)}async forceServerState(){const e=await this.api.load();this.history.setServerState(e),this.isDragging||(this.history.currentState.value=e),this.history.clearHistory()}async getStageFiles(){const e=this.history.getState(),t=[];for(const r of e.stages)"filename"in r.props&&r.props.filename&&t.push(r.props.filename);return t}computeVueFlowNodes(){return this.history.getState().stages.filter(t=>this.selectedModule.value?t.module===this.selectedModule.value:t.module===null||t.module===void 0).map(t=>{const r=this.nodeCache.get(t.id);if(r&&r.type===t.type)return(r.position.x!==t.position.x||r.position.y!==t.position.y)&&(r.position.x=t.position.x,r.position.y=t.position.y),r.data=t,r;const i={id:t.id,type:t.type,data:t,position:{x:t.position.x,y:t.position.y}};return this.nodeCache.set(t.id,i),i})}computeVueFlowEdges(){let e=this.history.getState();const t=new Set,r=e.transitions.filter(s=>t.has(s.id)?!1:(t.add(s.id),!0));r.length!==e.transitions.length&&(e={...e,transitions:r});const i=new Set(e.stages.filter(s=>this.selectedModule.value?s.module===this.selectedModule.value:s.module===null||s.module===void 0).map(s=>s.id));return e.transitions.filter(s=>i.has(s.sourceStageId)&&i.has(s.targetStageId)).map(s=>{const o=this.edgeCache.get(s.id);if(o&&o.source===s.sourceStageId&&o.target===s.targetStageId)return o.data=s,o;const a={id:s.id,source:s.sourceStageId,target:s.targetStageId,type:"task",label:"task",markerEnd:{type:k5.Arrow,width:24,height:24},data:s};return this.edgeCache.set(s.id,a),a})}getStage(e){var t;return(t=this.history.getState().stages.find(r=>r.id===e))!=null?t:null}getUnsavedFilenameStages(){const e=this.history.getState(),t=this.history.getServerState(),r=e.stages.map(o=>o.id),i=t.stages.map(o=>o.id),s=r.filter(o=>{if(!i.includes(o))return!0;const a=e.stages.find(u=>u.id===o),l=t.stages.find(u=>u.id===o);if(!a||!l)return!1;if("filename"in a.props&&"filename"in l.props)return a.props.filename!==l.props.filename});return e.stages.filter(o=>s.includes(o.id))}getUnsavedNewStages(){const e=this.history.getState(),t=this.history.getServerState(),r=e.stages.map(o=>o.id),i=t.stages.map(o=>o.id),s=r.filter(o=>!i.includes(o));return e.stages.filter(o=>s.includes(o.id))}updateStageTitle(e,t){this.history.apply(new ck(e,t))}updateStageProps(e,t){this.history.apply(new Ey(e,t))}addStages(e){const t=e[0].type.slice(0,-1),r=t==="script"?"tasklet":t;return this.history.apply(new mB(e.map(i=>{var s;return{...i,title:(s=i.title)!=null?s:`New ${r}`}}))),this.history.getState().stages.slice(-e.length)}connect(e){this.history.apply(new abe(e))}move(e){this.history.apply(new uk(e))}delete(e){const t=this.history.getState(),r=t.stages.filter(s=>e.includes(s.id)).map(s=>s.id),i=t.transitions.filter(s=>e.includes(s.id)).map(s=>s.id);this.history.apply(new lbe(r,i))}updateTransitionProps(e,t){this.history.apply(new hk(e,t))}hasChanges(){return this.history.hasChanges()}edgeIsLonely(e){const t=this.history.getState(),r=t.transitions.find(o=>o.id===e);if(!r)return!0;const{sourceStageId:i,targetStageId:s}=r;for(const o of t.transitions)if(o.id!==e&&(o.sourceStageId===i&&o.targetStageId===s||o.sourceStageId===s&&o.targetStageId===i))return!1;return!0}setDragging(e){this.isDragging=e}async save(e){let t=!1;const r=this.getUnsavedNewStages(),i=this.getUnsavedFilenameStages();if((r.length>0||i.length>0)&&(t=!0),this.history.hasChanges()){this.history.hasDeletedStages()&&(t=!0);const s=await this.api.update(this.history.getState(),this.selectedModule.value);this.history.setServerState(s)}r.forEach(async s=>{"filename"in s.props&&s.props.filename&&((await Gn.checkFile(s.props.filename)).exists||Gn.initFile(s.props.filename,s.type))}),t&&e()}autoLayout(e={}){const t=this.history.getState();if(t.stages.length===0)return;const{direction:r="TD",distanceX:i=100,distanceY:s=80}=e,o=new zk.graphlib.Graph;o.setDefaultEdgeLabel(()=>({})),o.setGraph({rankdir:r,nodesep:i,ranksep:s});for(const l of t.stages)o.setNode(l.id,{width:50,height:50});for(const l of t.transitions)o.setEdge(l.sourceStageId,l.targetStageId);zk.layout(o);const a=t.stages.map(l=>{const u=o.node(l.id);return{id:l.id,position:{x:u.x,y:u.y}}});this.move(a)}}const cbe=["onDragstart"],hbe={style:{display:"flex","flex-direction":"column","max-width":"250px"}},dbe=he({__name:"BottomToolbar",props:{controller:{},tabs:{type:Boolean}},emits:["drag-start"],setup(n,{emit:e}){const t=e,i=ec().featureFlags,s=l4.stages.filter(o=>i!=null&&i.COMPONENT_STAGE?o:o.typeName!=="components");return(o,a)=>(x(),P(Ve,null,[A(g(Me),{class:"toolbar",align:"center",style:ls({bottom:n.tabs?"48px":"12px"})},{default:T(()=>[(x(!0),P(Ve,null,wt(g(s),l=>(x(),U(g(y0),{key:l.key,placement:"top"},{title:T(()=>[A(g(Me),{gap:"small"},{default:T(()=>[A(g(Ht),null,{default:T(()=>[te(X(l.title),1)]),_:2},1024),A(g(Ht),{keyboard:""},{default:T(()=>[te(X(l.key),1)]),_:2},1024)]),_:2},1024)]),content:T(()=>[F("div",hbe,[A(g(Ht),null,{default:T(()=>[te(X(l.description),1)]),_:2},1024)])]),default:T(()=>[F("div",{draggable:!0,class:"toolbar__item",onDragstart:u=>t("drag-start",u.dataTransfer,l.typeName)},[(x(),U(rr(l.icon),{size:18}))],40,cbe)]),_:2},1024))),128))]),_:1},8,["style"]),A(Az,{"has-changes":n.controller.hasChanges()},null,8,["has-changes"])],64))}});const fbe=bt(dbe,[["__scopeId","data-v-1b449e3a"]]);function yB(){let n;const e={draggedType:V(null),isDragOver:V(!1),isAdding:V(!1),isDragging:V(!1),mousePosition:V(null)},{draggedType:t,isDragOver:r,isDragging:i,isAdding:s}=e,o=y=>{n=y,document.addEventListener("mousemove",d)},{screenToFlowCoordinate:a}=$i();Et(s,y=>{document.body.style.userSelect=y?"none":""});function l(y,v){s.value=!0,y?(y.setData("application/vueflow",v),y.effectAllowed="move",t.value=v,i.value=!0,document.addEventListener("drop",h)):(t.value=v,document.addEventListener("click",p))}function u(y){y.preventDefault(),t.value&&(r.value=!0,y.dataTransfer&&(y.dataTransfer.dropEffect="move"))}function c(){r.value=!1}function h(){s.value=!1,i.value=!1,r.value=!1,t.value=null,document.removeEventListener("drop",h)}function d(y){const v={x:y.pageX-200,y:y.pageY-80};e.mousePosition.value=v}function f(y){if(!t.value)throw new Error("No dragged type");return a({x:y.clientX-70,y:y.clientY-25})}function p(y){if(!n)return;if(!t.value)throw new Error("No dragged type");const v=f(y),b=n.selectedModule.value,k=n.addStages([{type:t.value,position:v,module:b}]);return h(),k}function m(){document.removeEventListener("mousemove",d)}return{init:o,tearDown:m,draggedType:t,isDragOver:r,isAdding:s,isDragging:i,mousePosition:e.mousePosition,onDragStart:l,onDragLeave:c,onDragOver:u,onDrop:p}}const pbe={name:"ControlButton",compatConfig:{MODE:3}},mbe=(n,e)=>{const t=n.__vccOpts||n;for(const[r,i]of e)t[r]=i;return t},gbe={class:"vue-flow__controls-button"};function ybe(n,e,t,r,i,s){return x(),P("button",gbe,[tt(n.$slots,"default")])}const Mu=mbe(pbe,[["render",ybe]]),vbe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},wbe=F("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),bbe=[wbe];function kbe(n,e){return x(),P("svg",vbe,bbe)}const xbe={render:kbe},Sbe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},Cbe=F("path",{d:"M0 0h32v4.2H0z"},null,-1),Mbe=[Cbe];function Abe(n,e){return x(),P("svg",Sbe,Mbe)}const _be={render:Abe},Tbe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},Ebe=F("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),Obe=[Ebe];function Ibe(n,e){return x(),P("svg",Tbe,Obe)}const Dbe={render:Ibe},Nbe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Lbe=F("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),Pbe=[Lbe];function Rbe(n,e){return x(),P("svg",Nbe,Pbe)}const $be={render:Rbe},Bbe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Fbe=F("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),zbe=[Fbe];function Hbe(n,e){return x(),P("svg",Bbe,zbe)}const Vbe={render:Hbe},qbe={name:"Controls",compatConfig:{MODE:3}},Wbe=he({...qbe,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:{},position:{default:()=>pz.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(n,{emit:e}){const{nodesDraggable:t,nodesConnectable:r,elementsSelectable:i,setInteractive:s,zoomIn:o,zoomOut:a,fitView:l,viewport:u,minZoom:c,maxZoom:h}=$i(),d=Jc(()=>t.value||r.value||i.value),f=Jc(()=>u.value.zoom<=c.value),p=Jc(()=>u.value.zoom>=h.value);function m(){o(),e("zoomIn")}function y(){a(),e("zoomOut")}function v(){l(n.fitViewParams),e("fitView")}function b(){s(!d.value),e("interactionChange",!d.value)}return(k,_)=>(x(),U(g(mz),{class:"vue-flow__controls",position:k.position},{default:T(()=>[tt(k.$slots,"top"),k.showZoom?(x(),P(Ve,{key:0},[tt(k.$slots,"control-zoom-in",{},()=>[A(Mu,{class:"vue-flow__controls-zoomin",disabled:p.value,onClick:m},{default:T(()=>[tt(k.$slots,"icon-zoom-in",{},()=>[(x(),U(rr(g(xbe))))])]),_:3},8,["disabled"])]),tt(k.$slots,"control-zoom-out",{},()=>[A(Mu,{class:"vue-flow__controls-zoomout",disabled:f.value,onClick:y},{default:T(()=>[tt(k.$slots,"icon-zoom-out",{},()=>[(x(),U(rr(g(_be))))])]),_:3},8,["disabled"])])],64)):ue("",!0),k.showFitView?tt(k.$slots,"control-fit-view",{key:1},()=>[A(Mu,{class:"vue-flow__controls-fitview",onClick:v},{default:T(()=>[tt(k.$slots,"icon-fit-view",{},()=>[(x(),U(rr(g(Dbe))))])]),_:3})]):ue("",!0),k.showInteractive?tt(k.$slots,"control-interactive",{key:2},()=>[k.showInteractive?(x(),U(Mu,{key:0,class:"vue-flow__controls-interactive",onClick:b},{default:T(()=>[d.value?tt(k.$slots,"icon-unlock",{key:0},()=>[(x(),U(rr(g(Vbe))))]):ue("",!0),d.value?ue("",!0):tt(k.$slots,"icon-lock",{key:1},()=>[(x(),U(rr(g($be))))])]),_:3})):ue("",!0)]):ue("",!0),tt(k.$slots,"default")]),_:3},8,["position"]))}}),jbe=he({__name:"ControlButtons",props:{workflow:{}},setup(n){const{fitView:e}=$i();return(t,r)=>(x(),U(g(Wbe),{position:"top-left","show-interactive":!1,"show-zoom":!1,"show-fit-view":!1},{default:T(()=>[A(g(Mu),{title:g(z).translate("i18n_control_buttons_fit_screen"),onClick:g(e)},{default:T(()=>[A(g(Gj))]),_:1},8,["title","onClick"]),A(g(Mu),{title:g(z).translate("i18n_control_buttons_undo"),disabled:!n.workflow.history.canUndo(),onClick:r[0]||(r[0]=i=>n.workflow.history.undo())},{default:T(()=>[A(g(Rz))]),_:1},8,["title","disabled"]),A(g(Mu),{title:g(z).translate("i18n_control_buttons_redo"),disabled:!n.workflow.history.canRedo(),onClick:r[1]||(r[1]=i=>n.workflow.history.redo())},{default:T(()=>[A(g(MH))]),_:1},8,["title","disabled"])]),_:1}))}});class Ci{constructor(e){Ye(this,"angle");e=Ci.normalize(e),this.angle=e}static normalize(e){const t=Math.PI;return((e+t)%(2*t)+2*t)%(2*t)-t}static fromRadians(e){return new Ci(Ci.normalize(e))}static fromDegrees(e){const t=e*Math.PI/180;return new Ci(t)}static fromPoints(e,t){const r=t.x-e.x,i=t.y-e.y,s=Math.atan2(i,r);return new Ci(s)}get degrees(){return this.angle*180/Math.PI}get radians(){return this.angle}get isZero(){return this.angle===0}get isPositive(){return this.angle>0}get complementary(){return new Ci(Math.PI/2-this.angle)}get perpendicular(){return new Ci(Math.PI/2+this.angle)}get sin(){return Math.sin(this.angle)}get cos(){return Math.cos(this.angle)}divide(e){if(e===0)throw new Error("Division by zero is not allowed");return new Ci(this.angle/e)}multiply(e){return new Ci(this.angle*e)}}class na{constructor(e,t){Ye(this,"dx");Ye(this,"dy");this.dx=e,this.dy=t}static fromPoints(e,t){const r=t.x-e.x,i=t.y-e.y;return new na(r,i)}static fromAngleAndLength(e,t){const r=t*e.cos,i=t*e.sin;return new na(r,i)}get x(){return this.dx}get y(){return this.dy}get length(){return Math.sqrt(this.dx*this.dx+this.dy*this.dy)}get m(){return this.dy/this.dx}get opposite(){return new na(-this.dx,-this.dy)}divide(e){if(e===0)throw new Error("Division by zero is not allowed");return new na(this.dx/e,this.dy/e)}add(e){return new na(this.dx+e.dx,this.dy+e.dy)}subtract(e){return new na(this.dx-e.dx,this.dy-e.dy)}}function Zbe(n,e,t=1e-10){const r=e.center.x-e.width/2,i=e.center.x+e.width/2,s=e.center.y-e.height/2,o=e.center.y+e.height/2;return n.x>=r-t&&n.x<=i+t&&n.y>=s-t&&n.y<=o+t}function d_(n,e,t,r=1e-10){const i=t.center.x-t.width/2,s=t.center.x+t.width/2,o=t.center.y-t.height/2,a=t.center.y+t.height/2,l=e.x-n.x,u=e.y-n.y;let c=1/0,h=null;if(Zbe(n,t,r))return null;if(Math.abs(l)>r){const d=(i-n.x)/l;if(d>0&&d<c){const f=n.y+d*u;f>=o-r&&f<=a+r&&(c=d,h={x:i,y:f})}}if(Math.abs(l)>r){const d=(s-n.x)/l;if(d>0&&d<c){const f=n.y+d*u;f>=o-r&&f<=a+r&&(c=d,h={x:s,y:f})}}if(Math.abs(u)>r){const d=(o-n.y)/u;if(d>0&&d<c){const f=n.x+d*l;f>=i-r&&f<=s+r&&(c=d,h={x:f,y:o})}}if(Math.abs(u)>r){const d=(a-n.y)/u;if(d>0&&d<c){const f=n.x+d*l;f>=i-r&&f<=s+r&&(c=d,h={x:f,y:a})}}return h}function Ube(n,e,t=0,r=0){t=Math.abs(t),n.height+=t*2,n.width+=t*2,e.height+=t*2,e.width+=t*2;const i=Ci.fromPoints(n.center,e.center),s=r*i.perpendicular.cos,o=r*i.perpendicular.sin,a={x:n.center.x+s,y:n.center.y+o},l={x:e.center.x+s,y:e.center.y+o};let u=d_(a,l,e);u||(u=e.center);let c=d_(l,a,n);return c||(c=n.center),{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y}}function Gbe(n,e=0){const t=Ci.fromPoints({x:n.sourceX,y:n.sourceY},{x:n.targetX,y:n.targetY}),r=Math.sqrt(Math.pow(n.targetX-n.sourceX,2)+Math.pow(n.targetY-n.sourceY,2)),i=Ci.fromRadians(Math.atan(2*e/r)).multiply(4),s=r/2/i.divide(2).sin,o=new na(n.sourceX+n.targetX,n.sourceY+n.targetY).divide(2),a=s*(1+(i.isPositive?-1:1)*i.divide(2).cos),l=na.fromAngleAndLength(t.perpendicular,a),u=e>0===i.isPositive?o.add(l):o.subtract(l);return{sourceX:n.sourceX,sourceY:n.sourceY,targetX:n.targetX,targetY:n.targetY,labelX:u.x,labelY:u.y,radius:s,largeArcFlag:i.isPositive?0:1,sweepFlag:0}}function Kbe(n,e,t=0,r=0){const s={center:{x:n.computedPosition.x+n.dimensions.width/2,y:n.computedPosition.y+n.dimensions.height/2},width:n.dimensions.width,height:n.dimensions.height},a={center:{x:e.computedPosition.x+e.dimensions.width/2,y:e.computedPosition.y+e.dimensions.height/2},width:e.dimensions.width,height:e.dimensions.height};return Ube(s,a,t,r)}function vB(n,e,t=0){return Kbe(n,e,10,t)}function Ybe(n,e,t=0){t=Math.abs(t);const r=vB(n,e,t/2);if(t===0)return B_(r);const i=Gbe(r,t);return[`M${i.sourceX},${i.sourceY} A${i.radius},${i.radius} 0 ${i.largeArcFlag},${i.sweepFlag} ${i.targetX},${i.targetY}`,i.labelX,i.labelY,0,0]}const Jbe=he({__name:"TaskMenu",props:{isConnecting:{type:Boolean},isEditing:{type:Boolean},menuOptions:{}},setup(n){return(e,t)=>(x(),U(g(Me),{vertical:"",gap:"small",style:ls({marginBottom:`-${16*n.menuOptions.length}%`})},{default:T(()=>[(x(!0),P(Ve,null,wt(n.menuOptions,r=>(x(),U(g(Ri),{key:r.label,title:r.tooltip,placement:"right"},{default:T(()=>[A(g(ft),{class:si([{"warning-button":r.warning}]),disabled:r.disabled,style:ls({backgroundColor:r.disabled?"#f5f5f5":void 0}),onClick:i=>r.click(i)},{default:T(()=>[A(g(Me),{gap:"small",style:{width:"100%"},justify:"space-between",align:"center"},{default:T(()=>[te(X(r.label)+" ",1),r.key?(x(),U(g(Ht),{key:0,keyboard:"",disabled:r.disabled},{default:T(()=>[te(X(r.key),1)]),_:2},1032,["disabled"])):ue("",!0)]),_:2},1024)]),_:2},1032,["class","disabled","style","onClick"])]),_:2},1032,["title"]))),128))]),_:1},8,["style"]))}});const Xbe=he({__name:"TaskEdge",props:{id:{},sourceNode:{},targetNode:{},source:{},target:{},type:{},label:{type:[String,Object,Function]},style:{},selected:{type:Boolean},sourcePosition:{},targetPosition:{},sourceHandleId:{},targetHandleId:{},animated:{type:Boolean},updatable:{type:Boolean},markerStart:{},markerEnd:{},curvature:{},interactionWidth:{},data:{},events:{},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{},sourceX:{},sourceY:{},targetX:{},targetY:{},controller:{},allowShortcuts:{type:Boolean}},setup(n){const e=n,t=[{label:z.translate("i18n_taskedge_edit_task_type"),key:"E",click:()=>i.value="editing"},{label:z.translate("i18n_taskedge_delete"),key:"Del",click:()=>d(e.data.id)}],r=V(e.data.props.taskType||""),i=V("idle"),s=()=>{i.value!=="idle"&&(r.value!==e.data.props.taskType&&e.controller.updateTransitionProps(e.data.id,{taskType:r.value}),i.value="idle")},{onEdgeClick:o,onPaneClick:a,getSelectedEdges:l}=$i();o(f=>{f.edge.id===e.id&&i.value==="idle"&&(i.value="selected")}),a(()=>s());const u=W(()=>e.controller.edgeIsLonely(e.id)?0:20),c=W(()=>Ybe(e.sourceNode,e.targetNode,u.value)),h=f=>{if(!!e.allowShortcuts&&!!l.value.map(p=>p.id).includes(e.data.id)&&(f.key==="Enter"&&s(),(f.key==="e"||f.key==="E")&&(i.value="editing"),f.key==="Backspace"||f.key==="Delete")){if(i.value==="editing")return;d(e.data.id)}},{removeEdges:d}=$i();return On(()=>window.addEventListener("keydown",h)),or(()=>window.removeEventListener("keydown",h)),(f,p)=>(x(),P(Ve,null,[A(g(gz),{path:c.value[0],"marker-end":n.markerEnd},null,8,["path","marker-end"]),A(g(yz),null,{default:T(()=>[i.value==="idle"?(x(),P("div",{key:0,style:ls({transform:`translate(-50%, -50%) translate(${c.value[1]}px,${c.value[2]}px)`}),class:"nodrag nopan edge-label"},[e.data.props.taskType?(x(),U(g(Ht),{key:1},{default:T(()=>[te(X(e.data.props.taskType),1)]),_:1})):(x(),U(g(gZ),{key:0,size:16}))],4)):i.value==="selected"?(x(),P("div",{key:1,style:ls({transform:`translate(-50%, -120%) translate(${c.value[1]}px,${c.value[2]}px)`}),class:"nodrag nopan edge-input-container"},[A(Jbe,{"is-connecting":!0,"is-editing":!0,"menu-options":t})],4)):i.value==="editing"?(x(),P("div",{key:2,style:ls({transform:`translate(-50%, -50%) translate(${c.value[1]}px,${c.value[2]}px)`}),class:"nodrag nopan edge-input-container"},[A(g(qt),{value:r.value,"onUpdate:value":p[0]||(p[0]=m=>r.value=m),placeholder:g(z).translate("i18n_taskedge_task_type_placeholder")},null,8,["value","placeholder"])],4)):ue("",!0)]),_:1})],64))}});const Qbe=bt(Xbe,[["__scopeId","data-v-b8a40978"]]),eke={key:0},tke=["d"],nke=he({__name:"LineFloating",props:{targetX:{},targetY:{},sourcePosition:{},targetPosition:{},sourceNode:{}},setup(n){const e=V(!0),t=n,{onNodeMouseEnter:r,onNodeMouseLeave:i}=$i();r(l=>{l.node.id===t.sourceNode.id&&(e.value=!1)}),i(l=>{l.node.id===t.sourceNode.id&&(e.value=!0)});const s=W(()=>({id:"connection-target",computedPosition:{x:t.targetX,y:t.targetY},dimensions:{width:1,height:1}})),o=W(()=>vB(t.sourceNode,s.value)),a=W(()=>B_(o.value));return(l,u)=>e.value?(x(),P("g",eke,[u[0]||(u[0]=F("defs",null,[F("marker",{id:"arrowhead",markerWidth:"8",markerHeight:"8",refX:"0",refY:"4",orient:"auto",markerUnits:"strokeWidth"},[F("path",{d:"M0,0 L8,4 L0,8",fill:"none",stroke:"#222","stroke-width":"1"})])],-1)),F("path",{fill:"none",stroke:"#222","stroke-width":1,class:"animated",d:a.value[0],"marker-end":"url(#arrowhead)"},null,8,tke)])):ue("",!0)}}),rke=he({__name:"CreateStageFile",props:{filename:{},creatingFileStatus:{},fileExists:{type:Boolean}},emits:["create-file","cancel","update-filename"],setup(n,{emit:e}){const t=n,r=e,i=W(()=>{const s=B5(t.filename);return s.valid?t.fileExists?{valid:!0,help:z.translate("i18n_create_stage_file_exists_help")}:{valid:!0,help:z.translate("i18n_create_stage_file_new_help")}:s});return(s,o)=>(x(),U(g(mc),{open:n.creatingFileStatus==="prompting"||n.creatingFileStatus==="creating",closable:!1,"confirm-loading":n.creatingFileStatus==="creating",onOk:o[1]||(o[1]=a=>r("create-file",n.filename)),onCancel:o[2]||(o[2]=a=>r("cancel"))},{default:T(()=>[A(g(li),{layout:"vertical",disabled:n.creatingFileStatus=="creating"},{default:T(()=>[A(g(yt),{label:g(z).translate("i18n_create_stage_file_modal_label"),"validate-status":i.value.valid?"success":"error",help:i.value.valid?i.value.help:i.value.reason},{default:T(()=>[A(g(qt),{value:n.filename,onChange:o[0]||(o[0]=a=>r("update-filename",a.target.value||""))},null,8,["value"])]),_:1},8,["label","validate-status","help"])]),_:1},8,["disabled"])]),_:1},8,["open","confirm-loading"]))}}),ike={name:"NodeToolbar",compatConfig:{MODE:3},inheritAttrs:!1},ske=he({...ike,props:{nodeId:null,isVisible:{type:Boolean},position:{default:Sd.Top},offset:{default:10},align:{default:"center"}},setup(n){const e=n,t=ke(vz,null),{viewportRef:r,viewport:i,getSelectedNodes:s,findNode:o}=$i();function a(f,p,m,y,v){let b=.5;v==="start"?b=0:v==="end"&&(b=1);let k=[(f.x+f.width*b)*p.zoom+p.x,f.y*p.zoom+p.y-y],_=[-100*b,-100];switch(m){case Sd.Right:k=[(f.x+f.width)*p.zoom+p.x+y,(f.y+f.height*b)*p.zoom+p.y],_=[0,-100*b];break;case Sd.Bottom:k[1]=(f.y+f.height)*p.zoom+p.y+y,_[1]=0;break;case Sd.Left:k=[f.x*p.zoom+p.x-y,(f.y+f.height*b)*p.zoom+p.y],_=[-100,-100*b];break}return`translate(${k[0]}px, ${k[1]}px) translate(${_[0]}%, ${_[1]}%)`}const l=W(()=>(Array.isArray(e.nodeId)?e.nodeId:[e.nodeId||t||""]).reduce((f,p)=>{const m=o(p);return m&&f.push(m),f},[])),u=W(()=>typeof e.isVisible=="boolean"?e.isVisible:l.value.length===1&&l.value[0].selected&&s.value.length===1),c=W(()=>wz(l.value)),h=W(()=>Math.max(...l.value.map(f=>(f.computedPosition.z||1)+1))),d=W(()=>({position:"absolute",transform:a(c.value,i.value,e.position,e.offset,e.align),zIndex:h.value}));return(f,p)=>(x(),U(QB,{to:g(r),disabled:!g(r)},[g(u)&&g(l).length?(x(),P("div",Xt({key:0},f.$attrs,{style:g(d),class:"vue-flow__node-toolbar"}),[tt(f.$slots,"default")],16)):ue("",!0)],8,["to","disabled"]))}}),oke=he({__name:"NodeMenu",props:{isConnecting:{type:Boolean},isEditing:{type:Boolean},menuOptions:{}},setup(n){const e=n,{getViewport:t}=$i(),r=W(()=>t().zoom),i=W(()=>({marginBottom:`-${12.5*e.menuOptions.length}%`,transform:`scale(${r.value})`,transformOrigin:"top left",borderRadius:"6px",boxShadow:"0 0 4px rgba(0, 0, 0, 0.1)"}));return(s,o)=>(x(),U(g(ske),{"is-visible":n.isConnecting||n.isEditing?!1:void 0,position:g(Sd).Right},{default:T(()=>[A(g(R6),{style:ls(i.value)},{default:T(()=>[(x(!0),P(Ve,null,wt(n.menuOptions,a=>(x(),U(g(iu),{key:a.key||a.label,disabled:a.disabled,class:si({"warning-button":a.warning}),danger:a.danger,onClick:a.click},{default:T(()=>[A(g(Me),{justify:"space-between",align:"center",gap:"large"},{default:T(()=>[A(g(Me),{align:"center",gap:"small",style:{"font-size":"12px"}},{default:T(()=>[(x(),U(rr(a.icon),{size:12})),te(" "+X(a.label),1)]),_:2},1024),ue("",!0)]),_:2},1024)]),_:2},1032,["disabled","class","danger","onClick"]))),128))]),_:1},8,["style"])]),_:1},8,["is-visible","position"]))}});const wB=bt(oke,[["__scopeId","data-v-da1e123e"]]),ake=he({__name:"StageNode",props:{stage:{},node:{},initialFileCheck:{type:Boolean},controller:{},allowShortcuts:{type:Boolean},vueFlowRef:{}},emits:["run","select","open-tasks","remove","update"],setup(n,{emit:e}){var Zn;const{useToken:t}=x5,{token:r}=t(),i=r.value.colorText,s=e,o=n,a=[{get label(){return z.translate("i18n_stage_node_menu_run")},key:"Enter",click:()=>s("run",o.stage.id),icon:h5},{get label(){return z.translate("i18n_stage_node_menu_add_transition")},key:"C",click:()=>{vn({layerX:Bt.value.x,layerY:Bt.value.y})},icon:W_},{get label(){return z.translate("i18n_stage_node_menu_rename")},key:"R",click:()=>we.value=!0,icon:y5},{get label(){return z.translate("i18n_stage_node_menu_tasks")},key:"M",click:()=>s("open-tasks",o.stage.id),icon:oz},{get label(){return z.translate("i18n_stage_node_menu_delete")},key:"Del",click:()=>h.value=!0,danger:!0,icon:Yc}],l=W(()=>{let Oe=[...a];return c.value||Oe.unshift({get label(){return z.translate("i18n_stage_node_menu_create_missing_file")},warning:!0,click:()=>D(),icon:D_}),o.controller.hasChanges()&&(Oe=Oe.map(Ze=>Ze.label===z.translate("i18n_stage_node_menu_tasks")?{...Ze,disabled:!0}:Ze)),c.value||(Oe=Oe.map(Ze=>Ze.label===z.translate("i18n_stage_node_menu_run")?{...Ze,disabled:!0}:Ze)),Oe}),u=V(!1),c=V(!0);Et(()=>o.initialFileCheck,Oe=>{b.value||(c.value=Oe)}),Et(()=>o.stage.props.filename,Oe=>{Oe&&_.value!==Oe&&(_.value=Oe,k())});const h=V(!1),d=new T5,f=new J_(d,{separator:"/"}),p=async()=>{if(!o.stage.props.filename)return;if(!(await Gn.checkFile(o.stage.props.filename)).exists){c.value=!1;return}s("select",o.stage)},m=async()=>{if(h.value=!1,"filename"in o.stage.props&&o.stage.props.filename){const Oe=o.stage.props.filename;(await Gn.checkFile(Oe)).exists&&await f.deleteFile([Oe])}Z(o.stage),s("remove",o.stage.id)},y=Oe=>{_.value=Oe,k()},v=()=>{var Oe;C.value="idle",(o.stage.type==="forms"||o.stage.type==="jobs"||o.stage.type==="hooks"||o.stage.type==="scripts")&&(_.value=(Oe=o.stage.props.filename)!=null?Oe:"",k())},b=W(()=>o.controller.getUnsavedFilenameStages().some(Oe=>Oe.id===o.stage.id)),k=Ai.exports.debounce(async()=>{if(b.value){c.value=!0;return}const Oe=_.value;if(!Oe){c.value=!0;return}Gn.checkFile(Oe).then(Ze=>{c.value=Ze.exists})},500),_=V((o.stage.type==="forms"||o.stage.type==="hooks"||o.stage.type==="scripts"||o.stage.type==="jobs")&&(Zn=o.stage.props.filename)!=null?Zn:""),C=V("idle"),M=async()=>{C.value="creating",await Gn.initFile(_.value,o.stage.type),c.value=!0;const Oe=await Gn.checkFile(_.value);if(c.value=Oe.exists,C.value="idle",o.stage.type==="forms"||o.stage.type==="hooks")o.controller.updateStageProps(o.stage.id,{path:o.stage.props.path,filename:_.value});else if(o.stage.type==="scripts"||o.stage.type==="jobs")o.controller.updateStageProps(o.stage.id,{filename:_.value});else throw new Error(`Invalid stage type: ${o.stage.type}`)},O=W(()=>["forms","hooks","scripts","jobs"].includes(o.stage.type)?!c.value:!1),D=()=>{C.value="prompting"},{startConnection:$,updateConnection:R,onNodeClick:G,addEdges:N,endConnection:j,removeNodes:Z,onPaneClick:re,getSelectedNodes:J,onNodeMouseEnter:K,onNodeMouseLeave:ne,onNodesChange:pe,applyNodeChanges:B,onPaneMouseLeave:Ce,removeSelectedNodes:ae}=$i(),L=V(!1),we=V(!1),ge=V(o.stage.title),Ne=V(!0);Et(()=>o.stage.title,Oe=>{we.value||(ge.value=Oe)});const dt=W(()=>{const Ze=`${o.stage.type==="scripts"?"tasklet":o.stage.type.slice(0,-1)}_${O_(ge.value,!1,!0)}.py`;return Ze!==_.value?Ze:null}),_t=V(!1),yn=V(!1);Ce(()=>{if(L.value){L.value=!1,we.value=!1,j();const Oe=J.value;ae(Oe)}});const Bt=V({x:0,y:0}),Rt=Oe=>{var Zt;const Ze=(Zt=o.vueFlowRef)==null?void 0:Zt.$el.getBoundingClientRect();!Ze||(Bt.value={x:Oe.pageX-Ze.left,y:Oe.pageY-Ze.top})};pe(async Oe=>{var Zt;const Ze=[];for(const Xn of Oe)Xn.type==="remove"?we.value||((Zt=o.controller)==null||Zt.delete([Xn.id]),Ze.push(Xn)):Ze.push(Xn);B(Ze)});const vn=Oe=>{const{layerX:Ze,layerY:Zt}=Oe;$({nodeId:o.stage.id,type:"source",handleId:o.stage.id},{x:Ze,y:Zt}),document.addEventListener("mousemove",jt),L.value=!0},jt=()=>{L.value&&!_t.value&&R({x:Bt.value.x,y:Bt.value.y})};G(Oe=>{if(L.value&&Oe.node.id!==o.stage.id){const Ze={sourceStageId:o.stage.id,targetStageId:Oe.node.id,type:"task",id:ok(),props:{taskType:null}};try{o.controller.connect([Ze]),document.removeEventListener("mousemove",jt),N({id:Ze.id,source:o.stage.id,target:Oe.node.id,type:"task",markerEnd:{type:k5.Arrow,width:24,height:24},data:Ze}),j(),L.value=!1}catch(Zt){console.error(Zt)}}}),K(Oe=>{L.value&&Oe.node.id!==o.stage.id&&(_t.value=!0,R({x:Bt.value.x,y:Bt.value.y}))}),ne(Oe=>{if(L.value&&_t.value){_t.value=!1;const Ze=Oe.event;R({x:Ze.layerX,y:Ze.layerY})}});const In=async()=>{const Oe=_.value;if(c.value){const Ze=o.stage.props.filename;if(Ze&&Ze!==Oe)try{if(!(await Gn.checkFile(Ze)).exists){let Zr;if(["forms","hooks"].includes(o.stage.type)){const Hi=lf(ge.value);Zr={filename:Oe,path:Hi}}else Zr={filename:Oe};o.controller.updateStageProps(o.stage.id,Zr),c.value=!1;return}await f.renameFile([Ze],[Oe]);let Xn;if(["forms","hooks"].includes(o.stage.type)){const Zr=lf(ge.value);Xn={filename:Oe,path:Zr}}else Xn={filename:Oe};o.controller.updateStageProps(o.stage.id,Xn);const La=await Gn.checkFile(Oe);c.value=La.exists}catch(Zt){console.error("Failed to rename file:",Zt);const Xn=await Gn.checkFile(Oe);c.value=Xn.exists}}else{let Ze={filename:Oe,path:null};if(["forms","hooks"].includes(o.stage.type)){const Zt=lf(ge.value);Ze={...Ze,path:Zt}}o.controller.updateStageProps(o.stage.id,Ze)}},Gt=async()=>{o.stage.title!==ge.value&&(o.controller.updateStageTitle(o.stage.id,ge.value),Ne.value&&dt.value&&(_.value=dt.value),await In()),k(),s("update")};re(()=>{we.value&&Gt(),we.value=!1,L.value=!1,j()});const wn=Oe=>{if(!!o.allowShortcuts&&(yn.value=Is(Oe),!!J.value.map(Ze=>Ze.id).includes(o.stage.id)&&C.value==="idle")){if(h.value){Oe.key==="Escape"?h.value=!1:Oe.key==="Enter"&&m();return}if(Oe.key==="Enter")if(we.value)we.value=!1,Gt();else{if(o.controller.hasChanges()||!c.value)return;s("run",o.stage.id)}if(!we.value){if((Oe.key==="c"||Oe.key==="C")&&vn({layerX:Bt.value.x,layerY:Bt.value.y}),(Oe.key==="r"||Oe.key==="R")&&(we.value=!0),Oe.key==="m"||Oe.key==="M"){if(o.controller.hasChanges())return;u.value=!0}(Oe.key==="Backspace"||Oe.key==="Delete")&&("filename"in o.stage.props&&o.stage.props.filename?h.value=!0:Z(o.stage))}}},Jn=Oe=>{yn.value=Is(Oe)};return On(()=>{b.value||(c.value=o.initialFileCheck),window.addEventListener("keydown",wn),window.addEventListener("keyup",Jn),window.addEventListener("mousemove",Rt)}),or(()=>{window.removeEventListener("keydown",wn),window.removeEventListener("keyup",Jn),window.removeEventListener("mousemove",Rt)}),(Oe,Ze)=>(x(),P(Ve,null,[A(wB,{"is-connecting":L.value,"is-editing":we.value,"menu-options":l.value},null,8,["is-connecting","is-editing","menu-options"]),A(g(mc),{open:h.value,title:g(z).translate("i18n_stage_node_delete_modal_title"),onCancel:Ze[1]||(Ze[1]=Zt=>h.value=!1)},{footer:T(()=>[A(g(Me),{justify:"space-between",gap:"small"},{default:T(()=>[A(g(ft),{onClick:Ze[0]||(Ze[0]=Zt=>h.value=!1)},{default:T(()=>[te(X(g(z).translate("i18n_stage_node_cancel")),1)]),_:1}),A(g(ft),{type:"primary",danger:"",onClick:m},{default:T(()=>[te(X(g(z).translate("i18n_stage_node_delete_confirm")),1)]),_:1})]),_:1})]),default:T(()=>[te(X(g(z).translate("i18n_stage_node_delete_modal_message",void 0,{title:ge.value,filename:n.stage.props.filename||""}))+" ",1)]),_:1},8,["open","title"]),F("div",{class:"stage",onDblclick:Ze[4]||(Ze[4]=Zt=>we.value=!0),onClick:p},[A(g(Me),{vertical:we.value,class:"point",gap:"small",align:"center"},{default:T(()=>[(x(),U(rr(g(a4)(n.stage.type)),{size:18,color:g(i)},null,8,["color"])),we.value?(x(),U(g(li),{key:1,layout:"vertical"},{default:T(()=>[A(g(yt),{label:g(z).translate("i18n_stage_node_title_label")},{default:T(()=>[A(g(qt),{value:ge.value,"onUpdate:value":Ze[2]||(Ze[2]=Zt=>ge.value=Zt),class:"nodrag nopan",autofocus:""},null,8,["value"])]),_:1},8,["label"]),dt.value?(x(),U(g(Wh),{key:0,checked:Ne.value,"onUpdate:checked":Ze[3]||(Ze[3]=Zt=>Ne.value=Zt),style:{"margin-bottom":"12px"}},{default:T(()=>[te(X(g(z).translate("i18n_stage_node_update_filename"))+" ",1),A(g(Ht),{code:""},{default:T(()=>[te(X(dt.value),1)]),_:1})]),_:1},8,["checked"])):ue("",!0)]),_:1})):(x(),U(g(_o),{key:0,class:"title"},{default:T(()=>[te(X(ge.value),1)]),_:1}))]),_:1},8,["vertical"])],32),O.value?(x(),U(g(mu),{key:0,count:"!",color:"gold",style:{position:"absolute",top:"-4px",right:"-4px","z-index":"1"}})):ue("",!0),n.stage.input&&!n.stage.output?(x(),U(g(mu),{key:1,size:"small",count:"Input",color:"#A7C7E7",class:"interface-tag",style:{"font-size":"8.5px",padding:"0 4px"}})):n.stage.output&&!n.stage.input?(x(),U(g(mu),{key:2,size:"small",count:"Output",class:"interface-tag",color:"#7ED9A0",style:{"font-size":"8.5px",padding:"0 4px"}})):n.stage.input&&n.stage.output?(x(),U(g(mu),{key:3,size:"small",count:"Input/Output",class:"interface-tag",color:"#93D0C4",style:{"font-size":"8.5px",padding:"0 4px"}})):ue("",!0),C.value==="prompting"||C.value==="creating"?(x(),U(rke,{key:4,filename:_.value,"file-exists":c.value,"creating-file-status":C.value,onCreateFile:M,onCancel:v,onUpdateFilename:y},null,8,["filename","file-exists","creating-file-status"])):ue("",!0)],64))}});const jm=bt(ake,[["__scopeId","data-v-93d495dc"]]),lke=he({__name:"ComponentNode",props:{stage:{},node:{},initialFileCheck:{type:Boolean},controller:{},allowShortcuts:{type:Boolean},vueFlowRef:{}},emits:["choose-module","open-module","remove","update"],setup(n,{emit:e}){const{useToken:t}=x5,{token:r}=t(),i=r.value.colorText,s=e,o=n,a=[{get label(){return z.translate("i18n_stage_node_menu_choose_module")},key:"M",click:()=>s("choose-module",o.stage.id,o.stage.props.packageName),icon:V_},{get label(){return z.translate("i18n_stage_node_menu_open")},key:"Enter",click:()=>{o.stage.props.packageName&&s("open-module",o.stage.props.packageName)},icon:Uh},{get label(){return z.translate("i18n_stage_node_menu_add_transition")},key:"C",click:()=>{B({layerX:ne.value.x,layerY:ne.value.y})},icon:W_},{get label(){return z.translate("i18n_stage_node_menu_rename")},key:"R",click:()=>Z.value=!0,icon:y5},{get label(){return z.translate("i18n_stage_node_menu_delete")},key:"Del",click:()=>c.value=!0,danger:!0,icon:Yc}],l=V(!1),u=V(!0);Et(()=>o.initialFileCheck,ge=>{d.value||(u.value=ge)});const c=V(!1),h=async()=>{c.value=!1,_(o.stage),s("remove",o.stage.id)},d=W(()=>o.controller.getUnsavedFilenameStages().some(ge=>ge.id===o.stage.id)),f=W(()=>o.stage.props.packageName===null),p=W(()=>{let ge=[...a];return f.value&&(ge=ge.map(Ne=>Ne.label===z.translate("i18n_stage_node_menu_open")?{...Ne,disabled:!0}:Ne),ge=ge.map(Ne=>Ne.label===z.translate("i18n_stage_node_menu_choose_module")?{...Ne,warning:!0}:Ne)),ge}),{startConnection:m,updateConnection:y,onNodeClick:v,addEdges:b,endConnection:k,removeNodes:_,onPaneClick:C,getSelectedNodes:M,onNodeMouseEnter:O,onNodeMouseLeave:D,onNodesChange:$,applyNodeChanges:R,onPaneMouseLeave:G,removeSelectedNodes:N}=$i(),j=V(!1),Z=V(!1),re=V(o.stage.title),J=V(!1),K=V(!1);G(()=>{if(j.value){j.value=!1,Z.value=!1,k();const ge=M.value;N(ge)}});const ne=V({x:0,y:0}),pe=ge=>{var dt;const Ne=(dt=o.vueFlowRef)==null?void 0:dt.$el.getBoundingClientRect();!Ne||(ne.value={x:ge.pageX-Ne.left,y:ge.pageY-Ne.top})};$(async ge=>{var dt;const Ne=[];for(const _t of ge)_t.type==="remove"?Z.value||((dt=o.controller)==null||dt.delete([_t.id]),Ne.push(_t)):Ne.push(_t);R(Ne)});const B=ge=>{const{layerX:Ne,layerY:dt}=ge;m({nodeId:o.stage.id,type:"source",handleId:o.stage.id},{x:Ne,y:dt}),document.addEventListener("mousemove",Ce),j.value=!0},Ce=()=>{j.value&&!J.value&&y({x:ne.value.x,y:ne.value.y})};v(ge=>{if(j.value&&ge.node.id!==o.stage.id){const Ne={sourceStageId:o.stage.id,targetStageId:ge.node.id,type:"task",id:ok(),props:{taskType:null}};try{o.controller.connect([Ne]),document.removeEventListener("mousemove",Ce),b({id:Ne.id,source:o.stage.id,target:ge.node.id,type:"task",markerEnd:{type:k5.Arrow,width:24,height:24},data:Ne}),k(),j.value=!1}catch(dt){console.error(dt)}}}),O(ge=>{j.value&&ge.node.id!==o.stage.id&&(J.value=!0,y({x:ne.value.x,y:ne.value.y}))}),D(ge=>{if(j.value&&J.value){J.value=!1;const Ne=ge.event;y({x:Ne.layerX,y:Ne.layerY})}});const ae=async()=>{o.stage.title!==re.value&&o.controller.updateStageTitle(o.stage.id,re.value),s("update")};C(()=>{Z.value&&ae(),Z.value=!1,j.value=!1,k()});const L=ge=>{if(!!o.allowShortcuts&&(K.value=Is(ge),!!M.value.map(Ne=>Ne.id).includes(o.stage.id))){if(c.value){ge.key==="Escape"?c.value=!1:ge.key==="Enter"&&h();return}if(ge.key==="Enter")if(Z.value)Z.value=!1,ae();else{if(o.controller.hasChanges()||!u.value||!o.stage.props.packageName)return;s("open-module",o.stage.props.packageName)}if(!Z.value){if((ge.key==="c"||ge.key==="C")&&B({layerX:ne.value.x,layerY:ne.value.y}),(ge.key==="r"||ge.key==="R")&&(Z.value=!0),ge.key==="m"||ge.key==="M"){if(o.controller.hasChanges())return;l.value=!0}(ge.key==="Backspace"||ge.key==="Delete")&&("filename"in o.stage.props&&o.stage.props.filename?c.value=!0:_(o.stage))}}},we=ge=>{K.value=Is(ge)};return On(()=>{d.value||(u.value=o.initialFileCheck),window.addEventListener("keydown",L),window.addEventListener("keyup",we),window.addEventListener("mousemove",pe)}),or(()=>{window.removeEventListener("keydown",L),window.removeEventListener("keyup",we),window.removeEventListener("mousemove",pe)}),(ge,Ne)=>(x(),P(Ve,null,[A(wB,{"is-connecting":j.value,"is-editing":Z.value,"menu-options":p.value},null,8,["is-connecting","is-editing","menu-options"]),A(g(mc),{open:c.value,title:g(z).translate("i18n_stage_node_delete_modal_title"),onCancel:Ne[1]||(Ne[1]=dt=>c.value=!1)},{footer:T(()=>[A(g(Me),{justify:"space-between",gap:"small"},{default:T(()=>[A(g(ft),{onClick:Ne[0]||(Ne[0]=dt=>c.value=!1)},{default:T(()=>[te(X(g(z).translate("i18n_stage_node_cancel")),1)]),_:1}),A(g(ft),{type:"primary",danger:"",onClick:h},{default:T(()=>[te(X(g(z).translate("i18n_stage_node_delete_confirm")),1)]),_:1})]),_:1})]),default:T(()=>[te(X(g(z).translate("i18n_stage_node_delete_modal_message",void 0,{title:n.stage.title,filename:""}))+" ",1)]),_:1},8,["open","title"]),F("div",{class:"stage",onDblclick:Ne[3]||(Ne[3]=dt=>Z.value=!0)},[A(g(Me),{vertical:Z.value,class:"point",gap:"small",align:"center"},{default:T(()=>[(x(),U(rr(g(a4)(n.stage.type)),{size:18,color:g(i)},null,8,["color"])),Z.value?(x(),U(g(li),{key:1,layout:"vertical"},{default:T(()=>[A(g(yt),{label:g(z).translate("i18n_stage_node_title_label")},{default:T(()=>[A(g(qt),{value:re.value,"onUpdate:value":Ne[2]||(Ne[2]=dt=>re.value=dt),class:"nodrag nopan",autofocus:""},null,8,["value"])]),_:1},8,["label"])]),_:1})):(x(),U(g(_o),{key:0,class:"title"},{default:T(()=>[te(X(n.stage.title),1)]),_:1}))]),_:1},8,["vertical"])],32),f.value?(x(),U(g(mu),{key:0,count:"!",color:"gold",style:{position:"absolute",top:"-4px",right:"-4px","z-index":"1"}})):ue("",!0)],64))}});const uke=bt(lke,[["__scopeId","data-v-a5264766"]]),cke={class:"empty-hint"},hke={key:0,class:"drag-hint"},dke={class:"title"},fke={key:1,class:"drop-hint"},pke={class:"title"},mke={key:2,class:"stages-hint"},gke={class:"header"},yke={class:"title"},vke={class:"description"},wke=he({__name:"EmptyHint",props:{showDragHint:{type:Boolean}},setup(n){const e=l4.stages.filter(t=>t.typeName!=="components");return(t,r)=>(x(),P("div",cke,[n.showDragHint?(x(),P("div",hke,[F("div",dke,X(g(z).translate("i18n_empty_hint_start_here")),1),A(g(Qg),{size:32,class:"arrow"})])):ue("",!0),n.showDragHint?ue("",!0):(x(),P("div",fke,[F("div",pke,X(g(z).translate("i18n_empty_hint_drop_here")),1),A(g(Qg),{size:32,class:"arrow"})])),n.showDragHint?(x(),P("div",mke,[(x(!0),P(Ve,null,wt(g(e),i=>(x(),P("div",{key:i.key,class:"stage-hint"},[F("div",gke,[(x(),U(rr(i.icon))),F("span",yke,X(i.title),1)]),F("div",vke,X(i.description),1)]))),128))])):ue("",!0)]))}});const bke=bt(wke,[["__scopeId","data-v-4ab29b30"]]),kke=he({__name:"Workflow",props:{workflow:{},selectedModule:{},editable:{type:Boolean},showDragHint:{type:Boolean},checkFileStatus:{type:Boolean},initialFileCheckStatus:{},allowShortcuts:{type:Boolean}},emits:["run","select","open-tasks","remove","update","choose-module","open-module"],setup(n,{emit:e}){eF(f=>({dc678e0e:g(u),cdcac2b8:g(l)}));const t=e,r=n,i=V(null),s=yB(),{useToken:o}=x5,{token:a}=o(),l=a.value.colorPrimaryBorder,u=a.value.colorBgElevated,{onInit:c,fitView:h}=$i();c(f=>{f.fitView()});const d=f=>{var p;return!r.checkFileStatus||!r.initialFileCheckStatus?!0:f&&(p=r.initialFileCheckStatus[f])!=null?p:!1};return On(()=>{const f=io.subscribe("stageCreated",()=>{r.workflow.debouncedForceServerState(),r.workflow.debouncedAutoLayout()}),p=io.subscribe("stageEdited",()=>{r.workflow.debouncedForceServerState()}),m=io.subscribe("transitionCreated",()=>{r.workflow.debouncedForceServerState(),r.workflow.debouncedAutoLayout()}),y=io.subscribe("finishActions",async()=>{bo(()=>{h()})});J1(()=>{io.unsubscribe(f),io.unsubscribe(m),io.unsubscribe(p),io.unsubscribe(y)})}),(f,p)=>n.workflow?(x(),U(g(bz),{key:0,ref_key:"vueFlowRef",ref:i,nodes:n.workflow.vueFlowNodes.value,edges:n.workflow.vueFlowEdges.value,"max-zoom":1.25,class:"vue-flow-root","select-nodes-on-drag":!1,"zoom-on-double-click":!1,multi:"","multi-selection-key-code":"Shift","nodes-draggable":n.editable,"pan-on-scroll":g(F_).isMac,"elements-selectable":n.editable,"snap-to-grid":"","apply-default":!1,"delete-key-code":[],onDragover:g(s).onDragOver,onDragleave:g(s).onDragLeave},{"connection-line":T(m=>[A(nke,tF(nF(m)),null,16)]),"edge-task":T(m=>[A(Qbe,Xt(m,{controller:n.workflow,"allow-shortcuts":n.allowShortcuts}),null,16,["controller","allow-shortcuts"])]),"node-forms":T(m=>[A(jm,{stage:m.data,node:m,controller:n.workflow,"initial-file-check":d(m.data.props.filename),"allow-shortcuts":n.allowShortcuts,"vue-flow-ref":i.value,onRun:p[0]||(p[0]=y=>t("run",y)),onOpenTasks:p[1]||(p[1]=y=>t("open-tasks",y)),onRemove:p[2]||(p[2]=y=>t("remove",y)),onSelect:p[3]||(p[3]=y=>t("select",y)),onUpdate:p[4]||(p[4]=y=>t("update"))},null,8,["stage","node","controller","initial-file-check","allow-shortcuts","vue-flow-ref"])]),"node-hooks":T(m=>[A(jm,{stage:m.data,node:m,controller:n.workflow,"initial-file-check":d(m.data.props.filename),"allow-shortcuts":n.allowShortcuts,"vue-flow-ref":i.value,onRun:p[5]||(p[5]=y=>t("run",y)),onOpenTasks:p[6]||(p[6]=y=>t("open-tasks",y)),onRemove:p[7]||(p[7]=y=>t("remove",y)),onSelect:p[8]||(p[8]=y=>t("select",y)),onUpdate:p[9]||(p[9]=y=>t("update"))},null,8,["stage","node","controller","initial-file-check","allow-shortcuts","vue-flow-ref"])]),"node-scripts":T(m=>[A(jm,{stage:m.data,node:m,controller:n.workflow,"initial-file-check":d(m.data.props.filename),"allow-shortcuts":n.allowShortcuts,"vue-flow-ref":i.value,onRun:p[10]||(p[10]=y=>t("run",y)),onOpenTasks:p[11]||(p[11]=y=>t("open-tasks",y)),onRemove:p[12]||(p[12]=y=>t("remove",y)),onSelect:p[13]||(p[13]=y=>t("select",y)),onUpdate:p[14]||(p[14]=y=>t("update"))},null,8,["stage","node","controller","initial-file-check","allow-shortcuts","vue-flow-ref"])]),"node-jobs":T(m=>[A(jm,{stage:m.data,node:m,controller:n.workflow,"initial-file-check":d(m.data.props.filename),"allow-shortcuts":n.allowShortcuts,"vue-flow-ref":i.value,onRun:p[15]||(p[15]=y=>t("run",y)),onOpenTasks:p[16]||(p[16]=y=>t("open-tasks",y)),onRemove:p[17]||(p[17]=y=>t("remove",y)),onSelect:p[18]||(p[18]=y=>t("select",y)),onUpdate:p[19]||(p[19]=y=>t("update"))},null,8,["stage","node","controller","initial-file-check","allow-shortcuts","vue-flow-ref"])]),"node-components":T(m=>[A(uke,{stage:m.data,node:m,controller:n.workflow,"initial-file-check":d(m.data.props.filename),"allow-shortcuts":n.allowShortcuts,"vue-flow-ref":i.value,onChooseModule:p[20]||(p[20]=(y,v)=>t("choose-module",y,v)),onOpenModule:p[21]||(p[21]=y=>t("open-module",y)),onRemove:p[22]||(p[22]=y=>t("remove",y)),onUpdate:p[23]||(p[23]=y=>t("update"))},null,8,["stage","node","controller","initial-file-check","allow-shortcuts","vue-flow-ref"])]),default:T(()=>[A(g(Pz)),n.editable&&!n.workflow.vueFlowNodes.value.length?(x(),U(bke,{key:0,"show-drag-hint":n.showDragHint},null,8,["show-drag-hint"])):ue("",!0),n.editable?(x(),U(jbe,{key:1,workflow:n.workflow},null,8,["workflow"])):ue("",!0)]),_:1},8,["nodes","edges","nodes-draggable","pan-on-scroll","elements-selectable","onDragover","onDragleave"])):ue("",!0)}});const xke=bt(kke,[["__scopeId","data-v-d9f8a26a"]]),Ske=he({__name:"WorkflowEditor",props:{allowShortcuts:{type:Boolean}},emits:["run","select","refetch","open-tasks","remove","update","choose-module"],setup(n,{expose:e,emit:t}){const r=C_(),i=n,s=t,o=V([{key:"workflow",label:"Workflow",closable:!1}]),a=V("workflow"),l=ae=>{ae=String(ae),a.value=ae,C.value&&(C.value.selectedModule.value=ae==="workflow"?null:ae,setTimeout(async()=>{J()}))},u=ae=>{ae=String(ae);const L=o.value.findIndex(we=>we.key===ae);L!==-1&&(o.value.splice(L,1),a.value===ae&&l("workflow"))},c=async ae=>{o.value.find(we=>we.key===ae)||o.value.push({key:ae,label:`Module: ${ae}`,closable:!0}),l(ae)},{init:h,tearDown:d,onDragStart:f,onDrop:p,isDragging:m,isAdding:y,draggedType:v,mousePosition:b}=yB(),k=ae=>{const L=p(ae);if(!!L)for(const we of L)we.type==="components"&&!we.props.packageName&&s("choose-module",we.id,null)},_=b0();Et(_.lastEvent,async()=>{var ae,L;(ae=_.lastEvent.value)!=null&&ae.filepath.endsWith("abstra.json")&&(await((L=C.value)==null?void 0:L.syncState()),await D())});const{result:C,refetch:M}=Hh(async()=>{const ae=()=>s("refetch");return await dk.init(obe,ae)}),O=V(null),D=async()=>{if(!C.value)return;const ae=await C.value.getStageFiles();O.value=await Gn.checkFiles(ae.filter(L=>typeof L=="string"))};Et(()=>C.value,()=>{C.value&&(h(C.value),D())});const{onNodeDragStart:$,onNodeDragStop:R,onEdgesChange:G,getSelectedElements:N,getNodes:j,addSelectedNodes:Z,zoomIn:re,fitView:J,zoomOut:K,applyEdgeChanges:ne}=$i();$(()=>{var ae;(ae=C.value)==null||ae.setDragging(!0)}),R(ae=>{var L,we;(L=C.value)==null||L.setDragging(!1),(we=C.value)==null||we.move(ae.nodes.map(ge=>({id:ge.id,position:ge.position})))}),G(ae=>{var L;for(const we of ae)we.type==="remove"&&((L=C.value)==null||L.delete([we.id]));ne(ae)});const pe=ae=>{var L;!i.allowShortcuts||r.isInputFocused||!C.value||((ae.key==="z"||ae.key==="Z")&&Is(ae)&&(GX(ae)?C.value.history.redo():(L=C.value)==null||L.history.undo(),ae.preventDefault()),!(Is(ae)&&(ae.key==="f"||ae.key==="F"))&&(N.value.length||(ae.key==="f"||ae.key==="F"?f(null,"forms"):ae.key==="h"||ae.key==="H"?f(null,"hooks"):ae.key==="j"||ae.key==="J"?f(null,"jobs"):ae.key==="t"||ae.key==="T"?f(null,"scripts"):(ae.key==="a"||ae.key==="A")&&Is(ae)?(Z(j.value),ae.preventDefault()):ae.key==="0"&&Is(ae)?(J(),ae.preventDefault()):(ae.key==="="||ae.key==="+")&&Is(ae)?(ae.preventDefault(),re()):ae.key==="-"&&Is(ae)&&(ae.preventDefault(),K()))))},B=ae=>{if(!C.value)return;const L=j.value.filter(we=>ae.includes(we.id));Z(L)},Ce=(ae,L)=>{if(!C.value)return;C.value.updateStageProps(ae,{packageName:L});const we=j.value.filter(Ne=>Ne.id===ae);if(we.length!==1)return;const ge=we[0];ge.data&&ge.data.type==="components"&&(ge.data.props.packageName=L)};return On(()=>{window.addEventListener("keydown",pe)}),or(()=>{window.removeEventListener("keydown",pe),d()}),e({selectStages:B,updateStageModule:Ce,nodes:j.value,refetch:M,checkFiles:D}),(ae,L)=>(x(),P(Ve,null,[o.value.length>1?(x(),U(g(f5),{key:0,"active-key":a.value,type:"editable-card","hide-add":"",size:"small",onChange:L[0]||(L[0]=we=>l(we)),onEdit:L[1]||(L[1]=we=>u(we))},{default:T(()=>[(x(!0),P(Ve,null,wt(o.value,we=>(x(),U(g(Rf),{key:we.key,tab:we.label,closable:we.closable},null,8,["tab","closable"]))),128))]),_:1},8,["active-key"])):ue("",!0),g(C)?(x(),P("div",{key:1,class:si(["workflow-container",{dragging:g(y)}]),onDrop:k},[A(xke,{workflow:g(C),"selected-module":a.value,editable:"","show-drag-hint":!g(y),"check-file-status":!0,"initial-file-check-status":O.value,"allow-shortcuts":n.allowShortcuts,onRun:L[2]||(L[2]=we=>s("run",we)),onSelect:L[3]||(L[3]=we=>s("select",we)),onOpenTasks:L[4]||(L[4]=we=>s("open-tasks",we)),onRemove:L[5]||(L[5]=we=>s("remove",we)),onUpdate:L[6]||(L[6]=we=>s("update")),onChooseModule:L[7]||(L[7]=(we,ge)=>s("choose-module",we,ge)),onOpenModule:c},null,8,["workflow","selected-module","show-drag-hint","initial-file-check-status","allow-shortcuts"]),A(fbe,{controller:g(C),tabs:o.value.length>1,onDragStart:g(f)},null,8,["controller","tabs","onDragStart"]),(x(!0),P(Ve,null,wt(g(l4).stages,we=>{var ge,Ne;return x(),P("div",{key:we.key},[g(y)&&!g(m)&&we.typeName===g(v)?(x(),P("div",{key:0,class:"dragging-node",style:ls({left:`${(ge=g(b))==null?void 0:ge.x}px`,top:`${(Ne=g(b))==null?void 0:Ne.y}px`,position:"absolute",cursor:g(y)?"grabbing":"grab"})},[(x(),U(rr(we.icon),{size:18}))],4)):ue("",!0)])}),128))],34)):ue("",!0)],64))}});const Cke=bt(Ske,[["__scopeId","data-v-18d113b6"]]),Mke={key:0},Ake={key:1},_ke=he({__name:"FormRunButton",props:{formStateType:{},disabledWarning:{},startMessage:{}},emits:["start","reset"],setup(n,{emit:e}){var l;const t=e,r=new jh(xe.boolean(),"dontShowReloadHelper"),i=V((l=r.get())!=null?l:!1),s=()=>{i.value=!0,r.set(!0)},o=()=>t("reset"),a=()=>t("start");return(u,c)=>(x(),P(Ve,null,[n.formStateType&&g(Bz).includes(n.formStateType)?(x(),U(g(y0),{key:0,placement:"bottom",open:i.value?void 0:!0},{content:T(()=>[i.value?(x(),P("span",Mke,X(g(z).translate("i18n_formrunbutton_reload_form")),1)):(x(),P("span",Ake,[te(X(g(z).translate("i18n_formrunbutton_reload_here")),1),c[0]||(c[0]=F("br",null,null,-1)),A(g(b_),{onClick:s},{default:T(()=>[te(X(g(z).translate("i18n_formrunbutton_dont_show_again")),1)]),_:1})]))]),default:T(()=>[A(g(ft),{disabled:!!n.disabledWarning,onClick:o},{default:T(()=>[A(g(RV),{size:"20"})]),_:1},8,["disabled"])]),_:1},8,["open"])):ue("",!0),g(Gm).includes(n.formStateType)?(x(),U(g(Ri),{key:1,placement:"bottom"},{title:T(()=>[te(X(g(z).translate("i18n_formrunbutton_stop_form")),1)]),default:T(()=>[A(g(ft),{onClick:o},{default:T(()=>[A(g(tz),{size:"20"})]),_:1})]),_:1})):ue("",!0),n.formStateType==="waiting"?(x(),U(g(Ri),{key:2,placement:"bottom"},{title:T(()=>{var h;return[te(X((h=n.startMessage)!=null?h:g(z).translate("i18n_formrunbutton_start_form")),1)]}),default:T(()=>[A(g(ft),{disabled:!!n.disabledWarning,onClick:a},{default:T(()=>[A(g(h5),{size:"20"})]),_:1},8,["disabled"])]),_:1})):ue("",!0)],64))}}),Tke=he({__name:"QueryParamsModal",props:{open:{type:Boolean},queryParams:{}},emits:["update:query-params","close"],setup(n,{emit:e}){const t=n,r=e,i=V(s(t.queryParams));function s(c){return Object.entries(c).map(([h,d])=>({key:h,value:d,id:Math.random().toString()}))}function o(){const c={};return i.value.forEach(({key:h,value:d})=>{c[h]=d}),c}const a=(c,h,d)=>{i.value[c]={key:h,value:d},r("update:query-params",o())},l=()=>{const c=i.value.length;i.value.push({key:`param-${c}`,value:"value"}),r("update:query-params",o())},u=c=>{i.value.splice(c,1),r("update:query-params",o())};return(c,h)=>(x(),U(g(mc),{open:n.open,onCancel:h[1]||(h[1]=d=>r("close"))},{footer:T(()=>[A(g(ft),{type:"primary",onClick:h[0]||(h[0]=d=>r("close"))},{default:T(()=>[te(X(g(z).translate("i18n_queryparamsmodal_ok")),1)]),_:1})]),default:T(()=>[A(g(Me),{vertical:"",gap:"20"},{default:T(()=>[A(g(_o),null,{default:T(()=>[te(X(g(z).translate("i18n_queryparamsmodal_query_params")),1)]),_:1}),(x(!0),P(Ve,null,wt(i.value,(d,f)=>(x(),U(g(yt),{key:f},{default:T(()=>[A(g(Gh),null,{default:T(()=>[A(g(qt),{value:d.key,"onUpdate:value":p=>d.key=p,type:"text",placeholder:g(z).translate("i18n_queryparamsmodal_name_placeholder"),onChange:()=>a(f,d.key,d.value)},null,8,["value","onUpdate:value","placeholder","onChange"]),A(g(qt),{value:d.value,"onUpdate:value":p=>d.value=p,type:"text",placeholder:g(z).translate("i18n_queryparamsmodal_value_placeholder"),onChange:()=>a(f,d.key,d.value)},null,8,["value","onUpdate:value","placeholder","onChange"]),A(g(ft),{danger:"",onClick:p=>u(f)},{default:T(()=>[te(X(g(z).translate("i18n_queryparamsmodal_remove")),1)]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128)),A(g(yt),null,{default:T(()=>[A(g(ft),{type:"dashed",style:{width:"100%"},onClick:l},{default:T(()=>[te(X(g(z).translate("i18n_queryparamsmodal_add_query_param")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]))}}),Eke={class:"form-preview"},Oke={class:"form-preview-container"},Ike=he({__name:"FormPreview",props:{formState:{},formRunnerData:{},isLoading:{type:Boolean},queryParams:{},disabledWarning:{},formController:{},currentPath:{},controller:{}},setup(n){const e=$z(),t=TF(),r=n,i=W(()=>{if(!r.formRunnerData)return"";const l=Object.entries(r.queryParams),u="?"+l.map(([h,d])=>`${h}=${d}`).join("&"),c=l.length?u:"";return`/${r.formRunnerData.path}${c}`}),s=V(!1),o=()=>{!!r.formState&&Gm.includes(r.formState.type)||(s.value=!0)},a=()=>{let l=`/${r.currentPath}`;const u=new URLSearchParams(r.queryParams);window.open(`${l}?${u.toString()}`,"_blank")};return(l,u)=>(x(),P("div",Eke,[n.isLoading||!n.formRunnerData||!n.formState?(x(),U(g(qh),{key:0})):ue("",!0),n.formState&&n.formRunnerData?(x(),U(g(Me),{key:1,vertical:"",gap:"10",style:{height:"100%",overflow:"hidden"}},{default:T(()=>[A(g(Me),{gap:"small"},{default:T(()=>[A(g(Ri),{title:g(z).translate("i18n_formpreview_edit_query_params"),placement:"bottom"},{default:T(()=>[A(g(Zm),{compact:"",style:{display:"flex"},onClick:o},{default:T(()=>{var c,h;return[A(g(qt),{disabled:!!n.formState&&g(Gm).includes((c=n.formState)==null?void 0:c.type),value:i.value,onKeyup:o},null,8,["disabled","value"]),A(g(ft),{disabled:!!n.formState&&g(Gm).includes((h=n.formState)==null?void 0:h.type),onClick:o},{default:T(()=>[A(g(KU),{size:"20"})]),_:1},8,["disabled"])]}),_:1})]),_:1},8,["title"]),A(g(Ri),{placement:"bottom"},{title:T(()=>[te(X(g(z).translate("i18n_formpreview_open_fullscreen")),1)]),default:T(()=>[A(g(ft),{target:"_blank","aria-label":g(z).translate("i18n_formpreview_open_fullscreen"),"aria-describedby":"sss",onClick:a},{default:T(()=>[A(g(Uh),{size:"20"})]),_:1},8,["aria-label"])]),_:1}),A(_ke,{"form-state-type":n.formState.type,"disabled-warning":null,"start-message":g(z).translate("i18n_formpreview_start_form"),onStart:u[0]||(u[0]=c=>n.controller.previewModal.start()),onReset:u[1]||(u[1]=c=>n.controller.previewModal.reset())},null,8,["form-state-type","start-message"])]),_:1}),F("div",Oke,[n.disabledWarning?(x(),U(g(M_),{key:0,class:"unsaved-changes"},{default:T(()=>[A(g(_o),{style:{"font-size":"18px","font-weight":"500"}},{default:T(()=>[te(X(n.disabledWarning.title),1)]),_:1}),A(g(_o),{style:{"margin-bottom":"6px"}},{default:T(()=>[te(X(n.disabledWarning.message),1)]),_:1})]),_:1})):ue("",!0),A(H_,{class:"center","main-color":n.formRunnerData.mainColor,background:n.formRunnerData.theme,"font-family":n.formRunnerData.fontFamily,locale:n.formRunnerData.language},{default:T(()=>{var c,h,d,f,p;return[g(t).state.workspace?(x(),U(z_,{key:0,"current-path":n.currentPath,"hide-login":!0,"runner-data":g(t).state.workspace},null,8,["current-path","runner-data"])):ue("",!0),A(Fz,{"is-preview":"",class:"runner","form-runner-data":n.formRunnerData,"form-state":n.formState,disabled:!!n.disabledWarning,"user-email":g(e).email,onUpdateWidgetErrors:(c=n.formController)==null?void 0:c.updateWidgetFrontendErrors,onUpdateWidgetValue:(h=n.formController)==null?void 0:h.updateWidgetValue,onActionClicked:(d=n.formController)==null?void 0:d.handleActionClick,onAutoFillClicked:(f=n.formController)==null?void 0:f.handleAutofillClick,onAuthComplete:(p=n.formController)==null?void 0:p.handleAuthComplete},null,8,["form-runner-data","form-state","disabled","user-email","onUpdateWidgetErrors","onUpdateWidgetValue","onActionClicked","onAutoFillClicked","onAuthComplete"])]}),_:1},8,["main-color","background","font-family","locale"])])]),_:1})):ue("",!0),A(Tke,{"query-params":n.queryParams,open:s.value,onClose:u[2]||(u[2]=c=>s.value=!1),"onUpdate:queryParams":u[3]||(u[3]=c=>n.controller.forms.queryParams=c)},null,8,["query-params","open"])]))}});const Dke=bt(Ike,[["__scopeId","data-v-201faac5"]]),fk=he({__name:"RunButton",props:{loading:{type:Boolean},disabled:{}},emits:["click","save"],setup(n,{emit:e}){const t=e;return(r,i)=>(x(),U(g(y0),{open:n.disabled?void 0:!1,placement:"bottom"},{content:T(()=>[A(g(Me),{vertical:"",gap:"small"},{default:T(()=>[A(g(_o),{style:{"font-size":"16px"}},{default:T(()=>{var s;return[te(X((s=n.disabled)==null?void 0:s.title),1)]}),_:1}),A(g(_o),null,{default:T(()=>{var s;return[te(X((s=n.disabled)==null?void 0:s.message),1)]}),_:1})]),_:1})]),default:T(()=>[A(g(ft),{style:{width:"100%"},loading:n.loading,icon:oe(g(NJ)),disabled:!!n.disabled,size:"large",type:"primary",onClick:i[0]||(i[0]=s=>t("click"))},{default:T(()=>[te(X(g(z).translate("i18n_editor_runbutton_run")),1)]),_:1},8,["loading","icon","disabled"])]),_:1},8,["open"]))}}),Nke={style:{display:"flex","flex-direction":"column",gap:"10px"}},Lke={key:0},Pke=he({__name:"HookTester",props:{hook:{},disabledWarning:{}},setup(n,{expose:e}){const t=[{label:"GET",value:"GET"},{label:"POST",value:"POST"},{label:"PUT",value:"PUT"},{label:"PATCH",value:"PATCH"}],r=n,i=W(()=>{var k;if((k=a.response)!=null&&k.status)return a.response.status>=500?"red":a.response.status>=400?"orange":a.response.status>=200?"green":"blue"}),s=xe.object({method:xe.string(),body:xe.string(),queryParams:xe.record(xe.string()),headers:xe.record(xe.string())}),o=new jh(xe.record(xe.object({body:xe.string(),headers:xe.array(xe.object({key:xe.string(),value:xe.string()})),method:xe.string(),queryParams:xe.array(xe.object({name:xe.string(),value:xe.string()}))})),"abstra:hookTestConfig"),a=Xu({queryParams:[],headers:[{key:"Content-Type",value:"application/json"}],method:"POST",body:JSON.stringify({foo:123,bar:"abc"},null,4),requestDataInput:JSON.stringify({method:"POST",body:JSON.stringify({foo:123,bar:"abc"},null,4),queryParams:{},headers:{"Content-Type":"application/json"}},null,4)}),l=V(!1),u=async()=>{l.value=!0;try{const k={method:a.method,query:a.queryParams.reduce((_,{name:C,value:M})=>(C&&M&&(_[C]=M),_),{}),body:a.body,headers:a.headers.reduce((_,{key:C,value:M})=>(C&&M&&(_[C]=M),_),{})};a.response=await r.hook.run(k)}finally{l.value=!1}},c=V(!1),h=()=>{c.value=!0},d=()=>{c.value=!1},f=W(()=>{if(typeof a.requestDataInput!="string")return!1;try{const k=JSON.parse(a.requestDataInput);return s.parse(k),!0}catch{return!1}}),p=()=>{const k=JSON.parse(a.requestDataInput);a.method=k.method||a.method,a.body=k.body||a.body,a.queryParams=Object.entries(k.queryParams||a.queryParams).map(([_,C])=>({name:_,value:String(C)})),a.headers=Object.entries(k.headers||a.headers).map(([_,C])=>({key:_,value:String(C)})),d(),iF.success(z.translate("i18n_hooktester_request_imported"))},m=()=>{a.queryParams.push({name:"",value:""})},y=k=>{a.queryParams=a.queryParams.filter((_,C)=>C!==k)},v=()=>{a.headers.push({key:"",value:""})},b=k=>{a.headers=a.headers.filter((_,C)=>C!==k)};return On(()=>{const _=(o.get()||{})[r.hook.id];_&&(a.body=_.body,a.headers=_.headers,a.method=_.method,a.queryParams=_.queryParams)}),or(()=>{const k={body:a.body,headers:a.headers,method:a.method,queryParams:a.queryParams},_=o.get()||{};_[r.hook.id]=k,o.set(_)}),e({runHook:u}),(k,_)=>(x(),U(g(Me),{vertical:"",gap:"small",class:"hook-tester"},{default:T(()=>[A(g(Me),{justify:"end",align:"center"},{default:T(()=>[A(g(Ri),{title:g(z).translate("i18n_hooktester_import_request_tooltip")},{default:T(()=>[A(g(ft),{type:"link",style:{display:"flex","align-items":"center",gap:"5px"},onClick:_[0]||(_[0]=ko(C=>h(),["stop"]))},{icon:T(()=>[tt(k.$slots,"icon",{},()=>[A(g(rF),{size:"16"})])]),default:T(()=>[tt(k.$slots,"icon-text",{},()=>[te(X(g(z).translate("i18n_hooktester_import_request_data")),1)])]),_:3})]),_:3},8,["title"])]),_:3}),A(g(li),{layout:"vertical",style:{overflow:"auto"}},{default:T(()=>[A(g(yt),null,{default:T(()=>[A(g(X1),{ghost:""},{default:T(()=>[A(g(zu),{header:`${g(z).translate("i18n_hooktester_query_params")} (${a.queryParams.length})`},{default:T(()=>[(x(!0),P(Ve,null,wt(a.queryParams,(C,M)=>(x(),U(g(yt),{key:M},{default:T(()=>[A(g(Gh),null,{default:T(()=>[A(g(qt),{value:C.name,"onUpdate:value":O=>C.name=O,type:"text",placeholder:g(z).translate("i18n_hooktester_name_placeholder")},null,8,["value","onUpdate:value","placeholder"]),A(g(qt),{value:C.value,"onUpdate:value":O=>C.value=O,type:"text",placeholder:g(z).translate("i18n_hooktester_value_placeholder")},null,8,["value","onUpdate:value","placeholder"]),A(g(ft),{danger:"",onClick:O=>y(M)},{default:T(()=>[te(X(g(z).translate("i18n_hooktester_remove")),1)]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128)),A(g(yt),null,{default:T(()=>[A(g(ft),{type:"dashed",style:{width:"100%"},onClick:m},{default:T(()=>[te(X(g(z).translate("i18n_hooktester_add_query_param")),1)]),_:1})]),_:1})]),_:1},8,["header"]),A(g(zu),{header:`${g(z).translate("i18n_hooktester_headers")} (${a.headers.length})`},{default:T(()=>[(x(!0),P(Ve,null,wt(a.headers,(C,M)=>(x(),U(g(yt),{key:M,label:M===0?g(z).translate("i18n_hooktester_headers"):void 0},{default:T(()=>[A(g(Gh),null,{default:T(()=>[A(g(qt),{value:C.key,"onUpdate:value":O=>C.key=O,type:"text",placeholder:g(z).translate("i18n_hooktester_name_placeholder")},null,8,["value","onUpdate:value","placeholder"]),A(g(qt),{value:C.value,"onUpdate:value":O=>C.value=O,type:"text",placeholder:g(z).translate("i18n_hooktester_value_placeholder")},null,8,["value","onUpdate:value","placeholder"]),A(g(ft),{danger:"",onClick:O=>b(M)},{default:T(()=>[te(X(g(z).translate("i18n_hooktester_remove")),1)]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1032,["label"]))),128)),A(g(yt),null,{default:T(()=>[A(g(ft),{type:"dashed",style:{width:"100%"},onClick:v},{default:T(()=>[te(X(g(z).translate("i18n_hooktester_add_header")),1)]),_:1})]),_:1})]),_:1},8,["header"]),A(g(zu),{header:g(z).translate("i18n_hooktester_body")},{default:T(()=>[a.method!=="GET"?(x(),U(g(yt),{key:0},{default:T(()=>[A(g(Um),{value:a.body,"onUpdate:value":_[1]||(_[1]=C=>a.body=C)},null,8,["value"])]),_:1})):ue("",!0)]),_:1},8,["header"])]),_:1})]),_:1}),A(g(yt),{label:g(z).translate("i18n_hooktester_method")},{default:T(()=>[A(g(xo),{value:a.method,options:t,onSelect:_[2]||(_[2]=C=>a.method=C)},null,8,["value"])]),_:1},8,["label"]),A(g(yt),null,{default:T(()=>[F("div",Nke,[A(fk,{loading:l.value,disabled:n.disabledWarning,onClick:u,onSave:_[3]||(_[3]=C=>n.hook.save())},null,8,["loading","disabled"])])]),_:1}),A(g(w0),{orientation:"left"},{default:T(()=>[te(X(g(z).translate("i18n_hooktester_response")),1)]),_:1}),a.response?(x(),P("div",Lke,[A(g(as),{color:i.value},{default:T(()=>[te(X(a.response.status),1)]),_:1},8,["color"]),A(g(jF),null,{default:T(()=>[(x(!0),P(Ve,null,wt(a.response.headers,(C,M)=>(x(),U(g(ZF),{key:M,label:M},{default:T(()=>[te(X(C),1)]),_:2},1032,["label"]))),128))]),_:1}),A(g(Um),{value:a.response.body},null,8,["value"])])):ue("",!0)]),_:1}),A(g(mc),{open:c.value,"ok-button-props":{disabled:!f.value},onCancel:_[5]||(_[5]=C=>d()),onOk:_[6]||(_[6]=C=>p())},{title:T(()=>[A(g(Ht),null,{default:T(()=>[te(X(g(z).translate("i18n_hooktester_import_request_data")),1)]),_:1})]),default:T(()=>[A(g(li),{layout:"vertical"},{default:T(()=>[A(g(Um),{value:a.requestDataInput,"onUpdate:value":_[4]||(_[4]=C=>a.requestDataInput=C),"auto-size":{minRows:4,maxRows:16}},null,8,["value"])]),_:1}),f.value?ue("",!0):(x(),U(g(Ht),{key:0,type:"danger"},{default:T(()=>[te(X(g(z).translate("i18n_hooktester_invalid_json")),1)]),_:1}))]),_:1},8,["open","ok-button-props"])]),_:3}))}}),Rke=he({__name:"CreateTaskModal",props:{creatingTaskState:{},isPayloadValid:{type:Boolean}},emits:["create","cancel"],setup(n,{emit:e}){const t=e;return(r,i)=>(x(),U(g(mc),{open:n.creatingTaskState.state==="creating","ok-button-props":{disabled:!n.isPayloadValid},"ok-text":g(z).translate("i18n_createtaskmodal_create_and_run"),onCancel:i[2]||(i[2]=s=>t("cancel")),onOk:i[3]||(i[3]=s=>t("create"))},{title:T(()=>[A(g(Ht),null,{default:T(()=>[te(X(g(z).translate("i18n_createtaskmodal_add_task")),1)]),_:1})]),default:T(()=>[A(g(li),{layout:"vertical"},{default:T(()=>[A(g(yt),{label:g(z).translate("i18n_createtaskmodal_task_type")},{default:T(()=>[n.creatingTaskState.state==="creating"?(x(),U(g(qt),{key:0,value:n.creatingTaskState.name,"onUpdate:value":i[0]||(i[0]=s=>n.creatingTaskState.name=s),"auto-size":""},null,8,["value"])):ue("",!0)]),_:1},8,["label"]),A(g(yt),{label:g(z).translate("i18n_createtaskmodal_task_data")},{default:T(()=>[n.creatingTaskState.state==="creating"?(x(),U(g(Um),{key:0,value:n.creatingTaskState.payloadCode,"onUpdate:value":i[1]||(i[1]=s=>n.creatingTaskState.payloadCode=s),"auto-size":""},null,8,["value"])):ue("",!0)]),_:1},8,["label"])]),_:1}),n.isPayloadValid?ue("",!0):(x(),U(g(Ht),{key:0,type:"danger"},{default:T(()=>[te(X(g(z).translate("i18n_createtaskmodal_invalid_json")),1)]),_:1}))]),_:1},8,["open","ok-button-props","ok-text"]))}}),$ke=(n,e)=>{const t=V("All"),r=c=>{t.value=c},i=R_({api:new $_,poll:!1,stages:e.value.map(c=>({id:c.id,stageTitle:c.title,stageType:c.type==="tasklet"?"script":c.type}))});i.state.filters.stage=n.value||void 0,i.state.pagination.pageSize=25;const s=W(()=>i.getPossibleActions()),o=W(()=>t.value==="All"?i.state.tasks:i.state.tasks.filter(c=>c.status===t.value.toLowerCase()));return{tasksController:i,actions:s,tasks:o,selectedFilter:t,updateSelectedFilter:r,selectTask:(c,h)=>{c.stopPropagation(),i.checkTask(h)},selectAll:()=>{i.state.tasks.forEach(c=>i.checkTask(c.id))},loadMore:()=>{i.state.tasks.length<i.state.pagination.pageSize||(i.state.pagination.pageSize+=i.state.pagination.pageSize,i.fetchTasks())}}},bB=he({__name:"StageTasks",props:{controller:{},logsSelectedStageId:{}},emits:["create","cancel"],setup(n,{expose:e,emit:t}){const r=n,i=t;async function s(){await m5(z.translate("i18n_editor_stage_tasks_clear_confirmation"))&&await l.clearAllTasks()}const o=V(r.logsSelectedStageId),{tasks:a,tasksController:l,selectedFilter:u,selectAll:c,selectTask:h,updateSelectedFilter:d,loadMore:f,actions:p}=$ke(o,W(()=>r.controller.stages.allStages)),m=W(()=>[{label:z.translate("i18n_editor_stage_tasks_filter_all"),value:"All"},{label:z.translate("i18n_editor_stage_tasks_filter_pending"),value:"Pending"},{label:z.translate("i18n_editor_stage_tasks_filter_completed"),value:"Completed"}]),y=v=>{v(),l.fetchTasks()};return e({tasks:a,tasksController:l,loadMore:f}),On(()=>{l.setup()}),or(()=>l.tearDown()),(v,b)=>(x(),P(Ve,null,[A(g(Me),{vertical:"",gap:"middle"},{default:T(()=>[A(g(Me),{justify:"space-between",align:"center"},{default:T(()=>[A(g(Ht),{strong:"",style:{padding:"0 16px"}},{default:T(()=>[te(X(g(z).translate("i18n_editor_stage_tasks_title")),1)]),_:1}),A(g(Me),{align:"center"},{default:T(()=>[A(g(ft),{type:"link",onClick:ko(g(l).startCreatingTask,["stop"])},{default:T(()=>[te(X(g(z).translate("i18n_editor_stage_tasks_add_task")),1)]),_:1},8,["onClick"]),A(g(w0),{type:"vertical"}),A(g(ft),{type:"link",onClick:g(c)},{default:T(()=>[te(X(g(z).translate("i18n_editor_stage_tasks_select_all")),1)]),_:1},8,["onClick"]),A(g(ft),{type:"link",onClick:s},{default:T(()=>[te(X(g(z).translate("i18n_editor_stage_tasks_clear_all")),1)]),_:1})]),_:1})]),_:1}),A(g(Me),{justify:"space-between",align:"center",style:{"margin-bottom":"16px",width:"100%",padding:"0 12px"}},{default:T(()=>[A(g(p5),{value:g(u),"onUpdate:value":b[0]||(b[0]=k=>k_(u)?u.value=k:null),options:m.value,onChange:b[1]||(b[1]=k=>g(d)(k))},null,8,["value","options"]),A(g(Me),{gap:"small"},{default:T(()=>[(x(!0),P(Ve,null,wt(g(p),k=>(x(),U(g(ft),{key:k.name,onClick:_=>y(k.handler)},{default:T(()=>[te(X(k.label),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1}),A(Rke,{"creating-task-state":g(l).creatingTaskState.value,"is-payload-valid":g(l).isPayloadValid.value,onCreate:b[2]||(b[2]=k=>y(()=>g(l).createTask(n.logsSelectedStageId).then(_=>_&&i("create",_.id)))),onCancel:b[3]||(b[3]=k=>{g(l).cancelCreatingTask(),i("cancel")})},null,8,["creating-task-state","is-payload-valid"]),g(a).length===0?(x(),U(g(Me),{key:0,justify:"center",align:"center",style:{width:"100",height:"100%"}},{default:T(()=>[A(g(Ht),{type:"secondary"},{default:T(()=>[te(X(g(z).translate("i18n_editor_stage_tasks_no_tasks")),1)]),_:1})]),_:1})):ue("",!0),A(g(X1),{bordered:!1,style:{"background-color":"transparent",width:"100%"}},{default:T(()=>[(x(!0),P(Ve,null,wt(g(a),k=>(x(),U(g(zu),{key:k.id,style:{"border-radius":"4px","margin-bottom":"8px",border:"0",overflow:"hidden","background-color":"#fff"}},{header:T(()=>[A(g(Wh),{checked:k.checked,style:{"margin-right":"12px"},onChange:_=>g(h)(_,k.id)},null,8,["checked","onChange"]),A(g(as),{color:"default",style:{"margin-right":"10px"},bordered:!1},{default:T(()=>[te(X(k.type),1)]),_:2},1024),A(g(as),{color:"default",style:{"margin-right":"10px"},bordered:!1},{default:T(()=>[te(X(k.sourceStageTitle?`${g(z).translate("i18n_editor_stage_tasks_sent_by")} ${k.sourceStageTitle}`:g(z).translate("i18n_editor_stage_tasks_created_manually")),1)]),_:2},1024),A(g(as),{color:"default",style:{"margin-right":"10px"},bordered:!1},{default:T(()=>[te(X(g(E_)(k.status)),1)]),_:2},1024)]),extra:T(()=>[te(X(g(u5)(new Date(k.created.at))),1)]),default:T(()=>[A(g(Me),{vertical:"",gap:"middle"},{default:T(()=>[te(X(JSON.stringify(k.payload,null,2)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})],64))}}),Bke={style:{width:"100%",display:"flex","flex-direction":"column"}},Fke=he({__name:"JobTester",props:{job:{},disabledWarning:{},controller:{}},setup(n,{expose:e}){const t=n,r=V(null),i=V(!1);async function s(){var o;i.value=!0;try{await t.job.run()}finally{i.value=!1,t.controller.tasks.fetchTasks(),(o=r.value)==null||o.tasksController.fetchTasks()}}return e({test:s,loadMore:W(()=>{var o;return(o=r.value)==null?void 0:o.loadMore})}),(o,a)=>(x(),P(Ve,null,[F("div",Bke,[A(fk,{loading:i.value,style:{"max-width":"350px"},disabled:n.disabledWarning,onClick:s,onSave:a[0]||(a[0]=l=>n.job.save())},null,8,["loading","disabled"])]),A(g(w0)),A(bB,{ref_key:"tasksRef",ref:r,controller:n.controller,"logs-selected-stage-id":n.job.id,style:{"margin-top":"20px"}},null,8,["controller","logs-selected-stage-id"])],64))}}),zke={style:{width:"100%",display:"flex","flex-direction":"column"}},Hke=he({__name:"ScriptTester",props:{script:{},disabledWarning:{},controller:{}},setup(n,{expose:e}){const t=n,r=V(null),i=W(()=>{var l,u;return(u=(l=r.value)==null?void 0:l.tasks.filter(c=>c.status==="pending").map(c=>{const h=c.payload,d=JSON.stringify(h,null,2),f=d.length>80?d.slice(0,80)+"...":d,p=new Date(c.created.at).toLocaleString();return{label:`${f} - ${p}`,value:c.id}}))!=null?u:[]}),s=V(void 0),o=V(!1),a=async l=>{var u,c,h;if(o.value=!0,l&&(s.value=l),!s.value)(u=r.value)==null||u.tasksController.startCreatingTask();else try{await t.script.run((c=s.value)!=null?c:null)}finally{o.value=!1,s.value=void 0,t.controller.tasks.fetchTasks(),(h=r.value)==null||h.tasksController.fetchTasks()}};return e({loadMore:W(()=>{var l;return(l=r.value)==null?void 0:l.loadMore})}),(l,u)=>(x(),P(Ve,null,[F("div",zke,[A(g(li),{layout:"vertical",style:{overflow:"auto"}},{default:T(()=>[A(g(yt),{label:g(z).translate("i18n_scripttester_trigger_task")},{default:T(()=>[A(g(Me),{gap:"small",class:"container"},{default:T(()=>[A(g(xo),{options:i.value,value:s.value,onSelect:u[0]||(u[0]=c=>s.value=c)},null,8,["options","value"]),A(g(ft),{onClick:u[1]||(u[1]=c=>n.controller.tasks.fetchTasks())},{default:T(()=>[A(g(Me),null,{default:T(()=>[A(g(iq),{size:16})]),_:1})]),_:1})]),_:1})]),_:1},8,["label"])]),_:1}),A(fk,{loading:o.value,disabled:n.disabledWarning,onClick:a,onSave:u[2]||(u[2]=c=>n.script.save())},null,8,["loading","disabled"])]),A(g(w0)),A(bB,{ref_key:"tasksRef",ref:r,controller:n.controller,"logs-selected-stage-id":n.script.id,style:{"margin-top":"20px"},onCreate:u[3]||(u[3]=c=>a(c)),onCancel:u[4]||(u[4]=c=>o.value=!1)},null,8,["controller","logs-selected-stage-id"])],64))}});const Vke=bt(Hke,[["__scopeId","data-v-17821f71"]]);class qke{async listComponents(){return await(await fetch("/_editor/api/modules")).json()}async downloadComponent(e){if(!(await fetch("/_editor/api/modules/download",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({github_url:e})})).ok)throw new Error("Failed to download agent")}}const kB=new qke,Wke=he({__name:"ComponentChooser",props:{currentComponent:{},components:{},loading:{type:Boolean}},emits:["select-component","download-complete","cancel"],setup(n,{emit:e}){const t=n,r=e,i=V(""),s=V(t.currentComponent||void 0),o=V(!1),a=V(null),l=V(t.components.length===0?["download"]:[]),u=W(()=>t.components.map(f=>({label:f.label,value:f.name}))),c=(f,p)=>p.label.toLowerCase().includes(f.toLowerCase()),h=async()=>{if(!!i.value){o.value=!0,a.value=null;try{await kB.downloadComponent(i.value),i.value="",r("download-complete")}catch(f){a.value=f instanceof Error?f.message:z.translate("i18n_componentchooser_download_error")}finally{o.value=!1}}},d=()=>{!s.value||r("select-component",s.value)};return(f,p)=>(x(),U(g(Me),{vertical:"",gap:"middle",class:"component-chooser"},{default:T(()=>[A(g(Me),{justify:"space-between",align:"center"},{default:T(()=>[A(g(Ht),{strong:"",class:"component-chooser-title"},{default:T(()=>[te(X(g(z).translate("i18n_componentchooser_choose_component")),1)]),_:1})]),_:1}),A(g(w0),{style:{margin:"0"}}),A(g(Me),{vertical:"",gap:"middle",class:"component-chooser-content"},{default:T(()=>[A(g(Me),{vertical:"",gap:"small"},{default:T(()=>[A(g(li),{layout:"vertical"},{default:T(()=>[A(g(yt),{label:g(z).translate("i18n_componentchooser_select_component")},{default:T(()=>[A(g(xo),{value:s.value,"onUpdate:value":p[0]||(p[0]=m=>s.value=m),placeholder:n.components.length===0?g(z).translate("i18n_componentchooser_no_components_placeholder"):g(z).translate("i18n_componentchooser_select_component_placeholder"),disabled:n.components.length===0,"show-search":"",options:u.value,"filter-option":c},null,8,["value","placeholder","disabled","options"])]),_:1},8,["label"]),A(g(Me),{gap:"small"},{default:T(()=>[A(g(ft),{type:"primary",loading:n.loading,disabled:!s.value,onClick:d},{default:T(()=>[te(X(g(z).translate("i18n_componentchooser_select")),1)]),_:1},8,["loading","disabled"]),A(g(ft),{onClick:p[1]||(p[1]=m=>r("cancel"))},{default:T(()=>[te(X(g(z).translate("i18n_componentchooser_cancel")),1)]),_:1})]),_:1})]),_:1})]),_:1}),A(g(X1),{"active-key":l.value,"onUpdate:activeKey":p[3]||(p[3]=m=>l.value=m),bordered:!1},{default:T(()=>[A(g(zu),{key:"download",header:g(z).translate("i18n_componentchooser_download_components")},{default:T(()=>[A(g(Me),{vertical:"",gap:"small"},{default:T(()=>[A(g(li),{layout:"vertical"},{default:T(()=>[A(g(yt),{label:g(z).translate("i18n_componentchooser_github_url")},{default:T(()=>[A(g(qt),{value:i.value,"onUpdate:value":p[2]||(p[2]=m=>i.value=m),placeholder:g(z).translate("i18n_componentchooser_github_url_placeholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),A(g(ft),{type:"primary",disabled:!i.value||o.value,loading:o.value,onClick:h},{default:T(()=>[te(X(g(z).translate("i18n_componentchooser_download")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["header"])]),_:1},8,["active-key"]),a.value?(x(),U(g(Ds),{key:0,message:a.value,type:"error","show-icon":"",closable:"",onClose:p[4]||(p[4]=m=>a.value=null)},null,8,["message"])):ue("",!0)]),_:1})]),_:1}))}});const jke=bt(Wke,[["__scopeId","data-v-ae24d206"]]),Zke={class:"right-pane"},Uke=he({__name:"RightPane",props:{controller:{},allowShortcuts:{type:Boolean}},emits:["open-tasks","select-stage"],setup(n,{expose:e,emit:t}){const r=n,i=t,s=V(null),o=V(null),a=V(null),l=()=>{const b=o.value;!b||!a.value||!a.value.loadMore||b.scrollTop+b.clientHeight>=b.scrollHeight-10&&a.value.loadMore()},u=b=>{b.key==="Escape"&&r.controller.previewModal.isOpen&&(b.stopPropagation(),b.preventDefault(),r.controller.previewModal.close())},c=async b=>{const k=r.controller.panes.panes.find(_=>{var C;return((C=_.stage)==null?void 0:C.id)===b});k&&r.controller.panes.removeTab(k.key)},h=async()=>{setTimeout(async()=>{await r.controller.stages.fetchStages(),r.controller.panes.renameChangedPanes(r.controller.stages.allStages)},2e3)},d=V(null),f=V(null),p=(b,k)=>{d.value=b,f.value=k,r.controller.previewModal.openToChooseModule()},m=V(!1),y=async b=>{!d.value||!s.value||(m.value=!0,s.value.updateStageModule(d.value,b),await new Promise(k=>setTimeout(k,1e3)),s.value.refetch(),s.value.checkFiles(),m.value=!1,d.value=null,f.value=null,r.controller.previewModal.close())},v=async()=>{await r.controller.components.fetchComponents(),await r.controller.codebase.fetchFiles()};return On(()=>{document.addEventListener("keydown",u)}),or(()=>{document.removeEventListener("keydown",u)}),e({workflowEditorRef:s}),(b,k)=>{var _,C,M,O;return x(),P("div",Zke,[A(Cke,{ref_key:"workflowEditorRef",ref:s,"allow-shortcuts":r.allowShortcuts,onRun:n.controller.run,onRefetch:n.controller.setup,onOpenTasks:k[0]||(k[0]=D=>i("open-tasks",D)),onRemove:k[1]||(k[1]=D=>c(D)),onSelect:k[2]||(k[2]=D=>i("select-stage",D)),onUpdate:h,onChooseModule:p},null,8,["allow-shortcuts","onRun","onRefetch"]),n.controller.previewModal.isOpen?(x(),P("div",{key:0,class:"modal-overlay",onClick:k[6]||(k[6]=D=>n.controller.previewModal.close())},[n.controller.previewModal.type==="stage-run"&&n.controller.panes.currentPane&&n.controller.panes.currentPane.type==="stage"?(x(),P("div",{key:0,ref_key:"modalRef",ref:o,class:"modal-content",onClick:k[3]||(k[3]=ko(()=>{},["stop"])),onScroll:l},[((_=n.controller.panes.currentPane.stage)==null?void 0:_.type)==="form"?(x(),U(Dke,{key:0,"form-state":n.controller.forms.formState,"form-runner-data":n.controller.forms.formRunnerData,"is-loading":n.controller.previewModal.isLoading,"disabled-warning":null,"current-path":n.controller.panes.currentPane.stage.path,"query-params":n.controller.forms.queryParams,"form-controller":n.controller.forms.formRunnerController,controller:n.controller},null,8,["form-state","form-runner-data","is-loading","current-path","query-params","form-controller","controller"])):((C=n.controller.panes.currentPane.stage)==null?void 0:C.type)==="hook"?(x(),U(Pke,{key:1,hook:n.controller.panes.currentPane.stage,"disabled-warning":null},null,8,["hook"])):((M=n.controller.panes.currentPane.stage)==null?void 0:M.type)==="tasklet"?(x(),U(Vke,{key:2,ref_key:"stageTesterRef",ref:a,script:n.controller.panes.currentPane.stage,controller:n.controller,"disabled-warning":null},null,8,["script","controller"])):((O=n.controller.panes.currentPane.stage)==null?void 0:O.type)==="job"?(x(),U(Fke,{key:3,ref_key:"stageTesterRef",ref:a,job:n.controller.panes.currentPane.stage,"disabled-warning":null,controller:n.controller},null,8,["job","controller"])):ue("",!0)],544)):n.controller.previewModal.type==="choose-module"?(x(),P("div",{key:1,ref_key:"modalRef",ref:o,class:"modal-content",onClick:k[5]||(k[5]=ko(()=>{},["stop"])),onScroll:l},[A(jke,{"current-component":f.value,components:n.controller.components.components,loading:m.value,onSelectComponent:y,onDownloadComplete:v,onCancel:k[4]||(k[4]=D=>n.controller.previewModal.close())},null,8,["current-component","components","loading"])],544)):ue("",!0)])):ue("",!0)])}}});const Gke=bt(Uke,[["__scopeId","data-v-a9c62165"]]),f_=100,Kke=vs("bottomPane",()=>{const n=V("logs"),e=V(!1),t=V(250),r=V(!1),i=V(null),s=V(null),o=V(null),a=V(null),l=W(()=>({height:`${t.value}px`})),u=G=>{const N=o.value;!N||N.scrollTop+N.clientHeight>=N.scrollHeight-f_&&G()},c=G=>{const N=a.value;!N||N.scrollTop+N.clientHeight>=N.scrollHeight-f_&&n.value==="tasks"&&G()},h=(G,N)=>{o.value&&o.value.addEventListener("scroll",G),a.value&&a.value.addEventListener("scroll",N)},d=(G,N)=>{o.value&&o.value.removeEventListener("scroll",G),a.value&&a.value.removeEventListener("scroll",N)},f=async(G,N,j)=>{e.value=!e.value,e.value?(await bo(),G(),N()):j()},p=async(G,N)=>{e.value||(e.value=!0,G(),await bo(),N())},m=()=>{e.value=!1},y=async(G,N,j,Z)=>{await p(j,Z),n.value="tasks",N(G)},v=async(G,N)=>{e.value=!0},b=G=>{!r.value||(e.value?t.value=document.body.clientHeight-G.clientY-40:(e.value=!0,bo(()=>{t.value=document.body.clientHeight-G.clientY-40})),t.value<100&&(e.value=!1,t.value=0))},k=()=>{r.value=!1};return{tab:n,open:e,height:t,resizing:r,logsSelectedStageId:i,tasksRef:s,executionsContainer:o,rightRef:a,style:l,handleExecutionsScroll:u,handleRightScroll:c,addEventListeners:h,removeEventListeners:d,toggleConsole:f,openConsole:p,closeTerminal:m,openTasks:y,fixJson:v,mousemove:b,endResize:k,startResize:()=>{r.value=!0},setupResizeListeners:()=>{document.addEventListener("mousemove",b),document.addEventListener("mouseup",k)},cleanupResizeListeners:()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",k)},setTasksRef:G=>{s.value=G},setExecutionsContainer:G=>{o.value=G},setRightRef:G=>{a.value=G},setStageFilter:G=>{i.value=G}}}),Yke=vs("components",()=>{const n=V([]),e=V(!1),t=V(null),r=W(()=>n.value),i=W(()=>e.value),s=W(()=>n.value.length);return{components:n,isLoading:e,error:t,allComponents:r,loading:i,componentCount:s,fetchComponents:async()=>{e.value=!0,t.value=null;try{const u=await kB.listComponents();n.value=[...u]}catch(u){throw t.value=u instanceof Error?u:new Error("Error fetching components"),console.error("Error fetching components:",u),t.value}finally{e.value=!1}},getComponentByName:u=>n.value.find(c=>c.name===u),reset:()=>{n.value=[],e.value=!1,t.value=null}}}),Jke=vs("forms",()=>{const n=V(null),e=V(null),t=V(null),r=V({});let i=null,s=null,o=null,a=null;const l=d5(),u=W(()=>n.value!==null),c=W(()=>e.value),h=W(()=>t.value),d=(C,M,O,D)=>{i=C,s=M,o=O,a=D},f=(C,M)=>{var O,D;if(!s){console.error("Codebase ref not initialized");return}(D=(O=s.value)==null?void 0:O.code)==null||D.setHighlight(C,M)},p=()=>{var C,M,O,D;if(!s){console.error("Codebase ref not initialized");return}(M=(C=s.value)==null?void 0:C.code)==null||M.restartEditor(),(D=(O=s.value)==null?void 0:O.code)==null||D.startPreviewMode()},m=()=>{var C,M;if(!s||!o){console.error("Dependencies not initialized");return}o.value&&o.value.stage&&o.value.stage.type==="form"&&((M=(C=s.value)==null?void 0:C.code)==null||M.restartEditor())},y=(C,M)=>{Vz("editor",l,C,M)};return{formRunnerController:n,formState:e,formRunnerData:t,queryParams:r,isFormLoaded:u,currentFormState:c,runnerData:h,initialize:d,loadForm:C=>{if(!i||!a)throw new Error("Forms store not initialized. Call initialize() first.");const M=a(C.id);if(!M)throw new Error(`LogService not found for form ${C.id}`);t.value=C.makeRunnerData(i.value),n.value=new zz({formRunnerData:t.value,logService:M,connectionManager:new Hz(C.id,"editor",r.value),onFormStart:p,onFormEnd:m,onRedirect:y,onStateUpdate:D=>e.value=D,onStackTraceUpdate:f});const O=n.value.getState();e.value=O.formState},startFormPreview:()=>{if(!n.value)throw new Error("FormRunnerController is not initialized");n.value.start()},resetFormPreview:()=>{var C,M;if(!!n.value){if(!s){console.error("Codebase ref not initialized");return}n.value.resetForm(),(M=(C=s.value)==null?void 0:C.code)==null||M.restartEditor()}},handleStackTraceUpdate:f,handleFormStart:p,handleFormEnded:m,handleRedirect:y,clear:()=>{n.value=null,e.value=null,t.value=null,r.value={}}}}),Xke=vs("logsWrapper",()=>{const n=V(null),e=V(1),t=V(25),r=V(""),i=T_(),s=V(!1),o=W(()=>i),a=W(()=>n.value),l=W(()=>e.value),u=W(()=>t.value);return{selectedExecutionId:n,page:e,pageSize:t,projectId:r,logsStore:i,isInitialized:s,store:o,selectedExecution:a,currentPage:l,currentPageSize:u,initialize:(y,v)=>{s.value||(r.value=y,i.init({executionRepository:new KF,buildRepository:null,projectId:y,filters:{stageId:v!=null?v:""},pagination:{currentIndex:e.value,pageSize:t.value},pool:!1}),s.value=!0)},loadMore:()=>{i.currentPage.loadingExecutions||i.currentPage.executions.length<t.value||(t.value+=t.value,i.pagination.pageSize=t.value)},computeStageLabel:y=>{const v=i.filterOptions.stages.find(b=>b.value===y.stageId);return v?v.label.length>10?`${v.label.slice(0,12)}...`:v.label:"Deleted stage"},getStageStatus:y=>i.filterOptions.stages.find(b=>b.value===y.stageId)?"exists":"deleted",setExecutionFilter:(y,v)=>{n.value=y,v==="logs"&&(i.currentPage.openedExecutionIds=[y],i.fetchEmptyLogs())},clear:()=>{n.value=null,e.value=1,t.value=25,r.value="",s.value=!1}}}),eo="__all_project_files__",Qke=xe.array(xe.object({key:xe.string(),type:xe.enum(["stage","general","requirements","env-vars","image","preferences"]),title:xe.string(),closable:xe.boolean(),filename:xe.string(),editorType:xe.enum(["code","markdown","plaintext","spreadsheet","image","pdf","unknown"]).optional()})),e9e=vs("editorPanes",()=>{const n=V([]),e=V({}),t=V(eo),r=V(null),i=new jh(Qke,"panes"),s=new jh(xe.string(),"selectedTabKey");Et(()=>n.value.length,()=>{i.set(n.value.map(J=>({key:J.key,type:J.type,title:J.title,closable:J.closable,filename:J.filename,editorType:J.editorType})))}),Et(()=>t.value,()=>{s.set(t.value)}),Et(()=>n.value,()=>{if(!(t.value===eo||n.value.some(K=>K.key===t.value)))if(n.value.length>0){const K=n.value[n.value.length-1];t.value=K.key,r.value=K}else t.value=eo,r.value=null},{deep:!0});const o=W(()=>n.value),a=W(()=>r.value),l=J=>n.value.some(K=>K.key===J),u=J=>n.value.find(K=>K.key===J),c=J=>n.value.find(K=>K.filename===J),h=W(()=>t.value===eo),d=J=>{n.value.push(J),e.value[J.filename]=J},f=J=>{const K=n.value.find(ne=>ne.key===J);K&&delete e.value[K.filename],n.value=n.value.filter(ne=>ne.key!==J)},p=(J,K)=>{const ne=n.value.findIndex(pe=>pe.key===J);if(ne!==-1){const pe={...n.value[ne],...K};n.value[ne]=pe,e.value[pe.filename]=pe}},m=J=>{if(t.value=J,J===eo)r.value=null;else{const K=u(J);K&&(r.value=K)}},y=()=>{n.value=[],e.value={},t.value=eo,r.value=null},v=()=>{const J=i.get(),K=s.get();return K&&(t.value=K),J},b=(J,K)=>{e.value[J]=K},k=J=>e.value[J],_=J=>{if(n.value.forEach(K=>{if(K.type==="stage"&&K.stage){const ne=J.find(pe=>{var B;return pe.id===((B=K.stage)==null?void 0:B.id)});ne&&(K.title=ne.title,e.value[K.filename]=K)}}),r.value&&r.value.type==="stage"&&r.value.stage){const K=J.find(ne=>{var pe,B;return ne.id===((B=(pe=r.value)==null?void 0:pe.stage)==null?void 0:B.id)});K&&(r.value.title=K.title)}};let C=null,M=null,O=null;const D=(J,K,ne)=>{C=J,M=K,O=ne},$=J=>{var K,ne;return J.type==="stage"?a4((ne=(K=J.stage)==null?void 0:K.type)!=null?ne:"form"):J.type==="general"?Pf:J.type==="image"?v_:J.type==="requirements"?Z_:J.type==="env-vars"?I_:J.type==="preferences"?g5:Pf},R=async(J,K)=>{var pe,B;if(!C){console.error("Codebase not initialized");return}const ne=n.value.find(Ce=>Ce.filename===J.join("/"));if(ne){ne.codeToDiff=K,t.value=ne.key,r.value=ne;return}if(r.value&&r.value.stage&&await r.value.stage.save(),e.value[J.join("/")]){const Ce=e.value[J.join("/")];t.value=Ce.key,r.value=Ce,r.value.codeToDiff=K,n.value.push(r.value);return}try{const Ce=await C.open(J);if(Ce==null)return;if(Ce.type==="stage"){if(n.value.some(L=>L.key===Ce.stage.id)){t.value=Ce.stage.id;return}const ae={key:Ce.stage.id,type:"stage",title:Ce.stage.title,closable:!0,content:null,filename:J.join("/"),stage:Ce.stage,codeToDiff:K};n.value.push(ae),e.value[Ce.stage.id]=ae,t.value=Ce.stage.id,r.value=ae,M&&M.value&&M.value.workflowEditorRef&&M.value.workflowEditorRef.selectStages([Ce.stage.id])}else if(Ce.type==="general"&&Ce.filename==="abstra.json"){const ae=ha(),L={key:ae,type:"preferences",title:"Project Settings",closable:!0,content:Ce.content,filename:J.join("/"),stage:null};n.value.push(L),e.value[ae]=L,t.value=ae,r.value=L}else if(Ce.type==="general"){const ae=ha(),L=Z7e(J),we={key:ae,type:N_(Ce.filename)?"image":"general",title:Ce.filename,closable:!0,content:Ce.content,filename:J.join("/"),stage:null,codeToDiff:K,editorType:L};n.value.push(we),e.value[ae]=we,t.value=ae,r.value=we}else if(Ce.type==="requirements"){if(n.value.some(we=>we.type==="requirements")){t.value=((pe=n.value.find(we=>we.type==="requirements"))==null?void 0:pe.key)||"all-files";return}const ae=ha(),L={key:ae,type:"requirements",title:"Requirements",closable:!0,content:null,filename:"requirements.txt",stage:null};n.value.push(L),t.value=ae,r.value=L}else if(Ce.type==="env-vars"){if(n.value.some(we=>we.type==="env-vars")){t.value=((B=n.value.find(we=>we.type==="env-vars"))==null?void 0:B.key)||"all-files";return}const ae=ha(),L={key:ae,type:"env-vars",title:"Environment Variables",closable:!0,content:null,filename:".env",stage:null};n.value.push(L),t.value=ae,r.value=L}}catch(Ce){console.warn("Failed to open file:",J.join("/"),Ce)}},G=J=>{if(J=String(J),O&&O(),J===eo){r.value=null,t.value=eo,C&&C.fetchFiles();return}const K=n.value.find(ne=>ne.key===J);K&&(r.value=K,t.value=J)},N=J=>{var ne;J===((ne=r.value)==null?void 0:ne.key)&&O&&O();let K=0;n.value.forEach((pe,B)=>{pe.key===J&&(K=B-1)}),n.value=n.value.filter(pe=>pe.key!==J),n.value.length&&t.value===J&&(K>=0?(t.value=n.value[K].key,r.value=n.value[K]):(t.value=n.value[0].key,r.value=n.value[0])),n.value.length===0&&(t.value=eo,r.value=null)},j=J=>{if(n.value.forEach(K=>{if(K.type==="stage"&&K.stage){const ne=J.find(pe=>{var B;return pe.id===((B=K.stage)==null?void 0:B.id)});ne&&(K.title=ne.title,K.stage=ne,K.filename=ne.file,e.value[K.filename]=K)}}),i.set(n.value.map(K=>({key:K.key,type:K.type,title:K.title,closable:K.closable,filename:K.filename,editorType:K.editorType}))),r.value&&r.value.type==="stage"){const K=J.find(ne=>{var pe,B;return ne.id===((B=(pe=r.value)==null?void 0:pe.stage)==null?void 0:B.id)});K&&(r.value.title=K.title,r.value.stage=K,r.value.filename=K.file)}},Z=async()=>{if(!C){console.error("Codebase not initialized");return}const J=i.get();if(J){const ne=await Promise.all(J.map(async pe=>{const B=await C.open(pe.filename.split("/"));if(B==null)return null;switch(B.type){case"stage":return{...pe,stage:B.stage,content:null,editorType:pe.editorType};case"general":return{...pe,stage:null,content:B.content,editorType:pe.editorType};default:return{...pe,stage:null,content:null,editorType:pe.editorType}}}));n.value=ne.filter(pe=>pe!==null),n.value.forEach(pe=>{e.value[pe.key]=pe})}const K=s.get();K&&(n.value.some(ne=>ne.key===K)?t.value=K:(t.value=eo,s.set(t.value)))},re=W(()=>{var J,K;return{panesCount:n.value.length,selectedTabKey:t.value,currentPaneKey:(J=r.value)==null?void 0:J.key,currentPaneType:(K=r.value)==null?void 0:K.type,allPaneKeys:n.value.map(ne=>ne.key),cacheSize:Object.keys(e.value).length}});return{panes:n,panesCache:e,selectedTabKey:t,currentPane:r,allPanes:o,activePane:a,isAllFilesTabSelected:h,hasPaneWithKey:l,getPaneByKey:u,getPaneByFilename:c,getCachedPane:k,addPane:d,removePane:f,updatePane:p,selectTabBasic:m,clearAllPanes:y,restoreFromLocalStorage:v,updateCache:b,updatePaneTitles:_,initialize:D,getPaneIcon:$,openTab:R,selectTab:G,removeTab:N,renameChangedPanes:j,setup:Z,debugSnapshot:re}}),t9e=vs("previewModal",()=>{const n=V(!1),e=V(!1),t=V(null);let r=null,i=null,s=null;const o=W(()=>n.value),a=W(()=>e.value),l=W(()=>t.value),u=k=>{r=k},c=k=>{i=k},h=k=>{s=k},d=k=>{n.value||(n.value=!0,t.value=k)};return{isOpen:n,isLoading:e,type:t,modalIsOpen:o,modalIsLoading:a,modalType:l,setCloseCallback:u,setStartCallback:c,setResetCallback:h,open:d,close:()=>{!n.value||(r&&r(),n.value=!1,t.value=null)},setLoading:k=>{e.value=k},start:()=>{i&&i()},reset:()=>{s&&s()},openToChooseModule:()=>{n.value||d("choose-module")},clear:()=>{n.value=!1,e.value=!1,t.value=null,r=null,i=null,s=null}}}),n9e=vs("stages",()=>{const n=V([]),e=V([]),t=V([]),r=V([]),i=V([]),s=V(!1),o=V(!1),a=V(null),l=W(()=>n.value),u=W(()=>e.value),c=W(()=>t.value),h=W(()=>r.value),d=W(()=>i.value),f=W(()=>s.value),p=W(()=>o.value);return{allStages:n,forms:e,tasklets:t,hooks:r,jobs:i,hasLoaded:s,isLoading:o,error:a,stages:l,formStages:u,taskletStages:c,hookStages:h,jobStages:d,loaded:f,loading:p,fetchStages:async()=>{o.value=!0,a.value=null;try{const b=P_.list(),k=v5.list(),_=b5.list(),C=w5.list(),[M,O,D,$]=await Promise.all([b,k,_,C]);e.value=M,t.value=O,r.value=D,i.value=$,n.value=[...M,...O,...D,...$],s.value=!0}catch(b){throw a.value=b instanceof Error?b:new Error("Error fetching stages"),console.error("Error fetching stages:",b),a.value}finally{o.value=!1}},getStageById:b=>n.value.find(k=>k.id===b)||null,reset:()=>{n.value=[],e.value=[],t.value=[],r.value=[],i.value=[],s.value=!1,o.value=!1,a.value=null}}}),r9e=vs("tasks",()=>{const n=V("All"),e=V(null),t=V([]),r=V(null),i=W(()=>r.value?r.value.getPossibleActions():[]),s=W(()=>r.value?n.value==="All"?r.value.state.tasks:r.value.state.tasks.filter(D=>D.status===n.value.toLowerCase()):[]),o=W(()=>{var D,$;return($=(D=r.value)==null?void 0:D.state.tasks)!=null?$:[]}),a=W(()=>{var D;return(D=r.value)==null?void 0:D.state}),l=W(()=>{var D,$;return($=(D=r.value)==null?void 0:D.state.colorMap)!=null?$:new Map}),u=W(()=>{var D;return(D=r.value)==null?void 0:D.state.pagination}),c=W(()=>{var D;return(D=r.value)==null?void 0:D.state.filters}),h=W(()=>{var D,$;return($=(D=r.value)==null?void 0:D.state.sentTasks)!=null?$:[]});return{selectedFilter:n,logsSelectedStageId:e,allStages:t,tasksController:r,actions:i,tasks:s,allTasks:o,state:a,colorMap:l,pagination:u,filters:c,sentTasks:h,updateSelectedFilter:D=>{n.value=D},setStageFilter:D=>{r.value&&(r.value.state.filters.stage=D)},selectTask:(D,$)=>{var R;D.stopPropagation(),(R=r.value)==null||R.checkTask($)},selectAll:()=>{!r.value||r.value.state.tasks.forEach(D=>{var $;return($=r.value)==null?void 0:$.checkTask(D.id)})},loadMore:()=>{if(!r.value)return;const D=r.value.state.tasks.length,$=r.value.state.pagination.pageSize;D<$||(r.value.state.pagination.pageSize+=$,r.value.fetchTasks())},clearAllTasks:async()=>{!r.value||await r.value.clearAllTasks()},insertOrUpdate:D=>{var $;($=r.value)==null||$.insertOrUpdate(D)},fetchTasks:async()=>{var D;await((D=r.value)==null?void 0:D.fetchTasks())},initialize:(D,$)=>{e.value=D.value,t.value=$.value,r.value=R_({api:new $_,poll:!1,stages:$.value.map(R=>({id:R.id,stageTitle:R.title,stageType:R.type==="tasklet"?"script":R.type}))}),r.value.state.filters.stage=D.value||void 0,r.value.state.pagination.pageSize=25},setup:async()=>{!r.value||await r.value.setup()},teardown:()=>{var D;(D=r.value)==null||D.tearDown()},reset:()=>{n.value="All",e.value=null,t.value=[],r.value=null}}});class i9e{constructor(e){Ye(this,"ws",null);Ye(this,"selfClosed",!1);Ye(this,"reconnectInterval");this.onMessage=e}get url(){return"/_editor/api/stdio/listen"}handleMessage(e){const t=JSON.parse(e.data);this.onMessage(t)}handleClose(e){this.selfClosed||this.reconnectInterval||(this.reconnectInterval=setInterval(()=>this.reset(),2e3))}clearReconnectInterval(){this.reconnectInterval&&(clearInterval(this.reconnectInterval),this.reconnectInterval=void 0)}async close(){if(!!this.ws){this.selfClosed=!0;try{this.ws.close()}catch{console.warn("already closed")}this.ws=null}}async reset(){await this.close(),await this.connect()}async connect(){return await new Promise(e=>{this.ws=new WebSocket(this.url),this.ws.onopen=()=>e(),this.ws.onclose=t=>this.handleClose(t),this.ws.onmessage=t=>this.handleMessage(t),this.selfClosed=!1,this.clearReconnectInterval()})}}const s9e=vs("webSocket",()=>{const n=V(null),e=V(!1);let t=null;const r=W(()=>e.value);return{wsService:n,isConnected:e,connected:r,initialize:u=>{t=u,n.value=new i9e(async c=>{t&&await t(c)})},connect:async()=>{if(!n.value)throw new Error("WebSocket not initialized. Call initialize() first.");try{await n.value.connect(),e.value=!0}catch(u){throw console.error("Failed to connect WebSocket:",u),e.value=!1,u}},disconnect:async()=>{if(!!n.value)try{await n.value.close(),e.value=!1}catch(u){throw console.error("Failed to disconnect WebSocket:",u),u}},reset:async()=>{if(!!n.value)try{await n.value.reset(),e.value=!0}catch(u){throw console.error("Failed to reset WebSocket:",u),e.value=!1,u}},clear:()=>{n.value=null,e.value=!1,t=null}}}),o9e=(n,e,t,r,i)=>{const s=n9e(),o=Yke(),a=Kke(),l=Xke(),u=G_(),c=r9e(),h=Y_(),d=K_(),f=s9e(),p=t9e(),m=e9e(),y=Jke(),v=b0(),b=V(null),k=new T5,_=d5(),C=X_({api:k,router:_});f.initialize(async Z=>{if(Z.type==="task"){c.insertOrUpdate(Z.payload);return}else if(Z.type==="stdio"){const re=Z.payload.execution_id,J=Z.payload.stage_id,K=l.logsStore.currentPage.executions.map(B=>B.id),ne=a.logsSelectedStageId;u.getLogService(J).log(Z.payload),!K.includes(re)&&(!ne||ne===J)&&(await l.logsStore.fetchPage(),await l.logsStore.refetch())}});const M=()=>{for(const Z of s.allStages)u.logServices[Z.id]||(u.createLogService(Z.id),u.setupLogServiceListener(Z.id,async re=>{var J,K;re.type==="stdout"&&(re.log.includes("Execution started")||re.log.includes("Execution finished")||re.log.includes("Execution failed")||re.log.includes("Execution abandoned"))&&(await l.logsStore.fetchPage(),await l.logsStore.refetch(),re.log.includes("Execution started")||u.clearLogs(Z.id),re.log.includes("Execution failed")?((J=i.value)==null||J.setError({payload:re}),u.setHasErrorLogs(!0)):(K=i.value)==null||K.setError(null))}));f.connect()},O=Z=>u.getLogService(Z);l.initialize(r.params.projectId,a.logsSelectedStageId),c.initialize(W(()=>a.logsSelectedStageId),W(()=>s.allStages));const D=()=>{!p.isOpen||(y.resetFormPreview(),y.handleFormEnded(),p.close())};m.initialize(C,t,D),y.initialize(n,e,W(()=>m.currentPane),Z=>u.getLogService(Z)),p.setCloseCallback(()=>{y.resetFormPreview(),y.handleFormEnded()}),p.setStartCallback(()=>{y.startFormPreview()}),p.setResetCallback(()=>{y.resetFormPreview()});const $=Z=>{a.setStageFilter(Z),l.logsStore.filters.stageId=Z!=null?Z:void 0,c.setStageFilter(Z!=null?Z:void 0)},R=Z=>C.getFileTitle(Z,s.allStages),G=async Z=>{if(p.isOpen)return;p.setLoading(!0);const re=s.allStages.find(J=>J.id===Z);if(!!re){if(await m.openTab([re.file]),u.logServices[Z]?u.clearLogs(Z):M(),re.type==="form"){p.open("stage-run");const J=re;y.loadForm(J),p.setLoading(!1)}else(re.type==="hook"||re.type==="tasklet")&&p.open("stage-run");re.type==="job"&&p.open("stage-run")}};return Et(v.lastEvent,async Z=>{var re,J;m.currentPane===null?await C.fetchFiles((re=Z==null?void 0:Z.filepath.split(C.settings.value.separator).slice(0,-1))!=null?re:[]):(J=v.lastEvent.value)!=null&&J.filepath.includes("abstra.json")&&(await s.fetchStages(),m.renameChangedPanes(s.allStages))}),{stages:s,components:o,panes:m,forms:y,logs:l,tasks:c,linters:h,git:d,bottomPane:a,logServices:u,previewModal:p,webSocket:f,codebaseEvents:v,codebase:C,run:G,setup:async()=>{const Z=s.hasLoaded,re=s.allStages;await s.fetchStages(),await o.fetchComponents(),await C.fetchFiles(),await m.setup(),await l.logsStore.fetchStageOptions(),M();const J=s.allStages;if(!Z)return;const K=J.filter(ne=>!re.some(pe=>pe.id===ne.id));if(K.length>0){const ne=K[0];m.openTab([ne.file])}},teardown:async()=>{await f.disconnect()},getFileTitle:R,getLogService:O,setStageFilter:$,workflowSelectedStageId:b}},a9e=he({__name:"LeftSplit",emits:["click"],setup(n,{emit:e}){const t=e;return(r,i)=>(x(),P("span",{onClick:i[0]||(i[0]=s=>t("click"))},[...i[1]||(i[1]=[F("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#A0A0A0","stroke-width":"2"},[F("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),F("line",{x1:"9",y1:"3",x2:"9",y2:"21"})],-1)])]))}});const l9e=bt(a9e,[["__scopeId","data-v-b0cc6218"]]),u9e=he({__name:"LeftSplitFilled",emits:["click"],setup(n,{emit:e}){const t=e;return(r,i)=>(x(),P("span",{onClick:i[0]||(i[0]=s=>t("click"))},[...i[1]||(i[1]=[F("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#A0A0A0","stroke-width":"2"},[F("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"#A0A0A0",fill:"none"}),F("rect",{x:"3",y:"3",width:"6",height:"18",fill:"#A0A0A0",stroke:"none"}),F("line",{x1:"9",y1:"3",x2:"9",y2:"21"})],-1)])]))}});const c9e=bt(u9e,[["__scopeId","data-v-6930faa7"]]),h9e=he({__name:"MiddleSplit",emits:["click"],setup(n,{emit:e}){const t=e;return(r,i)=>(x(),P("span",{onClick:i[0]||(i[0]=s=>t("click"))},[...i[1]||(i[1]=[F("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#A0A0A0","stroke-width":"2"},[F("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),F("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),F("line",{x1:"15",y1:"3",x2:"15",y2:"21"})],-1)])]))}});const d9e=bt(h9e,[["__scopeId","data-v-dcae5956"]]),f9e=he({__name:"MiddleSplitFilled",emits:["click"],setup(n,{emit:e}){const t=e;return(r,i)=>(x(),P("span",{onClick:i[0]||(i[0]=s=>t("click"))},[...i[1]||(i[1]=[sF('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#A0A0A0" stroke-width="2" data-v-97957b4d><rect x="3" y="3" width="18" height="18" rx="2" stroke="#A0A0A0" fill="none" data-v-97957b4d></rect><rect x="9" y="3" width="6" height="18" fill="#A0A0A0" stroke="none" data-v-97957b4d></rect><line x1="9" y1="3" x2="9" y2="21" data-v-97957b4d></line><line x1="15" y1="3" x2="15" y2="21" data-v-97957b4d></line></svg>',1)])]))}});const p9e=bt(f9e,[["__scopeId","data-v-97957b4d"]]),m9e=he({__name:"RightSplit",emits:["click"],setup(n,{emit:e}){const t=e;return(r,i)=>(x(),P("span",{onClick:i[0]||(i[0]=s=>t("click"))},[...i[1]||(i[1]=[F("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#A0A0A0","stroke-width":"2"},[F("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),F("line",{x1:"15",y1:"3",x2:"15",y2:"21"})],-1)])]))}});const g9e=bt(m9e,[["__scopeId","data-v-ff0ae6ee"]]),y9e=he({__name:"RightSplitFilled",emits:["click"],setup(n,{emit:e}){const t=e;return(r,i)=>(x(),P("span",{onClick:i[0]||(i[0]=s=>t("click"))},[...i[1]||(i[1]=[F("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#A0A0A0","stroke-width":"2"},[F("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"#A0A0A0",fill:"none"}),F("rect",{x:"15",y:"3",width:"6",height:"18",fill:"#A0A0A0",stroke:"none"}),F("line",{x1:"15",y1:"3",x2:"15",y2:"21"})],-1)])]))}});const v9e=bt(y9e,[["__scopeId","data-v-535ecf29"]]),w9e=he({__name:"NewEditor",props:{workspace:{}},emits:["save-workspace"],setup(n,{emit:e}){const t=n,r=e,i=W(()=>t.workspace),s=y_(),o=V(null),a=V(null),l=V(null),u=V(null),c=V(null),h=new T5,d=d5(),{settings:f}=X_({api:h,router:d}),p=W(()=>{var D;return(D=a.value)==null?void 0:D.controller}),m=o9e(i,l,c,s,p),y=W(()=>{var $,R,G;if(!m||!(($=m.panes.currentPane)!=null&&$.stage)||!((R=o.value)!=null&&R.panels.center.open))return;const D=(G=m.forms.formRunnerController)==null?void 0:G.publicLogService;return{stage:m.panes.currentPane.stage,workspace:i.value,logService:D||void 0}}),v=W(()=>{var $,R,G,N,j;return{leftPane:{description:"Pane with AI chat with this conversation",isOpened:!!(($=o.value)!=null&&$.panels.left.open),metadata:{}},centerPane:{description:"Pane with the user directory filetree, code editor, and file viewer",isOpened:!!((R=o.value)!=null&&R.panels.center.open),metadata:{openedTabs:m.panes.panes.map(Z=>({key:Z.key,type:Z.type,title:Z.title,file:Z.filename,stage:Z.stage?{id:Z.stage.id,type:Z.stage.type,file:Z.stage.type}:null})),activeTab:((G=m.panes.currentPane)==null?void 0:G.key)||null}},rightPane:{description:"Pane with the workflow editor and the modal for running stages",isOpened:!!((N=o.value)!=null&&N.panels.right.open),metadata:{isModalOpen:m.previewModal.isOpen,activeStage:(j=m.panes.currentPane)!=null&&j.stage?{id:m.panes.currentPane.stage.id,type:m.panes.currentPane.stage.type,file:m.panes.currentPane.stage.type}:null}}}}),b=D=>{D.type!=="components"&&(D.props.filename&&m.panes.openTab(D.props.filename.split(f.value.separator)),m.workflowSelectedStageId.value=D.id)},k=D=>{var $;l.value&&(($=l.value.code)==null||$.exitDiff(D))},_=async(D,$)=>{if(!p.value)return;const R=m.stages.getStageById($);if(!R)return;await p.value.abort(),await m.panes.openTab([R.file]);const G=await t.workspace.readFile(R.file);await p.value.askAboutError(D,G)},C=async(D,$)=>{var R;(R=p.value)==null||R.fixIssueWithAI(D,$)},M=async D=>{o.value&&!o.value.panels.right.open&&o.value.openPanel("right"),await m.run(D)},O=D=>{if(Is(D)&&(D.key==="s"||D.key==="S")){D.preventDefault();return}};return Et(()=>{var D,$;return($=(D=l.value)==null?void 0:D.code)==null?void 0:$.previewInfo},D=>{!D||!p.value||(D.isPreview?p.value.setExecutingFormFile(D.file):p.value.setExecutingFormFile(null))}),oF(async()=>{window.addEventListener("keydown",O),await m.setup()}),or(()=>{window.removeEventListener("keydown",O),m.teardown()}),(D,$)=>(x(),U(UX,null,{navbar:T(()=>{var R,G;return[A(OX,{"page-title":i.value.brandName,saving:((G=(R=l.value)==null?void 0:R.code)==null?void 0:G.saving)||!1,onFixIssueWithAi:C,onGitPull:g(m).setup},{"extra-left":T(()=>[A(g(Me),{gap:"6",class:"icons-container"},{default:T(()=>{var N,j,Z;return[(N=o.value)!=null&&N.panels.left.open?(x(),U(c9e,{key:0,onClick:$[0]||($[0]=re=>{var J;return(J=o.value)==null?void 0:J.closePanel("left")})})):(x(),U(l9e,{key:1,onClick:$[1]||($[1]=re=>{var J;return(J=o.value)==null?void 0:J.openPanel("left")})})),(j=o.value)!=null&&j.panels.center.open?(x(),U(p9e,{key:2,onClick:$[2]||($[2]=re=>{var J;return(J=o.value)==null?void 0:J.closePanel("center")})})):(x(),U(d9e,{key:3,onClick:$[3]||($[3]=re=>{var J;return(J=o.value)==null?void 0:J.openPanel("center")})})),(Z=o.value)!=null&&Z.panels.right.open?(x(),U(v9e,{key:4,onClick:$[4]||($[4]=re=>{var J;return(J=o.value)==null?void 0:J.closePanel("right")})})):(x(),U(g9e,{key:5,onClick:$[5]||($[5]=re=>{var J;return(J=o.value)==null?void 0:J.openPanel("right")})}))]}),_:1})]),_:1},8,["page-title","saving","onGitPull"])]}),content:T(()=>[A(BX,{ref_key:"editorLayoutRef",ref:o,"has-stages":g(m).stages.hasLoaded?g(m).stages.allStages.length>0:void 0},{left:T(()=>[A(rX,{ref_key:"editorOmniChatRef",ref:a,"stage-editor-info":y.value,"panes-info":v.value,"hide-close":"",onAnswer:k},null,8,["stage-editor-info","panes-info"])]),center:T(()=>[(x(),U(X7e,{ref_key:"codebaseRef",ref:l,key:`codebase-${g(m).panes.panes.length}`,workspace:i.value,controller:g(m),"smart-chat-controller":p.value,"panes-info":v.value,onSaveWorkspace:$[6]||($[6]=R=>r("save-workspace")),onOpenCenterPane:$[7]||($[7]=R=>{var G;return(G=o.value)==null?void 0:G.openPanel("center")}),onRunStage:M},null,8,["workspace","controller","smart-chat-controller","panes-info"]))]),right:T(()=>{var R;return[A(Gke,{ref_key:"rightPaneRef",ref:c,controller:g(m),"allow-shortcuts":((R=o.value)==null?void 0:R.activePanel)==="right"&&!g(m).previewModal.isOpen,onOpenTasks:$[8]||($[8]=G=>{var N;return(N=u.value)==null?void 0:N.openTasks(G)}),onSelectStage:b},null,8,["controller","allow-shortcuts"])]}),_:1},8,["has-stages"])]),footer:T(()=>{var R,G;return[A(nX,{ref_key:"bottomPaneRef",ref:u,workspace:i.value,controller:g(m),"is-smart-chat-idle":(G=(R=p.value)==null?void 0:R.isIdle())!=null?G:!0,onAskAi:_},null,8,["workspace","controller","is-smart-chat-idle"])]}),_:1}))}});const b9e=bt(w9e,[["__scopeId","data-v-c20806e0"]]),k9e=he({__name:"NewEditor",setup(n){const{result:e,refetch:t}=Hh(()=>Promise.all([Gn.get()]).then(([r])=>aF({workspace:r})));return(r,i)=>g(e)?(x(),U(b9e,{key:0,workspace:g(e).workspace,onSaveWorkspace:g(t)},null,8,["workspace","onSaveWorkspace"])):ue("",!0)}}),qxe=Object.freeze(Object.defineProperty({__proto__:null,default:k9e},Symbol.toStringTag,{value:"Module"}));export{moe as A,ns as B,QP as C,$ne as D,ze as E,b4 as F,vu as G,se as H,Mn as I,t0 as J,qxe as K,Lv as L,U5 as N,lE as P,ln as T,soe as a,Hxe as b,Rxe as c,Qye as d,yr as e,goe as f,Fr as g,St as h,VO as i,Pxe as j,Lxe as k,$xe as l,Oxe as m,Vxe as n,ye as o,Ixe as p,zoe as q,noe as r,Jse as s,fe as t,zO as u,Ki as v,A0 as w,Nl as x,_0 as y,Tt as z};
//# sourceMappingURL=NewEditor.87e0c781.js.map
