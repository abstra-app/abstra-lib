import{u as G}from"./userStore.5192b178.js";import{E as M,l as Y}from"./router.ed823a0a.js";import{d as V,c as S,o as s,ac as T,a as f,b as t,g as I,t as w,u as e,i as a,bY as $,h as U,f as o,_ as z,w as j,bQ as x,cE as h,cD as q,T as F,aI as R,cW as P,eB as A,cU as O,aY as D,cA as H,bT as Q,r as L,al as W,e as C,ec as J,eA as X,Q as Z}from"./jwt-decode.esm.fbcfeaec.js";import{b as E}from"./index.561c6514.js";import{_ as K}from"./AbstraLogo.vue_vue_type_script_setup_true_lang.6b048d65.js";import{S as ee,A as ae}from"./index.900c7d37.js";import"./index.d9ce41fc.js";import"./Logo.6d480788.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},b=new Error().stack;b&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[b]="2c622ef9-bfcc-4e34-807f-2e7b65146c7e",n._sentryDebugIdIdentifier="sentry-dbid-2c622ef9-bfcc-4e34-807f-2e7b65146c7e")}catch{}})();async function le(n){const b=G(),g={email:n.basicInfo.email,name:n.basicInfo.name,work_email:n.basicInfo.workEmail,company_name:n.companyInfo.companyName,company_domain:n.companyInfo.companyDomain,team:n.companyInfo.team,other_team:n.companyInfo.otherTeam,role:n.companyInfo.role,python_experience:n.userDetails.pythonExperience,has_use_case:n.userDetails.hasUseCase,reported_use_cases:n.userDetails.reportedUseCases,other_use_cases:n.userDetails.otherUseCases,tools:n.userDetails.tools,source:n.sourceInfo.reportedSource,other_source:n.sourceInfo.otherSource,ref_url:document.referrer},u=await fetch(`${M.onboarding}/_hooks/onboarding-completed`,{method:"POST",headers:{"Content-Type":"application/json",token:b.jwt||""},body:JSON.stringify(g)});if(!u.ok)throw new Error(`Failed to submit onboarding data: ${u.statusText}`)}const oe={class:"form-actions"},te=V({__name:"OnboardingFormActions",props:{showBack:{type:Boolean,default:!1},isSubmit:{type:Boolean,default:!1},submitText:{default:void 0},loading:{type:Boolean,default:!1}},emits:["back"],setup(n){const b=n,g=S(()=>b.isSubmit?b.submitText||a.translate("i18n_onboardingformactions_complete"):a.translate("i18n_onboardingformactions_next"));return(u,i)=>(s(),T("div",oe,[n.showBack?(s(),f(e($),{key:0,size:"large",onClick:i[0]||(i[0]=d=>u.$emit("back"))},{default:t(()=>[I(w(e(a).translate("i18n_onboardingformactions_back")),1)]),_:1})):U("",!0),o(e($),{type:"primary",size:"large","html-type":"submit",loading:n.loading},{default:t(()=>[I(w(g.value),1)]),_:1},8,["loading"])]))}});const B=z(te,[["__scopeId","data-v-706fd497"]]),ne={key:1,class:"warning-text"},re=V({__name:"BasicUserInfo",props:{modelValue:{}},emits:["update:modelValue","next"],setup(n,{emit:b}){const{Title:g,Text:u}=F,i=n,d=b,l=S({get:()=>i.modelValue,set:v=>d("update:modelValue",v)}),k=Y.getAuthor();k&&!l.value.email&&(l.value={...l.value,email:k.claims.email});const y=["gmail.com","yahoo.com","hotmail.com","outlook.com","icloud.com","protonmail.com","aol.com"],_=S(()=>!l.value.email||!l.value.email.includes("@")?"":l.value.email.split("@")[1]||""),m=S(()=>y.includes(_.value.toLowerCase())),p=S(()=>{if(!l.value.name)return a.translate("i18n_onboardingbasicuserinfo_workemail_placeholder");const v=l.value.name.replace(/[^a-zA-Z0-9]/g,"").toLowerCase();return v?`${v}@coolcompany.com`:a.translate("i18n_onboardingbasicuserinfo_workemail_placeholder")});j(_,v=>{y.includes(v.toLowerCase())||(l.value={...l.value,workEmail:l.value.email})});const r=()=>{d("next")};return(v,c)=>(s(),f(e(q),{layout:"vertical",model:l.value,onFinish:r},{default:t(()=>[o(e(g),{level:3},{default:t(()=>[I(w(e(a).translate("i18n_onboardingbasicuserinfo_title")),1)]),_:1}),o(e(h),{label:e(a).translate("i18n_onboardingbasicuserinfo_name_label"),name:"name",rules:[{required:!0,message:e(a).translate("i18n_onboardingbasicuserinfo_name_required")}]},{default:t(()=>[o(e(x),{value:l.value.name,"onUpdate:value":c[0]||(c[0]=N=>l.value.name=N),placeholder:e(a).translate("i18n_onboardingbasicuserinfo_name_placeholder"),size:"large"},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),o(e(h),{label:e(a).translate("i18n_onboardingbasicuserinfo_email_label")},{default:t(()=>[o(e(x),{value:l.value.email,disabled:"",size:"large"},null,8,["value"])]),_:1},8,["label"]),m.value?(s(),f(e(h),{key:0,label:e(a).translate("i18n_onboardingbasicuserinfo_workemail_label"),name:"workEmail",rules:[{required:!1,type:"email",message:e(a).translate("i18n_onboardingbasicuserinfo_workemail_invalid")}]},{default:t(()=>[o(e(x),{value:l.value.workEmail,"onUpdate:value":c[1]||(c[1]=N=>l.value.workEmail=N),placeholder:p.value,size:"large"},null,8,["value","placeholder"])]),_:1},8,["label","rules"])):U("",!0),m.value?(s(),T("div",ne,[o(e(u),{type:"warning"},{default:t(()=>[I(w(e(a).translate("i18n_onboardingbasicuserinfo_warning")),1)]),_:1})])):U("",!0),o(B)]),_:1},8,["model"]))}});const se=z(re,[["__scopeId","data-v-07f3e15e"]]),ue=["Finance","Accounting","Tax","FinOps","Financial Planning & Analysis","Operations","Product","Marketing","Sales","Cybersecurity","Customer Success","HR","Other"],ie=[{value:"I've never used Python before, but I'm excited to learn",label:"I've never used Python before, but I'm excited to learn"},{value:"I sometimes use ChatGPT to generate Python scripts",label:"I sometimes use ChatGPT to generate Python scripts"},{value:"I've written some Python here and there",label:"I've written some Python here and there"},{value:"I use Python regularly",label:"I use Python regularly"}],de=["Enable other teammates to run my scripts","Design workflows with manual and automated steps","Schedule my scripts to run automatically","Integrate and connect the tools my team uses","Automate spreadsheet work","Use AI to parse documents","Build an automated workflow","Create automated reports","Other"],ce=["Google","Linkedin","Github","Youtube","From a friend or coworker","Event or conference","Other"],me=["Excel","Google Sheets","Salesforce","Slack"],_e=V({__name:"CompanyInfo",props:{modelValue:{}},emits:["update:modelValue","next","back"],setup(n,{emit:b}){const g=n,u=b,i=S({get:()=>g.modelValue,set:y=>u("update:modelValue",y)}),d=ue.map(y=>({label:y,value:y})),l=()=>{u("next")},k=()=>{u("back")};return(y,_)=>(s(),f(e(q),{layout:"vertical",model:i.value,onFinish:l},{default:t(()=>[o(e(h),{label:e(a).translate("i18n_onboardingcompanyinfo_company_label"),name:"companyName",rules:[{required:!0,message:e(a).translate("i18n_onboardingcompanyinfo_company_required")}]},{default:t(()=>[o(e(x),{value:i.value.companyName,"onUpdate:value":_[0]||(_[0]=m=>i.value.companyName=m),placeholder:e(a).translate("i18n_onboardingcompanyinfo_company_placeholder"),size:"large"},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),o(e(h),{label:e(a).translate("i18n_onboardingcompanyinfo_website_label"),name:"companyDomain"},{default:t(()=>[o(e(x),{value:i.value.companyDomain,"onUpdate:value":_[1]||(_[1]=m=>i.value.companyDomain=m),placeholder:e(a).translate("i18n_onboardingcompanyinfo_website_placeholder"),size:"large"},null,8,["value","placeholder"])]),_:1},8,["label"]),o(e(h),{label:e(a).translate("i18n_onboardingcompanyinfo_team_label"),name:"team",rules:[{required:!0,message:e(a).translate("i18n_onboardingcompanyinfo_team_required")}]},{default:t(()=>[o(e(R),{value:i.value.team,"onUpdate:value":_[2]||(_[2]=m=>i.value.team=m),placeholder:e(a).translate("i18n_onboardingcompanyinfo_team_placeholder"),size:"large",options:e(d)},null,8,["value","placeholder","options"])]),_:1},8,["label","rules"]),i.value.team==="Other"?(s(),f(e(h),{key:0,label:e(a).translate("i18n_onboardingcompanyinfo_otherteam_label"),name:"otherTeam",rules:[{required:!0,message:e(a).translate("i18n_onboardingcompanyinfo_otherteam_required")}]},{default:t(()=>[o(e(x),{value:i.value.otherTeam,"onUpdate:value":_[3]||(_[3]=m=>i.value.otherTeam=m),placeholder:e(a).translate("i18n_onboardingcompanyinfo_otherteam_placeholder"),size:"large"},null,8,["value","placeholder"])]),_:1},8,["label","rules"])):U("",!0),o(e(h),{label:e(a).translate("i18n_onboardingcompanyinfo_role_label"),name:"role",rules:[{required:!0,message:e(a).translate("i18n_onboardingcompanyinfo_role_required")}]},{default:t(()=>[o(e(x),{value:i.value.role,"onUpdate:value":_[4]||(_[4]=m=>i.value.role=m),placeholder:e(a).translate("i18n_onboardingcompanyinfo_role_placeholder"),size:"large"},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),o(B,{"show-back":"",onBack:k})]),_:1},8,["model"]))}}),pe=V({__name:"SourceInfo",props:{modelValue:{},loading:{type:Boolean}},emits:["update:modelValue","submit","back"],setup(n,{emit:b}){const{Title:g}=F,{TextArea:u}=x,i=n,d=b,l=S({get:()=>i.modelValue,set:m=>d("update:modelValue",m)}),k=ce,y=()=>{d("submit")},_=()=>{d("back")};return(m,p)=>(s(),f(e(q),{layout:"vertical",model:l.value,onFinish:y},{default:t(()=>[o(e(g),{level:3},{default:t(()=>[I(w(e(a).translate("i18n_onboardingsourceinfo_title")),1)]),_:1}),o(e(h),{label:e(a).translate("i18n_onboardingsourceinfo_source_label"),name:"reportedSource"},{default:t(()=>[o(e(P),{value:l.value.reportedSource,"onUpdate:value":p[0]||(p[0]=r=>l.value.reportedSource=r),size:"large"},{default:t(()=>[o(e(E),{direction:"vertical"},{default:t(()=>[(s(!0),T(D,null,A(e(k),r=>(s(),f(e(O),{key:r,value:r},{default:t(()=>[I(w(r),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),l.value.reportedSource==="Other"?(s(),f(e(h),{key:0,label:e(a).translate("i18n_onboardingsourceinfo_other_label"),name:"otherSource",rules:[{required:!0,message:e(a).translate("i18n_onboardingsourceinfo_other_required")}]},{default:t(()=>[o(e(u),{value:l.value.otherSource,"onUpdate:value":p[1]||(p[1]=r=>l.value.otherSource=r),rows:3,placeholder:e(a).translate("i18n_onboardingsourceinfo_other_placeholder")},null,8,["value","placeholder"])]),_:1},8,["label","rules"])):U("",!0),o(B,{"show-back":"","is-submit":"",loading:n.loading,onBack:_},null,8,["loading"])]),_:1},8,["model"]))}}),be={key:0},ve=V({__name:"UserDetails",props:{modelValue:{}},emits:["update:modelValue","next","back"],setup(n,{emit:b}){const{Title:g}=F,{TextArea:u}=x,i=n,d=b,l=S({get:()=>i.modelValue,set:r=>d("update:modelValue",r)}),k=ie,y=de,_=me,m=()=>{d("next")},p=()=>{d("back")};return(r,v)=>(s(),f(e(q),{layout:"vertical",model:l.value,onFinish:m},{default:t(()=>[o(e(g),{level:3},{default:t(()=>[I(w(e(a).translate("i18n_onboardinguserdetails_title")),1)]),_:1}),o(e(h),{label:e(a).translate("i18n_onboardinguserdetails_python_label"),name:"pythonExperience",rules:[{required:!0,message:e(a).translate("i18n_onboardinguserdetails_python_required")}]},{default:t(()=>[o(e(P),{value:l.value.pythonExperience,"onUpdate:value":v[0]||(v[0]=c=>l.value.pythonExperience=c),size:"large"},{default:t(()=>[o(e(E),{direction:"vertical"},{default:t(()=>[(s(!0),T(D,null,A(e(k),c=>(s(),f(e(O),{key:c.value,value:c.value},{default:t(()=>[I(w(c.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"])]),_:1},8,["label","rules"]),o(e(h),{label:e(a).translate("i18n_onboardinguserdetails_usecase_label"),name:"hasUseCase",rules:[{required:!0,message:e(a).translate("i18n_onboardinguserdetails_usecase_required")}]},{default:t(()=>[o(e(P),{value:l.value.hasUseCase,"onUpdate:value":v[1]||(v[1]=c=>l.value.hasUseCase=c),size:"large"},{default:t(()=>[o(e(E),{direction:"vertical"},{default:t(()=>[o(e(O),{value:!0},{default:t(()=>[I(w(e(a).translate("i18n_onboardinguserdetails_usecase_yes")),1)]),_:1}),o(e(O),{value:!1},{default:t(()=>[I(w(e(a).translate("i18n_onboardinguserdetails_usecase_no")),1)]),_:1})]),_:1})]),_:1},8,["value"])]),_:1},8,["label","rules"]),l.value.hasUseCase?(s(),T("div",be,[o(e(h),{label:e(a).translate("i18n_onboardinguserdetails_mainusecase_label"),name:"reportedUseCases",rules:[{required:!0,message:e(a).translate("i18n_onboardinguserdetails_mainusecase_required"),type:"array",min:1}]},{default:t(()=>[o(e(H),{value:l.value.reportedUseCases,"onUpdate:value":v[2]||(v[2]=c=>l.value.reportedUseCases=c)},{default:t(()=>[o(e(E),{direction:"vertical"},{default:t(()=>[(s(!0),T(D,null,A(e(y),c=>(s(),f(e(Q),{key:c,value:c},{default:t(()=>[I(w(c),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"])]),_:1},8,["label","rules"]),l.value.reportedUseCases.includes("Integrate and connect the tools my team uses")?(s(),f(e(h),{key:0,label:e(a).translate("i18n_onboardinguserdetails_tools_label")},{default:t(()=>[o(e(R),{value:l.value.tools,"onUpdate:value":v[3]||(v[3]=c=>l.value.tools=c),mode:"tags",placeholder:e(a).translate("i18n_onboardinguserdetails_tools_placeholder"),size:"large","default-value":e(_)},null,8,["value","placeholder","default-value"])]),_:1},8,["label"])):U("",!0),l.value.reportedUseCases.includes("Other")?(s(),f(e(h),{key:1,label:e(a).translate("i18n_onboardinguserdetails_other_label"),name:"otherUseCases",rules:[{required:!0,message:e(a).translate("i18n_onboardinguserdetails_other_required")}]},{default:t(()=>[o(e(u),{value:l.value.otherUseCases,"onUpdate:value":v[4]||(v[4]=c=>l.value.otherUseCases=c),rows:3,placeholder:e(a).translate("i18n_onboardinguserdetails_other_placeholder")},null,8,["value","placeholder"])]),_:1},8,["label","rules"])):U("",!0)])):U("",!0),o(B,{"show-back":"",onBack:p})]),_:1},8,["model"]))}}),fe={class:"onboarding-container"},ge={class:"onboarding-form"},ye={class:"header"},he={class:"form-content"},ke=V({__name:"OnboardingView",setup(n){const b=J(),g=X(),u=L(0),i=[a.translate("i18n_onboardingview_step_basicinfo"),a.translate("i18n_onboardingview_step_company"),a.translate("i18n_onboardingview_step_details"),a.translate("i18n_onboardingview_step_source")],d=W({basicInfo:{name:"",email:"",workEmail:""},companyInfo:{companyName:"",companyDomain:"",team:"",otherTeam:"",role:""},userDetails:{pythonExperience:"",hasUseCase:!1,reportedUseCases:[],otherUseCases:"",tools:[]},sourceInfo:{reportedSource:"",otherSource:""}}),l=()=>{u.value<i.length-1&&u.value++},k=()=>{u.value>0&&u.value--},y=L(!1),_=async()=>{y.value=!0;try{await le(d)}catch(r){Z(r,{extra:{step:"submitOnboarding",formData:d}});return}finally{y.value=!1}const m=g.query.redirect,p=g.query["prev-redirect"];if(m){const r=m.split("/").at(-1);await b.push({path:r,query:{...g.query,redirect:p,"prev-redirect":void 0}});return}b.push({name:"home"})};return(m,p)=>(s(),T("div",fe,[C("div",ge,[C("div",ye,[o(K,{"hide-text":"",size:"large"}),C("h2",null,w(e(a).translate("i18n_onboardingview_welcome")),1),o(e(ae),{current:u.value,size:"small",class:"step-indicator"},{default:t(()=>[(s(),T(D,null,A(i,r=>o(e(ee),{key:r,title:r,disabled:!0},null,8,["title"])),64))]),_:1},8,["current"])]),C("div",he,[u.value===0?(s(),f(se,{key:0,modelValue:d.basicInfo,"onUpdate:modelValue":p[0]||(p[0]=r=>d.basicInfo=r),onNext:l},null,8,["modelValue"])):u.value===1?(s(),f(_e,{key:1,modelValue:d.companyInfo,"onUpdate:modelValue":p[1]||(p[1]=r=>d.companyInfo=r),onNext:l,onBack:k},null,8,["modelValue"])):u.value===2?(s(),f(ve,{key:2,modelValue:d.userDetails,"onUpdate:modelValue":p[2]||(p[2]=r=>d.userDetails=r),onNext:l,onBack:k},null,8,["modelValue"])):u.value===3?(s(),f(pe,{key:3,modelValue:d.sourceInfo,"onUpdate:modelValue":p[3]||(p[3]=r=>d.sourceInfo=r),loading:y.value,onSubmit:_,onBack:k},null,8,["modelValue","loading"])):U("",!0)])])]))}});const Oe=z(ke,[["__scopeId","data-v-80b342b1"]]);export{Oe as default};
//# sourceMappingURL=OnboardingView.cd6322cf.js.map
