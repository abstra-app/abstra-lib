var dt=Object.defineProperty;var gt=(i,t,e)=>t in i?dt(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var l=(i,t,e)=>(gt(i,typeof t!="symbol"?t+"":t,e),e);import{p as T}from"./passwordlessManager.271a8058.js";import{r as O,aw as ut,p as A,b as y,c as E,N as pt,O as wt,v as M,d as q,J as P,a as bt,F as ft,K as yt,z as $,e as L,y as C,B as rt,q as I,at as mt,au as vt,a8 as xt,E as ot,x as St,w as D,A as tt,o as Et,Q as Rt,ax as _t,ay as kt,S as Wt}from"./registerWidgets.04dc761e.js";import{i as B,l as Pt,w as nt,m as v}from"./runnerData.f4774ebb.js";import{e as Ct,R as It}from"./executeJs.740555ed.js";import{l as et}from"./log.0073b587.js";import{P as Mt}from"./Passwordless.0107ba48.js";import{W as Lt}from"./WidgetsFrame.e00c0ab1.js";import{e as Dt}from"./icons.d4e872e2.js";function Ht(i,t){return{dx:t.x-i.x,dy:t.y-i.y,referential:i.referential}}function zt(i,t){return i.rowEnd<t.rowStart||i.colEnd<t.colStart&&i.rowStart<t.rowEnd?-1:1}function k(i,t){const e=t.margin+i.colStart*(t.gap+t.cellWidth),s=t.margin+t.navbarLength+i.rowStart*(t.gap+t.cellHeight),r=t.margin-t.gap+(t.gap+t.cellWidth)*(i.colEnd+1),o=t.margin+t.navbarLength-t.gap+(t.gap+t.cellHeight)*(i.rowEnd+1);return{x:e,y:s,width:r-e,height:o-s,referential:"world"}}function Ot(i,t){return{...i,position:{colStart:i.position.colStart+t.deltaI,colEnd:i.position.colEnd+t.deltaI,rowStart:i.position.rowStart+t.deltaJ,rowEnd:i.position.rowEnd+t.deltaJ}}}function Nt(i,t,e=!1){return e?t.x<=i.x&&t.x+t.width>=i.x&&t.y<=i.y&&t.y+t.height>=i.y:t.x<i.x&&t.x+t.width>i.x&&t.y<i.y&&t.y+t.height>i.y}function Fe(i,t){return!(i.x>t.x+t.width||t.x>i.x+i.width||i.y>t.y+t.height||t.y>i.y+i.height)}function Ve(i,t){return!(i.colStart>t.colEnd||t.colStart>i.colEnd||i.rowStart>t.rowEnd||t.rowStart>i.rowEnd)}function qe(i,t,e){const s=i.y===t.y,r=i.x===t.x,o=i.x+i.width===t.x+t.width,n=i.y+i.height===t.y+t.height;switch(e){case"left":return r;case"right":return o;case"top":return s;case"bottom":return n;case"top-left":return s&&r;case"top-right":return s&&o;case"bottom-left":return n&&r;case"bottom-right":return n&&o}}const Gt=i=>i.reduce((t,e)=>{const s=t?Math.min(t.x,e.x):e.x,r=t?Math.min(t.y,e.y):e.y,o=t?Math.max(t.x+t.width,e.x+e.width):e.x+e.width,n=t?Math.max(t.y+t.height,e.y+e.height):e.y+e.height;return{x:s,y:r,width:o-s,height:n-r,referential:e.referential}},null);function Je(i,t){return Math.sqrt((i.x-t.x)**2+(i.y-t.y)**2)}function At(i){const t=[];let e=0;for(const s in i){const[r,o]=i[s];e+=i.filter(([a,h,g],c)=>!(o.position.colStart>h.position.colEnd||h.position.colStart>o.position.colEnd)&&h.position.rowEnd+g>o.position.rowStart&&c<+s).reduce((a,h)=>a+Math.max(h[2],0),0);const n=Ot(o,{deltaJ:e,deltaI:0});t.push([r,n])}return t}const Tt="rgba(0, 128, 233, 0.05)";class N{constructor(t){l(this,"context");this.canvas=t,this.context=this.canvas.getContext("2d"),H.setContext(this.context)}static create(t){return new N(t)}render({mouseState:t,grid:e,camera:s,hoverState:r,resizeHandlerRects:o,widgetsInRectangularSelection:n,selectedWidgets:a,computedState:h,isPreview:g,calculatedPositions:c,selectedSlottable:d}){if(!s)throw new Error("No camera value yet");this.renderFrame(e,s),this.renderGrid(e,s,t),this.renderWidgetShadow(h,e,s,c.widgets),this.renderWidgetHoverBorders(r,t,s,e,c.widgets),this.renderSelectionHull(t,s,e,a,c.widgets),this.renderWidgetsSelectionBorders(t,a,s,e,c.widgets),this.renderRectangularSelection(t),this.renderRectangularSelectionHovers(t,n,s,e,c.widgets),this.renderResizeHandlers(t,o),g||(H.slottables=c.slottables,H.renderSlottables(d))}renderFrame(t,e){const s={x:0,y:0,width:t.width,height:t.height+t.navbarLength,referential:"world"};this.context.fillStyle="transparent",this.context.shadowColor="rgba(0,0,0,0.1)",this.context.shadowBlur=15;const r=e.worldRect2screen(s);this.context.fillRect(r.x,r.y,r.width,r.height),this.context.clearRect(r.x,r.y,r.width,r.height)}getGridDots(t,e){var c;const s=[],r=e.worldPoint2screen({y:0,x:0,referential:"world"}),o=(c=e.projectedElement)==null?void 0:c.getBoundingClientRect(),n=t.margin*e.zoom,a=t.gap*e.zoom,h=t._cellHeight*e.zoom,g=(o.y+o.height-r.y-n)/(h+a);for(const d in Array(t.columns+1).fill(null))for(const w in Array(Math.ceil(g+1)).fill(null))s.push(e.worldPoint2screen({x:t.margin+parseInt(d)*(t.cellWidth+t.gap),y:t.margin+parseInt(w)*(t.cellHeight+t.gap)+t.navbarLength,referential:"world"}));return s}renderGrid(t,e,s){if(s.state==="MOVING"||s.state==="RESIZING"||s.state==="SLOTTABLE_RESIZING"||s.state==="MOVING_SLOTTABLE"||s.state==="DRAGGING_SLOTTABLE"||s.state==="DRAGGING"){this.context.fillStyle="rgba(0,0,0,0.1)";for(const r of this.getGridDots(t,e))this.context.beginPath(),this.context.ellipse(r.x,r.y,2,2,0,0,2*Math.PI),this.context.fill()}}renderWidgetShadow(t,e,s,r){this.context.fillStyle="rgba(0, 0, 0, 0.1)";for(const o in r){if(!t.operations.some(h=>h.path.includes(o)))continue;const n=r[o],a=s.worldRect2screen(k(n.position,e));this.context.fillRect(a.x,a.y,a.width,a.height)}}renderWidgetHoverBorders(t,e,s,r,o){if(this.context.strokeStyle="#ababab",t.state==="HOVERING_WIDGET"&&e.state==="IDLE"){const n=o[t.widgetId];if(!n)return;const a=s.worldRect2screen(k(n.position,r));this.context.strokeRect(a.x,a.y,a.width,a.height)}else(e.state==="MOVING"||e.state==="RESIZING"||e.state==="DRAGGING"||e.state==="SELECTING")&&Object.keys(o).forEach(n=>{const a=o[n],h=s.worldRect2screen(k(a.position,r));this.context.strokeRect(h.x,h.y,h.width,h.height)})}renderWidgetsSelectionBorders(t,e,s,r,o){if(t.state==="IDLE"||t.state==="SELECTING"){this.context.strokeStyle="#3482E5",this.context.lineWidth=2;for(const n of e){const a=o[n],h=s.worldRect2screen(k(a.position,r));this.context.strokeRect(h.x,h.y,h.width,h.height)}}}renderRectangularSelection(t){if(this.context.fillStyle=Tt,t.state==="SELECTING"){const e=Math.min(t.initialMousePos.x,t.mousePos.x),s=Math.min(t.initialMousePos.y,t.mousePos.y),r=Math.abs(t.initialMousePos.x-t.mousePos.x),o=Math.abs(t.initialMousePos.y-t.mousePos.y),n={x:e,y:s,width:r,height:o};this.context.fillRect(n.x,n.y,r,o)}}renderRectangularSelectionHovers(t,e,s,r,o){if(this.context.strokeStyle="#3482E5",t.state==="SELECTING")for(const n of e){const a=o[n],h=s.worldRect2screen(k(a.position,r));this.context.strokeRect(h.x,h.y,h.width,h.height)}}renderSelectionHull(t,e,s,r,o){const n=Gt(Object.entries(o).filter(([h])=>r.has(h)).map(([h,g])=>k(g.position,s)).filter(h=>h!==null));if(t.state!=="IDLE"||!n)return;this.context.strokeStyle="#3482E5";const a=e.worldRect2screen(n);this.context.strokeRect(a.x,a.y,a.width,a.height)}static drawResizeHandler(t,e){t.fillStyle="white",t.strokeStyle="#3482E5",t.lineWidth=1,t.fillRect(e.x,e.y,e.width,e.height),t.strokeRect(e.x,e.y,e.width,e.height)}renderResizeHandlers(t,e){if(t.state!=="MOVING")for(const{rect:s}of e)N.drawResizeHandler(this.context,s)}cursor(t,e){if(t.state==="MOVING")return"grabbing";if(t.state==="SELECTING")return"crosshair";if(t.state==="RESIZING")switch(t.side){case"bottom":case"top":return"ns-resize";case"left":case"right":return"ew-resize"}else{if(t.state==="START_PANNING")return"grab";if(t.state==="PANNING")return"grabbing";if(t.state==="JUST_CLICKED_TOGGLE")return"grabbing";if(e.state==="HOVERING_WIDGET")return"grab";if(e.state==="HOVERING_RESIZE_HANDLER")switch(e.side){case"bottom":case"top":return"ns-resize";case"left":case"right":return"ew-resize";case"top-left":case"bottom-right":return"nwse-resize";case"top-right":case"bottom-left":return"nesw-resize"}else return e.state==="HOVERING_TOGGLE"?"pointer":e.state==="HOVERING_SLOTTABLE_RESIZE_HANDLER"?"ns-resize":e.state==="HOVERING_SLOTTABLE_SELECTOR"?"pointer":"default"}}}const U=()=>document.body.classList.contains("vscode-dark"),F=window.__baseURL?`${window.__baseURL}/media`:"",jt=(i,t,e,s,r,o)=>{let n=[];return at(t)||(o||(n=n.concat(Ft(i,e,s,r))),o&&(n=n.concat($t(i,e,s,r)).concat(Bt(i,e,s,r)))),n.concat(Vt(i,e,s,t,r)).concat(Jt(i,e,s,r))},at=i=>{var t;return!((t=i.condition)==null||t)},$t=(i,t,e,s)=>{const{row:r,height:o}=i.position,{x:n,y:a,height:h,width:g}=t.getCell(0,r),c=o*h,d=g*t.columns,w={x:n,y:a,width:d,height:c,referential:"world"},p=3,b=2,m=e.worldRect2screen(w);return s.strokeStyle="#3482E5",s.lineWidth=b,s.strokeRect(m.x+p,m.y,m.width-2*p,m.height),[]},Bt=(i,t,e,s)=>{const r=Ut(i,t,e);return N.drawResizeHandler(s,r),[{type:"resizer",position:r,elementId:i.id}]},Ut=(i,t,e)=>{const{row:o,height:n}=i.position,{x:a,y:h,height:g,width:c}=t.getCell(0,o),d=n*g,w=c*t.columns,p=e.worldRect2screen({x:a,y:h,width:w,height:d,referential:"world"});return{x:p.x+p.width/2-20/2,y:p.y+p.height-6/2,width:20,height:6,referential:"screen"}},Ft=(i,t,e,s)=>{const{row:r,height:o}=i.position,{x:n,y:a,height:h,width:g}=t.getCell(0,r),c=o*h,d=g*t.columns,w={x:n,y:a,width:d,height:c,referential:"world"},p=4,b=3,m=2,S=e.worldRect2screen(w);return s.strokeStyle="rgb(39, 67, 255, 0.13)",s.lineWidth=m,s.beginPath(),s.roundRect(S.x+b,S.y,S.width-2*b,S.height,p),s.stroke(),[]},Vt=(i,t,e,s,r)=>{const{row:o,height:n}=i.position,a=qt(o,n,t,e),h=new Image(a.width,a.height);return h.src=at(s)?`${F}/chevron-down-${U()?"dark":"light"}.svg`:`${F}/chevron-up-${U()?"dark":"light"}.svg`,h.style.viewBox=`0 0 ${a.width} ${a.height}`,r.drawImage(h,a.x,a.y,a.width,a.height),[{type:"toggle",position:a,elementId:i.id}]},qt=(i,t,e,s)=>{const{y:r}=e.getCell(0,t),o=24,n=24,a={x:-30,y:r+e.cellHeight*i-n,width:o,height:n,referential:"world"};return s.worldRect2screen(a)},Jt=(i,t,e,s)=>{const{row:r}=i.position,o=Zt(r,t,e),n=new Image(o.width,o.height);return n.src=`${F}/drag-${U()?"dark":"light"}.svg`,s.drawImage(n,o.x,o.y,o.width,o.height),[{type:"selector",position:o,elementId:i.id}]},Zt=(i,t,e)=>{const{y:s}=t.getCell(0,i),r={x:-30,y:s,width:24,height:24,referential:"world"};return e.worldRect2screen(r)},Kt={"if-block":jt};class J{constructor(t,e,s){l(this,"context",null);l(this,"_slottables",[]);l(this,"selectableElements",[]);l(this,"getSlottableRenderedElement",(t,e)=>{var s;return(s=this.selectableElements.find(r=>r.elementId===t&&r.type===e))!=null?s:null});l(this,"getRenderedElementUnderCursor",(t,e)=>this._slottables.find(s=>{var o,n;const r=(n=(o=this.getSlottableRenderedElement(s.id,t))==null?void 0:o.position)!=null?n:null;return r?Nt(e,r):!1})||null);l(this,"getSelectorUnderCursor",t=>this.getRenderedElementUnderCursor("selector",t));l(this,"getToggleUnderCursor",t=>this.getRenderedElementUnderCursor("toggle",t));l(this,"getResizerUnderCursor",t=>this.getRenderedElementUnderCursor("resizer",t));this.layoutGrid=t,this.camera=e,this.propsHandler=s}static create(t,e,s){return new J(t,e,s)}setContext(t){this.context=t}set slottables(t){if(!this.context)throw new Error("No context set yet");this._slottables=Object.values(t)}renderSlottables(t){if(this.selectableElements=[],this._slottables.length!==0)for(const e of this._slottables)this.selectableElements=this.selectableElements.concat(this.renderSlottable(e,t===e.id))}renderSlottable(t,e){var s,r;return Kt[t.type](t,(r=(s=this.propsHandler.props)==null?void 0:s[t.id])!=null?r:{},this.layoutGrid,this.camera,this.context,e)}}const Yt=960,st=12,Qt=0,Xt=24,te=32,ee=8;class Z{constructor(){l(this,"width",Yt);l(this,"columns",st);l(this,"gap",Qt);l(this,"margin",Xt);l(this,"_cellHeight",te);l(this,"padding",ee);l(this,"navbarVisible",!1);l(this,"hasSidebar",!1);l(this,"_dashPlayerState",null)}static create(){return new Z}setDashRunnerData(t,e){this.navbarVisible=t,this.hasSidebar=e}setDashPlayerState(t){this._dashPlayerState=t}static get columns(){return st}get cellHeight(){return this._cellHeight}get navbarLength(){return this.navbarVisible?48:0}get cellWidth(){const t=this.columns-1;return(this.width-2*this.margin-t*this.gap)/this.columns}get rows(){var t,e,s,r;return Math.max(Object.values((e=(t=this._dashPlayerState)==null?void 0:t.widgets)!=null?e:{}).map(o=>o.position.rowEnd).reduce((o,n)=>Math.max(o,n),0)+4,Object.values((r=(s=this._dashPlayerState)==null?void 0:s.calculatedPositions.slottables)!=null?r:{}).map(o=>o.position.row+o.position.height).reduce((o,n)=>Math.max(o,n),0)+4,20)}get sidebarWidth(){return this.hasSidebar?240:0}getCell(t,e){return{x:this.margin+t*(this.cellWidth+(t>0?this.gap:0)),y:this.margin+this.navbarLength+e*(this._cellHeight+(e>0?this.gap:0)),width:this.cellWidth,height:this._cellHeight,referential:"world"}}getCellFrom(t,e){const s=this.getCell(t.i,t.j);return this.cellAt(s.x+e.dx,s.y+e.dy)}areaFromRect(t){const e=this.cellAt(t.x,t.y),s={dx:t.width-1,dy:t.height-1,referential:"world"},r=this.getCellFrom(e,s);return{colStart:e.i,rowStart:e.j,colEnd:r.i,rowEnd:r.j}}rectFromArea(t){const e=this.getCell(t.colStart,t.rowStart),s=this.getCell(t.colEnd,t.rowEnd);return{x:e.x,y:e.y,width:s.x+s.width-e.x,height:s.y+s.height-e.y,referential:"world"}}get height(){return this.rows*(this._cellHeight+this.gap)-this.gap+2*this.margin}cellAt(t,e){return{i:Math.floor((t-this.margin)/(this.cellWidth+this.gap)),j:Math.floor((e-this.margin-this.navbarLength)/(this._cellHeight+this.gap))}}snap(t,e){const s=e==="bottom-right"||e==="top-right"?1:0,r=e==="bottom-left"||e==="bottom-right"?1:0,o=this.cellWidth+this.gap,n=this._cellHeight+this.gap,a=this.margin+this.cellWidth*s,h=this.margin+this.navbarLength+this.cellHeight*r,g=t.x-a,c=t.y-h;return{x:a+o*Math.round(g/o),y:h+n*Math.round(c/n),referential:"world"}}snapDelta(t){const e=this.cellWidth+this.gap,s=this._cellHeight+this.gap;return{dx:e*Math.round(t.dx/e),dy:s*Math.round(t.dy/s),referential:"world"}}height2rows(t){return Math.ceil((t+this.gap)/(this.cellHeight+this.gap))}}const u={left:20,right:20,top:20,bottom:200};class K{constructor(t){l(this,"x",0);l(this,"y",0);l(this,"_projectedElement",null);l(this,"grid");l(this,"_zoom",1);this.grid=t}static create(t){return new K(t)}setProjectedCanvas(t){this._projectedElement=t,this.fit()}get projectedElement(){if(!this._projectedElement)throw new Error("Camera has no projected element");return this._projectedElement}updateGrid(t){this.grid=t}get zoom(){return this._zoom}set zoom(t){this._zoom=t}fit(){const t=this.canvasRect,e=Math.max(t.width-u.left-u.right,0),s=Math.max(t.height-u.top-u.bottom,0);this.zoom=1;const r=Math.min(e/this.grid.width,s/this.grid.height);this.zoomIn(r,{x:t.x+t.width/2,y:t.y+t.height/2,referential:"screen"}),this.x=e>this.grid.width*r?-(t.x+t.width/2-r*this.grid.width/2)/r:-(t.x+u.left)/r,this.y=s<this.grid.height*r?-(t.y+u.top)/r:-(t.y+t.height/2-r*this.grid.height/2)/r}screenPoint2world(t){return{x:t.x/this.zoom+this.x,y:t.y/this.zoom+this.y,referential:"world"}}worldPoint2screen(t){return{x:(t.x-this.x)*this.zoom,y:(t.y-this.y)*this.zoom,referential:"screen"}}screenDelta2world(t){return{dx:t.dx/this.zoom,dy:t.dy/this.zoom,referential:"world"}}worldDelta2screen(t){return{dx:t.dx*this.zoom,dy:t.dy*this.zoom,referential:"screen"}}screenRect2world(t){const e=this.screenPoint2world({x:t.x,y:t.y,referential:t.referential}),s=this.screenPoint2world({x:t.x+t.width,y:t.y+t.height,referential:t.referential});return{x:e.x,y:e.y,width:s.x-e.x,height:s.y-e.y,referential:e.referential}}worldRect2screen(t){const e=this.worldPoint2screen({x:t.x,y:t.y,referential:t.referential}),s=this.worldPoint2screen({x:t.x+t.width,y:t.y+t.height,referential:t.referential});return{x:e.x,y:e.y,width:s.x-e.x,height:s.y-e.y,referential:e.referential}}zoomIn(t,e){const s=this.screenPoint2world(e);this.zoom*=t;const r=this.worldPoint2screen(s),o=Ht(e,r),n=this.screenDelta2world({dx:o.dx,dy:o.dy,referential:"screen"});this.x+=n.dx,this.y+=n.dy,this.correct()}translate(t,e=!0){this.x+=t.dx,this.y+=t.dy,e&&this.correct()}get canvasRect(){if(!this._projectedElement)throw new Error("No canvas element");const t=this._projectedElement.getBoundingClientRect();return{x:t.x,y:t.y,width:t.width,height:t.height,referential:"screen"}}correctZoom(){const t=this.canvasRect,e=Math.max(t.width-u.left-u.right,0),s=Math.max(t.height-u.top-u.bottom,0),r=Math.min(e/this.grid.width,s/this.grid.height);this.zoom<r&&(this.zoom=r)}correct(){this.correctZoom();const t=this.worldRect2screen({x:0,y:0,width:this.grid.width,height:this.grid.height,referential:"world"}),e=this.canvasRect,s=t.x>e.x+u.left,r=t.x+t.width<e.x+e.width-u.right,o=t.x+t.width/2-(e.x+e.width/2),n=t.width>e.width,a=t.height>e.height,h=t.y+t.height<e.y+e.height-u.bottom,g=t.y>e.y+u.top,c=t.y+t.height/2-(e.y+e.height/2),d=this.screenDelta2world({dx:n?r&&s?0:s?t.x-e.x-u.right:r?t.x+t.width-(e.x+e.width)+u.left:0:o,dy:a?h&&g?0:g?t.y-e.y-u.top:h?t.y+t.height-(e.y+e.height)+u.bottom:0:c,referential:"screen"});this.x+=d.dx,this.y+=d.dy}}class f{constructor(){l(this,"shaker",O(Date.now()))}observe(){this.shaker.value}trigger(){this.shaker.value=Date.now()}}class Y{constructor(){l(this,"_isPreview",!1);l(this,"observable");this.observable=new f}static create(){return new Y}get isPreview(){return this.observable.observe(),this._isPreview}set isPreview(t){this.observable.trigger(),this._isPreview=t}}const se={name:"If Block",description:"A block of elements that is only rendered depending on a condition",params:[{typeName:"Boolean",argName:"condition",isKwarg:!1,default:null}],defaultEditProps:{condition:!0},thumbname:"IfBlock.svg"},ie={"if-block":se};class Q{constructor(){l(this,"_overridenProps",{});l(this,"_props",null);l(this,"observable",new f);l(this,"setInitialEditProps",t=>{var e;for(const s in t){const r=t[s],{defaultEditProps:o}=(e=ie[r.type])!=null?e:{};o&&this.overrideProps(s,o),B(r)||this.setInitialEditProps(r.slot)}})}static create(){return new Q}get props(){return this.observable.observe(),V.isPreview?this._props:this.editModeOverrideProps(this._props)}overrideProps(t,e){this.observable.trigger(),this._overridenProps[t]=e}getOverridenPropFromWidgetId(t,e){var s,r;return(r=(s=this._overridenProps)==null?void 0:s[t])==null?void 0:r[e]}editModeOverrideProps(t){return t&&Object.keys(t).reduce((e,s)=>(e[s]={...t[s],...this._overridenProps[s]},e),{})}setProps(t){this.observable.trigger(),this._props=t}}const Ze=i=>t=>t[i],re=i=>[...new Set(i)];class X{constructor(t){l(this,"_selectedWidgetsIds",[]);l(this,"_selectedSlottableId",null);l(this,"layoutModel",null);l(this,"observable",new f);this.appState=t}static create(t){return new X(t)}setLayoutModel(t){this.layoutModel=t}get selectedWidgetsIds(){return this.observable.observe(),this._selectedWidgetsIds}set selectedWidgetsIds(t){t.length!==0&&this.resetSelection(),this._selectedWidgetsIds=re(t),this.observable.trigger()}get selectedWidgetId(){return this.selectedWidgetsIds[0]}get selectedWidget(){return this.layoutModel&&this.selectedWidgetId?this.layoutModel.getWidget(this.selectedWidgetId):null}get selectedWidgets(){return this.layoutModel?this.selectedWidgetsIds.map(t=>this.layoutModel.getWidget(t)):[]}addWidget(t){this.selectedWidgetsIds=[...this.selectedWidgetsIds,t]}addToSelectedWidgets(t){if(!this.layoutModel)return;const e=this.layoutModel.getWidgetOrSlottable(t);(!B(e)||this.selectedWidget&&!B(this.selectedWidget))&&this.clearWidgetSelection(),this.addWidget(t)}toggleWidgetSelection(t){this.selectedWidgetsIds.includes(t)?this.removeWidget(t):this.addWidget(t)}removeWidget(t){this.selectedWidgetsIds=this.selectedWidgetsIds.filter(e=>e!==t)}clearWidgetSelection(){this.selectedWidgetsIds=[]}selectAll(){!this.layoutModel||(this.selectedWidgetsIds=Object.keys(this.layoutModel.allWidgets))}get selectedSlottableId(){return this.observable.observe(),this._selectedSlottableId}set selectedSlottableId(t){t&&this.resetSelection(),this._selectedSlottableId=t,this.observable.trigger()}get selectedSlottable(){return this.layoutModel&&this.selectedSlottableId?this.layoutModel.getSlottable(this.selectedSlottableId):null}has(t){return this.selectedWidgetsIds.includes(t)}resetSelection(){this.clearWidgetSelection(),this.selectedSlottableId=null}}let H,_,it,V,W,oe;function ne(){_=Z.create(),it=K.create(_),V=Y.create(),W=Q.create(),H=J.create(_,it,W),oe=X.create(V)}ne();function ae(i,t){const e=i[t.type];if(!e){console.warn("no callback for",t.type);return}e.forEach(s=>s(t))}const le=i=>({wasClean:i.wasClean,code:i.code,reason:i.reason}),R=class{constructor(t,e){l(this,"isPreview");l(this,"queryParams");l(this,"ws",null);l(this,"callbacks",{});l(this,"onCloseCallbacks",[]);l(this,"params",{version:"0.2",slot:{}});l(this,"_executionId",null);l(this,"state","IDLE");l(this,"observable",new f);l(this,"runningStartCallbacks",[]);l(this,"messageHandlers",{IDLE:t=>{t.type=="execution-id"&&(this._executionId=t.executionId,this.send({type:"client-start",state:{widgets:Pt(this.dash.layout).reduce((e,s)=>({...e,[s]:{value:null}}),{})},params:this.queryParams}),this.state="READY",this.observable.trigger())},READY:t=>{if(t.type==="program-start-failed"){this.state="ERROR";return}t.type!=="auth:require-info"&&(t.type=="widgets-computed"&&(this.notifyRunningStart(t),this.state="RUNNING"),this.observable.trigger())},RUNNING:()=>{this.observable.trigger()},ERROR:()=>{this.observable.trigger()}});this.dash=e,this.isPreview=t.isPreview,this.queryParams=t.params}static create(t,e){return R._instance&&R._instance.close(),R._instance=new R(t,e),R._instance}get url(){return`${location.protocol==="https:"?"wss:":"ws:"}//${location.host}/_socket?dashPath=${this.dash.path}&isPreview=${this.isPreview}`}get executionId(){return this._executionId}get isClosed(){return this.observable.observe(),this.ws?this.ws.readyState!==WebSocket.OPEN:!0}resetState(){this.close()}on(t,e){this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e)}clearWSEvents(){!this.ws||(this.ws.onclose=()=>{},this.ws.onerror=()=>{},this.ws.onmessage=()=>{})}async connect(t,e=1){e>3||(this.params=t!=null?t:this.params,await new Promise(s=>{this.clearWSEvents(),this.ws=new WebSocket(this.url),this.ws.onopen=()=>{this.observable.trigger(),s()},this.ws.onclose=r=>{this.observable.trigger(),this.onCloseCallbacks.forEach(o=>o(le(r)))},this.ws.onmessage=r=>{const o=JSON.parse(r.data);this.messageHandlers[this.state](o),ae(this.callbacks,o)}}).catch(()=>{this.connect(this.params,e+1)}))}onClose(t){this.onCloseCallbacks.push(t)}close(){if(!this.ws){console.warn("no websocket to close");return}this.clearWSEvents(),this.ws.close()}async send(t){if(!this.ws){console.warn("no websocket to send");return}this.isClosed&&await this.connect(this.params),this.ws.send(JSON.stringify(t))}notifyRunningStart(t){this.runningStartCallbacks.forEach(e=>e(t))}onRunningStart(t){this.runningStartCallbacks.push(t)}};let z=R;l(z,"_instance");function he(i,t){const e=Object.entries(i).sort((o,n)=>zt(o[1].position,n[1].position)),s=o=>document.querySelector(`[widget-id='${o}']`);return At(e.map(([o,n])=>[o,n,s(o)?t.height2rows(s(o).offsetHeight)-(n.position.rowEnd-n.position.rowStart):0])).reduce((o,[n,a])=>({...o,[n]:{...a,position:{...a.position,rowEnd:nt[a.type].autoHeight&&s(n)?a.position.rowStart+t.height2rows(s(n).offsetHeight):a.position.rowEnd}}}),{})}const ce=(i,t,e)=>t&&!t.condition?{computedElement:{...i,position:{...i.position,row:i.position.row+e,height:0}},updateOffset:0,addOffset:0,slot:{}}:{computedElement:{...i,position:{...i.position,row:i.position.row+e}},updateOffset:i.position.height,addOffset:i.position.row,slot:i.slot},de={"if-block":ce},ge=(i,t,e)=>ue(lt(Object.values(i),{widgets:[],slottables:[]},0,t),e),ue=(i,t)=>({widgets:he(i.widgets.reduce((e,s)=>({...e,[s.id]:s}),{}),t),slottables:i.slottables.reduce((e,s)=>({...e,[s.id]:s}),{})}),pe=(i,t)=>{if(v(i)&&v(t))return t.position.rowStart-i.position.rowStart;if(v(i)&&!v(t))return t.position.row-i.position.rowStart===0?-1:t.position.row-i.position.rowStart;if(!v(i)&&v(t))return t.position.rowStart-i.position.row===0?1:t.position.rowStart-i.position.row;if(!v(i)&&!v(t)){if(t.position.row-i.position.row===0){if(t.position.order===i.position.order)throw new Error("Two slottables with the same order in the same row");return t.position.order-i.position.order}return t.position.row-i.position.row}return 0},lt=(i,t,e,s)=>i.sort(pe).reduce((r,o)=>we(o,e,r,s),t),we=(i,t,e,s)=>v(i)?be(i,t,e):fe(i,t,e,s),be=(i,t,e)=>(e.widgets.push({...i,position:ht(i.position,t)}),e),fe=(i,t,e,s)=>{const{computedElement:r,slot:o,updateOffset:n,addOffset:a}=de[i.type](i,s[i.id],t),h=ye(e,n);return h.slottables.push(r),lt(Object.values(o),h,t+a,s)},ye=(i,t)=>({widgets:me(i.widgets,t),slottables:ve(i.slottables,t)}),me=(i,t)=>i.map(e=>({...e,position:ht(e.position,t)})),ve=(i,t)=>i.map(e=>({...e,position:{...e.position,row:e.position.row+t}})),ht=(i,t)=>({...i,rowStart:i.rowStart+t,rowEnd:i.rowEnd+t}),x=class{constructor(t,e){l(this,"isPreview");l(this,"_broker",null);l(this,"_variables",null);l(this,"_state",{responses:{},queryParams:{}});l(this,"_stateTimestamp",Date.now());l(this,"authState",{user:null,authenticating:!1});l(this,"_previewRunnerData",null);l(this,"_observables",{runnerData:new f,variables:new f,computedErrors:new f,broker:new f,user:new f,authenticating:new f,isWaitingEventResponse:new f,alerts:new f});l(this,"_computedErrors",{widgets:{},props:{},variables:{}});l(this,"_autocompleteState",{suggestionsFor:null,suggestions:[],shaker:new f});l(this,"programStartFailed",!1);l(this,"programStartFailedMessage","");l(this,"initializeResponses",()=>{Object.keys(this.widgets).forEach(t=>{if(!this.getResponse(t)){const e=new ut(this.getWidgetProps(t));this.setResponse(t,e)}})});l(this,"updateUserCallbacks",[]);l(this,"onWidgetsComputedCallbacks",[]);l(this,"onCloseCallbacks",[]);l(this,"onNoCreditsMessageCallbacks",[]);l(this,"onRedirectCallback",null);l(this,"listeners",[]);l(this,"_isWaitingEventResponse",null);l(this,"_alerts",[]);l(this,"_countAlerts",0);this._dash=t,this.isPreview=e,this.loadClaims()}static create(t,e=!0){return x._instances[t.path]&&x._instances[t.path].destroy(),x._instances[t.path]=new x(t,e),x._instances[t.path]}static delete(t){delete x._instances[t]}destroy(){this._broker&&(this.setProps(null,null),this._broker.close(),x.delete(this.runnerData.path))}updateRunnerData(t){this._observables.runnerData.trigger(),this._previewRunnerData=t}resetState(){this._broker&&(this.setProps(null,null),this._broker.close(),this.initializeBroker(),this.clearSuggestions())}get brokerIsClosed(){var t,e;return(e=(t=this.broker)==null?void 0:t.isClosed)!=null?e:!0}get runnerData(){return this._observables.runnerData.observe(),this._dash}get state(){return this._state}get variables(){return this._observables.variables.observe(),this._variables}updateDashData(t){if(this._observables.runnerData.trigger(),!t)throw new Error("dash is null");if(!t.layout)throw new Error("dash.layout is null");this._dash=t}initializeBroker(t={}){var e;this.setBroker(z.create({isPreview:this.isPreview,params:t},this.runnerData)),this.programStartFailed=!1,this.programStartFailedMessage="",this.broker.connect(this.runnerData.layout),this.broker.on("stdout",s=>{et.log({type:"stdout",log:s.log})}),this.broker.on("stderr",s=>{et.log({type:"stderr",log:s.log})}),this.broker.onClose(s=>{this.programStartFailed||(this.computedErrors=this.makeWidgetsError("Runtime connection closed")),this.closeCallback(s)}),(e=this.broker)==null||e.onRunningStart(s=>{s.variables&&Object.keys(s.variables).forEach(r=>this._state.responses[r].setValue(s.variables[r]))}),this.broker.on("widgets-computed",s=>{this.isWaitingEventResponse===s.stateTimestamp&&setTimeout(()=>{this.isWaitingEventResponse=null},1500),this.widgetsComputedMessage(s),s.errors&&(this.computedErrors=s.errors),s.props&&this.setProps(s.props,s.variables,s.stateTimestamp)}),this.broker.on("not-enough-credits",()=>{this.noCreditsMessage()}),this.broker.on("program-start-failed",s=>{var r,o;this.programStartFailed=!0,this.programStartFailedMessage=(r=s.error)!=null?r:"",this.computedErrors=this.makeWidgetsError((o=s.error)!=null?o:"Program start failed")}),this.broker.on("redirect",s=>{this.redirect(s)}),this.broker.on("auth:require-info",()=>{this.startAuth()}),this.broker.on("auth:valid-jwt",()=>{this.endAuth()}),this.broker.on("auth:invalid-jwt",()=>{console.warn("invalid jwt"),this.badAuth()}),this.broker.on("autocomplete:suggestions",({suggestionsFor:s,suggestions:r})=>{this._autocompleteState.suggestionsFor=s,this._autocompleteState.suggestions=r,this._autocompleteState.shaker.trigger()}),this.resetListeners(),this.broker.on("alert",s=>{this.alerts=[...this.alerts,{message:s.message,severity:s.severity,id:this.countAlerts++}]}),this.broker.on("execute-js:request",async s=>{var r;(r=this.broker)==null||r.send({type:"execute-js:response",value:await Ct(s)})})}get computedErrors(){return this._observables.computedErrors.observe(),this._computedErrors}set computedErrors(t){this._observables.computedErrors.trigger(),this._computedErrors=t}setProps(t,e,s){s&&s!==this._stateTimestamp||(this._observables.variables.trigger(),W.setProps(t))}setBroker(t){this._observables.broker.trigger(),this._broker=t}get broker(){return this._observables.broker.observe(),this._broker}makeWidgetsError(t){return{widgets:Object.keys(this.runnerData.layout.slot).reduce((s,r)=>(s[r]={repr:t},s),{}),props:{},variables:{}}}setResponse(t,e){this._stateTimestamp=Date.now(),this._state.responses[t]=e}getResponse(t){return this._state.responses[t]}get responses(){return this.initializeResponses(),this._state.responses}onUpdateUser(t){this.updateUserCallbacks.push(t)}onWidgetsComputedMessage(t){this.onWidgetsComputedCallbacks.push(t)}widgetsComputedMessage(t){this.onWidgetsComputedCallbacks.forEach(e=>e(t))}onClose(t){this.onCloseCallbacks.push(t)}closeCallback(t){this.onCloseCallbacks.forEach(e=>e(t))}onNoCreditsMessage(t){this.onNoCreditsMessageCallbacks.push(t)}noCreditsMessage(){this.onNoCreditsMessageCallbacks.forEach(t=>t())}onRedirect(t){this.onRedirectCallback=t}redirect(t){!this.onRedirectCallback||this.onRedirectCallback(t)}on(t,e){var s;this.listeners.push({type:t,callback:e}),(s=this.broker)==null||s.on(t,e)}onMany(t,e){t.forEach(s=>this.on(s,e))}resetListeners(){this.listeners.forEach(({type:t,callback:e})=>{var s;(s=this.broker)==null||s.on(t,e)})}get apiPageState(){const t=Object.keys(this.widgets).reduce((e,s)=>{var r,o;return{...e,[s]:{value:(o=(r=this._state.responses[s])==null?void 0:r.value)!=null?o:null}}},{});return{timestamp:this._stateTimestamp,widgets:t}}sendUser(){!this.broker||!this.authState.user||this.broker.send({type:"auth:saved-jwt",jwt:this.authState.user.jwt})}updateUser(t){this.authState.user=t,this.updateUserCallbacks.forEach(e=>e(t)),this.sendUser()}get user(){return this._observables.user.observe(),this.authState.user}startAuth(){this.authState.user?this.sendUser():this.authenticating=!0}endAuth(){this.authenticating=!1}badAuth(){T.removeUser(),this.authState.user=null,this.authenticating=!0}loadClaims(){this._observables.user.observe(),this.authState.user=T.getUser()}logout(){T.removeUser(),this.loadClaims(),this.resetState()}get authenticating(){return this._observables.authenticating.observe(),this.authState.authenticating}set authenticating(t){this.authState.authenticating=t,this._observables.authenticating.trigger()}get suggestionsFor(){return this._autocompleteState.shaker.observe(),this._autocompleteState.suggestionsFor}get suggestions(){return this._autocompleteState.shaker.observe(),this._autocompleteState.suggestions}clearSuggestions(){this._autocompleteState.suggestionsFor=null,this._autocompleteState.suggestions=[],this._autocompleteState.shaker.trigger()}getAutocompleteSuggestions(t,e){var s;!this.isPreview||(t!==this.suggestionsFor&&this.clearSuggestions(),(s=this.broker)==null||s.send({type:"autocomplete:load",suggestionsFor:t,code:e}))}getLayoutWidget(t){return this.widgets[t]}get calculatedPositions(){var t,e,s;return this._observables.runnerData.observe(),ge((e=(t=this._previewRunnerData)==null?void 0:t.layout.slot)!=null?e:this.runnerData.layout.slot,(s=W.props)!=null?s:{},_)}get widgets(){return this.calculatedPositions.widgets}getWidgetPosition(t){return this.widgets[t].position}getWidgetProps(t){var e;return(e=W.props)==null?void 0:e[t]}get props(){return W.props}getWidgetEvents(t){return this.getLayoutWidget(t).events||[]}get navbarVisible(){var r;const{logoUrl:t,brandName:e}=this.runnerData,s=(r=this.user)==null?void 0:r.claims.email;return!!(this.hasSidebar||t||e||s)}get hasSidebar(){const t=this.runnerData.sidebar;return!t||t.length==0?!1:t.some(e=>e.visible)}get widgetsListeners(){return Object.entries(this.widgets).reduce((t,[e,s])=>({...t,[e]:this.listenersFromWidget(e,s.type)}),{})}listenersFromWidget(t,e){return nt[e].events.reduce((s,r)=>({...s,[r.key]:o=>{this.setResponse(t,o),this.widgetInput(t),this.widgetEvent(t,r.key,o)}}),{})}get isWaitingEventResponse(){return this._observables.isWaitingEventResponse.observe(),this._isWaitingEventResponse}set isWaitingEventResponse(t){this._isWaitingEventResponse=t,this._observables.isWaitingEventResponse.trigger()}widgetInput(t){!this.broker||this.broker.send({type:"widget-input",widgetId:t,state:this.apiPageState})}widgetEvent(t,e,s){if(!this.broker)return;const r=this.apiPageState;this.broker.send({type:"widget-event",event:{type:e,payload:s},widgetId:t,state:r}),this.getWidgetEvents(t).includes(e)&&(this.isWaitingEventResponse=r.timestamp)}get alerts(){return this._observables.alerts.observe(),this._alerts}set alerts(t){this._observables.alerts.trigger(),this._alerts=t}get countAlerts(){return this._observables.alerts.observe(),this._countAlerts}set countAlerts(t){this._observables.alerts.trigger(),this._countAlerts=t}};let j=x;l(j,"_instances",{});const xe={},Se=i=>(pt("data-v-5d7ea65b"),i=i(),wt(),i),Ee={class:"dash-loading"},Re=Se(()=>M("div",{class:"dash-loading-container"},[M("div",{class:"loading-bar-background"}),M("div",{class:"loading-bar"})],-1)),_e=[Re];function ke(i,t){return y(),E("div",Ee,_e)}const We=A(xe,[["render",ke],["__scopeId","data-v-5d7ea65b"]]);function G(){return window.matchMedia("(min-width: 1200px)").matches}const Pe={key:0,class:"error-widget"},Ce={key:0},Ie={key:2,class:"loading"},Me=q({__name:"WidgetsGrid",props:{camera:null,isPreview:{type:Boolean},widgetsWithErrors:null,grid:null,widgetsListeners:null,widgetsProps:null,widgetsResponses:null,widgets:null,forceResponsivity:null},setup(i){const t=i,e=P(()=>({...s.value,padding:`${t.grid.margin}px`,gap:`${t.grid.gap}px`,maxWidth:`${t.grid.width}px`,height:`${t.grid.height}px`,gridTemplateColumns:`repeat(${t.grid.columns}, ${t.grid.cellWidth}px)`,gridTemplateRows:`repeat(auto-fill, ${t.grid.cellHeight}px)`})),s=P(()=>{const c=G()?t.grid.sidebarWidth+(r.value-t.grid.sidebarWidth-960)/2:(r.value-960)/2;return{"--dash-right-margin":`${G()?(r.value-t.grid.sidebarWidth-960)/2:(r.value-960)/2}px`,"--dash-left-margin":`${c}px`}}),r=O(window.innerWidth);window.addEventListener("resize",()=>{r.value=window.innerWidth});const o=c=>{const d=c.target;d.scrollHeight>d.clientHeight&&c.stopPropagation()};function n(c){return{gridColumnStart:`${c.position.colStart+1}`,gridColumnEnd:`${c.position.colEnd+2}`,gridRowStart:`${c.position.rowStart+1}`,gridRowEnd:`${c.position.rowEnd+2}`,padding:`${t.grid.padding}px`}}const a=c=>{const d=c.position.rowEnd-c.position.rowStart+1;return d*t.grid.cellHeight+(d-1)*t.grid.gap-2*t.grid.padding},h=c=>{const d=c.position.colEnd-c.position.colStart+1;return d*t.grid.cellWidth+(d-1)*t.grid.gap-2*t.grid.padding},g=c=>{var d,w;return Object.keys((w=(d=t.widgetsProps)==null?void 0:d[c])!=null?w:{}).length>0};return(c,d)=>{const w=bt("icon");return y(),E("div",{class:ot(["dash",i.forceResponsivity]),style:$(C(e))},[(y(!0),E(ft,null,yt(i.widgets,(p,b)=>{var m,S;return y(),E("div",{key:b,class:"widget",style:$(n(p)),onWheel:o},[((m=i.widgetsWithErrors)==null?void 0:m.find(ct=>ct==b))&&i.isPreview?(y(),E("div",Pe,[L(w,{width:"20",height:"20",path:C(Dt),fill:"#D35249"},null,8,["path"]),h(p)>=160&&a(p)>=120?(y(),E("p",Ce," Ops! There is an error in this widget's properties ")):rt("",!0)])):g(b)?(y(),I(xt(p.type),mt({key:1,data:i.widgetsProps[b],response:i.widgetsResponses[b],runtime:"dash","container-width":h(p),"container-height":a(p),zoom:(S=i.camera)==null?void 0:S.zoom,"widget-id":b},vt(i.widgetsListeners[b])),null,16,["data","response","container-width","container-height","zoom","widget-id"])):(y(),E("div",Ie))],36)}),128))],6)}}});const Le=A(Me,[["__scopeId","data-v-d79b1ce4"]]),De=q({__name:"LayoutPresenter",props:{widgets:null,props:null,responses:null,widgetsListeners:null,camera:null,forceResponsivity:null,grid:null,widgetsWithErrors:null,runnerData:null,isPreview:{type:Boolean}},setup(i){const t=St();return(e,s)=>(y(),I(Lt,{class:"dash-player","main-color":i.runnerData.mainColor,"font-family":i.runnerData.fontFamily,theme:i.runnerData.theme,runtime:"dash"},{default:D(()=>[tt(e.$slots,"header",{},void 0,!0),C(t).overrideMain?tt(e.$slots,"overrideMain",{key:1},void 0,!0):(y(),I(Le,{key:0,camera:i.camera,"is-preview":i.isPreview,"widgets-with-errors":i.widgetsWithErrors,grid:i.grid,"widgets-listeners":i.widgetsListeners,"widgets-props":i.props,"widgets-responses":i.responses,widgets:i.widgets,"force-responsivity":i.forceResponsivity},null,8,["camera","is-preview","widgets-with-errors","grid","widgets-listeners","widgets-props","widgets-responses","widgets","force-responsivity"]))]),_:3},8,["main-color","font-family","theme"]))}});const He=A(De,[["__scopeId","data-v-6e933df3"]]),ze=q({__name:"DashPlayer",props:{isPreview:{type:Boolean,required:!0},dashPlayerState:{type:Object,required:!0},forceResponsivity:{type:String,default:null},camera:{type:Object,default:null},widgetsWithErrors:{type:Array,default:()=>[]},editingMode:{type:Boolean,default:!1},params:Object},emits:["navigate","logout"],setup(i,{emit:t}){const e=i,s=O(null),r=O(window.innerWidth);window.addEventListener("resize",()=>{r.value=window.innerWidth});const o=c=>t("navigate",c),n=c=>{e.dashPlayerState.updateUser(c)},a=P(()=>(_.setDashRunnerData(e.dashPlayerState.navbarVisible,e.dashPlayerState.hasSidebar),_.setDashPlayerState(e.dashPlayerState),_)),h=P(()=>{const c=G()?a.value.sidebarWidth+(r.value-a.value.sidebarWidth-960)/2:(r.value-960)/2;return{"--dash-right-margin":`${G()?(r.value-a.value.sidebarWidth-960)/2:(r.value-960)/2}px`,"--dash-left-margin":`${c}px`}}),g=P(()=>({...h.value,padding:`${a.value.margin}px`,width:`${a.value.width}px`,gap:`${a.value.gap}px`,height:"100%",boxSizing:"border-box"}));return e.dashPlayerState.initializeBroker(e.params),e.dashPlayerState.onNoCreditsMessage(()=>{var c;(c=s.value)==null||c.open()}),Et(()=>{if(e.dashPlayerState.initializeResponses(),Object.keys(e.dashPlayerState.widgets).some(c=>c===""))throw new Error("This dash has an outdated layout. Please contact support it.")}),Rt(()=>e.dashPlayerState.widgets,(c,d)=>{Wt.exports.isEqual(c,d)||e.dashPlayerState.initializeResponses()}),(c,d)=>(y(),I(He,{widgets:i.dashPlayerState.widgets,props:i.dashPlayerState.props,responses:i.dashPlayerState.responses,"widgets-listeners":i.dashPlayerState.widgetsListeners,camera:i.camera,"force-responsivity":i.forceResponsivity,grid:C(a),"widgets-with-errors":i.widgetsWithErrors,"runner-data":i.dashPlayerState.runnerData,"is-preview":i.isPreview},_t({header:D(()=>{var w;return[L(It,{ref_key:"runtimeCommonsRef",ref:s,type:"dashes",runtime:i.dashPlayerState.runnerData,"full-width":!0,"is-preview":i.isPreview,"user-email":(w=i.dashPlayerState.user)==null?void 0:w.claims.email,"force-responsivity":i.forceResponsivity,alerts:i.dashPlayerState.alerts,onNavigate:o,onLogout:d[0]||(d[0]=p=>i.dashPlayerState.logout())},null,8,["runtime","is-preview","user-email","force-responsivity","alerts"]),L(kt,null,{default:D(()=>[i.dashPlayerState.isWaitingEventResponse?(y(),I(We,{key:0})):rt("",!0)]),_:1})]}),_:2},[i.dashPlayerState.authenticating?{name:"overrideMain",fn:D(()=>[M("div",{class:ot(["auth-form",i.forceResponsivity]),style:$(C(g))},[L(Mt,{class:"form-auth",onDone:n})],6)]),key:"0"}:void 0]),1032,["widgets","props","responses","widgets-listeners","camera","force-responsivity","grid","widgets-with-errors","runner-data","is-preview"]))}});const Ke=A(ze,[["__scopeId","data-v-cb3cd3cb"]]);export{N as C,Ke as D,Ve as a,V as b,oe as c,W as d,ne as e,it as f,Je as g,ge as h,qe as i,Fe as j,Nt as k,_ as l,H as m,j as n,Ze as p,Gt as r,ie as s,zt as v,k as w};
//# sourceMappingURL=DashPlayer.47e6accb.js.map
