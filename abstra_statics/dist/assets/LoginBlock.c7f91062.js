import{d as g,r as k,u as e,b as s,c as l,bP as m,w as o,f as u,b0 as d,cb as c,cM as w,cy as h,v}from"./registerWidgets.6188faf0.js";import{W as L}from"./workspaces.3815c537.js";import{L as p}from"./DocsButton.vue_vue_type_script_setup_true_lang.07f1f132.js";import{p as I}from"./popupNotifcation.7c7a3db6.js";import{a as D}from"./asyncComputed.6cbf0d62.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[t]="d2358cae-764a-4b36-ad9b-58fe4b7eff2d",n._sentryDebugIdIdentifier="sentry-dbid-d2358cae-764a-4b36-ad9b-58fe4b7eff2d")}catch{}})();const B=g({__name:"LoginBlock",setup(n){const t=k(!1),{loading:i,result:a,refetch:f}=D(()=>p.get());async function y(){const r=prompt(`Login to our console at https://cloud.abstra.io and get an API Key to deploy your Projects.

Enter your API Key here:`);!r||(await p.create(r),f())}async function _(){!a.value||(await a.value.delete(),f())}async function b(){if(!!a.value){t.value=!0;try{await L.deploy(),window.open(`https://cloud.abstra.io/projects/${a.value.projectId}/builds`,"_blank")}catch(r){I("Deploy failed",String(r))}t.value=!1}}return(r,C)=>e(i)?(s(),l(e(m),{key:0})):e(a)?(s(),l(e(h),{key:1},{default:o(()=>[u(e(c),{href:`https://cloud.abstra.io/projects/${e(a).projectId}`,target:"_blank"},{default:o(()=>[d("Go to console ")]),_:1},8,["href"]),t.value?(s(),l(e(c),{key:1},{default:o(()=>[d("Deploying ...")]),_:1})):(s(),l(e(w),{key:0,title:"Are you sure you want to deploy this project to Abstra Cloud?",onConfirm:b},{default:o(()=>[u(e(c),null,{default:o(()=>[d("Deploy")]),_:1})]),_:1})),u(e(c),{onClick:_},{default:o(()=>[d("Logout")]),_:1})]),_:1})):(s(),l(e(c),{key:2,onClick:y},{default:o(()=>[d("Login to deploy")]),_:1}))}});const M=v(B,[["__scopeId","data-v-227d4310"]]);export{M as L};
//# sourceMappingURL=LoginBlock.c7f91062.js.map
