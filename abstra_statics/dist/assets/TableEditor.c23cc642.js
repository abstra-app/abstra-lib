import{f as l,eG as Le,d as oe,eB as ie,H as E,r as A,J as he,eN as Y,a as de,b as d,c as g,w as a,u as e,bG as B,ar as S,cE as ce,bz as V,bg as ke,ex as D,o as $e,e as F,ae as xe,v as _e,G as Ue,ev as Q,f9 as Ee,eD as ee,bE as Oe,bh as Te,bf as ye,aD as se,cz as Ne,aH as ze,cG as Be,eC as Ce,eK as je,bA as qe,eA as Re,eM as Fe,I as Pe}from"./outputWidgets.9bb29762.js";import{p as we,T as W,d as Me}from"./tables.62e321f0.js";import{B as Ke}from"./BaseLayout.74bb733b.js";import{a as pe}from"./asyncComputed.ac1a0197.js";import{p as ne}from"./popupNotifcation.b12790e0.js";import{Z as De,_ as Se,$ as Ve,I as Ge}from"./icons.d08bf04b.js";import"./router.f15646c4.js";import{P as fe}from"./project.caeee488.js";import"./index.2f604abe.js";import{A as Ie}from"./index.db3440ba.js";import{A as L,F as me}from"./Form.472b1af8.js";import{A as te}from"./index.26547011.js";import{A as ve}from"./index.2c2899aa.js";import{a as He}from"./ant-design.3940e065.js";import{E as Je}from"./Base.abff5e35.js";import{L as Qe}from"./LoadingOutlined.41bc0ef5.js";import{A as ue}from"./index.fcc99b17.js";import{D as We}from"./DeleteOutlined.e7d9e6ac.js";import{D as Ze}from"./DownOutlined.56421333.js";import{A as Xe}from"./index.54135072.js";import{O as Ye}from"./organization.a9e9abb1.js";import{B as et,a as tt,c as at}from"./index.3a61abce.js";import"./record.dd7b0559.js";import"./pubsub.90d4935e.js";import"./string.651f1f90.js";import"./index.cf4c23b9.js";import"./index.d6e0013f.js";import"./hasIn.fa8167cd.js";import"./isNumeric.75337b1e.js";import"./index.1ce3173e.js";import"./Modal.8f9ba470.js";import"./Typography.184e8c0b.js";import"./DeleteOutlined.f8ba9770.js";import"./ArrowRightOutlined.08fa31dd.js";(function(){try{var y=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},v=new Error().stack;v&&(y._sentryDebugIds=y._sentryDebugIds||{},y._sentryDebugIds[v]="4784cb33-68e9-4b1d-903a-3190df97ab3d",y._sentryDebugIdIdentifier="sentry-dbid-4784cb33-68e9-4b1d-903a-3190df97ab3d")}catch{}})();function be(y){for(var v=1;v<arguments.length;v++){var t=arguments[v]!=null?Object(arguments[v]):{},I=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(I=I.concat(Object.getOwnPropertySymbols(t).filter(function(b){return Object.getOwnPropertyDescriptor(t,b).enumerable}))),I.forEach(function(b){lt(y,b,t[b])})}return y}function lt(y,v,t){return v in y?Object.defineProperty(y,v,{value:t,enumerable:!0,configurable:!0,writable:!0}):y[v]=t,y}var ge=function(v,t){var I=be({},v,t.attrs);return l(Le,be({},I,{icon:Je}),null)};ge.displayName="EditOutlined";ge.inheritAttrs=!1;const nt=ge,Ae=(y,v)=>v.includes(y)?{status:"error",help:"There already is a column with this name in the table"}:{status:""},ut=oe({__name:"NewColumn",props:{open:{type:Boolean},table:{}},emits:["created","cancel"],setup(y,{emit:v}){const t=y,b=ie().params.projectId,x=E(()=>{var f;return((f=t.table)==null?void 0:f.getColumns().map(s=>s.name))||[]}),N=E(()=>Ae(i.value.name,x.value)),h={name:"",type:"varchar",default:"",nullable:!0,unique:!1},i=A(h),P=()=>{i.value={...h}},j=A([{value:"reference",label:"reference",isLeaf:!1},...we.map(f=>({value:f,label:f,isLeaf:!0}))]),z=f=>{if(!f)return;const s=f[f.length-1];switch(f.length){case 0:return;case 1:s.loading=!0,W.list(b).then(U=>{s.children=U.map(_=>({value:_.id,label:_.name,isLeaf:!1})),s.loading=!1});return;case 2:s.loading=!0,W.get(b,s.value).then(U=>{s.children=U.getColumns().map(_=>({type:_.type,value:_.id,label:_.name,isLeaf:!0})),s.loading=!1});return}},p=(f,s)=>{if(!!f){if(f.length===1){i.value.type=f[0],i.value.foreignKey=void 0;return}if(f.length===3){const U=s[s.length-1];i.value.type=U.type,i.value.foreignKey={columnId:U.value}}}},w=f=>{const s=f.selectedOptions;return s?s.length===1?s[0].label:s.length===3?`reference to ${s[1].label}(${s[2].label})`:"":"Select type"},m=A({...{status:"success",message:"",fakeLoading:!1}}),q=()=>{m.value.fakeLoading=!0,R()};he(()=>i.value.type,()=>{i.value.default=Me[i.value.type]||"",q()});const R=Y.exports.debounce(async()=>{if(!i.value.default){m.value.status="success",m.value.message="",m.value.fakeLoading=!1;return}const f=`select (${i.value.default})::${i.value.type} `;fe.executeQuery(b,f,[]).then(s=>{m.value.status=s.errors.length>0?"error":"success",m.value.message=s.errors[0]||"",m.value.fakeLoading=!1})},500);function K(){v("cancel")}async function k(){if(!!t.table&&!(!i.value.name||!i.value.type))try{await t.table.addColumn(i.value),P(),v("created")}catch(f){f instanceof Error&&ne("Database error",f.message)}}return(f,s)=>{const U=de("icon");return d(),g(e(ve),{title:"New column",width:720,open:t.open,"body-style":{paddingBottom:"80px"},"footer-style":{textAlign:"right"},onClose:K},{extra:a(()=>[l(e(ce),null,{default:a(()=>[l(e(B),{onClick:K},{default:a(()=>[S("Cancel")]),_:1}),l(e(B),{type:"primary",onClick:k},{default:a(()=>[S("Submit")]),_:1})]),_:1})]),default:a(()=>[l(e(me),{model:i.value,layout:"vertical"},{default:a(()=>[l(e(L),{key:"name",label:"Name",required:"","validate-status":N.value.status,help:N.value.help},{default:a(()=>[l(e(V),{value:i.value.name,"onUpdate:value":s[0]||(s[0]=_=>i.value.name=_)},null,8,["value"])]),_:1},8,["validate-status","help"]),l(e(L),{key:"type",label:"Type",required:""},{default:a(()=>[l(e(Ie),{options:j.value,"load-data":z,"display-render":w,"allow-clear":!1,onChange:p},null,8,["options"])]),_:1}),l(e(L),{key:"default-value",label:"Default value","validate-status":m.value.status,help:m.value.message},{default:a(()=>[l(e(V),{value:i.value.default,"onUpdate:value":s[1]||(s[1]=_=>i.value.default=_),onInput:q},{suffix:a(()=>[m.value.fakeLoading?(d(),g(e(ke),{key:0})):D("",!0),!m.value.fakeLoading&&m.value.status==="success"?(d(),g(U,{key:1,path:e(De),width:"18",height:"18"},null,8,["path"])):D("",!0),!m.value.fakeLoading&&m.value.status==="error"?(d(),g(U,{key:2,path:e(Se),width:"18",height:"18"},null,8,["path"])):D("",!0)]),_:1},8,["value"])]),_:1},8,["validate-status","help"]),l(e(L),{key:"nullable",label:"Nullable"},{default:a(()=>[l(e(te),{checked:i.value.nullable,"onUpdate:checked":s[2]||(s[2]=_=>i.value.nullable=_)},null,8,["checked"])]),_:1}),l(e(L),{key:"unique",label:"Unique"},{default:a(()=>[l(e(te),{checked:i.value.unique,"onUpdate:checked":s[3]||(s[3]=_=>i.value.unique=_)},null,8,["checked"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open"])}}}),ot={class:"twin-container"},rt={class:"fullwidth-input"},st={class:"fullwidth-input"},it={class:"using-container"},dt={class:"fullwidth-input"},ct=oe({__name:"UpdateColumn",props:{open:{type:Boolean},table:{},column:{}},emits:["updated","cancel"],setup(y,{emit:v}){const t=y,b=ie().params.projectId,x=A(t.column.record.initialState.type);$e(async()=>{if(!t.column.foreignKey)return;x.value="loading...";const u=await W.fromColumnId(b,t.column.foreignKey.columnId),o=u.getColumn(t.column.foreignKey.columnId);x.value=`reference to ${u.name}(${o.name})`});const N=E(()=>{var u;return((u=t.table)==null?void 0:u.getColumns().map(o=>o.record.initialState.name))||[]}),h=E(()=>t.column.name===t.column.record.initialState.name?{status:"",help:""}:Ae(t.column.name,N.value)),{result:i,loading:P}=pe(async()=>t.table.select({},10,0).then(({total:u})=>u));function j(){t.column.record.resetChanges(),v("cancel")}const p=A({status:"success",message:"",fakeLoading:!1}),w=()=>{p.value.fakeLoading=!0,M()},M=Y.exports.debounce(async()=>{if(!t.column.default){p.value.status="success",p.value.message="",p.value.fakeLoading=!1;return}const u=`select (${t.column.default})::${t.column.type} `,o=await fe.executeQuery(b,u,[]);p.value.status=o.errors.length>0?"error":"success",p.value.message=o.errors[0]||"",p.value.fakeLoading=!1},500),m=A([{value:"reference",label:"reference",isLeaf:!1},...we.map(u=>({value:u,label:u,isLeaf:!0}))]),q=u=>{if(!u)return;const o=u[u.length-1];switch(u.length){case 0:return;case 1:o.loading=!0,W.list(b).then($=>{o.children=$.map(n=>({value:n.id,label:n.name,isLeaf:!1})),o.loading=!1});return;case 2:o.loading=!0,W.get(b,o.value).then($=>{o.children=$.getColumns().map(n=>({type:n.type,value:n.id,label:n.name,isLeaf:!0})),o.loading=!1});return}},ae=u=>{const o=u.selectedOptions;return o?o.length===1?o[0].label:o.length===3?`reference to ${o[1].label}(${o[2].label})`:"":"Select type"},R=(u,o)=>{if(!!u){if(u.length===1){t.column.type=u[0],t.column.foreignKey=null;return}if(u.length===3){if(t.column.foreignKey&&t.column.foreignKey.columnId===u[2])return;const $=o[o.length-1];t.column.type=$.type,t.column.foreignKey={columnId:$.value}}}},K=()=>i.value===0||P.value?!1:t.column.record.hasChangesDeep("type"),k=A({type:"default"}),f=()=>{t.column.type=t.column.record.initialState.type,k.value={type:"default"}};function s(u,o){return o==="varchar"||u==="int"&&o==="boolean"||u==="boolean"&&o==="int"}he(()=>t.column.type,()=>{w(),_.value||(k.value={type:"user-defined",using:H.value,mandatory:!0})});const _=E(()=>k.value.type==="default"&&s(t.column.record.initialState.type,t.column.type)),G=E(()=>!s(t.column.record.initialState.type,t.column.type));function C(u){u?k.value={type:"default"}:k.value={type:"user-defined",using:H.value,mandatory:!1}}function Z(u){if(k.value.type==="default")throw new Error("Can't change using when using default casting");k.value.using=u!=null?u:""}const X=()=>G.value?!0:K()&&k.value.type==="user-defined",H=E(()=>`${t.column.record.initialState.name}::${t.column.type}`);async function re(){if(!t.column)return;let u=k.value.type==="default"?H.value:k.value.using;i.value===0&&(u=`${t.column.name}::text::${t.column.type}`);try{await t.column.update(u),v("updated")}catch(o){o instanceof Error&&ne("Database error",o.message)}}return(u,o)=>{const $=de("icon");return d(),g(e(ve),{title:"Edit column",width:720,open:u.open,"body-style":{paddingBottom:"80px"},"footer-style":{textAlign:"right"},onClose:j},{extra:a(()=>[l(e(ce),null,{default:a(()=>[l(e(B),{onClick:j},{default:a(()=>[S("Cancel")]),_:1}),l(e(B),{type:"primary",onClick:re},{default:a(()=>[S("Submit")]),_:1})]),_:1})]),default:a(()=>[l(e(me),{model:u.column,layout:"vertical"},{default:a(()=>[l(e(L),{key:"name",label:"Name","validate-status":h.value.status,help:h.value.help},{default:a(()=>[l(e(V),{value:u.column.name,"onUpdate:value":o[0]||(o[0]=n=>u.column.name=n)},null,8,["value"])]),_:1},8,["validate-status","help"]),F("div",ot,[F("span",rt,[l(e(L),{key:"type",label:"Current Type"},{default:a(()=>[l(e(xe),{value:x.value,"onUpdate:value":o[1]||(o[1]=n=>x.value=n),"default-active-first-option":"",disabled:""},null,8,["value"])]),_:1})]),l($,{class:"right-arrow",path:e(Ve)},null,8,["path"]),F("span",st,[l(e(L),{key:"new-type",label:"New Type"},{default:a(()=>[l(e(Ie),{options:m.value,"load-data":q,"display-render":ae,"allow-clear":!0,onClear:f,onChange:R},null,8,["options"])]),_:1})])]),l(e(L),{key:"default-value",label:"Default value","validate-status":p.value.status,help:p.value.message},{default:a(()=>[l(e(V),{value:u.column.default,"onUpdate:value":o[2]||(o[2]=n=>u.column.default=n),onInput:w},{suffix:a(()=>[p.value.fakeLoading?(d(),g(e(ke),{key:0,size:"small"})):D("",!0),!p.value.fakeLoading&&p.value.status==="success"?(d(),g($,{key:1,path:e(De),width:"18",height:"18"},null,8,["path"])):D("",!0),!p.value.fakeLoading&&p.value.status==="error"?(d(),g($,{key:2,path:e(Se),width:"18",height:"18"},null,8,["path"])):D("",!0)]),_:1},8,["value"])]),_:1},8,["validate-status","help"]),F("div",it,[K()?(d(),g(e(L),{key:"default-casting",label:"Use default casting"},{default:a(()=>[l(e(te),{checked:_.value,disabled:G.value,"onUpdate:checked":o[3]||(o[3]=n=>C(!!n))},null,8,["checked","disabled"])]),_:1})):D("",!0),F("span",dt,[K()?(d(),g(e(L),{key:"using",label:"Using"},{default:a(()=>[l(e(V),{value:k.value.type==="user-defined"?k.value.using:H.value,disabled:!X(),onInput:o[4]||(o[4]=n=>Z(n.target.value))},null,8,["value","disabled"])]),_:1})):D("",!0)])]),l(e(L),{key:"nullable",label:"Nullable"},{default:a(()=>[l(e(te),{checked:u.column.nullable,"onUpdate:checked":o[5]||(o[5]=n=>u.column.nullable=n)},null,8,["checked"])]),_:1}),l(e(L),{key:"unique",label:"Unique"},{default:a(()=>[l(e(te),{checked:u.column.unique,"onUpdate:checked":o[6]||(o[6]=n=>u.column.unique=n)},null,8,["checked"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open"])}}});const pt=_e(ct,[["__scopeId","data-v-d14cbe65"]]),ft={class:"table-data",style:{width:"calc(100% - 120px)"}},mt={key:1},vt={key:1},gt=["onClick"],yt=F("a",null,"Delete",-1),bt=oe({__name:"TableData",props:{table:{},loading:{type:Boolean}},emits:["refresh"],setup(y,{emit:v}){var $;const t=y,I=A(1),b=A(10),x=E(()=>{var n,c;return{total:(c=(n=R.value)==null?void 0:n.total)!=null?c:0,current:I.value,pageSize:b.value,totalBoundaryShowSizeChanger:10,showSizeChanger:!0,pageSizeOptions:["10","25","50","100"],onChange:async(r,O)=>{I.value=r,b.value=O,await k()}}}),N=A(""),h=A(!1),i=A({type:"idle"}),P=()=>{h.value=!0,j()},j=Y.exports.debounce(()=>{k(),h.value=!1},500);function z(){i.value={type:"idle"}}function p(){z(),v("refresh"),k()}function w(){i.value={type:"creating"}}const M=n=>{if(!t.table)throw new Error("Table not found");i.value={type:"editing",column:t.table.getColumn(n)}};async function m(n){await He("Are you sure you want to delete this column?")&&await q(n)}async function q(n){var c,r;await((r=(c=t.table)==null?void 0:c.getColumn(n))==null?void 0:r.delete()),v("refresh"),k()}const ae=E(()=>{var n;return((n=R.value)==null?void 0:n.rows.length)===1}),{result:R,loading:K,refetch:k}=pe(()=>t.table.select({},(I.value-1)*b.value,b.value,N.value)),f=(n,c)=>r=>{if(n==="json"&&r==""){C.value[c]="null";return}C.value[c]=r},s=E(()=>{var c;return[...(c=t.table)==null?void 0:c.getColumns().map(r=>({key:r.id,title:r.name,dataIndex:r.name,resizable:!0,minWidth:100,ellipsis:!1})),{title:"",key:"action",fixed:"right",width:150,align:"center"}]});function U(n,c){c.width=n}const _=E(()=>{var n;return((n=R.value)==null?void 0:n.rows.map(c=>({key:c.id,...c})))||[]}),G=A(!1),C=A({}),Z=()=>{G.value=!0},X=()=>{C.value={},G.value=!1};let H=Ue(($=t.table)==null?void 0:$.getUnprotectedColumns().reduce((n,c)=>({...n,[c.name]:""}),{}));async function re(){if(!(!t.table||!H))try{C.value.id?await t.table.updateRow(C.value.id,C.value):await t.table.insertRow(C.value),C.value={},k(),X()}catch(n){n instanceof Error&&ne("Database error",n.message)}}const u=async n=>{if(!(!R.value||!R.value.rows.find(c=>c.id===n)))try{await t.table.deleteRow(n),ae.value&&(I.value=Math.max(1,I.value-1)),k()}catch(c){c instanceof Error&&ne("Database error",c.message)}},o=n=>{var J;const c=(J=_.value)==null?void 0:J.filter(T=>n===T.key)[0],r=t.table.getColumns(),O=r.map(T=>T.name),le=r.filter(T=>T.type==="json").map(T=>T.name);C.value=Y.exports.pick(Y.exports.cloneDeep(c),O),le.forEach(T=>{C.value[T]&&(C.value[T]=JSON.stringify(C.value[T]))}),Z()};return(n,c)=>(d(),Q("div",ft,[l(e(ue),{justify:"space-between",style:{"margin-bottom":"16px"},gap:"middle"},{default:a(()=>[l(e(V),{value:N.value,"onUpdate:value":[c[0]||(c[0]=r=>N.value=r),P],placeholder:"Search",style:{width:"400px"},"allow-clear":""},{prefix:a(()=>[l(e(Ee))]),suffix:a(()=>[h.value?(d(),g(e(Qe),{key:0})):D("",!0)]),_:1},8,["value"]),l(e(B),{type:"primary",onClick:w},{default:a(()=>[S("+ Add new column")]),_:1})]),_:1}),l(e(Be),{columns:s.value,"data-source":_.value,pagination:x.value,bordered:"",loading:e(K)||n.loading,scroll:{x:2e3,y:720},size:"small",onResizeColumn:U},{headerCell:a(({column:r})=>[r.title!=="id"&&r.title!=="created_at"&&r.key!=="action"?(d(),g(e(ue),{key:0,align:"center",justify:"space-between"},{default:a(()=>[S(ee(r.title)+" ",1),l(e(Oe),{placement:"bottomRight",trigger:"click"},{overlay:a(()=>[l(e(Te),null,{default:a(()=>[l(e(ye),{onClick:O=>M(String(r.key))},{icon:a(()=>[l(e(nt))]),default:a(()=>[S(" Edit ")]),_:2},1032,["onClick"]),l(e(ye),{danger:"",onClick:O=>m(String(r.key))},{icon:a(()=>[l(e(We))]),default:a(()=>[S(" Delete ")]),_:2},1032,["onClick"])]),_:2},1024)]),default:a(()=>[l(e(Ze))]),_:2},1024)]),_:2},1024)):(d(),Q("span",mt,ee(r.title),1))]),bodyCell:a(({column:r,text:O,record:le})=>[s.value.map(J=>J.title).includes(r.dataIndex)?(d(),Q(se,{key:0},[S(ee(O),1)],64)):D("",!0),r.key==="action"?(d(),Q("div",vt,[F("span",null,[F("a",{onClick:J=>o(le.id)},"Edit",8,gt)]),l(e(Xe),{type:"vertical"}),l(e(Ne),{title:"Sure to delete?",onConfirm:J=>u(le.id)},{default:a(()=>[yt]),_:2},1032,["onConfirm"])])):D("",!0)]),footer:a(()=>[s.value.length===3?(d(),g(e(ze),{key:0,title:"There are no columns",placement:"bottom"},{default:a(()=>[l(e(B),{type:"primary",disabled:!0,onClick:Z},{default:a(()=>[S(" + Add New Data ")]),_:1})]),_:1})):(d(),g(e(B),{key:1,type:"primary",onClick:Z},{default:a(()=>[S("+ Add New Data")]),_:1}))]),_:1},8,["columns","data-source","pagination","loading"]),l(e(ve),{title:"Data",width:720,open:G.value,"body-style":{paddingBottom:"80px"},"footer-style":{textAlign:"right"},onClose:X},{extra:a(()=>[l(e(ce),null,{default:a(()=>[l(e(B),{onClick:X},{default:a(()=>[S("Cancel")]),_:1}),l(e(B),{type:"primary",onClick:re},{default:a(()=>[S("Submit")]),_:1})]),_:1})]),default:a(()=>[l(e(me),{model:C.value,layout:"vertical"},{default:a(()=>[(d(!0),Q(se,null,Ce(n.table.getUnprotectedColumns(),r=>(d(),g(e(L),{key:r.id,label:r.name,required:!r.nullable},{default:a(()=>[C.value?(d(),g(e(V),{key:0,placeholder:r.type,value:C.value[r.name],disabled:C.value[r.name]===null,"onUpdate:value":O=>f(r.type,r.name)(O)},je({_:2},[r.nullable?{name:"addonAfter",fn:a(()=>[l(e(qe),{checked:C.value[r.name]===null,"onUpdate:checked":O=>C.value[r.name]=O?null:""},{default:a(()=>[S(" NULL ")]),_:2},1032,["checked","onUpdate:checked"])]),key:"0"}:void 0]),1032,["placeholder","value","disabled","onUpdate:value"])):D("",!0)]),_:2},1032,["label","required"]))),128))]),_:1},8,["model"])]),_:1},8,["open"]),n.table&&i.value.type==="creating"?(d(),g(ut,{key:0,open:"",table:t.table,onClose:z,onCancel:z,onCreated:p},null,8,["table"])):D("",!0),n.table&&i.value.type==="editing"?(d(),g(pt,{key:1,column:i.value.column,open:"",table:n.table,onUpdated:p,onClose:z,onCancel:z},null,8,["column","table"])):D("",!0)]))}});const ht={style:{"font-size":"20px"}},kt=oe({__name:"TableEditor",setup(y){const v=Re(),t=ie(),I=t.params.tableId,b=t.params.projectId,x=A(!1),N=()=>{var p;x.value=!1,(p=h.value)==null||p.table.save(),P()},{result:h,loading:i,refetch:P}=pe(()=>Promise.all([fe.get(b).then(async p=>{const w=await Ye.get(p.organizationId);return{project:p,organization:w}}),W.get(b,I)]).then(([{project:p,organization:w},M])=>Fe({project:p,organization:w,table:M}))),j=E(()=>!i.value&&h.value?[{label:"My organizations",path:"/organizations"},{label:h.value.organization.name,path:`/organizations/${h.value.organization.id}`},{label:h.value.project.name,path:`/projects/${h.value.project.id}/tables`}]:void 0);function z(){v.push({name:"tables",params:{projectId:b}})}return(p,w)=>{const M=de("router-link");return d(),g(Ke,null,{navbar:a(()=>[l(e(at),{style:{padding:"5px 25px"},onBack:z},{title:a(()=>[x.value?(d(),g(e(ue),{key:1,align:"center",gap:"large"},{default:a(()=>[e(h)?(d(),g(e(V),{key:0,value:e(h).table.name,"onUpdate:value":w[1]||(w[1]=m=>e(h).table.name=m),class:"borderless-input"},null,8,["value"])):D("",!0),l(e(B),{onClick:N},{default:a(()=>[S("Save")]),_:1})]),_:1})):(d(),g(e(ue),{key:0,align:"center",gap:"small"},{default:a(()=>{var m;return[F("span",ht,ee((m=e(h))==null?void 0:m.table.name),1),l(Pe,{path:e(Ge),width:"22",style:{cursor:"pointer"},onClick:w[0]||(w[0]=q=>x.value=!0)},null,8,["path"])]}),_:1}))]),breadcrumb:a(()=>[j.value?(d(),g(e(et),{key:0},{default:a(()=>[(d(!0),Q(se,null,Ce(j.value,(m,q)=>(d(),g(e(tt),{key:q},{default:a(()=>[l(M,{to:m.path},{default:a(()=>[S(ee(m.label),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})):D("",!0)]),_:1})]),content:a(()=>[e(h)?(d(),g(bt,{key:0,loading:e(i),table:e(h).table,onRefresh:w[2]||(w[2]=m=>e(P)())},null,8,["loading","table"])):D("",!0)]),_:1})}}});const ta=_e(kt,[["__scopeId","data-v-594196a3"]]);export{ta as default};
//# sourceMappingURL=TableEditor.c23cc642.js.map
