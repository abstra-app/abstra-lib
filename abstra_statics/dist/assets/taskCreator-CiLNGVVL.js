import{r as l,c as u,a9 as y}from"./jwt-decode.esm-X_JHyrHe.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s=new Error().stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="b2a813ff-9be4-40c8-9145-e1fb07659b4f",e._sentryDebugIdIdentifier="sentry-dbid-b2a813ff-9be4-40c8-9145-e1fb07659b4f")}catch{}})();function p({api:e,fetchTasks:s}){const a=l({state:"idle"}),n=()=>{a.value={state:"idle"}},c=()=>{a.value={state:"creating",name:"My task",payloadCode:`{
    "key": "value"
  }`}},d=async r=>{const t=a.value;if(t.state!=="creating")throw new Error("Payload is required to create a task");if(!o.value)return;const i=JSON.parse(t.payloadCode),f=await e.createTask(t.name,r,i);return await s(),n(),f},o=u(()=>{const r=a.value;if(r.state!=="creating")return!1;try{const t=JSON.parse(r.payloadCode);return y.isObject(t)}catch{return!1}});return{createTask:d,creatingTaskState:a,cancelCreatingTask:n,startCreatingTask:c,isPayloadValid:o}}export{p as T};
//# sourceMappingURL=taskCreator-CiLNGVVL.js.map
