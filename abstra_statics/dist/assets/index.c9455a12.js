import{M as C}from"./Modal.e2700fe9.js";import{d as E,ao as X,f as u,bs as ve,bp as be,bq as xe,cY as ye,O as K,dh as V,cU as q,V as i,Q as ge,di as J,R as w,A as ke,dj as he,dk as Te,a0 as we,H as j,dl as Fe,bB as Pe,F as g,J as Y,u as Ae,dm as $e}from"./outputWidgets.23a77d09.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d5b81b34-1db2-4407-9ddb-cccbdb0be9b2",e._sentryDebugIdIdentifier="sentry-dbid-d5b81b34-1db2-4407-9ddb-cccbdb0be9b2")}catch{}})();function T(e){return typeof e=="function"?e():e}const Z=E({name:"ConfirmDialog",inheritAttrs:!1,props:["icon","onCancel","onOk","close","closable","zIndex","afterClose","visible","open","keyboard","centered","getContainer","maskStyle","okButtonProps","cancelButtonProps","okType","prefixCls","okCancel","width","mask","maskClosable","okText","cancelText","autoFocusButton","transitionName","maskTransitionName","type","title","content","direction","rootPrefixCls","bodyStyle","closeIcon","modalRender","focusTriggerAfterClose","wrapClassName","confirmPrefixCls","footer"],setup(e,n){let{attrs:t}=n;const[a]=X("Modal");return()=>{const{icon:v,onCancel:r,onOk:p,close:m,okText:x,closable:c=!1,zIndex:s,afterClose:l,keyboard:b,centered:o,getContainer:f,maskStyle:y,okButtonProps:F,cancelButtonProps:H,okCancel:B,width:d=416,mask:P=!0,maskClosable:h=!1,type:M,open:N,title:L,content:le,direction:se,closeIcon:ae,modalRender:re,focusTriggerAfterClose:ce,rootPrefixCls:S,bodyStyle:ie,wrapClassName:ue,footer:z}=e;let A=v;if(!v&&v!==null)switch(M){case"info":A=u(ye,null,null);break;case"success":A=u(xe,null,null);break;case"error":A=u(be,null,null);break;default:A=u(ve,null,null)}const fe=e.okType||"primary",D=e.prefixCls||"ant-modal",$=`${D}-confirm`,de=t.style||{},Q=B!=null?B:M==="confirm",W=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",R=`${D}-confirm`,me=K(R,`${R}-${e.type}`,{[`${R}-rtl`]:se==="rtl"},t.class),O=a.value,Ce=Q&&u(V,{actionFn:r,close:m,autofocus:W==="cancel",buttonProps:H,prefixCls:`${S}-btn`},{default:()=>[T(e.cancelText)||O.cancelText]});return u(C,{prefixCls:D,class:me,wrapClassName:K({[`${R}-centered`]:!!o},ue),onCancel:pe=>m==null?void 0:m({triggerCancel:!0},pe),open:N,title:"",footer:"",transitionName:q(S,"zoom",e.transitionName),maskTransitionName:q(S,"fade",e.maskTransitionName),mask:P,maskClosable:h,maskStyle:y,style:de,bodyStyle:ie,width:d,zIndex:s,afterClose:l,keyboard:b,centered:o,getContainer:f,closable:c,closeIcon:ae,modalRender:re,focusTriggerAfterClose:ce},{default:()=>[u("div",{class:`${$}-body-wrapper`},[u("div",{class:`${$}-body`},[T(A),L===void 0?null:u("span",{class:`${$}-title`},[T(L)]),u("div",{class:`${$}-content`},[T(le)])]),z!==void 0?T(z):u("div",{class:`${$}-btns`},[Ce,u(V,{type:fe,actionFn:p,close:m,autofocus:W==="ok",buttonProps:F,prefixCls:`${S}-btn`},{default:()=>[T(x)||(Q?O.okText:O.justOkText)]})])])]})}}}),Ie=[],k=Ie,Be=e=>{const n=document.createDocumentFragment();let t=i(i({},ge(e,["parentContext","appContext"])),{close:r,open:!0}),a=null;function v(){a&&(J(null,n),a.component.update(),a=null);for(var c=arguments.length,s=new Array(c),l=0;l<c;l++)s[l]=arguments[l];const b=s.some(o=>o&&o.triggerCancel);e.onCancel&&b&&e.onCancel(()=>{},...s.slice(1));for(let o=0;o<k.length;o++)if(k[o]===r){k.splice(o,1);break}}function r(){for(var c=arguments.length,s=new Array(c),l=0;l<c;l++)s[l]=arguments[l];t=i(i({},t),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),v.apply(this,s)}}),t.visible&&delete t.visible,p(t)}function p(c){typeof c=="function"?t=c(t):t=i(i({},t),c),a&&(i(a.component.props,t),a.component.update())}const m=c=>{const s=he,l=s.prefixCls,b=c.prefixCls||`${l}-modal`,o=s.iconPrefixCls,f=Te();return u(ke,w(w({},s),{},{prefixCls:l}),{default:()=>[u(Z,w(w({},c),{},{rootPrefixCls:l,prefixCls:b,iconPrefixCls:o,locale:f,cancelText:c.cancelText||f.cancelText}),null)]})};function x(c){const s=u(m,i({},c));return s.appContext=e.parentContext||e.appContext||s.appContext,J(s,n),s}return a=x(t),k.push(r),{destroy:r,update:p}},I=Be;function U(e){return i(i({},e),{type:"warning"})}function _(e){return i(i({},e),{type:"info"})}function ee(e){return i(i({},e),{type:"success"})}function ne(e){return i(i({},e),{type:"error"})}function oe(e){return i(i({},e),{type:"confirm"})}const Me=()=>({config:Object,afterClose:Function,destroyAction:Function,open:Boolean}),Ne=E({name:"HookModal",inheritAttrs:!1,props:we(Me(),{config:{width:520,okType:"primary"}}),setup(e,n){let{expose:t}=n;var a;const v=j(()=>e.open),r=j(()=>e.config),{direction:p,getPrefixCls:m}=Fe(),x=m("modal"),c=m(),s=()=>{var f,y;e==null||e.afterClose(),(y=(f=r.value).afterClose)===null||y===void 0||y.call(f)},l=function(){e.destroyAction(...arguments)};t({destroy:l});const b=(a=r.value.okCancel)!==null&&a!==void 0?a:r.value.type==="confirm",[o]=X("Modal",Pe.Modal);return()=>u(Z,w(w({prefixCls:x,rootPrefixCls:c},r.value),{},{close:l,open:v.value,afterClose:s,okText:r.value.okText||(b?o==null?void 0:o.value.okText:o==null?void 0:o.value.justOkText),direction:r.value.direction||p.value,cancelText:r.value.cancelText||(o==null?void 0:o.value.cancelText)}),null)}});let G=0;const Se=E({name:"ElementsHolder",inheritAttrs:!1,setup(e,n){let{expose:t}=n;const a=g([]);return t({addModal:r=>(a.value.push(r),a.value=a.value.slice(),()=>{a.value=a.value.filter(p=>p!==r)})}),()=>a.value.map(r=>r())}});function Re(){const e=g(null),n=g([]);Y(n,()=>{n.value.length&&([...n.value].forEach(p=>{p()}),n.value=[])},{immediate:!0});const t=r=>function(m){var x;G+=1;const c=g(!0),s=g(null),l=g(Ae(m)),b=g({});Y(()=>m,d=>{F(i(i({},$e(d)?d.value:d),b.value))});const o=function(){c.value=!1;for(var d=arguments.length,P=new Array(d),h=0;h<d;h++)P[h]=arguments[h];const M=P.some(N=>N&&N.triggerCancel);l.value.onCancel&&M&&l.value.onCancel(()=>{},...P.slice(1))};let f;const y=()=>u(Ne,{key:`modal-${G}`,config:r(l.value),ref:s,open:c.value,destroyAction:o,afterClose:()=>{f==null||f()}},null);f=(x=e.value)===null||x===void 0?void 0:x.addModal(y),f&&k.push(f);const F=d=>{l.value=i(i({},l.value),d)};return{destroy:()=>{s.value?o():n.value=[...n.value,o]},update:d=>{b.value=d,s.value?F(d):n.value=[...n.value,()=>F(d)]}}},a=j(()=>({info:t(_),success:t(ee),error:t(ne),warning:t(U),confirm:t(oe)})),v=Symbol("modalHolderKey");return[a.value,()=>u(Se,{key:v,ref:e},null)]}function te(e){return I(U(e))}C.useModal=Re;C.info=function(n){return I(_(n))};C.success=function(n){return I(ee(n))};C.error=function(n){return I(ne(n))};C.warning=te;C.warn=te;C.confirm=function(n){return I(oe(n))};C.destroyAll=function(){for(;k.length;){const n=k.pop();n&&n()}};C.install=function(e){return e.component(C.name,C),e};export{Re as u};
//# sourceMappingURL=index.c9455a12.js.map
