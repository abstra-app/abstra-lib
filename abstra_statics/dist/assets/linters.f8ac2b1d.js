var c=Object.defineProperty;var f=(t,e,s)=>e in t?c(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var n=(t,e,s)=>(f(t,typeof e!="symbol"?e+"":e,s),s);import{a as l}from"./asyncComputed.e1d8d157.js";import"./jwt-decode.esm.dc0b88e7.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="5e0f652c-25f3-4fb8-87bd-f13f0b4464c8",t._sentryDebugIdIdentifier="sentry-dbid-5e0f652c-25f3-4fb8-87bd-f13f0b4464c8")}catch{}})();class u{async check(){return(await fetch("/_editor/api/linters/check")).json()}async fix(e,s){const i=await fetch(`/_editor/api/linters/fix/${e}/${s}`,{method:"POST"});if(!i.ok)throw new Error("Failed to fix");return a.refetch(),i.json()}}const r=new u,a=l(async()=>(await r.check()).map(e=>new m(e)));class d{constructor(e,s){n(this,"name");n(this,"label");n(this,"ruleName");this.name=e.name,this.label=e.label,this.ruleName=s}async fix(){await r.fix(this.ruleName,this.name)}}class h{constructor(e,s){n(this,"label");n(this,"fixes");this.ruleName=s,this.label=e.label,this.fixes=e.fixes.map(i=>new d(i,s))}}class m{constructor(e){n(this,"name");n(this,"label");n(this,"type");n(this,"issues");this.name=e.name,this.label=e.label,this.type=e.type,this.issues=e.issues.map(s=>new h(s,this.name))}static get asyncComputed(){return a}static fromName(e){var i;const s=(i=a.result.value)==null?void 0:i.find(o=>o.name===e);if(!s)throw new Error(`Rule ${e} not found`);return s}}export{m as L};
//# sourceMappingURL=linters.f8ac2b1d.js.map
