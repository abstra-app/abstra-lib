import{d as l,o as c,H as u,b as p,et as f,f as g,u as b,af as w}from"./outputWidgets.b56466d5.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[t]="a312b7b1-6455-40f9-b573-a8a062f74ead",a._sentryDebugIdIdentifier="sentry-dbid-a312b7b1-6455-40f9-b573-a8a062f74ead")}catch{}})();class y{async list(t){const s=new URLSearchParams({stage:t});return await(await fetch(`/_editor/api/stage_runs?${s}`)).json()}}const h=new y;class r{constructor(t){this.dto=t}static async list(t){return(await h.list(t)).map(o=>new r(o))}get id(){return this.dto.id}get data(){return this.dto.data}get assignee(){return this.dto.assignee}get stage(){return this.dto.stage}get status(){return this.dto.status}}const S=l({__name:"StageRunSelector",props:{path:{},optional:{type:Boolean},disabled:{type:Boolean}},emits:["select"],setup(a,{emit:t}){const s=a;c(async()=>{const i=await r.list(s.path);n.options=i.filter(e=>e.status==="waiting").map(e=>({value:e.id,label:e.id}))});const o=i=>{t("select",i)},n=u({options:[],loading:!1});return(i,e)=>(p(),f("div",null,[g(b(w),{value:n.stageRunId,"onUpdate:value":e[0]||(e[0]=d=>n.stageRunId=d),"filter-option":"","allow-clear":s.optional,style:{width:"100%"},placeholder:"Select task instance",options:n.options,disabled:s.disabled,"not-found-content":"There are no waiting task instances",onSelect:e[1]||(e[1]=d=>o(d))},null,8,["value","allow-clear","options","disabled"])]))}});export{r as S,S as _};
//# sourceMappingURL=StageRunSelector.vue_vue_type_script_setup_true_lang.a00800d0.js.map
