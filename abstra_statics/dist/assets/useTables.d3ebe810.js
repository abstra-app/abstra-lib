import"./router.a4b7e74c.js";import{r as i}from"./jwt-decode.esm.a11fd13a.js";import{T as h}from"./tables.8bc860b2.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new Error().stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="f2df43e7-2b55-4df7-a8f1-4f9b3a0f431e",e._sentryDebugIdIdentifier="sentry-dbid-f2df43e7-2b55-4df7-a8f1-4f9b3a0f431e")}catch{}})();const s=new Map,n=new Set,y=e=>{const a=i([]),t=i(!1),f=i(null),u=async(r=!1)=>{if(!r&&s.has(e))return a.value=s.get(e),a.value;if(n.has(e)){for(;n.has(e);)await new Promise(l=>setTimeout(l,100));return a.value=s.get(e)||[],a.value}try{t.value=!0,n.add(e),f.value=null;const l=await h.list(e);return a.value=l,s.set(e,l),l}catch(l){throw f.value=l,console.error("Error fetching tables:",l),l}finally{t.value=!1,n.delete(e)}},o=r=>a.value.find(l=>l.id===r)||null,b=()=>{s.delete(e)},d=()=>{s.clear()};return!s.has(e)&&!n.has(e)?u():s.has(e)&&(a.value=s.get(e)),{tables:a,loading:t,error:f,fetchTables:u,getTableById:o,invalidateCache:b,invalidateAllCache:d}};export{y as u};
//# sourceMappingURL=useTables.d3ebe810.js.map
