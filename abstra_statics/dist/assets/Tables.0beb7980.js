import{_ as B}from"./AbstraButton.vue_vue_type_script_setup_true_lang.e61b10a3.js";import{o as ce}from"./omniChatStore.382d9cfc.js";import{a as j}from"./string.02a8158f.js";import{d as le,at as D,c as Z,o as r,ac as m,ae as he,h as L,ew as ke,e as c,dg as Se,r as S,i as u,a as V,b as s,u as e,f as o,g as k,t as w,df as q,dj as O,aY as de,eB as we,ad as X,eK as fe,bT as ye,cD as Ne,cE as ae,bQ as te,d0 as ve,aI as Ie,S as xe,M as Ae,cM as W,al as Te,U as Ue,ax as je,ec as Be,eA as De,j as He,A as ze,cC as _e}from"./jwt-decode.esm.a71c2b53.js";import{C as Fe,A as Le,k as Ee,a as Pe,g as Re}from"./router.1a302c1f.js";import{p as Oe,T as Ke}from"./tables.6e54b3c6.js";import{T as We}from"./TableCard.2e6ac3f0.js";import{_ as qe}from"./TablesTabs.vue_vue_type_script_setup_true_lang.8fdfd732.js";import{u as ee}from"./uuid.9f4aeb6e.js";import{read as be,utils as ge}from"./xlsx.89ea120e.js";import{u as Ge}from"./useTables.f7b02640.js";import"./record.38533a9e.js";import"./PhCopySimple.vue.4c0be305.js";import"./index.922b04cc.js";import"./PhKey.vue.549de4b2.js";import"./PhPencil.vue.7df6dbe0.js";import"./vue-flow-core.0c6c1ac8.js";import"./Card.b7af1118.js";(function(){try{var $=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},y=new Error().stack;y&&($._sentryDebugIds=$._sentryDebugIds||{},$._sentryDebugIds[y]="e9061b27-ccfa-48b7-8c2d-c96e1450facc",$._sentryDebugIdIdentifier="sentry-dbid-e9061b27-ccfa-48b7-8c2d-c96e1450facc")}catch{}})();const Je=["width","height","fill","transform"],Qe={key:0},Ye=c("path",{d:"M216.49,79.52l-56-56A12,12,0,0,0,152,20H56A20,20,0,0,0,36,40V216a20,20,0,0,0,20,20H200a20,20,0,0,0,20-20V88A12,12,0,0,0,216.49,79.52ZM183,80H160V57ZM60,212V44h76V92a12,12,0,0,0,12,12h48V212Zm100.49-72.49a12,12,0,0,1-17,17L140,153v31a12,12,0,0,1-24,0V153l-3.51,3.52a12,12,0,0,1-17-17l24-24a12,12,0,0,1,17,0Z"},null,-1),Xe=[Ye],ea={key:1},aa=c("path",{d:"M208,88H152V32Z",opacity:"0.2"},null,-1),ta=c("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Zm-42.34-77.66a8,8,0,0,1-11.32,11.32L136,139.31V184a8,8,0,0,1-16,0V139.31l-10.34,10.35a8,8,0,0,1-11.32-11.32l24-24a8,8,0,0,1,11.32,0Z"},null,-1),la=[aa,ta],na={key:2},sa=c("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34Zm-56,67.32a8,8,0,0,1-11.32,0L136,139.31V184a8,8,0,0,1-16,0V139.31l-10.34,10.35a8,8,0,0,1-11.32-11.32l24-24a8,8,0,0,1,11.32,0l24,24A8,8,0,0,1,157.66,149.66ZM152,88V44l44,44Z"},null,-1),oa=[sa],ra={key:3},ia=c("path",{d:"M212.24,83.76l-56-56A6,6,0,0,0,152,26H56A14,14,0,0,0,42,40V216a14,14,0,0,0,14,14H200a14,14,0,0,0,14-14V88A6,6,0,0,0,212.24,83.76ZM158,46.48,193.52,82H158ZM200,218H56a2,2,0,0,1-2-2V40a2,2,0,0,1,2-2h90V88a6,6,0,0,0,6,6h50V216A2,2,0,0,1,200,218Zm-43.76-78.24a6,6,0,1,1-8.48,8.48L134,134.49V184a6,6,0,0,1-12,0V134.49l-13.76,13.75a6,6,0,0,1-8.48-8.48l24-24a6,6,0,0,1,8.48,0Z"},null,-1),ua=[ia],da={key:4},pa=c("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Zm-42.34-77.66a8,8,0,0,1-11.32,11.32L136,139.31V184a8,8,0,0,1-16,0V139.31l-10.34,10.35a8,8,0,0,1-11.32-11.32l24-24a8,8,0,0,1,11.32,0Z"},null,-1),ma=[pa],ca={key:5},fa=c("path",{d:"M210.83,85.17l-56-56A4,4,0,0,0,152,28H56A12,12,0,0,0,44,40V216a12,12,0,0,0,12,12H200a12,12,0,0,0,12-12V88A4,4,0,0,0,210.83,85.17ZM156,41.65,198.34,84H156ZM200,220H56a4,4,0,0,1-4-4V40a4,4,0,0,1,4-4h92V88a4,4,0,0,0,4,4h52V216A4,4,0,0,1,200,220Zm-45.17-78.83a4,4,0,0,1-5.66,5.66L132,129.66V184a4,4,0,0,1-8,0V129.66l-17.17,17.17a4,4,0,0,1-5.66-5.66l24-24a4,4,0,0,1,5.66,0Z"},null,-1),ya=[fa],va={name:"PhFileArrowUp"},_a=le({...va,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup($){const y=$,H=D("weight","regular"),C=D("size","1em"),N=D("color","currentColor"),I=D("mirrored",!1),d=Z(()=>{var i;return(i=y.weight)!=null?i:H}),v=Z(()=>{var i;return(i=y.size)!=null?i:C}),x=Z(()=>{var i;return(i=y.color)!=null?i:N}),A=Z(()=>y.mirrored!==void 0?y.mirrored?"scale(-1, 1)":void 0:I?"scale(-1, 1)":void 0);return(i,_)=>(r(),m("svg",ke({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:v.value,height:v.value,fill:x.value,transform:A.value},i.$attrs),[he(i.$slots,"default"),d.value==="bold"?(r(),m("g",Qe,Xe)):d.value==="duotone"?(r(),m("g",ea,la)):d.value==="fill"?(r(),m("g",na,oa)):d.value==="light"?(r(),m("g",ra,ua)):d.value==="regular"?(r(),m("g",da,ma)):d.value==="thin"?(r(),m("g",ca,ya)):L("",!0)],16,Je))}}),ba=["width","height","fill","transform"],ga={key:0},ha=c("path",{d:"M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z"},null,-1),ka=[ha],wa={key:1},Na=c("path",{d:"M192,112a80,80,0,1,1-80-80A80,80,0,0,1,192,112Z",opacity:"0.2"},null,-1),xa=c("path",{d:"M229.66,218.34,179.6,168.28a88.21,88.21,0,1,0-11.32,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"},null,-1),Aa=[Na,xa],Va={key:2},Ca=c("path",{d:"M168,112a56,56,0,1,1-56-56A56,56,0,0,1,168,112Zm61.66,117.66a8,8,0,0,1-11.32,0l-50.06-50.07a88,88,0,1,1,11.32-11.31l50.06,50.06A8,8,0,0,1,229.66,229.66ZM112,184a72,72,0,1,0-72-72A72.08,72.08,0,0,0,112,184Z"},null,-1),Ma=[Ca],$a={key:3},Za=c("path",{d:"M228.24,219.76l-51.38-51.38a86.15,86.15,0,1,0-8.48,8.48l51.38,51.38a6,6,0,0,0,8.48-8.48ZM38,112a74,74,0,1,1,74,74A74.09,74.09,0,0,1,38,112Z"},null,-1),Sa=[Za],Ia={key:4},Ta=c("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"},null,-1),Ua=[Ta],ja={key:5},Ba=c("path",{d:"M226.83,221.17l-52.7-52.7a84.1,84.1,0,1,0-5.66,5.66l52.7,52.7a4,4,0,0,0,5.66-5.66ZM36,112a76,76,0,1,1,76,76A76.08,76.08,0,0,1,36,112Z"},null,-1),Da=[Ba],Ha={name:"PhMagnifyingGlass"},za=le({...Ha,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup($){const y=$,H=D("weight","regular"),C=D("size","1em"),N=D("color","currentColor"),I=D("mirrored",!1),d=Z(()=>{var i;return(i=y.weight)!=null?i:H}),v=Z(()=>{var i;return(i=y.size)!=null?i:C}),x=Z(()=>{var i;return(i=y.color)!=null?i:N}),A=Z(()=>y.mirrored!==void 0?y.mirrored?"scale(-1, 1)":void 0:I?"scale(-1, 1)":void 0);return(i,_)=>(r(),m("svg",ke({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:v.value,height:v.value,fill:x.value,transform:A.value},i.$attrs),[he(i.$slots,"default"),d.value==="bold"?(r(),m("g",ga,ka)):d.value==="duotone"?(r(),m("g",wa,Aa)):d.value==="fill"?(r(),m("g",Va,Ma)):d.value==="light"?(r(),m("g",$a,Sa)):d.value==="regular"?(r(),m("g",Ia,Ua)):d.value==="thin"?(r(),m("g",ja,Da)):L("",!0)],16,ba))}}),Fa={key:0},La={class:"ant-upload-drag-icon"},Ea={class:"ant-upload-text"},Pa={class:"ant-upload-hint"},Ra={key:1},Oa={style:{"margin-top":"1rem","max-height":"60vh","overflow-y":"auto"}},Ka=le({__name:"ImportSpreadsheetsModal",props:{open:{type:Boolean},projectId:{}},emits:["update:open","success"],setup($,{emit:y}){const H=Se.Dragger,C=$,N=y,I=Z({get:()=>C.open,set:n=>N("update:open",n)}),d=S(1),v=S([]),x=S([]),A=S([]),i=S(!1),_=S(!1),ne=Oe.map(n=>({label:n,value:n})),se=[{title:"",dataIndex:"selected",key:"selected",width:50},{title:u.translate("i18n_tables_original_column"),dataIndex:"originalName",key:"originalName",width:150},{title:u.translate("i18n_tables_mapped_column"),dataIndex:"mappedName",key:"mappedName",width:200},{title:u.translate("i18n_tables_column_type"),dataIndex:"type",key:"type",width:120},{title:u.translate("i18n_tables_sample_value"),dataIndex:"sample",key:"sample",width:150}],E=n=>j(n,!0),G=n=>j(n,!1),oe=n=>n==null?"(empty)":typeof n=="object"?JSON.stringify(n).substring(0,50):String(n).substring(0,50),J=n=>{const a=n.filter(l=>l!=null&&l!=="");return a.length===0?"text":a.every(l=>!isNaN(Number(l)))?"numeric":a.every(l=>l===!0||l===!1||l==="true"||l==="false"||l===1||l===0)?"boolean":a.every(l=>!isNaN(Date.parse(l)))?"date":"text"},M=n=>(n.type==="text/csv"||n.type==="application/vnd.ms-excel"||n.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||W.error(u.translate("i18n_tables_invalid_file_type")),!1),p=n=>{const a=v.value.indexOf(n);a>-1&&v.value.splice(a,1)},re=async n=>new Promise((a,t)=>{const h=new FileReader;h.onload=f=>{var l;try{const b=(l=f.target)==null?void 0:l.result,T=be(b,{type:"string"}),ie=T.SheetNames[0],z=T.Sheets[ie],F=ge.sheet_to_json(z,{defval:null});if(F.length===0){t(new Error("Empty file"));return}const pe=Object.keys(F[0]).map(R=>{const Y=F.map(U=>U[R]);return{id:ee(),selected:!0,originalName:R,mappedName:j(R,!1),type:J(Y),sample:Y.find(U=>U!=null&&U!=="")||null}}),ue={selected:!0,fileName:n.name,sheetName:null,tableName:j(n.name.replace(/\.csv$/i,""),!1),columns:pe,previewData:F.slice(0,5),rawData:F};a([ue])}catch(b){t(b)}},h.onerror=t,h.readAsText(n.originFileObj)}),g=async n=>new Promise((a,t)=>{const h=new FileReader;h.onload=f=>{var l;try{const b=new Uint8Array((l=f.target)==null?void 0:l.result),T=be(b,{type:"array"}),ie=T.SheetNames.map(z=>{const F=T.Sheets[z],P=ge.sheet_to_json(F,{defval:null});if(P.length===0)return null;const ue=Object.keys(P[0]).map(U=>{const me=P.map(K=>K[U]);return{id:ee(),selected:!0,originalName:U,mappedName:j(U,!1),type:J(me),sample:me.find(K=>K!=null&&K!=="")||null}}),R=j(n.name.replace(/\.(xlsx|xls)$/i,""),!1),Y=T.SheetNames.length===1?R:`${R}_${j(z,!1)}`;return{selected:!0,fileName:n.name,sheetName:z,tableName:Y,columns:ue,previewData:P.slice(0,5),rawData:P}}).filter(z=>z!==null);a(ie)}catch(b){t(b)}},h.onerror=t,h.readAsArrayBuffer(n.originFileObj)}),Ve=async()=>{i.value=!0,x.value=[];try{for(const n of v.value){const a=n.name.toLowerCase();let t=[];a.endsWith(".csv")?t=await re(n):(a.endsWith(".xlsx")||a.endsWith(".xls"))&&(t=await g(n)),x.value.push(...t)}x.value.length>0?(A.value=[0],d.value=2):W.error(u.translate("i18n_tables_no_valid_sheets"))}catch(n){console.error("Error processing files:",n),W.error(u.translate("i18n_tables_import_error"))}finally{i.value=!1}},Ce=n=>n.columns.map(a=>({title:a.mappedName,dataIndex:a.originalName,key:a.originalName,width:150,ellipsis:!0})),Me=Z(()=>{const n=x.value.filter(a=>a.selected);return n.length>0&&n.every(a=>{const t=a.columns.filter(h=>h.selected);return a.tableName.trim()!==""&&t.length>0&&t.every(h=>h.mappedName.trim()!=="")})}),$e=async()=>{_.value=!0;try{const a={tables:x.value.filter(t=>t.selected).map(t=>{const h={id:ee(),name:"id",type:"uuid",primaryKey:!0,nullable:!1,unique:!0,default:"gen_random_uuid()"},f=t.columns.filter(l=>l.selected);return{id:ee(),name:t.tableName,columns:[h,...f.map(l=>({id:l.id,name:l.mappedName,type:l.type,primaryKey:!1,nullable:!0,unique:!1,default:""}))],data:t.rawData.map(l=>{const b={};return f.forEach(T=>{b[T.mappedName]=l[T.originalName]}),b})}})};await Ee.post(`projects/${C.projectId}/tables/restore`,{tables:a.tables}),W.success(u.translate("i18n_tables_import_success")),Q(),N("success")}catch(n){console.error("Error importing tables:",n),W.error(u.translate("i18n_tables_import_error"))}finally{_.value=!1}},Ze=()=>{d.value=1},Q=()=>{I.value=!1,d.value=1,v.value=[],x.value=[],A.value=[],i.value=!1,_.value=!1};return(n,a)=>(r(),V(e(Ae),{open:I.value,"onUpdate:open":a[4]||(a[4]=t=>I.value=t),title:e(u).translate("i18n_tables_import_spreadsheets"),width:800,footer:null,onCancel:Q},{default:s(()=>[d.value===1?(r(),m("div",Fa,[o(e(q),{type:"secondary"},{default:s(()=>[k(w(e(u).translate("i18n_tables_import_description")),1)]),_:1}),o(e(H),{"file-list":v.value,"onUpdate:fileList":a[0]||(a[0]=t=>v.value=t),"before-upload":M,remove:p,accept:".csv,.xlsx,.xls",multiple:"",style:{"margin-top":"1rem"}},{default:s(()=>[c("p",La,[o(e(_a),{size:48})]),c("p",Ea,w(e(u).translate("i18n_tables_upload_click_or_drag")),1),c("p",Pa,w(e(u).translate("i18n_tables_upload_supported_formats")),1)]),_:1},8,["file-list"]),o(e(O),{justify:"flex-end",gap:"small",style:{"margin-top":"1rem"}},{default:s(()=>[o(B,{onClick:Q},{default:s(()=>[...a[5]||(a[5]=[k(" Cancel ",-1)])]),_:1}),o(B,{type:"primary",disabled:v.value.length===0,loading:i.value,onClick:Ve},{default:s(()=>[...a[6]||(a[6]=[k(" Next ",-1)])]),_:1},8,["disabled","loading"])]),_:1})])):L("",!0),d.value===2?(r(),m("div",Ra,[o(e(q),{type:"secondary"},{default:s(()=>[k(w(e(u).translate("i18n_tables_import_mapping_description")),1)]),_:1}),o(e(xe),{spinning:i.value},{default:s(()=>[c("div",Oa,[o(e(Fe),{"active-key":A.value,"onUpdate:activeKey":a[3]||(a[3]=t=>A.value=t),accordion:""},{default:s(()=>[(r(!0),m(de,null,we(x.value,(t,h)=>(r(),V(e(Le),{key:h,disabled:!t.selected,style:X({opacity:t.selected?1:.6})},{header:s(()=>[o(e(O),{align:"center",gap:"small",onClick:a[2]||(a[2]=fe(()=>{},["stop"]))},{default:s(()=>[o(e(ye),{checked:t.selected,"onUpdate:checked":f=>t.selected=f,onClick:a[1]||(a[1]=fe(()=>{},["stop"]))},null,8,["checked","onUpdate:checked"]),c("span",{style:X({textDecoration:t.selected?"none":"line-through",color:t.selected?"inherit":"#999"})},w(t.fileName)+" "+w(t.sheetName?`- ${t.sheetName}`:""),5)]),_:2},1024)]),default:s(()=>[t.selected?(r(),V(e(Ne),{key:0,layout:"vertical"},{default:s(()=>[o(e(ae),{label:e(u).translate("i18n_tables_table_name")},{default:s(()=>[o(e(te),{value:t.tableName,"onUpdate:value":f=>t.tableName=f,placeholder:e(u).translate("i18n_tables_enter_table_name"),onBlur:f=>t.tableName=G(t.tableName),onInput:f=>t.tableName=E(t.tableName)},null,8,["value","onUpdate:value","placeholder","onBlur","onInput"])]),_:2},1032,["label"]),o(e(ae),{label:e(u).translate("i18n_tables_columns")},{default:s(()=>[o(e(ve),{columns:se,"data-source":t.columns,pagination:!1,size:"small"},{bodyCell:s(({column:f,record:l})=>[f.key==="selected"?(r(),V(e(ye),{key:0,checked:l.selected,"onUpdate:checked":b=>l.selected=b},null,8,["checked","onUpdate:checked"])):f.key==="originalName"?(r(),V(e(q),{key:1,code:"",style:X({textDecoration:l.selected?"none":"line-through",opacity:l.selected?1:.5})},{default:s(()=>[k(w(l.originalName),1)]),_:2},1032,["style"])):f.key==="mappedName"?(r(),V(e(te),{key:2,value:l.mappedName,"onUpdate:value":b=>l.mappedName=b,size:"small",disabled:!l.selected,onBlur:b=>l.mappedName=G(l.mappedName),onInput:b=>l.mappedName=E(l.mappedName)},null,8,["value","onUpdate:value","disabled","onBlur","onInput"])):f.key==="type"?(r(),V(e(Ie),{key:3,value:l.type,"onUpdate:value":b=>l.type=b,size:"small",style:{width:"100%"},disabled:!l.selected,options:e(ne)},null,8,["value","onUpdate:value","disabled","options"])):f.key==="sample"?(r(),V(e(q),{key:4,type:"secondary",style:X([{"font-size":"12px"},{opacity:l.selected?1:.5}])},{default:s(()=>[k(w(oe(l.sample)),1)]),_:2},1032,["style"])):L("",!0)]),_:1},8,["data-source"])]),_:2},1032,["label"]),o(e(ae),{label:e(u).translate("i18n_tables_preview")},{default:s(()=>[o(e(ve),{columns:Ce(t),"data-source":t.previewData,pagination:!1,scroll:{x:"max-content",y:200},size:"small"},null,8,["columns","data-source"])]),_:2},1032,["label"])]),_:2},1024)):L("",!0)]),_:2},1032,["disabled","style"]))),128))]),_:1},8,["active-key"])])]),_:1},8,["spinning"]),o(e(O),{justify:"space-between",style:{"margin-top":"1rem"}},{default:s(()=>[o(B,{onClick:Ze},{default:s(()=>[...a[7]||(a[7]=[k(" Back ",-1)])]),_:1}),o(e(O),{gap:"small"},{default:s(()=>[o(B,{onClick:Q},{default:s(()=>[...a[8]||(a[8]=[k(" Cancel ",-1)])]),_:1}),o(B,{type:"primary",disabled:!Me.value,loading:_.value,onClick:$e},{default:s(()=>[k(w(e(u).translate("i18n_tables_import")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})])):L("",!0)]),_:1},8,["open","title"]))}}),Wa={key:1,style:{padding:"1rem"}},qa={style:{flex:"1"}},ct=le({__name:"Tables",setup($){const y=Be(),C=De().params.projectId,{tables:N,loading:I,fetchTables:d}=Ge(C),v=S(""),x=Z(()=>{if(!N.value)return[];if(!v.value)return N.value;const M=v.value.toLowerCase();return N.value.filter(p=>p.name.toLowerCase().includes(M))}),A=S(!1),i=S(!1),_=Te({name:""}),ne=M=>j(M,!0),se=M=>j(M,!1),E=S(!1),G=async()=>{E.value=!0;const M=await Ke.create(C,_.name);await d(!0),E.value=!1,A.value=!1,_.name="",y.push({name:"tableEditor",params:{tableId:M.id,projectId:C}})},oe=()=>{A.value=!1,_.name=""},J=()=>{d(!0)};return Ue(()=>{const M=ce.subscribe("tableCreated",()=>{d(!0)});je(()=>{ce.unsubscribe(M)})}),(M,p)=>{const re=He("RouterLink");return r(),m(de,null,[o(qe),e(I)?(r(),V(e(xe),{key:0,style:{width:"100%","margin-top":"2rem"}})):(r(),m("div",Wa,[o(e(O),{justify:"space-between",align:"center",style:{"margin-bottom":"1rem"}},{default:s(()=>[c("div",qa,[o(e(ze),{level:3},{default:s(()=>[k(w(e(u).translate("i18n_tables_tables")),1)]),_:1}),o(e(q),{type:"secondary"},{default:s(()=>[k(w(e(u).translate("i18n_tables_description")),1)]),_:1})]),o(e(O),{gap:"small"},{default:s(()=>[o(B,{onClick:p[0]||(p[0]=g=>i.value=!0)},{default:s(()=>[k(w(e(u).translate("i18n_tables_import_spreadsheets")),1)]),_:1}),o(B,{type:"primary",onClick:p[1]||(p[1]=g=>A.value=!0)},{default:s(()=>[k(w(e(u).translate("i18n_tables_create_table")),1)]),_:1})]),_:1})]),_:1}),e(N)&&e(N).length>0?(r(),V(e(te),{key:0,value:v.value,"onUpdate:value":p[2]||(p[2]=g=>v.value=g),placeholder:e(u).translate("i18n_tables_search_placeholder"),"allow-clear":"",style:{"margin-bottom":"1rem","max-width":"400px"}},{prefix:s(()=>[o(e(za),{size:16})]),_:1},8,["value","placeholder"])):L("",!0),!e(N)||e(N).length===0?(r(),V(e(_e),{key:1,description:e(u).translate("i18n_tables_empty_title")},null,8,["description"])):x.value.length===0?(r(),V(e(_e),{key:2,description:e(u).translate("i18n_tables_no_match")},null,8,["description"])):(r(),V(e(Re),{key:3,gutter:[16,16]},{default:s(()=>[(r(!0),m(de,null,we(x.value,g=>(r(),V(e(Pe),{key:g.id,xs:24,sm:24,md:12,lg:12,xl:8,xxl:8},{default:s(()=>[o(re,{to:`/projects/${e(C)}/tables/${g.id}`,style:{"text-decoration":"none",color:"inherit"}},{default:s(()=>[o(We,{table:g,"project-id":e(C),"show-edit-button":!1},null,8,["table","project-id"])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1}))])),o(e(Ae),{open:A.value,"onUpdate:open":p[6]||(p[6]=g=>A.value=g),title:e(u).translate("i18n_tables_create_table")},{footer:s(()=>[o(B,{onClick:oe},{default:s(()=>[k(w(e(u).translate("i18n_tables_cancel")),1)]),_:1}),o(B,{type:"primary",loading:E.value,disabled:!_.name.trim(),onClick:G},{default:s(()=>[k(w(e(u).translate("i18n_tables_create")),1)]),_:1},8,["loading","disabled"])]),default:s(()=>[o(e(Ne),{model:_,layout:"vertical"},{default:s(()=>[o(e(ae),{label:e(u).translate("i18n_tables_table_name"),name:"name"},{default:s(()=>[o(e(te),{value:_.name,"onUpdate:value":p[3]||(p[3]=g=>_.name=g),placeholder:e(u).translate("i18n_tables_enter_table_name"),onBlur:p[4]||(p[4]=g=>_.name=se(_.name)),onInput:p[5]||(p[5]=g=>_.name=ne(_.name))},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["open","title"]),o(Ka,{open:i.value,"onUpdate:open":p[7]||(p[7]=g=>i.value=g),"project-id":e(C),onSuccess:J},null,8,["open","project-id"])],64)}}});export{ct as default};
//# sourceMappingURL=Tables.0beb7980.js.map
