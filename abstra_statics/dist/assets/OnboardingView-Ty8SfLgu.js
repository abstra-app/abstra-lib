import{u as R}from"./userStore-CViq8J7-.js";import{E as G,b as M}from"./router-BhKBgDIv.js";import{a as K,c as S,af as a,b as T,e as s,p as f,g as I,j as o,u as e,B as F,w as n,S as x,U as w,aN as P,b1 as z,H as j,aJ as A,aK as h,aL as U,b8 as L,bq as B,M as E,W as q,br as C,cF as H,bo as J,ae as W,ac as Y,r as $,P as X,h as V,aM as Z}from"./jwt-decode.esm-DyyavT6h.js";import{S as O}from"./index-DdqJ9EQR.js";import{_ as Q}from"./AbstraLogo.vue_vue_type_script_setup_true_lang-CirEJagM.js";import{S as ee,A as ae}from"./index-BKkWnkAX.js";import"./ts.worker-Do44s_XH.js";import"./Logo-BLceuW0a.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},p=new Error().stack;p&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[p]="27102e93-b7ca-4bf7-85df-6c1801541eb3",t._sentryDebugIdIdentifier="sentry-dbid-27102e93-b7ca-4bf7-85df-6c1801541eb3")}catch{}})();async function le(t){const p=R(),y={email:t.basicInfo.email,name:t.basicInfo.name,work_email:t.basicInfo.workEmail,company_name:t.companyInfo.companyName,company_domain:t.companyInfo.companyDomain,team:t.companyInfo.team,other_team:t.companyInfo.otherTeam,role:t.companyInfo.role,python_experience:t.userDetails.pythonExperience,has_use_case:t.userDetails.hasUseCase,reported_use_cases:t.userDetails.reportedUseCases,other_use_cases:t.userDetails.otherUseCases,tools:t.userDetails.tools,source:t.sourceInfo.reportedSource,other_source:t.sourceInfo.otherSource,ref_url:document.referrer},i=await fetch(`${G.onboarding}/_hooks/onboarding-completed`,{method:"POST",headers:{"Content-Type":"application/json",token:p.jwt||""},body:JSON.stringify(y)});if(!i.ok)throw new Error(`Failed to submit onboarding data: ${i.statusText}`)}const oe={class:"form-actions"},ne=K({__name:"OnboardingFormActions",props:{showBack:{type:Boolean,default:!1},isSubmit:{type:Boolean,default:!1},submitText:{default:void 0},loading:{type:Boolean,default:!1}},emits:["back"],setup(t){const p=t,y=S(()=>p.isSubmit?p.submitText||a.translate("i18n_onboardingformactions_complete"):a.translate("i18n_onboardingformactions_next"));return(i,u)=>(s(),T("div",oe,[t.showBack?(s(),f(e(F),{key:0,size:"large",onClick:u[0]||(u[0]=d=>i.$emit("back"))},{default:n(()=>[x(w(e(a).translate("i18n_onboardingformactions_back")),1)]),_:1})):I("",!0),o(e(F),{type:"primary",size:"large","html-type":"submit",loading:t.loading},{default:n(()=>[x(w(y.value),1)]),_:1},8,["loading"])]))}}),N=P(ne,[["__scopeId","data-v-706fd497"]]),te={key:1,class:"warning-text"},re=K({__name:"BasicUserInfo",props:{modelValue:{}},emits:["update:modelValue","next"],setup(t,{emit:p}){const{Title:y,Text:i}=z,u=t,d=p,l=S({get:()=>u.modelValue,set:v=>d("update:modelValue",v)}),k=M.getAuthor();k&&!l.value.email&&(l.value={...l.value,email:k.claims.email});const g=["gmail.com","yahoo.com","hotmail.com","outlook.com","icloud.com","protonmail.com","aol.com"],m=S(()=>!l.value.email||!l.value.email.includes("@")?"":l.value.email.split("@")[1]||""),c=S(()=>g.includes(m.value.toLowerCase())),b=S(()=>{if(!l.value.name)return a.translate("i18n_onboardingbasicuserinfo_workemail_placeholder");const v=l.value.name.replace(/[^a-zA-Z0-9]/g,"").toLowerCase();return v?`${v}@coolcompany.com`:a.translate("i18n_onboardingbasicuserinfo_workemail_placeholder")});j(m,v=>{g.includes(v.toLowerCase())||(l.value={...l.value,workEmail:l.value.email})});const r=()=>{d("next")};return(v,_)=>(s(),f(e(A),{layout:"vertical",model:l.value,onFinish:r},{default:n(()=>[o(e(y),{level:3},{default:n(()=>[x(w(e(a).translate("i18n_onboardingbasicuserinfo_title")),1)]),_:1}),o(e(h),{label:e(a).translate("i18n_onboardingbasicuserinfo_name_label"),name:"name",rules:[{required:!0,message:e(a).translate("i18n_onboardingbasicuserinfo_name_required")}]},{default:n(()=>[o(e(U),{value:l.value.name,"onUpdate:value":_[0]||(_[0]=D=>l.value.name=D),placeholder:e(a).translate("i18n_onboardingbasicuserinfo_name_placeholder"),size:"large"},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),o(e(h),{label:e(a).translate("i18n_onboardingbasicuserinfo_email_label")},{default:n(()=>[o(e(U),{value:l.value.email,disabled:"",size:"large"},null,8,["value"])]),_:1},8,["label"]),c.value?(s(),f(e(h),{key:0,label:e(a).translate("i18n_onboardingbasicuserinfo_workemail_label"),name:"workEmail",rules:[{required:!1,type:"email",message:e(a).translate("i18n_onboardingbasicuserinfo_workemail_invalid")}]},{default:n(()=>[o(e(U),{value:l.value.workEmail,"onUpdate:value":_[1]||(_[1]=D=>l.value.workEmail=D),placeholder:b.value,size:"large"},null,8,["value","placeholder"])]),_:1},8,["label","rules"])):I("",!0),c.value?(s(),T("div",te,[o(e(i),{type:"warning"},{default:n(()=>[x(w(e(a).translate("i18n_onboardingbasicuserinfo_warning")),1)]),_:1})])):I("",!0),o(N)]),_:1},8,["model"]))}}),se=P(re,[["__scopeId","data-v-07f3e15e"]]),ie=[{value:"Finance",labelKey:"i18n_onboardingcompanyinfo_team_finance"},{value:"Accounting",labelKey:"i18n_onboardingcompanyinfo_team_accounting"},{value:"Tax",labelKey:"i18n_onboardingcompanyinfo_team_tax"},{value:"FinOps",labelKey:"i18n_onboardingcompanyinfo_team_finops"},{value:"Financial Planning & Analysis",labelKey:"i18n_onboardingcompanyinfo_team_fpa"},{value:"Operations",labelKey:"i18n_onboardingcompanyinfo_team_operations"},{value:"Product",labelKey:"i18n_onboardingcompanyinfo_team_product"},{value:"Marketing",labelKey:"i18n_onboardingcompanyinfo_team_marketing"},{value:"Sales",labelKey:"i18n_onboardingcompanyinfo_team_sales"},{value:"Cybersecurity",labelKey:"i18n_onboardingcompanyinfo_team_cybersecurity"},{value:"Customer Success",labelKey:"i18n_onboardingcompanyinfo_team_customersuccess"},{value:"HR",labelKey:"i18n_onboardingcompanyinfo_team_hr"},{value:"Other",labelKey:"i18n_onboardingcompanyinfo_team_other"}],ue=[{value:"I've never used Python before, but I'm excited to learn",labelKey:"i18n_onboardinguserdetails_python_never"},{value:"I sometimes use ChatGPT to generate Python scripts",labelKey:"i18n_onboardinguserdetails_python_chatgpt"},{value:"I've written some Python here and there",labelKey:"i18n_onboardinguserdetails_python_some"},{value:"I use Python regularly",labelKey:"i18n_onboardinguserdetails_python_regularly"}],de=[{value:"Enable other teammates to run my scripts",labelKey:"i18n_onboardinguserdetails_usecase_enableteammates"},{value:"Design workflows with manual and automated steps",labelKey:"i18n_onboardinguserdetails_usecase_designworkflows"},{value:"Schedule my scripts to run automatically",labelKey:"i18n_onboardinguserdetails_usecase_schedule"},{value:"Integrate and connect the tools my team uses",labelKey:"i18n_onboardinguserdetails_usecase_integrate"},{value:"Automate spreadsheet work",labelKey:"i18n_onboardinguserdetails_usecase_spreadsheet"},{value:"Use AI to parse documents",labelKey:"i18n_onboardinguserdetails_usecase_ai"},{value:"Build an automated workflow",labelKey:"i18n_onboardinguserdetails_usecase_workflow"},{value:"Create automated reports",labelKey:"i18n_onboardinguserdetails_usecase_reports"},{value:"Other",labelKey:"i18n_onboardinguserdetails_usecase_other"}],ce=[{value:"Google",labelKey:"i18n_onboardingsourceinfo_source_google"},{value:"Linkedin",labelKey:"i18n_onboardingsourceinfo_source_linkedin"},{value:"Github",labelKey:"i18n_onboardingsourceinfo_source_github"},{value:"Youtube",labelKey:"i18n_onboardingsourceinfo_source_youtube"},{value:"From a friend or coworker",labelKey:"i18n_onboardingsourceinfo_source_friend"},{value:"Event or conference",labelKey:"i18n_onboardingsourceinfo_source_event"},{value:"Other",labelKey:"i18n_onboardingsourceinfo_source_other"}],_e=["Excel","Google Sheets","Salesforce","Slack"],me=K({__name:"CompanyInfo",props:{modelValue:{}},emits:["update:modelValue","next","back"],setup(t,{emit:p}){const y=t,i=p,u=S({get:()=>y.modelValue,set:g=>i("update:modelValue",g)}),d=ie.map(g=>({label:a.translate(g.labelKey),value:g.value})),l=()=>{i("next")},k=()=>{i("back")};return(g,m)=>(s(),f(e(A),{layout:"vertical",model:u.value,onFinish:l},{default:n(()=>[o(e(h),{label:e(a).translate("i18n_onboardingcompanyinfo_company_label"),name:"companyName",rules:[{required:!0,message:e(a).translate("i18n_onboardingcompanyinfo_company_required")}]},{default:n(()=>[o(e(U),{value:u.value.companyName,"onUpdate:value":m[0]||(m[0]=c=>u.value.companyName=c),placeholder:e(a).translate("i18n_onboardingcompanyinfo_company_placeholder"),size:"large"},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),o(e(h),{label:e(a).translate("i18n_onboardingcompanyinfo_website_label"),name:"companyDomain"},{default:n(()=>[o(e(U),{value:u.value.companyDomain,"onUpdate:value":m[1]||(m[1]=c=>u.value.companyDomain=c),placeholder:e(a).translate("i18n_onboardingcompanyinfo_website_placeholder"),size:"large"},null,8,["value","placeholder"])]),_:1},8,["label"]),o(e(h),{label:e(a).translate("i18n_onboardingcompanyinfo_team_label"),name:"team",rules:[{required:!0,message:e(a).translate("i18n_onboardingcompanyinfo_team_required")}]},{default:n(()=>[o(e(L),{value:u.value.team,"onUpdate:value":m[2]||(m[2]=c=>u.value.team=c),placeholder:e(a).translate("i18n_onboardingcompanyinfo_team_placeholder"),size:"large",options:e(d)},null,8,["value","placeholder","options"])]),_:1},8,["label","rules"]),u.value.team==="Other"?(s(),f(e(h),{key:0,label:e(a).translate("i18n_onboardingcompanyinfo_otherteam_label"),name:"otherTeam",rules:[{required:!0,message:e(a).translate("i18n_onboardingcompanyinfo_otherteam_required")}]},{default:n(()=>[o(e(U),{value:u.value.otherTeam,"onUpdate:value":m[3]||(m[3]=c=>u.value.otherTeam=c),placeholder:e(a).translate("i18n_onboardingcompanyinfo_otherteam_placeholder"),size:"large"},null,8,["value","placeholder"])]),_:1},8,["label","rules"])):I("",!0),o(e(h),{label:e(a).translate("i18n_onboardingcompanyinfo_role_label"),name:"role",rules:[{required:!0,message:e(a).translate("i18n_onboardingcompanyinfo_role_required")}]},{default:n(()=>[o(e(U),{value:u.value.role,"onUpdate:value":m[4]||(m[4]=c=>u.value.role=c),placeholder:e(a).translate("i18n_onboardingcompanyinfo_role_placeholder"),size:"large"},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),o(N,{"show-back":"",onBack:k})]),_:1},8,["model"]))}}),be=K({__name:"SourceInfo",props:{modelValue:{},loading:{type:Boolean}},emits:["update:modelValue","submit","back"],setup(t,{emit:p}){const{Title:y}=z,{TextArea:i}=U,u=t,d=p,l=S({get:()=>u.modelValue,set:c=>d("update:modelValue",c)}),k=ce.map(c=>({value:c.value,label:a.translate(c.labelKey)})),g=()=>{d("submit")},m=()=>{d("back")};return(c,b)=>(s(),f(e(A),{layout:"vertical",model:l.value,onFinish:g},{default:n(()=>[o(e(y),{level:3},{default:n(()=>[x(w(e(a).translate("i18n_onboardingsourceinfo_title")),1)]),_:1}),o(e(h),{label:e(a).translate("i18n_onboardingsourceinfo_source_label"),name:"reportedSource"},{default:n(()=>[o(e(B),{value:l.value.reportedSource,"onUpdate:value":b[0]||(b[0]=r=>l.value.reportedSource=r),size:"large"},{default:n(()=>[o(e(O),{direction:"vertical"},{default:n(()=>[(s(!0),T(E,null,q(e(k),r=>(s(),f(e(C),{key:r.value,value:r.value},{default:n(()=>[x(w(r.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),l.value.reportedSource==="Other"?(s(),f(e(h),{key:0,label:e(a).translate("i18n_onboardingsourceinfo_other_label"),name:"otherSource",rules:[{required:!0,message:e(a).translate("i18n_onboardingsourceinfo_other_required")}]},{default:n(()=>[o(e(i),{value:l.value.otherSource,"onUpdate:value":b[1]||(b[1]=r=>l.value.otherSource=r),rows:3,placeholder:e(a).translate("i18n_onboardingsourceinfo_other_placeholder")},null,8,["value","placeholder"])]),_:1},8,["label","rules"])):I("",!0),o(N,{"show-back":"","is-submit":"",loading:t.loading,onBack:m},null,8,["loading"])]),_:1},8,["model"]))}}),pe={key:0},ve=K({__name:"UserDetails",props:{modelValue:{}},emits:["update:modelValue","next","back"],setup(t,{emit:p}){const{Title:y}=z,{TextArea:i}=U,u=t,d=p,l=S({get:()=>u.modelValue,set:r=>d("update:modelValue",r)}),k=ue.map(r=>({value:r.value,label:a.translate(r.labelKey)})),g=de.map(r=>({value:r.value,label:a.translate(r.labelKey)})),m=_e,c=()=>{d("next")},b=()=>{d("back")};return(r,v)=>(s(),f(e(A),{layout:"vertical",model:l.value,onFinish:c},{default:n(()=>[o(e(y),{level:3},{default:n(()=>[x(w(e(a).translate("i18n_onboardinguserdetails_title")),1)]),_:1}),o(e(h),{label:e(a).translate("i18n_onboardinguserdetails_python_label"),name:"pythonExperience",rules:[{required:!0,message:e(a).translate("i18n_onboardinguserdetails_python_required")}]},{default:n(()=>[o(e(B),{value:l.value.pythonExperience,"onUpdate:value":v[0]||(v[0]=_=>l.value.pythonExperience=_),size:"large"},{default:n(()=>[o(e(O),{direction:"vertical"},{default:n(()=>[(s(!0),T(E,null,q(e(k),_=>(s(),f(e(C),{key:_.value,value:_.value},{default:n(()=>[x(w(_.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"])]),_:1},8,["label","rules"]),o(e(h),{label:e(a).translate("i18n_onboardinguserdetails_usecase_label"),name:"hasUseCase",rules:[{required:!0,message:e(a).translate("i18n_onboardinguserdetails_usecase_required")}]},{default:n(()=>[o(e(B),{value:l.value.hasUseCase,"onUpdate:value":v[1]||(v[1]=_=>l.value.hasUseCase=_),size:"large"},{default:n(()=>[o(e(O),{direction:"vertical"},{default:n(()=>[o(e(C),{value:!0},{default:n(()=>[x(w(e(a).translate("i18n_onboardinguserdetails_usecase_yes")),1)]),_:1}),o(e(C),{value:!1},{default:n(()=>[x(w(e(a).translate("i18n_onboardinguserdetails_usecase_no")),1)]),_:1})]),_:1})]),_:1},8,["value"])]),_:1},8,["label","rules"]),l.value.hasUseCase?(s(),T("div",pe,[o(e(h),{label:e(a).translate("i18n_onboardinguserdetails_mainusecase_label"),name:"reportedUseCases",rules:[{required:!0,message:e(a).translate("i18n_onboardinguserdetails_mainusecase_required"),type:"array",min:1}]},{default:n(()=>[o(e(H),{value:l.value.reportedUseCases,"onUpdate:value":v[2]||(v[2]=_=>l.value.reportedUseCases=_)},{default:n(()=>[o(e(O),{direction:"vertical"},{default:n(()=>[(s(!0),T(E,null,q(e(g),_=>(s(),f(e(J),{key:_.value,value:_.value},{default:n(()=>[x(w(_.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"])]),_:1},8,["label","rules"]),l.value.reportedUseCases.includes("Integrate and connect the tools my team uses")?(s(),f(e(h),{key:0,label:e(a).translate("i18n_onboardinguserdetails_tools_label")},{default:n(()=>[o(e(L),{value:l.value.tools,"onUpdate:value":v[3]||(v[3]=_=>l.value.tools=_),mode:"tags",placeholder:e(a).translate("i18n_onboardinguserdetails_tools_placeholder"),size:"large","default-value":e(m)},null,8,["value","placeholder","default-value"])]),_:1},8,["label"])):I("",!0),l.value.reportedUseCases.includes("Other")?(s(),f(e(h),{key:1,label:e(a).translate("i18n_onboardinguserdetails_other_label"),name:"otherUseCases",rules:[{required:!0,message:e(a).translate("i18n_onboardinguserdetails_other_required")}]},{default:n(()=>[o(e(i),{value:l.value.otherUseCases,"onUpdate:value":v[4]||(v[4]=_=>l.value.otherUseCases=_),rows:3,placeholder:e(a).translate("i18n_onboardinguserdetails_other_placeholder")},null,8,["value","placeholder"])]),_:1},8,["label","rules"])):I("",!0)])):I("",!0),o(N,{"show-back":"",onBack:b})]),_:1},8,["model"]))}}),fe={class:"onboarding-container"},ye={class:"onboarding-form"},ge={class:"header"},he={class:"form-content"},ke=K({__name:"OnboardingView",setup(t){const p=W(),y=Y(),i=$(0),u=[a.translate("i18n_onboardingview_step_basicinfo"),a.translate("i18n_onboardingview_step_company"),a.translate("i18n_onboardingview_step_details"),a.translate("i18n_onboardingview_step_source")],d=X({basicInfo:{name:"",email:"",workEmail:""},companyInfo:{companyName:"",companyDomain:"",team:"",otherTeam:"",role:""},userDetails:{pythonExperience:"",hasUseCase:!1,reportedUseCases:[],otherUseCases:"",tools:[]},sourceInfo:{reportedSource:"",otherSource:""}}),l=()=>{i.value<u.length-1&&i.value++},k=()=>{i.value>0&&i.value--},g=$(!1),m=async()=>{g.value=!0;try{await le(d)}catch(r){Z(r,{extra:{step:"submitOnboarding",formData:d}});return}finally{g.value=!1}const c=y.query.redirect,b=y.query["prev-redirect"];if(c){const r=c.split("/").at(-1);await p.push({path:r,query:{...y.query,redirect:b,"prev-redirect":void 0}});return}p.push({name:"home"})};return(c,b)=>(s(),T("div",fe,[V("div",ye,[V("div",ge,[o(Q,{"hide-text":"",size:"large"}),V("h2",null,w(e(a).translate("i18n_onboardingview_welcome")),1),o(e(ae),{current:i.value,size:"small",class:"step-indicator"},{default:n(()=>[(s(),T(E,null,q(u,r=>o(e(ee),{key:r,title:r,disabled:!0},null,8,["title"])),64))]),_:1},8,["current"])]),V("div",he,[i.value===0?(s(),f(se,{key:0,modelValue:d.basicInfo,"onUpdate:modelValue":b[0]||(b[0]=r=>d.basicInfo=r),onNext:l},null,8,["modelValue"])):i.value===1?(s(),f(me,{key:1,modelValue:d.companyInfo,"onUpdate:modelValue":b[1]||(b[1]=r=>d.companyInfo=r),onNext:l,onBack:k},null,8,["modelValue"])):i.value===2?(s(),f(ve,{key:2,modelValue:d.userDetails,"onUpdate:modelValue":b[2]||(b[2]=r=>d.userDetails=r),onNext:l,onBack:k},null,8,["modelValue"])):i.value===3?(s(),f(be,{key:3,modelValue:d.sourceInfo,"onUpdate:modelValue":b[3]||(b[3]=r=>d.sourceInfo=r),loading:g.value,onSubmit:m,onBack:k},null,8,["modelValue","loading"])):I("",!0)])])]))}}),Ce=P(ke,[["__scopeId","data-v-80b342b1"]]);export{Ce as default};
//# sourceMappingURL=OnboardingView-Ty8SfLgu.js.map
