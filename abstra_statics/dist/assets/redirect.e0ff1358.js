import{i as c}from"./url.35e69f91.js";import"./index.a3bc8b8b.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new Error().stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="ee89f9f7-a11a-4a1a-9a6b-8e004a9bb8b4",e._sentryDebugIdIdentifier="sentry-dbid-ee89f9f7-a11a-4a1a-9a6b-8e004a9bb8b4")}catch{}})();function i(e){return e.startsWith("/")?e.slice(1):e}function f(e,a,n={}){if(c(a)){const r=new URL(a),t=new URLSearchParams(n),o=new URLSearchParams(r.search),s=new URLSearchParams([...o,...t]);return r.search=s.toString(),{action:"REPLACE_LOCAL_HREF",newHref:r.toString()}}else{const r=a.replace(/\/$/,"");if(e==="player")return{action:"GOTO_FORM_PLAYER",path:i(r),queryParams:n};if(e==="editor")return{action:"GOTO_FORM_EDITOR",path:i(r),queryParams:n};if(e==="preview")return{action:"GOTO_FORM_PLAYER",path:i(r),queryParams:n};throw new Error(`Invalid routing ${e}`)}}async function w(e,a,n,r={}){const t=f(e,n,r);switch(t.action){case"REPLACE_LOCAL_HREF":window.location.href=t.newHref;break;case"GOTO_FORM_EDITOR":await a.push({name:"formEditor",params:{formPath:t.path},query:t.queryParams});break;case"GOTO_FORM_PLAYER":await a.push({name:e==="preview"?"formPreview":"formPlayer",params:{formPath:t.path},query:t.queryParams});break;default:throw new Error("Invalid routing")}}export{w as r};
//# sourceMappingURL=redirect.e0ff1358.js.map
