import{dR as de,aa as xe,dS as Ne,dT as $e,dt as De,a9 as He,dU as Re,dV as Ue,dW as ce,dX as ze,dY as Ye,aO as Xe,r as ke,u as X,G as Ge,F as Ke,J as re,U as _,b3 as Qe,a3 as Ze,cc as fe,dZ as Te,d as Je,$ as Be,N as et,H as A,d_ as tt,d$ as nt,e0 as rt,O as it,f as lt,R as he,a5 as ge,ag as at,a2 as te,aR as J,aT as ve,aQ as me,a1 as st,aS as Q,ab as le}from"./registerWidgets.e46eca28.js";import{g as be,i as Ae,j as ue,e as ot,c as Le,t as ut,k as dt,l as ct,m as ft,n as ae,v as ht,o as Ve,A as gt,u as vt,p as mt,q as we,r as ie,s as ye,w as bt}from"./Title.6ee361e2.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="14d7288f-26fc-41fd-ac91-59945ba00297",e._sentryDebugIdIdentifier="sentry-dbid-14d7288f-26fc-41fd-ac91-59945ba00297")}catch{}})();function pe(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function Fe(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function se(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return Fe(n.overflowY,t)||Fe(n.overflowX,t)||function(l){var r=function(i){if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}}(l);return!!r&&(r.clientHeight<l.scrollHeight||r.clientWidth<l.scrollWidth)}(e)}return!1}function ne(e,t,n,l,r,i,u,f){return i<e&&u>t||i>e&&u<t?0:i<=e&&f<=n||u>=t&&f>=n?i-e-l:u>t&&f<n||i<e&&f>n?u-t+r:0}var Oe=function(e,t){var n=window,l=t.scrollMode,r=t.block,i=t.inline,u=t.boundary,f=t.skipOverflowHiddenElements,O=typeof u=="function"?u:function(_e){return _e!==u};if(!pe(e))throw new TypeError("Invalid target");for(var L,M,q=document.scrollingElement||document.documentElement,k=[],w=e;pe(w)&&O(w);){if((w=(M=(L=w).parentElement)==null?L.getRootNode().host||null:M)===q){k.push(w);break}w!=null&&w===document.body&&se(w)&&!se(document.documentElement)||w!=null&&se(w,f)&&k.push(w)}for(var P=n.visualViewport?n.visualViewport.width:innerWidth,T=n.visualViewport?n.visualViewport.height:innerHeight,$=window.scrollX||pageXOffset,j=window.scrollY||pageYOffset,x=e.getBoundingClientRect(),o=x.height,a=x.width,h=x.top,y=x.right,b=x.bottom,c=x.left,p=r==="start"||r==="nearest"?h:r==="end"?b:h+o/2,g=i==="center"?c+a/2:i==="end"?y:c,F=[],V=0;V<k.length;V++){var v=k[V],I=v.getBoundingClientRect(),N=I.height,D=I.width,s=I.top,d=I.right,m=I.bottom,S=I.left;if(l==="if-needed"&&h>=0&&c>=0&&b<=T&&y<=P&&h>=s&&b<=m&&c>=S&&y<=d)return F;var W=getComputedStyle(v),R=parseInt(W.borderLeftWidth,10),Y=parseInt(W.borderTopWidth,10),C=parseInt(W.borderRightWidth,10),H=parseInt(W.borderBottomWidth,10),E=0,U=0,G="offsetWidth"in v?v.offsetWidth-v.clientWidth-R-C:0,z="offsetHeight"in v?v.offsetHeight-v.clientHeight-Y-H:0,K="offsetWidth"in v?v.offsetWidth===0?0:D/v.offsetWidth:0,B="offsetHeight"in v?v.offsetHeight===0?0:N/v.offsetHeight:0;if(q===v)E=r==="start"?p:r==="end"?p-T:r==="nearest"?ne(j,j+T,T,Y,H,j+p,j+p+o,o):p-T/2,U=i==="start"?g:i==="center"?g-P/2:i==="end"?g-P:ne($,$+P,P,R,C,$+g,$+g+a,a),E=Math.max(0,E+j),U=Math.max(0,U+$);else{E=r==="start"?p-s-Y:r==="end"?p-m+H+z:r==="nearest"?ne(s,m,N,Y,H+z,p,p+o,o):p-(s+N/2)+z/2,U=i==="start"?g-S-R:i==="center"?g-(S+D/2)+G/2:i==="end"?g-d+C+G:ne(S,d,D,R,C+G,g,g+a,a);var ee=v.scrollLeft,Z=v.scrollTop;p+=Z-(E=Math.max(0,Math.min(Z+E/B,v.scrollHeight-N/B+z))),g+=ee-(U=Math.max(0,Math.min(ee+U/K,v.scrollWidth-D/K+G)))}F.push({el:v,top:E,left:U})}return F};function Ie(e){return e===Object(e)&&Object.keys(e).length!==0}function wt(e,t){t===void 0&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach(function(l){var r=l.el,i=l.top,u=l.left;r.scroll&&n?r.scroll({top:i,left:u,behavior:t}):(r.scrollTop=i,r.scrollLeft=u)})}function yt(e){return e===!1?{block:"end",inline:"nearest"}:Ie(e)?e:{block:"start",inline:"nearest"}}function pt(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(Ie(t)&&typeof t.behavior=="function")return t.behavior(n?Oe(e,t):[]);if(!!n){var l=yt(t);return wt(Oe(e,l),l.behavior)}}function Ft(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Ot=800,Pt=16,St=Date.now;function Mt(e){var t=0,n=0;return function(){var l=St(),r=Pt-(l-n);if(n=l,r>0){if(++t>=Ot)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Et(e){return function(){return e}}var kt=be?function(e,t){return be(e,"toString",{configurable:!0,enumerable:!1,value:Et(t),writable:!0})}:Ae;const Tt=kt;var At=Mt(Tt);const Ce=At;var Pe=Math.max;function qe(e,t,n){return t=Pe(t===void 0?e.length-1:t,0),function(){for(var l=arguments,r=-1,i=Pe(l.length-t,0),u=Array(i);++r<i;)u[r]=l[t+r];r=-1;for(var f=Array(t+1);++r<t;)f[r]=l[r];return f[t]=n(u),Ft(e,this,f)}}function Lt(e,t){return Ce(qe(e,t,Ae),e+"")}var Se=de?de.isConcatSpreadable:void 0;function Vt(e){return xe(e)||Ne(e)||!!(Se&&e&&e[Se])}function je(e,t,n,l,r){var i=-1,u=e.length;for(n||(n=Vt),r||(r=[]);++i<u;){var f=e[i];t>0&&n(f)?t>1?je(f,t-1,n,l,r):$e(r,f):l||(r[r.length]=f)}return r}function It(e){var t=e==null?0:e.length;return t?je(e,1):[]}function Ct(e){return Ce(qe(e,void 0,It),e+"")}function qt(e,t,n){var l=-1,r=e.length;t<0&&(t=-t>r?0:r+t),n=n>r?r:n,n<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(r);++l<r;)i[l]=e[l+t];return i}function jt(e){return De(e)&&He(e)}function Wt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var _t=Math.min;function xt(e,t,n){for(var l=n?ze:Ye,r=e[0].length,i=e.length,u=i,f=Array(i),O=1/0,L=[];u--;){var M=e[u];u&&t&&(M=ue(M,Re(t))),O=_t(M.length,O),f[u]=!n&&(t||r>=120&&M.length>=120)?new Ue(u&&M):void 0}M=e[0];var q=-1,k=f[0];e:for(;++q<r&&L.length<O;){var w=M[q],P=t?t(w):w;if(w=n||w!==0?w:0,!(k?ce(k,P):l(L,P,n))){for(u=i;--u;){var T=f[u];if(!(T?ce(T,P):l(e[u],P,n)))continue e}k&&k.push(P),L.push(w)}}return L}function Nt(e){return jt(e)?e:[]}var $t=Lt(function(e){var t=ue(e,Nt);return t.length&&t[0]===e[0]?xt(t):[]});const Dt=$t;function Ht(e,t){return t.length<2?e:ot(e,qt(t,0,-1))}function Rt(e,t){return t=Le(t,e),e=Ht(e,t),e==null||delete e[ut(Wt(t))]}function Ut(e){return Xe(e)?void 0:e}var zt=1,Yt=2,Xt=4,Gt=Ct(function(e,t){var n={};if(e==null)return n;var l=!1;t=ue(t,function(i){return i=Le(i,e),l||(l=i.length>1),i}),dt(e,ct(e),n),l&&(n=ft(n,zt|Yt|Xt,Ut));for(var r=t.length;r--;)Rt(n,t[r]);return n});const Kt=Gt;function We(e){let t=!1,n=e.length;const l=[];return e.length?new Promise((r,i)=>{e.forEach((u,f)=>{u.catch(O=>(t=!0,O)).then(O=>{n-=1,l[f]=O,!(n>0)&&(t&&i(l),r(l))})})}):Promise.resolve([])}function Me(e){let t=!1;return e&&e.length&&e.every(n=>n.required?(t=!0,!1):!0),t}function Ee(e){return e==null?[]:Array.isArray(e)?e:[e]}function oe(e,t,n){let l=e;t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");const r=t.split(".");let i=0;for(let u=r.length;i<u-1&&!(!l&&!n);++i){const f=r[i];if(f in l)l=l[f];else{if(n)throw new Error("please transfer a valid name path to validate!");break}}return{o:l,k:r[i],v:l?l[r[i]]:null,isValid:l&&r[i]in l}}function Qt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ke({}),n=arguments.length>2?arguments[2]:void 0;const l=ae(X(e)),r=Ge({}),i=Ke([]),u=o=>{_(X(e),_(_({},ae(l)),o)),Ze(()=>{Object.keys(r).forEach(a=>{r[a]={autoLink:!1,required:Me(X(t)[a])}})})},f=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;return a.length?o.filter(h=>{const y=Ee(h.trigger||"change");return Dt(y,a).length}):o};let O=null;const L=function(o){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=arguments.length>2?arguments[2]:void 0;const y=[],b={};for(let g=0;g<o.length;g++){const F=o[g],V=oe(X(e),F,h);if(!V.isValid)continue;b[F]=V.v;const v=f(X(t)[F],Ee(a&&a.trigger));v.length&&y.push(M(F,V.v,v,a||{}).then(()=>({name:F,errors:[],warnings:[]})).catch(I=>{const N=[],D=[];return I.forEach(s=>{let{rule:{warningOnly:d},errors:m}=s;d?D.push(...m):N.push(...m)}),N.length?Promise.reject({name:F,errors:N,warnings:D}):{name:F,errors:N,warnings:D}}))}const c=We(y);O=c;const p=c.then(()=>O===c?Promise.resolve(b):Promise.reject([])).catch(g=>{const F=g.filter(V=>V&&V.errors.length);return Promise.reject({values:b,errorFields:F,outOfDate:O!==c})});return p.catch(g=>g),p},M=function(o,a,h){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const b=ht([o],a,h,_({validateMessages:Ve},y),!!y.validateFirst);return r[o]?(r[o].validateStatus="validating",b.catch(c=>c).then(function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];var p;if(r[o].validateStatus==="validating"){const g=c.filter(F=>F&&F.errors.length);r[o].validateStatus=g.length?"error":"success",r[o].help=g.length?g.map(F=>F.errors):null,(p=n==null?void 0:n.onValidate)===null||p===void 0||p.call(n,o,!g.length,g.length?fe(r[o].help[0]):null)}}),b):b.catch(c=>c)},q=(o,a)=>{let h=[],y=!0;o?Array.isArray(o)?h=o:h=[o]:(y=!1,h=i.value);const b=L(h,a||{},y);return b.catch(c=>c),b},k=o=>{let a=[];o?Array.isArray(o)?a=o:a=[o]:a=i.value,a.forEach(h=>{r[h]&&_(r[h],{validateStatus:"",help:null})})},w=o=>{const a={autoLink:!1},h=[],y=Array.isArray(o)?o:[o];for(let b=0;b<y.length;b++){const c=y[b];(c==null?void 0:c.validateStatus)==="error"&&(a.validateStatus="error",c.help&&h.push(c.help)),a.required=a.required||(c==null?void 0:c.required)}return a.help=h,a};let P=l,T=!0;const $=o=>{const a=[];i.value.forEach(h=>{const y=oe(o,h,!1),b=oe(P,h,!1);(T&&(n==null?void 0:n.immediate)&&y.isValid||!Te(y.v,b.v))&&a.push(h)}),q(a,{trigger:"change"}),T=!1,P=ae(fe(o))},j=n==null?void 0:n.debounce;let x=!0;return re(t,()=>{i.value=t?Object.keys(X(t)):[],!x&&n&&n.validateOnRuleChange&&q(),x=!1},{deep:!0,immediate:!0}),re(i,()=>{const o={};i.value.forEach(a=>{o[a]=_({},r[a],{autoLink:!1,required:Me(X(t)[a])}),delete r[a]});for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&delete r[a];_(r,o)},{immediate:!0}),re(e,j&&j.wait?Qe($,j.wait,Kt(j,["wait"])):$,{immediate:n&&!!n.immediate,deep:!0}),{modelRef:e,rulesRef:t,initialModel:l,validateInfos:r,resetFields:u,validate:q,validateField:M,mergeValidateInfo:w,clearValidate:k}}const Zt=()=>({layout:ge.oneOf(at("horizontal","inline","vertical")),labelCol:te(),wrapperCol:te(),colon:J(),labelAlign:ve(),labelWrap:J(),prefixCls:String,requiredMark:me([String,Boolean]),hideRequiredMark:J(),model:ge.object,rules:te(),validateMessages:te(),validateOnRuleChange:J(),scrollToFirstError:st(),onSubmit:Q(),name:String,validateTrigger:me([String,Array]),size:ve(),disabled:J(),onValuesChange:Q(),onFieldsChange:Q(),onFinish:Q(),onFinishFailed:Q(),onValidate:Q()});function Jt(e,t){return Te(ie(e),ie(t))}const Bt=Je({compatConfig:{MODE:3},name:"AForm",inheritAttrs:!1,props:Be(Zt(),{layout:"horizontal",hideRequiredMark:!1,colon:!0}),Item:gt,useForm:Qt,setup(e,t){let{emit:n,slots:l,expose:r,attrs:i}=t;const{prefixCls:u,direction:f,form:O,size:L,disabled:M}=et("form",e),q=A(()=>e.requiredMark===""||e.requiredMark),k=A(()=>{var s;return q.value!==void 0?q.value:O&&((s=O.value)===null||s===void 0?void 0:s.requiredMark)!==void 0?O.value.requiredMark:!e.hideRequiredMark});tt(L),nt(M);const w=A(()=>{var s,d;return(s=e.colon)!==null&&s!==void 0?s:(d=O.value)===null||d===void 0?void 0:d.colon}),{validateMessages:P}=rt(),T=A(()=>_(_(_({},Ve),P.value),e.validateMessages)),[$,j]=vt(u),x=A(()=>it(u.value,{[`${u.value}-${e.layout}`]:!0,[`${u.value}-hide-required-mark`]:k.value===!1,[`${u.value}-rtl`]:f.value==="rtl",[`${u.value}-${L.value}`]:L.value},j.value)),o=ke(),a={},h=(s,d)=>{a[s]=d},y=s=>{delete a[s]},b=s=>{const d=!!s,m=d?ie(s).map(ye):[];return d?Object.values(a).filter(S=>m.findIndex(W=>Jt(W,S.fieldName.value))>-1):Object.values(a)},c=s=>{if(!e.model){le();return}b(s).forEach(d=>{d.resetField()})},p=s=>{b(s).forEach(d=>{d.clearValidate()})},g=s=>{const{scrollToFirstError:d}=e;if(n("finishFailed",s),d&&s.errorFields.length){let m={};typeof d=="object"&&(m=d),V(s.errorFields[0].name,m)}},F=function(){return N(...arguments)},V=function(s){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const m=b(s?[s]:void 0);if(m.length){const S=m[0].fieldId.value,W=S?document.getElementById(S):null;W&&pt(W,_({scrollMode:"if-needed",block:"nearest"},d))}},v=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(s===!0){const d=[];return Object.values(a).forEach(m=>{let{namePath:S}=m;d.push(S.value)}),we(e.model,d)}else return we(e.model,s)},I=(s,d)=>{if(le(),!e.model)return le(),Promise.reject("Form `model` is required for validateFields to work.");const m=!!s,S=m?ie(s).map(ye):[],W=[];Object.values(a).forEach(C=>{var H;if(m||S.push(C.namePath.value),!(!((H=C.rules)===null||H===void 0)&&H.value.length))return;const E=C.namePath.value;if(!m||bt(S,E)){const U=C.validateRules(_({validateMessages:T.value},d));W.push(U.then(()=>({name:E,errors:[],warnings:[]})).catch(G=>{const z=[],K=[];return G.forEach(B=>{let{rule:{warningOnly:ee},errors:Z}=B;ee?K.push(...Z):z.push(...Z)}),z.length?Promise.reject({name:E,errors:z,warnings:K}):{name:E,errors:z,warnings:K}}))}});const R=We(W);o.value=R;const Y=R.then(()=>o.value===R?Promise.resolve(v(S)):Promise.reject([])).catch(C=>{const H=C.filter(E=>E&&E.errors.length);return Promise.reject({values:v(S),errorFields:H,outOfDate:o.value!==R})});return Y.catch(C=>C),Y},N=function(){return I(...arguments)},D=s=>{s.preventDefault(),s.stopPropagation(),n("submit",s),e.model&&I().then(m=>{n("finish",m)}).catch(m=>{g(m)})};return r({resetFields:c,clearValidate:p,validateFields:I,getFieldsValue:v,validate:F,scrollToField:V}),mt({model:A(()=>e.model),name:A(()=>e.name),labelAlign:A(()=>e.labelAlign),labelCol:A(()=>e.labelCol),labelWrap:A(()=>e.labelWrap),wrapperCol:A(()=>e.wrapperCol),vertical:A(()=>e.layout==="vertical"),colon:w,requiredMark:k,validateTrigger:A(()=>e.validateTrigger),rules:A(()=>e.rules),addField:h,removeField:y,onValidate:(s,d,m)=>{n("validate",s,d,m)},validateMessages:T}),re(()=>e.rules,()=>{e.validateOnRuleChange&&I()}),()=>{var s;return $(lt("form",he(he({},i),{},{onSubmit:D,class:[x.value,i.class]}),[(s=l.default)===null||s===void 0?void 0:s.call(l)]))}}}),nn=Bt;export{nn as F,Ct as f,pt as s};
//# sourceMappingURL=Form.6fcc3ee8.js.map
