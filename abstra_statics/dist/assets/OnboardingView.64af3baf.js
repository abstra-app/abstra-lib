import{u as F}from"./userStore.7c3c1e19.js";import{E as $,j as W}from"./router.3de88b8a.js";import{d as S,c as I,o as n,a5 as x,a as v,b as o,g,u as e,bR as q,h as k,f as t,ec as A,_ as B,w as L,bJ as w,cz as b,cy as P,T as z,aB as R,cR as N,eb as V,cP as U,aR as O,cv as G,bM as M,e5 as j,ea as H,r as Y,ae as J,e as T,i as X,ev as Z,ew as K}from"./jwt-decode.esm.0989b1b3.js";import{A as C}from"./index.16c9c2da.js";import{_ as Q}from"./AbstraLogo.vue_vue_type_script_setup_true_lang.c9b8e12e.js";import{S as ee,A as ae}from"./index.c8ddaf44.js";import"./index.4227edcd.js";import"./Logo.861f076d.js";(function(){try{var l=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},u=new Error().stack;u&&(l._sentryDebugIds=l._sentryDebugIds||{},l._sentryDebugIds[u]="c47fe9e8-4c33-4fd6-8d6b-cef96dc5389b",l._sentryDebugIdIdentifier="sentry-dbid-c47fe9e8-4c33-4fd6-8d6b-cef96dc5389b")}catch{}})();async function te(l){const u=F(),y={email:l.basicInfo.email,name:l.basicInfo.name,work_email:l.basicInfo.workEmail,company_name:l.companyInfo.companyName,company_domain:l.companyInfo.companyDomain,team:l.companyInfo.team,other_team:l.companyInfo.otherTeam,role:l.companyInfo.role,python_experience:l.userDetails.pythonExperience,has_use_case:l.userDetails.hasUseCase,reported_use_cases:l.userDetails.reportedUseCases,other_use_cases:l.userDetails.otherUseCases,tools:l.userDetails.tools,source:l.sourceInfo.reportedSource,other_source:l.sourceInfo.otherSource,ref_url:document.referrer},s=await fetch(`${$.onboarding}/_hooks/onboarding-completed`,{method:"POST",headers:{"Content-Type":"application/json",token:u.jwt||""},body:JSON.stringify(y)});if(!s.ok)throw new Error(`Failed to submit onboarding data: ${s.statusText}`)}const oe={class:"form-actions"},le=S({__name:"OnboardingFormActions",props:{showBack:{type:Boolean,default:!1},isSubmit:{type:Boolean,default:!1},submitText:{default:"Complete Onboarding"}},emits:["back"],setup(l){const u=l,y=I(()=>u.isSubmit?u.submitText:"Next");return(s,h)=>(n(),x("div",oe,[s.showBack?(n(),v(e(q),{key:0,size:"large",onClick:h[0]||(h[0]=a=>s.$emit("back"))},{default:o(()=>[g(" Back ")]),_:1})):k("",!0),t(e(q),{type:"primary",size:"large","html-type":"submit"},{default:o(()=>[g(A(y.value),1)]),_:1})]))}});const E=B(le,[["__scopeId","data-v-cc0d7cbe"]]),se={key:1,class:"warning-text"},re=S({__name:"BasicUserInfo",props:{modelValue:{}},emits:["update:modelValue","next"],setup(l,{emit:u}){const y=l,{Title:s,Text:h}=z,a=I({get:()=>y.modelValue,set:p=>u("update:modelValue",p)}),_=W.getAuthor();_&&!a.value.email&&(a.value={...a.value,email:_.claims.email});const f=["gmail.com","yahoo.com","hotmail.com","outlook.com","icloud.com","protonmail.com","aol.com"],c=I(()=>!a.value.email||!a.value.email.includes("@")?"":a.value.email.split("@")[1]||""),d=I(()=>f.includes(c.value.toLowerCase())),m=I(()=>{if(!a.value.name)return"name@coolcompany.com";const p=a.value.name.replace(/[^a-zA-Z0-9]/g,"").toLowerCase();return p?`${p}@coolcompany.com`:"name@coolcompany.com"});L(c,p=>{f.includes(p.toLowerCase())||(a.value={...a.value,workEmail:a.value.email})});const r=()=>{u("next")};return(p,i)=>(n(),v(e(P),{layout:"vertical",model:a.value,onFinish:r},{default:o(()=>[t(e(s),{level:3},{default:o(()=>[g("About you")]),_:1}),t(e(b),{label:"Name",name:"name",rules:[{required:!0,message:"Please input your name!"}]},{default:o(()=>[t(e(w),{value:a.value.name,"onUpdate:value":i[0]||(i[0]=D=>a.value.name=D),placeholder:"Dwight Schrute",size:"large"},null,8,["value"])]),_:1}),t(e(b),{label:"Email"},{default:o(()=>[t(e(w),{value:a.value.email,disabled:"",size:"large"},null,8,["value"])]),_:1}),d.value?(n(),v(e(b),{key:0,label:"Work email",name:"workEmail",rules:[{required:!1,type:"email",message:"Please input a valid work email!"}]},{default:o(()=>[t(e(w),{value:a.value.workEmail,"onUpdate:value":i[1]||(i[1]=D=>a.value.workEmail=D),placeholder:m.value,size:"large"},null,8,["value","placeholder"])]),_:1})):k("",!0),d.value?(n(),x("div",se,[t(e(h),{type:"warning"},{default:o(()=>[g(" We noticed you're using a personal email address. We recommend using your work email for better team collaboration features. ")]),_:1})])):k("",!0),t(E)]),_:1},8,["model"]))}});const ue=B(re,[["__scopeId","data-v-d64d590e"]]),ne=["Finance","Operations","Product","Marketing","Sales","Customer Success","HR","Other"],ie=[{value:"I've never used Python before, but I'm excited to learn",label:"I've never used Python before, but I'm excited to learn"},{value:"I sometimes use ChatGPT to generate Python scripts",label:"I sometimes use ChatGPT to generate Python scripts"},{value:"I've written some Python here and there",label:"I've written some Python here and there"},{value:"I use Python regularly",label:"I use Python regularly"}],de=["Enable other teammates to run my scripts","Design workflows with manual and automated steps","Schedule my scripts to run automatically","Integrate and connect the tools my team uses","Automate spreadsheet work","Use AI to parse documents","Build an automated workflow","Create automated reports","Other"],ce=["Google","Linkedin","Github","Youtube","From a friend or coworker","Event or conference","Other"],me=["Excel","Google Sheets","Salesforce","Slack"],pe=S({__name:"CompanyInfo",props:{modelValue:{}},emits:["update:modelValue","next","back"],setup(l,{emit:u}){const y=l,s=I({get:()=>y.modelValue,set:f=>u("update:modelValue",f)}),h=ne.map(f=>({label:f,value:f})),a=()=>{u("next")},_=()=>{u("back")};return(f,c)=>(n(),v(e(P),{layout:"vertical",model:s.value,onFinish:a},{default:o(()=>[t(e(b),{label:"Company",name:"companyName",rules:[{required:!0,message:"Please input your company name!"}]},{default:o(()=>[t(e(w),{value:s.value.companyName,"onUpdate:value":c[0]||(c[0]=d=>s.value.companyName=d),placeholder:"Dunder Mifflin",size:"large"},null,8,["value"])]),_:1}),t(e(b),{label:"Company website",name:"companyDomain"},{default:o(()=>[t(e(w),{value:s.value.companyDomain,"onUpdate:value":c[1]||(c[1]=d=>s.value.companyDomain=d),placeholder:"www.dundermifflin.com",size:"large"},null,8,["value"])]),_:1}),t(e(b),{label:"Team",name:"team",rules:[{required:!0,message:"Please select your team!"}]},{default:o(()=>[t(e(R),{value:s.value.team,"onUpdate:value":c[2]||(c[2]=d=>s.value.team=d),placeholder:"Select a team",size:"large",options:e(h)},null,8,["value","options"])]),_:1}),s.value.team==="Other"?(n(),v(e(b),{key:0,label:"What team are you in?",name:"otherTeam",rules:[{required:!0,message:"Please specify your team!"}]},{default:o(()=>[t(e(w),{value:s.value.otherTeam,"onUpdate:value":c[3]||(c[3]=d=>s.value.otherTeam=d),placeholder:"Warehouse",size:"large"},null,8,["value"])]),_:1})):k("",!0),t(e(b),{label:"Role",name:"role",rules:[{required:!0,message:"Please input your role!"}]},{default:o(()=>[t(e(w),{value:s.value.role,"onUpdate:value":c[4]||(c[4]=d=>s.value.role=d),placeholder:"Assistant to the Regional Manager",size:"large"},null,8,["value"])]),_:1}),t(E,{"show-back":"",onBack:_})]),_:1},8,["model"]))}}),ve=S({__name:"SourceInfo",props:{modelValue:{}},emits:["update:modelValue","submit","back"],setup(l,{emit:u}){const y=l,{Title:s}=z,{TextArea:h}=w,a=I({get:()=>y.modelValue,set:d=>u("update:modelValue",d)}),_=ce,f=()=>{u("submit")},c=()=>{u("back")};return(d,m)=>(n(),v(e(P),{layout:"vertical",model:a.value,onFinish:f},{default:o(()=>[t(e(s),{level:3},{default:o(()=>[g("One last thing!")]),_:1}),t(e(b),{label:"How did you hear about Abstra?",name:"reportedSource"},{default:o(()=>[t(e(N),{value:a.value.reportedSource,"onUpdate:value":m[0]||(m[0]=r=>a.value.reportedSource=r),size:"large"},{default:o(()=>[t(e(C),{direction:"vertical"},{default:o(()=>[(n(!0),x(O,null,V(e(_),r=>(n(),v(e(U),{key:r,value:r},{default:o(()=>[g(A(r),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"])]),_:1}),a.value.reportedSource==="Other"?(n(),v(e(b),{key:0,label:"Please let us know how you heard about Abstra",name:"otherSource",rules:[{required:!0,message:"Please tell us how you heard about Abstra!"}]},{default:o(()=>[t(e(h),{value:a.value.otherSource,"onUpdate:value":m[1]||(m[1]=r=>a.value.otherSource=r),rows:3,placeholder:"Tell us how you heard about Abstra..."},null,8,["value"])]),_:1})):k("",!0),t(E,{"show-back":"","is-submit":"",onBack:c})]),_:1},8,["model"]))}}),ye={key:0},fe=S({__name:"UserDetails",props:{modelValue:{}},emits:["update:modelValue","next","back"],setup(l,{emit:u}){const y=l,{Title:s}=z,{TextArea:h}=w,a=I({get:()=>y.modelValue,set:r=>u("update:modelValue",r)}),_=ie,f=de,c=me,d=()=>{u("next")},m=()=>{u("back")};return(r,p)=>(n(),v(e(P),{layout:"vertical",model:a.value,onFinish:d},{default:o(()=>[t(e(s),{level:3},{default:o(()=>[g("Using Abstra")]),_:1}),t(e(b),{label:"Which best describes you?",name:"pythonExperience",rules:[{required:!0,message:"Please select your Python experience!"}]},{default:o(()=>[t(e(N),{value:a.value.pythonExperience,"onUpdate:value":p[0]||(p[0]=i=>a.value.pythonExperience=i),size:"large"},{default:o(()=>[t(e(C),{direction:"vertical"},{default:o(()=>[(n(!0),x(O,null,V(e(_),i=>(n(),v(e(U),{key:i.value,value:i.value},{default:o(()=>[g(A(i.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"])]),_:1}),t(e(b),{label:"Do you know what you want to build?",name:"hasUseCase",rules:[{required:!0,message:"Please select an option!"}]},{default:o(()=>[t(e(N),{value:a.value.hasUseCase,"onUpdate:value":p[1]||(p[1]=i=>a.value.hasUseCase=i),size:"large"},{default:o(()=>[t(e(C),{direction:"vertical"},{default:o(()=>[t(e(U),{value:!0},{default:o(()=>[g("Yes, I know what I want to build")]),_:1}),t(e(U),{value:!1},{default:o(()=>[g("No, I'm still exploring")]),_:1})]),_:1})]),_:1},8,["value"])]),_:1}),a.value.hasUseCase?(n(),x("div",ye,[t(e(b),{label:"What do you mainly want to do with Abstra?",name:"reportedUseCases",rules:[{required:!0,message:"Please select at least one use case!",type:"array",min:1}]},{default:o(()=>[t(e(G),{value:a.value.reportedUseCases,"onUpdate:value":p[2]||(p[2]=i=>a.value.reportedUseCases=i)},{default:o(()=>[t(e(C),{direction:"vertical"},{default:o(()=>[(n(!0),x(O,null,V(e(f),i=>(n(),v(e(M),{key:i,value:i},{default:o(()=>[g(A(i),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"])]),_:1}),a.value.reportedUseCases.includes("Integrate and connect the tools my team uses")?(n(),v(e(b),{key:0,label:"What tools do you want to integrate Abstra with?"},{default:o(()=>[t(e(R),{value:a.value.tools,"onUpdate:value":p[3]||(p[3]=i=>a.value.tools=i),mode:"tags",placeholder:"Type to add a tool",size:"large","default-value":e(c)},null,8,["value","default-value"])]),_:1})):k("",!0),a.value.reportedUseCases.includes("Other")?(n(),v(e(b),{key:1,label:"What else do you want to do with Abstra?",name:"otherUseCases",rules:[{required:!0,message:"Please describe your other use cases!"}]},{default:o(()=>[t(e(h),{value:a.value.otherUseCases,"onUpdate:value":p[4]||(p[4]=i=>a.value.otherUseCases=i),rows:3,placeholder:"Describe your use case..."},null,8,["value"])]),_:1})):k("",!0)])):k("",!0),t(E,{"show-back":"",onBack:m})]),_:1},8,["model"]))}}),be=l=>(Z("data-v-c1dd95ab"),l=l(),K(),l),he={class:"onboarding-container"},_e={class:"onboarding-form"},ge={class:"header"},we=be(()=>T("h2",null,"Welcome to Abstra",-1)),ke={class:"form-content"},Ie=S({__name:"OnboardingView",setup(l){const u=j(),y=H(),s=Y(0),h=["Basic Info","Company","Details","Source"],a=J({basicInfo:{name:"",email:"",workEmail:""},companyInfo:{companyName:"",companyDomain:"",team:"",otherTeam:"",role:""},userDetails:{pythonExperience:"",hasUseCase:!1,reportedUseCases:[],otherUseCases:"",tools:[]},sourceInfo:{reportedSource:"",otherSource:""}}),_=()=>{s.value<h.length-1&&s.value++},f=()=>{s.value>0&&s.value--},c=async()=>{try{await te(a)}catch(r){X(r,{extra:{step:"submitOnboarding",formData:a}});return}const d=y.query.redirect,m=y.query["prev-redirect"];if(d){const r=d.split("/").at(-1);await u.push({path:r,query:{...y.query,redirect:m,"prev-redirect":void 0}});return}u.push({name:"home"})};return(d,m)=>(n(),x("div",he,[T("div",_e,[T("div",ge,[t(Q,{"hide-text":"",size:"large"}),we,t(e(ae),{current:s.value,size:"small",class:"step-indicator"},{default:o(()=>[(n(),x(O,null,V(h,r=>t(e(ee),{key:r,title:r,disabled:!0},null,8,["title"])),64))]),_:1},8,["current"])]),T("div",ke,[s.value===0?(n(),v(ue,{key:0,modelValue:a.basicInfo,"onUpdate:modelValue":m[0]||(m[0]=r=>a.basicInfo=r),onNext:_},null,8,["modelValue"])):s.value===1?(n(),v(pe,{key:1,modelValue:a.companyInfo,"onUpdate:modelValue":m[1]||(m[1]=r=>a.companyInfo=r),onNext:_,onBack:f},null,8,["modelValue"])):s.value===2?(n(),v(fe,{key:2,modelValue:a.userDetails,"onUpdate:modelValue":m[2]||(m[2]=r=>a.userDetails=r),onNext:_,onBack:f},null,8,["modelValue"])):s.value===3?(n(),v(ve,{key:3,modelValue:a.sourceInfo,"onUpdate:modelValue":m[3]||(m[3]=r=>a.sourceInfo=r),onSubmit:c,onBack:f},null,8,["modelValue"])):k("",!0)])])]))}});const Pe=B(Ie,[["__scopeId","data-v-c1dd95ab"]]);export{Pe as default};
//# sourceMappingURL=OnboardingView.64af3baf.js.map
